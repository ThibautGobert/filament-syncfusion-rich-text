var GA=Object.defineProperty;var KA=(r,e,t)=>e in r?GA(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Ct=(r,e,t)=>(KA(r,typeof e!="symbol"?e+"":e,t),t),JA=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)};var Hm=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)};var Uu=(r,e,t)=>(JA(r,e,"access private method"),t);var J0="ej2_instances",eI=0,tI=!1;function ja(r,e){var t=e;return t.unshift(void 0),new(Function.prototype.bind.apply(r,t))}function eC(r){var e,t=new Uint16Array(5),i=window.msCrypto||window.crypto;i.getRandomValues(t);var n="ej2"+iI(t),s=function(o){o.source===window&&typeof o.data=="string"&&o.data.length<=32&&o.data===n&&(r(),e())};return window.addEventListener("message",s,!1),window.postMessage(n,"*"),e=function(){window.removeEventListener("message",s),r=s=n=void 0}}function F(r,e){for(var t=e,i=r.replace(/\[/g,".").replace(/\]/g,"").split("."),n=0;n<i.length&&!Ce(t);n++)t=t[i[parseInt(n.toString(),10)]];return t}function Pe(r,e,t){var i=r.replace(/\[/g,".").replace(/\]/g,"").split("."),n=t||{},s=n,o,a=i.length,l;for(o=0;o<a;o++)l=i[parseInt(o.toString(),10)],o+1===a?s[""+l]=e===void 0?{}:e:u(s[""+l])&&(s[""+l]={}),s=s[""+l];return n}function za(r,e){delete r[""+e]}var Io=typeof window<"u"?window:{};function qr(r){var e={};return!u(r)&&r.constructor===e.constructor}function _m(r,e){return r[e]}function Ki(r,e){if(!u(e))for(var t=r,i=e,n=Object.keys(e),s="deepMerge",o=0,a=n;o<a.length;o++){var l=a[o];!u(t[""+s])&&t[""+s].indexOf(l)!==-1&&(qr(i[""+l])||Array.isArray(i[""+l]))?ae(t[""+l],t[""+l],i[""+l],!0):t[""+l]=i[""+l]}}function ae(r,e,t,i){var n=r&&typeof r=="object"?r:{},s=arguments.length;i&&(s=s-1);for(var o=function(h){if(!a[h])return"continue";var c=a[h];Object.keys(c).forEach(function(p){var d=n[""+p],f=c[""+p],m,g=Array.isArray(f)&&Array.isArray(d)&&f.length!==d.length,v=ne()?!(d instanceof Event)&&!g:!0;i&&v&&(qr(f)||Array.isArray(f))?qr(f)?(m=d||{},Array.isArray(m)&&m.hasOwnProperty("isComplexArray")?ae(m,{},f,i):n[""+p]=ae(m,{},f,i)):(m=ne()?d&&Object.keys(f).length:d||[],n[""+p]=ae([],m,f,m&&m.length||f&&f.length)):n[""+p]=f})},a=arguments,l=1;l<s;l++)o(l);return n}function u(r){return r==null}function Ce(r){return typeof r>"u"}function Fe(r){return r+"_"+eI++}function Ji(r,e){var t;return function(){var i=this,n=arguments,s=function(){return t=null,r.apply(i,n)};clearTimeout(t),t=setTimeout(s,e)}}function lh(r,e){var t=r;return t===e?!0:t===document||!t?!1:lh(t.parentNode,e)}function xs(r){try{throw new Error(r)}catch(e){throw e.message+`
`+e.stack}}function tC(r,e){var t=document.createElement("div"),i=[].slice.call(document.getElementsByTagName("head")[0].querySelectorAll("base, link, style")),n=[].slice.call(document.getElementsByTagName("body")[0].querySelectorAll("link, style"));if(n.length)for(var s=0,o=n.length;s<o;s++)i.push(n[parseInt(s.toString(),10)]);var a="";u(e)&&(e=window.open("","print","height=452,width=1024,tabbar=no")),t.appendChild(r.cloneNode(!0));for(var l=0,o=i.length;l<o;l++)a+=i[parseInt(l.toString(),10)].outerHTML;e.document.write("<!DOCTYPE html> <html><head>"+a+"</head><body>"+t.innerHTML+"<script> (function() { window.ready = true; })(); </script></body></html>"),e.document.close(),e.focus();var h=setInterval(function(){e.ready&&(e.print(),e.close(),clearInterval(h))},500);return e}function W(r){var e=r+"";return e.match(/auto|cm|mm|in|px|pt|pc|%|em|ex|ch|rem|vw|vh|vmin|vmax/)?e:e+"px"}function ne(){return tI}function en(r,e){var t=typeof r=="string"?document.querySelector(r):r;if(t[""+J0])for(var i=0,n=t[""+J0];i<n.length;i++){var s=n[i];if(s instanceof e)return s}return null}function iC(){if(!(typeof window>"u")){var r=new Uint16Array(5),e=window.msCrypto||window.crypto;return e.getRandomValues(r)}}function iI(r){for(var e="",t=0;t<5;t++)e+=(t?",":"")+r[parseInt(t.toString(),10)];return e}var nI={latn:{_digits:"0123456789",_type:"numeric"}},nC={decimal:".",group:",",percentSign:"%",plusSign:"+",minusSign:"-",infinity:"\u221E",nan:"NaN",exponential:"E"},rC=[0,1,2,3,4,5,6,7,8,9],Ze=function(){function r(){}return r.getMainObject=function(e,t){var i=ne()?t:"main."+t;return F(i,e)},r.getNumberingSystem=function(e){return F("supplemental.numberingSystems",e)||this.numberingSystems},r.reverseObject=function(e,t){for(var i=t||Object.keys(e),n={},s=0,o=i;s<o.length;s++){var a=o[s];n.hasOwnProperty(e[a])||(n[e[a]]=a)}return n},r.getSymbolRegex=function(e){var t=e.map(function(n){return n.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}).join("|"),i=RegExp;return new i(t,"g")},r.getSymbolMatch=function(e){for(var t=Object.keys(nC),i={},n=0,s=t;n<s.length;n++){var o=s[n];i[e[o]]=nC[o]}return i},r.constructRegex=function(e){for(var t=e.length,i="",n=0;n<t;n++)n!==t-1?i+=e[parseInt(n.toString(),10)]+"|":i+=e[parseInt(n.toString(),10)];return i},r.convertValueParts=function(e,t,i){return e.replace(t,function(n){return i[n]})},r.getDefaultNumberingSystem=function(e){var t={};return t.obj=F("numbers",e),t.nSystem=F("defaultNumberingSystem",t.obj),t},r.getCurrentNumericOptions=function(e,t,i,n){var s={},o=this.getDefaultNumberingSystem(e);if(!Ce(o.nSystem)||n){var a=n?F("obj.mapperDigits",o):F(o.nSystem+"._digits",t);if(!Ce(a)){s.numericPair=this.reverseObject(a,rC);var l=RegExp;s.numberParseRegex=new l(this.constructRegex(a),"g"),s.numericRegex="["+a[0]+"-"+a[9]+"]",i&&(s.numericRegex=a[0]+"-"+a[9],s.symbolNumberSystem=F(n?"numberSymbols":"symbols-numberSystem-"+o.nSystem,o.obj),s.symbolMatch=this.getSymbolMatch(s.symbolNumberSystem),s.numberSystem=o.nSystem)}}return s},r.getNumberMapper=function(e,t,i){var n={mapper:{}},s=this.getDefaultNumberingSystem(e);if(!Ce(s.nSystem)){n.numberSystem=s.nSystem,n.numberSymbols=F("symbols-numberSystem-"+s.nSystem,s.obj),n.timeSeparator=F("timeSeparator",n.numberSymbols);var o=F(s.nSystem+"._digits",t);if(!Ce(o))for(var a=0,l=rC;a<l.length;a++){var h=l[a];n.mapper[h]=o[h]}}return n},r.nPair="numericPair",r.nRegex="numericRegex",r.numberingSystems=nI,r}();var rI={DJF:"Fdj",ERN:"Nfk",ETB:"Br",NAD:"$",ZAR:"R",XAF:"FCFA",GHS:"GH\u20B5",XDR:"XDR",AED:"\u062F.\u0625.",BHD:"\u062F.\u0628.",DZD:"\u062F.\u062C.",EGP:"\u062C.\u0645.",ILS:"\u20AA",IQD:"\u062F.\u0639.",JOD:"\u062F.\u0627.",KMF:"CF",KWD:"\u062F.\u0643.",LBP:"\u0644.\u0644.",LYD:"\u062F.\u0644.",MAD:"\u062F.\u0645.",MRU:"\u0623.\u0645.",OMR:"\u0631.\u0639.",QAR:"\u0631.\u0642.",SAR:"\u0631.\u0633.",SDG:"\u062C.\u0633.",SOS:"S",SSP:"\xA3",SYP:"\u0644.\u0633.",TND:"\u062F.\u062A.",YER:"\u0631.\u064A.",CLP:"$",INR:"\u20B9",TZS:"TSh",EUR:"\u20AC",AZN:"\u20BC",RUB:"\u20BD",BYN:"Br",ZMW:"K",BGN:"\u043B\u0432.",NGN:"\u20A6",XOF:"CFA",BDT:"\u09F3",CNY:"\xA5",BAM:"\u041A\u041C",UGX:"USh",USD:"$",CZK:"K\u010D",GBP:"\xA3",DKK:"kr.",KES:"Ksh",CHF:"CHF",MVR:"\u0783.",BTN:"Nu.",XCD:"EC$",AUD:"$",BBD:"$",BIF:"FBu",BMD:"$",BSD:"$",BWP:"P",BZD:"$",CAD:"$",NZD:"$",FJD:"$",FKP:"\xA3",GIP:"\xA3",GMD:"D",GYD:"$",HKD:"$",IDR:"Rp",JMD:"$",KYD:"$",LRD:"$",MGA:"Ar",MOP:"MOP$",MUR:"Rs",MWK:"MK",MYR:"RM",PGK:"K",PHP:"\u20B1",PKR:"Rs",RWF:"RF",SBD:"$",SCR:"SR",SEK:"kr",SGD:"$",SHP:"\xA3",SLL:"Le",ANG:"NAf.",SZL:"E",TOP:"T$",TTD:"$",VUV:"VT",WST:"WS$",ARS:"$",BOB:"Bs",BRL:"R$",COP:"$",CRC:"\u20A1",CUP:"$",DOP:"$",GTQ:"Q",HNL:"L",MXN:"$",NIO:"C$",PAB:"B/.",PEN:"S/",PYG:"\u20B2",UYU:"$",VES:"Bs.S",IRR:"\u0631\u064A\u0627\u0644",GNF:"FG",CDF:"FC",HTG:"G",XPF:"FCFP",HRK:"kn",HUF:"Ft",AMD:"\u058F",ISK:"kr",JPY:"\xA5",GEL:"\u20BE",CVE:"\u200B",KZT:"\u20B8",KHR:"\u17DB",KPW:"\u20A9",KRW:"\u20A9",KGS:"\u0441\u043E\u043C",AOA:"Kz",LAK:"\u20AD",MZN:"MTn",MKD:"\u0434\u0435\u043D",MNT:"\u20AE",BND:"$",MMK:"K",NOK:"kr",NPR:"\u0930\u0941",AWG:"Afl.",SRD:"$",PLN:"z\u0142",AFN:"\u060B",STN:"Db",MDL:"L",RON:"lei",UAH:"\u20B4",LKR:"\u0DBB\u0DD4.",ALL:"Lek\xEB",RSD:"\u0434\u0438\u043D.",TJS:"\u0441\u043C\u043D",THB:"\u0E3F",TMT:"m.",TRY:"\u20BA",UZS:"\u0441\u045E\u043C",VND:"\u20AB",TWD:"NT$"};function sC(r){return F(r||"",rI)}var Po;(function(r){var e=[28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990];function t(n){var s=n.getDate(),o=n.getMonth(),a=n.getFullYear(),l=o+1,h=a;l<3&&(h-=1,l+=12);var c=Math.floor(h/100),p=c-Math.floor(c/4)-2,d=Math.floor(365.25*(h+4716))+Math.floor(30.6001*(l+1))+s-p-1524;c=Math.floor((d-186721625e-2)/36524.25),p=c-Math.floor(c/4)+1;var f=d+p+1524,m=Math.floor((f-122.1)/365.25),g=Math.floor(365.25*m),v=Math.floor((f-g)/30.6001);s=f-g-Math.floor(30.6001*v),o=Math.floor((f-g)/20.6001),o>13&&(m+=1,o-=12),o-=1,a=m-4716;var O=d-24e5,C=10631/30,x=d-1948084,M=Math.floor(x/10631);x=x-10631*M;var k=Math.floor((x-.1335)/C),A=30*M+k;x=x-Math.floor(k*C+.1335);var j=Math.floor((x+28.5001)/29.5);j===13&&(j=12);for(var U=x-Math.floor(29.5001*j-29),q=0;q<e.length&&!(e[parseInt(q.toString(),10)]>O);q++);var K=q+16260,oe=Math.floor((K-1)/12),ie=oe+1,se=K-12*oe,H=O-e[q-1]+1;return(H+"").length>2&&(H=U,se=j,ie=A),{year:ie,month:se,date:H}}r.getHijriDate=t;function i(n,s,o){var a=n,l=s,h=o,c=a-1,p=c*12+1+(l-1),d=p-16260,f=h+e[d-1]-1,m=f+24e5,g=Math.floor(m+.5),v=Math.floor((g-186721625e-2)/36524.25);v=g+1+v-Math.floor(v/4);var O=v+1524,C=Math.floor((O-122.1)/365.25),x=Math.floor(365.25*C),M=Math.floor((O-x)/30.6001),k=O-x-Math.floor(M*30.6001),A=M-(M>13.5?13:1),j=C-(A>2.5?4716:4715);return j<=0&&A--,new Date(j+"/"+A+"/"+k)}r.toGregorian=i})(Po||(Po={}));var sI=/\/MMMMM|MMMM|MMM|a|LLLL|LLL|EEEEE|EEEE|E|K|cccc|ccc|WW|W|G+|z+/gi,oC="stand-alone",oI=["sun","mon","tue","wed","thu","fri","sat"];var aC={m:"getMinutes",h:"getHours",H:"getHours",s:"getSeconds",d:"getDate",f:"getMilliseconds"},lC={M:"month",d:"day",E:"weekday",c:"weekday",y:"year",m:"minute",h:"hour",H:"hour",s:"second",L:"month",a:"designator",z:"timeZone",Z:"timeZone",G:"era",f:"milliseconds"},aI="timeSeparator",Hu=function(){function r(){}return r.dateFormat=function(e,t,i){var n=this,s=me.getDependables(i,e,t.calendar),o=F("parserObject.numbers",s),a=s.dateObject,l={isIslamic:me.islamicRegex.test(t.calendar)};ne()&&t.isServerRendered&&(t=me.compareBlazorDateFormats(t,e));var h=t.format||me.getResultantPattern(t.skeleton,s.dateObject,t.type,!1,ne()?e:"");if(l.dateSeperator=ne()?F("dateSeperator",a):me.getDateSeparator(s.dateObject),Ce(h))xs("Format options or type given must be invalid");else{h=me.ConvertDateToWeekFormat(h),ne()&&(h=h.replace(/tt/,"a")),l.pattern=h,l.numMapper=ne()?ae({},o):Ze.getNumberMapper(s.parserObject,Ze.getNumberingSystem(i));for(var c=h.match(sI)||[],p=0,d=c;p<d.length;p++){var f=d[p],m=f.length,g=f[0];switch(g==="K"&&(g="h"),g){case"E":case"c":ne()?l.weekday=F("days."+me.monthIndex[m],a):l.weekday=s.dateObject[me.days][oC][me.monthIndex[m]];break;case"M":case"L":ne()?l.month=F("months."+me.monthIndex[m],a):l.month=s.dateObject[me.month][oC][me.monthIndex[m]];break;case"a":l.designator=ne()?F("dayPeriods",a):F("dayPeriods.format.wide",a);break;case"G":var v=m<=3?"eraAbbr":m===4?"eraNames":"eraNarrow";l.era=ne()?F("eras",a):F("eras."+v,s.dateObject);break;case"z":l.timeZone=F("dates.timeZoneNames",s.parserObject);break}}}return function(O){return isNaN(O.getDate())?null:n.intDateFormatter(O,l)}},r.intDateFormatter=function(e,t){for(var i=t.pattern,n="",s=i.match(me.dateParseRegex),o=this.getCurrentDateValue(e,t.isIslamic),a=0,l=s;a<l.length;a++){var h=l[a],c=h.length,p=h[0];p==="K"&&(p="h");var d=void 0,f="",m=void 0,g=void 0,v="";switch(p){case"M":case"L":d=o.month,c>2?n+=t.month[d]:m=!0;break;case"E":case"c":n+=t.weekday[oI[e.getDay()]];break;case"H":case"h":case"m":case"s":case"d":case"f":if(m=!0,p==="d")d=o.date;else if(p==="f"){m=!1,g=!0,f=e[aC[p]]().toString(),f=f.substring(0,c);var O=f.length;if(c!==O){if(c>3)continue;for(var C=0;C<c-O;C++)f="0"+f.toString()}v+=f}else d=e[aC[p]]();p==="h"&&(d=d%12||12);break;case"y":g=!0,v+=o.year,c===2&&(v=v.substr(v.length-2));break;case"a":var x=e.getHours()<12?"am":"pm";n+=t.designator[x];break;case"G":var M=e.getFullYear()<0?0:1,k=t.era[M];u(k)&&(k=t.era[M?0:1]),n+=k||"";break;case"'":n+=h==="''"?"'":h.replace(/'/g,"");break;case"z":var A=e.getTimezoneOffset(),j=c<4?"+H;-H":t.timeZone.hourFormat;j=j.replace(/:/g,t.numMapper.timeSeparator),A===0?n+=t.timeZone.gmtZeroFormat:(g=!0,v=this.getTimeZoneValue(A,j)),v=t.timeZone.gmtFormat.replace(/\{0\}/,v);break;case":":n+=t.numMapper.numberSymbols[aI];break;case"/":n+=t.dateSeperator;break;case"W":m=!0,d=me.getWeekOfYear(e);break;default:n+=h}m&&(g=!0,v=this.checkTwodigitNumber(d,c)),g&&(n+=Ze.convertValueParts(v,me.latnParseRegex,t.numMapper.mapper))}return n},r.getCurrentDateValue=function(e,t){return t?Po.getHijriDate(e):{year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate()}},r.checkTwodigitNumber=function(e,t){var i=e+"";return t===2&&i.length!==2?"0"+i:i},r.getTimeZoneValue=function(e,t){var i=this,n=t.split(";"),s=n[e>0?1:0],o=Math.abs(e);return s=s.replace(/HH?|mm/g,function(a){var l=a.length,h=a.indexOf("H")!==-1;return i.checkTwodigitNumber(Math.floor(h?o/60:o%60),l)})},r}();var hC={ms:"minimumSignificantDigits",ls:"maximumSignificantDigits",mf:"minimumFractionDigits",lf:"maximumFractionDigits"},lI="percentSign",hI="minusSign",Ra=["infinity","nan","group","decimal","exponential"],_u=function(){function r(){}return r.numberFormatter=function(e,t,i){var n=this,s=ae({},t),o={},a={},l,h=me.getDependables(i,e,"",!0),c=h.numericObject;a.numberMapper=ne()?ae({},c):Ze.getNumberMapper(h.parserObject,Ze.getNumberingSystem(i),!0),a.currencySymbol=ne()?F("currencySymbol",c):me.getCurrencySymbol(h.numericObject,s.currency||hh,t.altSymbol),a.percentSymbol=ne()?F("numberSymbols.percentSign",c):a.numberMapper.numberSymbols[""+lI],a.minusSymbol=ne()?F("numberSymbols.minusSign",c):a.numberMapper.numberSymbols[""+hI];var p=a.numberMapper.numberSymbols;if(t.format&&!me.formatRegex.test(t.format))o=me.customFormat(t.format,a,h.numericObject);else{if(ae(s,me.getProperNumericSkeleton(t.format||"N")),s.isCurrency=s.type==="currency",s.isPercent=s.type==="percent",ne()||(l=me.getSymbolPattern(s.type,a.numberMapper.numberSystem,h.numericObject,s.isAccount)),s.groupOne=this.checkValueRange(s.maximumSignificantDigits,s.minimumSignificantDigits,!0),this.checkValueRange(s.maximumFractionDigits,s.minimumFractionDigits,!1,!0),Ce(s.fractionDigits)||(s.minimumFractionDigits=s.maximumFractionDigits=s.fractionDigits),Ce(s.useGrouping)&&(s.useGrouping=!0),s.isCurrency&&!ne()&&(l=l.replace(/\u00A4/g,me.defaultCurrency)),ne())o.nData=ae({},{},F(s.type+"nData",c)),o.pData=ae({},{},F(s.type+"pData",c)),s.type==="currency"&&t.currency&&me.replaceBlazorCurrency([o.pData,o.nData],a.currencySymbol,t.currency);else{var d=l.split(";");o.nData=me.getFormatData(d[1]||"-"+d[0],!0,a.currencySymbol),o.pData=me.getFormatData(d[0],!1,a.currencySymbol),s.useGrouping&&(s.groupSeparator=p[Ra[2]],s.groupData=this.getGroupingDetails(d[0]))}var f=Ce(s.minimumFractionDigits);if(f&&(s.minimumFractionDigits=o.nData.minimumFraction),Ce(s.maximumFractionDigits)){var m=o.nData.maximumFraction;s.maximumFractionDigits=Ce(m)&&s.isPercent?0:m}var g=s.minimumFractionDigits,v=s.maximumFractionDigits;!Ce(g)&&!Ce(v)&&g>v&&(s.maximumFractionDigits=g)}return ae(o.nData,s),ae(o.pData,s),function(O){return isNaN(O)?p[Ra[1]]:isFinite(O)?n.intNumberFormatter(O,o,a,t):p[Ra[0]]}},r.getGroupingDetails=function(e){var t={},i=e.match(me.negativeDataRegex);if(i&&i[4]){var n=i[4],s=n.lastIndexOf(",");if(s!==-1){var o=n.split(".")[0];t.primary=o.length-s-1;var a=n.lastIndexOf(",",s-1);a!==-1&&(t.secondary=s-1-a)}}return t},r.checkValueRange=function(e,t,i,n){var s=n?"f":"s",o=0,a=hC["l"+s],l=hC["m"+s];if(Ce(e)||(this.checkRange(e,a,n),o++),Ce(t)||(this.checkRange(t,l,n),o++),o===2)if(e<t)xs(l+"specified must be less than the"+a);else return!0;else i&&o===1&&xs("Both"+l+"and"+l+"must be present");return!1},r.checkRange=function(e,t,i){var n=i?[0,20]:[1,21];(e<n[0]||e>n[1])&&xs(t+"value must be within the range"+n[0]+"to"+n[1])},r.intNumberFormatter=function(e,t,i,n){var s;if(!Ce(t.nData.type)){e<0?(e=e*-1,s=t.nData):e===0?s=t.zeroData||t.pData:s=t.pData;var o="";if(s.isPercent&&(e=e*100),s.groupOne)o=this.processSignificantDigits(e,s.minimumSignificantDigits,s.maximumSignificantDigits);else if(o=this.processFraction(e,s.minimumFractionDigits,s.maximumFractionDigits,n),s.minimumIntegerDigits&&(o=this.processMinimumIntegers(o,s.minimumIntegerDigits)),i.isCustomFormat&&s.minimumFractionDigits<s.maximumFractionDigits&&/\d+\.\d+/.test(o)){for(var a=o.split("."),l=a[1],h=l.length,c=h-1;c>=0&&(l[""+c]==="0"&&c>=s.minimumFractionDigits);c--)l=l.slice(0,c);o=a[0]+"."+l}return s.type==="scientific"&&(o=e.toExponential(s.maximumFractionDigits),o=o.replace("e",i.numberMapper.numberSymbols[Ra[4]])),o=o.replace(".",i.numberMapper.numberSymbols[Ra[3]]),o=s.format==="#,###,,;(#,###,,)"?this.customPivotFormat(parseInt(o,10)):o,s.useGrouping&&(o=this.groupNumbers(o,s.groupData.primary,s.groupSeparator||",",i.numberMapper.numberSymbols[Ra[3]]||".",s.groupData.secondary)),o=Ze.convertValueParts(o,me.latnParseRegex,i.numberMapper.mapper),s.nlead==="N/A"?s.nlead:o==="0"&&n&&n.format==="0"?o+s.nend:s.nlead+o+s.nend}},r.processSignificantDigits=function(e,t,i){var n=e+"",s,o=n.length;return o<t?e.toPrecision(t):(n=e.toPrecision(i),s=+n,s+"")},r.groupNumbers=function(e,t,i,n,s){for(var o=!u(s)&&s!==0,a=e.split(n),l=a[0],h=l.length,c="";h>t;)c=l.slice(h-t,h)+(c.length?i+c:""),h-=t,o&&(t=s,o=!1);return a[0]=l.slice(0,h)+(c.length?i:"")+c,a.join(n)},r.processFraction=function(e,t,i,n){var s=(e+"").split(".")[1],o=s?s.length:0;if(t&&o<t){var a="";if(o===0)a=e.toFixed(t);else{a+=e;for(var l=0;l<t-o;l++)a+="0";return a}return e.toFixed(t)}else if(!u(i)&&(o>i||i===0))return e.toFixed(i);var h=e+"";return h[0]==="0"&&n&&n.format==="###.00"&&(h=h.slice(1)),h},r.processMinimumIntegers=function(e,t){var i=e.split("."),n=i[0],s=n.length;if(s<t){for(var o=0;o<t-s;o++)n="0"+n;i[0]=n}return i.join(".")},r.customPivotFormat=function(e){if(e>=5e5){e/=1e6;var t=e.toString().split("."),i=t[0],n=t[1];return n&&+n.substring(0,1)>=5?Math.ceil(e).toString():Math.floor(e).toString()}return""},r}();var cC="stand-alone",cI=/^[0-9]*$/,uC={minute:"setMinutes",hour:"setHours",second:"setSeconds",day:"setDate",month:"setMonth",milliseconds:"setMilliseconds"},uI="months",pC=function(){function r(){}return r.dateParser=function(e,t,i){var n=this,s=me.getDependables(i,e,t.calendar),o=Ze.getCurrentNumericOptions(s.parserObject,Ze.getNumberingSystem(i),!1,ne()),a={};ne()&&t.isServerRendered&&(t=me.compareBlazorDateFormats(t,e));var l=t.format||me.getResultantPattern(t.skeleton,s.dateObject,t.type,!1,ne()?e:""),h="",c;if(Ce(l))xs("Format options or type given must be invalid");else{l=me.ConvertDateToWeekFormat(l),a={isIslamic:me.islamicRegex.test(t.calendar),pattern:l,evalposition:{},culture:e};for(var p=l.match(me.dateParseRegex)||[],d=p.length,f=0,m=0,g=!1,v=o.numericRegex,O=ne()?s.parserObject.numbers:Ze.getNumberMapper(s.parserObject,Ze.getNumberingSystem(i)),C=0;C<d;C++){var x=p[parseInt(C.toString(),10)],M=x.length,k=x[0]==="K"?"h":x[0],A=void 0,j=void 0,U=lC[k],q=M===2?"":"?";switch(g&&(f=m,g=!1),k){case"E":case"c":var K=void 0;ne()?K=F("days."+me.monthIndex[M],s.dateObject):K=s.dateObject[me.days][cC][me.monthIndex[M]];var oe=Ze.reverseObject(K);h+="("+Object.keys(oe).join("|")+")";break;case"M":case"L":case"d":case"m":case"s":case"h":case"H":case"f":if(j=!0,(k==="M"||k==="L")&&M>2){var ie=void 0;ne()?ie=F("months."+me.monthIndex[M],s.dateObject):ie=s.dateObject[uI][cC][me.monthIndex[M]],a[U]=Ze.reverseObject(ie),h+="("+Object.keys(a[U]).join("|")+")"}else if(k==="f"){if(M>3)continue;A=!0,h+="("+v+v+"?"+v+"?)"}else A=!0,h+="("+v+v+q+")";k==="h"&&(a.hour12=!0);break;case"W":var se=M===1?"?":"";h+="("+v+se+v+")";break;case"y":j=A=!0,M===2?h+="("+v+v+")":h+="("+v+"{"+M+",})";break;case"a":j=!0;var H=ne()?F("dayPeriods",s.dateObject):F("dayPeriods.format.wide",s.dateObject);a[U]=Ze.reverseObject(H),h+="("+Object.keys(a[U]).join("|")+")";break;case"G":j=!0;var z=M<=3?"eraAbbr":M===4?"eraNames":"eraNarrow";a[U]=Ze.reverseObject(ne()?F("eras",s.dateObject):F("eras."+z,s.dateObject)),h+="("+Object.keys(a[U]).join("|")+"?)";break;case"z":var Y=new Date().getTimezoneOffset();j=Y!==0,a[U]=F("dates.timeZoneNames",s.parserObject);var P=a[U];c=M<4;var V=c?"+H;-H":P.hourFormat;V=V.replace(/:/g,O.timeSeparator),h+="("+this.parseTimeZoneRegx(V,P,v)+")?",g=!0,m=c?6:12;break;case"'":var G=x.replace(/'/g,"");h+="("+G+")?";break;default:h+="([\\D])";break}if(j&&(a.evalposition[""+U]={isNumber:A,pos:C+1+f,hourOnly:c}),C===d-1&&!u(h)){var te=RegExp;a.parserRegex=new te("^"+h+"$","i")}}}return function(xe){var Me=n.internalDateParse(xe,a,o);if(u(Me)||!Object.keys(Me).length)return null;if(a.isIslamic){var Le={},rt=Me.year,kt=Me.day,oi=Me.month,Gi=rt?rt+"":"",Bi=Gi.length===2;(!rt||!oi||!kt||Bi)&&(Le=Po.getHijriDate(new Date)),Bi&&(rt=parseInt((Le.year+"").slice(0,2)+Gi,10));var ct=Po.toGregorian(rt||Le.year,oi||Le.month,kt||Le.date);Me.year=ct.getFullYear(),Me.month=ct.getMonth()+1,Me.day=ct.getDate()}return n.getDateObject(Me)}},r.getDateObject=function(e,t){var i=t||new Date;i.setMilliseconds(0);var n=["hour","minute","second","milliseconds","month","day"],s=e.year,o=e.designator,a=e.timeZone;if(!Ce(s)){var l=(s+"").length;if(l<=2){var h=Math.floor(i.getFullYear()/100)*100;s+=h}i.setFullYear(s)}for(var c=0,p=n;c<p.length;c++){var d=p[c],f=e[d];if(Ce(f)&&d==="day"&&i.setDate(1),!Ce(f))if(d==="month"){if(f-=1,f<0||f>11)return new Date("invalid");var m=i.getDate();i.setDate(1),i[uC[d]](f);var g=new Date(i.getFullYear(),f+1,0).getDate();i.setDate(m<g?m:g)}else{if(d==="day"){var v=new Date(i.getFullYear(),i.getMonth()+1,0).getDate();if(f<1||f>v)return null}i[uC[d]](f)}}if(!Ce(o)){var O=i.getHours();o==="pm"?i.setHours(O+(O===12?0:12)):O===12&&i.setHours(0)}if(!Ce(a)){var C=a-i.getTimezoneOffset();C!==0&&i.setMinutes(i.getMinutes()+C)}return i},r.internalDateParse=function(e,t,i){var n=e.match(t.parserRegex),s={hour:0,minute:0,second:0};if(u(n))return null;for(var o=Object.keys(t.evalposition),a=0,l=o;a<l.length;a++){var h=l[a],c=t.evalposition[""+h],p=n[c.pos];if(c.isNumber)s[h]=this.internalNumberParser(p,i);else if(h==="timeZone"&&!Ce(p)){var d=c.pos,f=void 0,m=n[d+1],g=!Ce(m);c.hourOnly?f=this.getZoneValue(g,m,n[d+4],i)*60:(f=this.getZoneValue(g,m,n[d+7],i)*60,f+=this.getZoneValue(g,n[d+4],n[d+10],i)),u(f)||(s[""+h]=f)}else{var v=["en-US","en-MH","en-MP"];p=h==="month"&&!t.isIslamic&&(t.culture==="en"||t.culture==="en-GB"||t.culture==="en-US")?p[0].toUpperCase()+p.substring(1).toLowerCase():p,p=h!=="month"&&h==="designator"&&t.culture&&t.culture.indexOf("en-")!==-1&&v.indexOf(t.culture)===-1?p.toLowerCase():p,s[h]=t[h][p]}}return t.hour12&&(s.hour12=!0),s},r.internalNumberParser=function(e,t){return e=Ze.convertValueParts(e,t.numberParseRegex,t.numericPair),cI.test(e)?+e:null},r.parseTimeZoneRegx=function(e,t,i){var n=t.gmtFormat,s,o="("+i+")("+i+")",a;return s=e.replace("+","\\+"),e.indexOf("HH")!==-1?s=s.replace(/HH|mm/g,"("+o+")"):s=s.replace(/H|m/g,"("+o+"?)"),a=s.split(";").map(function(l){return n.replace("{0}",l)}),s=a.join("|")+"|"+t.gmtZeroFormat,s},r.getZoneValue=function(e,t,i,n){var s=e?t:i;if(!s)return 0;var o=this.internalNumberParser(s,n);return e?-o:o},r}();var pI=RegExp,dI=new pI("^([^0-9]*)(([0-9,]*[0-9]+)(.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$"),fI=/,/g,mI=["minusSign","infinity"],dC=function(){function r(){}return r.numberParser=function(e,t,i){var n=this,s=me.getDependables(i,e,"",!0),o={custom:!0},a;me.formatRegex.test(t.format)||!t.format?(ae(o,me.getProperNumericSkeleton(t.format||"N")),o.custom=!1,o.fractionDigits||t.maximumFractionDigits&&(o.maximumFractionDigits=t.maximumFractionDigits)):ae(o,me.customFormat(t.format,null,null));var l=F("numbers",s.parserObject);a=Ze.getCurrentNumericOptions(s.parserObject,Ze.getNumberingSystem(i),!0,ne()),o.symbolRegex=Ze.getSymbolRegex(Object.keys(a.symbolMatch)),o.infinity=a.symbolNumberSystem[mI[1]];var h;if(ne())o.nData=ae({},{},F(o.type+"nData",l)),o.pData=ae({},{},F(o.type+"pData",l)),o.type==="currency"&&t.currency&&me.replaceBlazorCurrency([o.pData,o.nData],F("currencySymbol",l),t.currency);else if(h=me.getSymbolPattern(o.type,a.numberSystem,s.numericObject,o.isAccount),h){h=h.replace(/\u00A4/g,me.defaultCurrency);var c=h.split(";");o.nData=me.getFormatData(c[1]||"-"+c[0],!0,""),o.pData=me.getFormatData(c[0],!0,"")}return function(p){return n.getParsedNumber(p,o,a)}},r.getParsedNumber=function(e,t,i){var n,s,o,a,l,h;if(e.indexOf(t.infinity)!==-1)return 1/0;e=Ze.convertValueParts(e,t.symbolRegex,i.symbolMatch),e=Ze.convertValueParts(e,i.numberParseRegex,i.numericPair),e=e.indexOf("-")!==-1?e.replace("-.","-0."):e,e.indexOf(".")===0&&(e="0"+e);var c=e.match(dI);if(u(c))return NaN;a=c[1],o=c[2];var p=c[5];return l=c[6],n=t.custom?a===t.nData.nlead&&l===t.nData.nend:a.indexOf(t.nData.nlead)!==-1&&l.indexOf(t.nData.nend)!==-1,s=n?t.nData.isPercent:t.pData.isPercent,o=o.replace(fI,""),p&&(o+=p),h=+o,(t.type==="percent"||s)&&(h=h/100),(t.custom||t.fractionDigits)&&(h=parseFloat(h.toFixed(t.custom?n?t.nData.maximumFractionDigits:t.pData.maximumFractionDigits:t.fractionDigits))),t.maximumFractionDigits&&(h=this.convertMaxFracDigits(o,t,h,n)),n&&(h*=-1),h},r.convertMaxFracDigits=function(e,t,i,n){var s=e.split(".");return s[1]&&s[1].length>t.maximumFractionDigits&&(i=+i.toFixed(t.custom?n?t.nData.maximumFractionDigits:t.pData.maximumFractionDigits:t.maximumFractionDigits)),i},r}();var tn=function(){function r(e){this.ranArray=[],this.boundedEvents={},!u(e)&&(this.context=e)}return r.prototype.on=function(e,t,i,n){if(!u(t)){var s=i||this.context;if(this.notExist(e)){this.boundedEvents[""+e]=[{handler:t,context:s,id:n}];return}u(n)?this.isHandlerPresent(this.boundedEvents[""+e],t)||this.boundedEvents[""+e].push({handler:t,context:s}):this.ranArray.indexOf(n)===-1&&(this.ranArray.push(n),this.boundedEvents[""+e].push({handler:t,context:s,id:n}))}},r.prototype.off=function(e,t,i){if(!this.notExist(e)){var n=F(e,this.boundedEvents);if(t){for(var s=0;s<n.length;s++)if(i){if(n[parseInt(s.toString(),10)].id===i){n.splice(s,1);var o=this.ranArray.indexOf(i);o!==-1&&this.ranArray.splice(o,1);break}}else if(t===n[parseInt(s.toString(),10)].handler){n.splice(s,1);break}}else delete this.boundedEvents[""+e]}},r.prototype.notify=function(e,t,i,n){if(this.notExist(e)){i&&i.call(this,t);return}t&&(t.name=e);var s="Blazor",o=F(e,this.boundedEvents).slice(0);if(window[""+s])return this.blazorCallback(o,t,i,n,0);for(var a=0,l=o;a<l.length;a++){var h=l[a];h.handler.call(h.context,t)}i&&i.call(this,t)},r.prototype.blazorCallback=function(e,t,i,n,s){var o=this,a=s===e.length-1;if(s<e.length){var l=e[parseInt(s.toString(),10)],h=l.handler.call(l.context,t);if(h&&typeof h.then=="function"){if(!i)return h;h.then(function(c){if(c=typeof c=="string"&&o.isJson(c)?JSON.parse(c,o.dateReviver):c,ae(t,t,c,!0),i&&a)i.call(l.context,t);else return o.blazorCallback(e,t,i,n,s+1)}).catch(function(c){n&&n.call(l.context,typeof c=="string"&&o.isJson(c)?JSON.parse(c,o.dateReviver):c)})}else if(i&&a)i.call(l.context,t);else return this.blazorCallback(e,t,i,n,s+1)}},r.prototype.dateReviver=function(e,t){var i=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/;return ne&&typeof t=="string"&&t.match(i)!==null?new Date(t):t},r.prototype.isJson=function(e){try{JSON.parse(e)}catch{return!1}return!0},r.prototype.destroy=function(){this.boundedEvents=this.context=void 0},r.prototype.offIntlEvents=function(){var e=this.boundedEvents.notifyExternalChange;if(e){for(var t=0;t<e.length;t++){var i=e[""+t].context;i&&i.detectFunction&&i.randomId&&!i.isRendered&&(this.off("notifyExternalChange",i.detectFunction,i.randomId),t--)}this.boundedEvents.notifyExternalChange.length||delete this.boundedEvents.notifyExternalChange}},r.prototype.notExist=function(e){return this.boundedEvents.hasOwnProperty(e)===!1||this.boundedEvents[e].length<=0},r.prototype.isHandlerPresent=function(e,t){for(var i=0,n=e;i<n.length;i++){var s=n[i];if(s.handler===t)return!0}return!1},r}();var Fm=new tn,mC=!1,Wr={},ch="en-US",hh="USD",fC=["numericObject","dateObject"],jo=function(){function r(e){e&&(this.culture=e)}return r.prototype.getDateFormat=function(e){return Hu.dateFormat(this.getCulture(),e||{type:"date",skeleton:"short"},Wr)},r.prototype.getNumberFormat=function(e){return e&&!e.currency&&(e.currency=hh),ne()&&e&&!e.format&&(e.minimumFractionDigits=0),_u.numberFormatter(this.getCulture(),e||{},Wr)},r.prototype.getDateParser=function(e){return pC.dateParser(this.getCulture(),e||{skeleton:"short",type:"date"},Wr)},r.prototype.getNumberParser=function(e){return ne()&&e&&!e.format&&(e.minimumFractionDigits=0),dC.numberParser(this.getCulture(),e||{format:"N"},Wr)},r.prototype.formatNumber=function(e,t){return this.getNumberFormat(t)(e)},r.prototype.formatDate=function(e,t){return this.getDateFormat(t)(e)},r.prototype.parseDate=function(e,t){return this.getDateParser(t)(e)},r.prototype.parseNumber=function(e,t){return this.getNumberParser(t)(e)},r.prototype.getDatePattern=function(e,t){return me.getActualDateTimeFormat(this.getCulture(),e,Wr,t)},r.prototype.getNumberPattern=function(e,t){return me.getActualNumberFormat(this.getCulture(),e,Wr,t)},r.prototype.getFirstDayOfWeek=function(){return me.getWeekData(this.getCulture(),Wr)},r.prototype.getCulture=function(){return this.culture||ch},r}();function Ba(r,e){var t=me.getDependables(Wr,r,"",!0)[fC[0]],i=me.getDependables(Wr,r,"")[fC[1]],n=F("defaultNumberingSystem",t),s=ne()?F("numberSymbols",t):F("symbols-numberSystem-"+n,t),o=me.getSymbolPattern(e||"decimal",n,t,!1);return ae(s,me.getFormatData(o,!0,"",!0),{dateSeparator:me.getDateSeparator(i)})}var gC=RegExp,vC={"en-US":{d:"M/d/y",D:"EEEE, MMMM d, y",f:"EEEE, MMMM d, y h:mm a",F:"EEEE, MMMM d, y h:mm:s a",g:"M/d/y h:mm a",G:"M/d/yyyy h:mm:ss tt",m:"MMMM d",M:"MMMM d",r:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",R:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",t:"h:mm tt",T:"h:m:s tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",U:"dddd, MMMM d, yyyy h:mm:ss tt",y:"MMMM yyyy",Y:"MMMM yyyy"}},me;(function(r){r.negativeDataRegex=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,r.customRegex=/^(('[^']+'|''|[^*#@0,.])*)(\*.)?((([0#,]*[0,]*[0#]*[0#\ ]*)(\.[0#]*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,r.latnParseRegex=/0|1|2|3|4|5|6|7|8|9/g;var e=/[0-9]/g;r.defaultCurrency="$";var t=["infinity","nan","group","decimal"],i=/G|M|L|H|c|'| a|yy|y|EEEE|E/g,n={G:"",M:"m",L:"m",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"};r.dateConverterMapper=/dddd|ddd/ig;var s="sun";r.islamicRegex=/^islamic/;var o={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};r.formatRegex=new gC("(^[ncpae]{1})([0-1]?[0-9]|20)?$","i"),r.currencyFormatRegex=new gC("(^[ca]{1})([0-1]?[0-9]|20)?$","i"),r.curWithoutNumberRegex=/(c|a)$/ig;var a={$:"isCurrency","%":"isPercent","-":"isNegative",0:"nlead",1:"nend"};r.dateParseRegex=/([a-z])\1*|'([^']|'')+'|''|./gi,r.basicPatterns=["short","medium","long","full"],r.defaultObject={dates:{calendars:{gregorian:{months:{"stand-alone":{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},narrow:{1:"J",2:"F",3:"M",4:"A",5:"M",6:"J",7:"J",8:"A",9:"S",10:"O",11:"N",12:"D"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"Before Christ","0-alt-variant":"Before Common Era",1:"Anno Domini","1-alt-variant":"Common Era"},eraAbbr:{0:"BC","0-alt-variant":"BCE",1:"AD","1-alt-variant":"CE"},eraNarrow:{0:"B","0-alt-variant":"BCE",1:"A","1-alt-variant":"CE"}},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y"}}},islamic:{months:{"stand-alone":{abbreviated:{1:"Muh.",2:"Saf.",3:"Rab. I",4:"Rab. II",5:"Jum. I",6:"Jum. II",7:"Raj.",8:"Sha.",9:"Ram.",10:"Shaw.",11:"Dhu\u02BBl-Q.",12:"Dhu\u02BBl-H."},narrow:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},wide:{1:"Muharram",2:"Safar",3:"Rabi\u02BB I",4:"Rabi\u02BB II",5:"Jumada I",6:"Jumada II",7:"Rajab",8:"Sha\u02BBban",9:"Ramadan",10:"Shawwal",11:"Dhu\u02BBl-Qi\u02BBdah",12:"Dhu\u02BBl-Hijjah"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"AH"},eraAbbr:{0:"AH"},eraNarrow:{0:"AH"}},dateFormats:{full:"EEEE, MMMM d, y G",long:"MMMM d, y G",medium:"MMM d, y G",short:"M/d/y GGGGG"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y G",yyyy:"y G",yyyyM:"M/y GGGGG",yyyyMd:"M/d/y GGGGG",yyyyMEd:"E, M/d/y GGGGG",yyyyMMM:"MMM y G",yyyyMMMd:"MMM d, y G",yyyyMMMEd:"E, MMM d, y G",yyyyMMMM:"MMMM y G",yyyyQQQ:"QQQ y G",yyyyQQQQ:"QQQQ y G"}}}},timeZoneNames:{hourFormat:"+HH:mm;-HH:mm",gmtFormat:"GMT{0}",gmtZeroFormat:"GMT"}},numbers:{currencies:{USD:{displayName:"US Dollar",symbol:"$","symbol-alt-narrow":"$"},EUR:{displayName:"Euro",symbol:"\u20AC","symbol-alt-narrow":"\u20AC"},GBP:{displayName:"British Pound","symbol-alt-narrow":"\xA3"}},defaultNumberingSystem:"latn",minimumGroupingDigits:"1","symbols-numberSystem-latn":{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xD7",perMille:"\u2030",infinity:"\u221E",nan:"NaN",timeSeparator:":"},"decimalFormats-numberSystem-latn":{standard:"#,##0.###"},"percentFormats-numberSystem-latn":{standard:"#,##0%"},"currencyFormats-numberSystem-latn":{standard:"\xA4#,##0.00",accounting:"\xA4#,##0.00;(\xA4#,##0.00)"},"scientificFormats-numberSystem-latn":{standard:"#E0"}}},r.blazorDefaultObject={numbers:{mapper:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},mapperDigits:"0123456789",numberSymbols:{decimal:".",group:",",plusSign:"+",minusSign:"-",percentSign:"%",nan:"NaN",timeSeparator:":",infinity:"\u221E"},timeSeparator:":",currencySymbol:"$",currencypData:{nlead:"$",nend:"",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentpData:{nlead:"",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentnData:{nlead:"-",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},currencynData:{nlead:"($",nend:")",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalnData:{nlead:"-",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalpData:{nlead:"",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2}},dates:{dayPeriods:{am:"AM",pm:"PM"},dateSeperator:"/",days:{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}},months:{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}},eras:{1:"AD"}}},r.monthIndex={3:"abbreviated",4:"wide",5:"narrow",1:"abbreviated"},r.month="months",r.days="days",r.patternMatcher={C:"currency",P:"percent",N:"decimal",A:"currency",E:"scientific"};function l(H,z,Y,P,V){var G,te=Y||"date";if(V)G=d({skeleton:H},V).format||d({skeleton:"d"},"en-US").format;else{if(r.basicPatterns.indexOf(H)!==-1){if(G=F(te+"Formats."+H,z),te==="dateTime"){var xe=F("dateFormats."+H,z),Me=F("timeFormats."+H,z);G=G.replace("{1}",xe).replace("{0}",Me)}}else G=F("dateTimeFormats.availableFormats."+H,z);Ce(G)&&H==="yMd"&&(G="M/d/y")}return G}r.getResultantPattern=l;function h(H,z,Y,P){var V={},G=Y||"gregorian";if(V.parserObject=Ze.getMainObject(H,z)||(ne()?r.blazorDefaultObject:r.defaultObject),P)V.numericObject=F("numbers",V.parserObject);else{var te=ne()?"dates":"dates.calendars."+G;V.dateObject=F(te,V.parserObject)}return V}r.getDependables=h;function c(H,z,Y,P){return F(H+"Formats-numberSystem-"+z+(P?".accounting":".standard"),Y)||(P?F(H+"Formats-numberSystem-"+z+".standard",Y):"")}r.getSymbolPattern=c;function p(H){var z=H.match(r.dateConverterMapper);if(z&&ne()){var Y=z[0].length===3?"EEE":"EEEE";return H.replace(r.dateConverterMapper,Y)}return H}r.ConvertDateToWeekFormat=p;function d(H,z){var Y=H.format||H.skeleton,P=F((z||"en-US")+"."+Y,vC);return P||(P=F("en-US."+Y,vC)),P&&(P=p(P),H.format=P.replace(/tt/,"a")),H}r.compareBlazorDateFormats=d;function f(H){var z=H.match(r.formatRegex),Y={},P=z[1].toUpperCase();return Y.isAccount=P==="A",Y.type=r.patternMatcher[P],H.length>1&&(Y.fractionDigits=parseInt(z[2],10)),Y}r.getProperNumericSkeleton=f;function m(H,z,Y,P){var V=P?{}:{nlead:"",nend:""},G=H.match(r.customRegex);if(G){P||(V.nlead=g(G[1],Y),V.nend=g(G[10],Y),V.groupPattern=G[4]);var te=G[7];if(te&&z){var xe=te.match(e);u(xe)?V.minimumFraction=0:V.minimumFraction=xe.length,V.maximumFraction=te.length-1}}return V}r.getFormatData=m;function g(H,z){return H?(H=H.replace(r.defaultCurrency,z),z===""?H.trim():H):""}r.changeCurrencySymbol=g;function v(H,z,Y){var P=Y?"."+Y:".symbol",V=F("currencies."+z+P,H)||F("currencies."+z+".symbol-alt-narrow",H)||"$";return V}r.getCurrencySymbol=v;function O(H,z,Y){for(var P={},V=H.split(";"),G=["pData","nData","zeroData"],te=0;te<V.length;te++)P[G[te]]=C(V[te],z,Y);return u(P.nData)&&(P.nData=ae({},P.pData),P.nData.nlead=u(z)?"-"+P.nData.nlead:z.minusSymbol+P.nData.nlead),P}r.customFormat=O;function C(H,z,Y){var P={type:"decimal",minimumFractionDigits:0,maximumFractionDigits:0},V=H.match(r.customRegex);if(u(V)||V[5]===""&&H!=="N/A")return P.type=void 0,P;P.nlead=V[1],P.nend=V[10];var G=V[6],te=!!G.match(/\ $/g),xe=G.replace(/\ $/g,"").indexOf(" ")!==-1;P.useGrouping=G.indexOf(",")!==-1||xe,G=G.replace(/,/g,"");var Me=V[7];if(G.indexOf("0")!==-1&&(P.minimumIntegerDigits=G.length-G.indexOf("0")),u(Me)||(P.minimumFractionDigits=Me.lastIndexOf("0"),P.maximumFractionDigits=Me.lastIndexOf("#"),P.minimumFractionDigits===-1&&(P.minimumFractionDigits=0),(P.maximumFractionDigits===-1||P.maximumFractionDigits<P.minimumFractionDigits)&&(P.maximumFractionDigits=P.minimumFractionDigits)),u(z)?ae(P,x([P.nlead,P.nend],"%","%")):(z.isCustomFormat=!0,ae(P,x([P.nlead,P.nend],"$",z.currencySymbol)),P.isCurrency||ae(P,x([P.nlead,P.nend],"%",z.percentSymbol))),!u(Y)){var Le=c(P.type,z.numberMapper.numberSystem,Y,!1);P.useGrouping&&(P.groupSeparator=xe?" ":z.numberMapper.numberSymbols[t[2]],P.groupData=_u.getGroupingDetails(Le.split(";")[0])),P.nlead=P.nlead.replace(/'/g,""),P.nend=te?" "+P.nend.replace(/'/g,""):P.nend.replace(/'/g,"")}return P}r.customNumberFormat=C;function x(H,z,Y){for(var P={nlead:H[0],nend:H[1]},V=0;V<2;V++){var G=H[parseInt(V.toString(),10)],te=G.indexOf(z);if(te!==-1&&(te<G.indexOf("'")||te>G.lastIndexOf("'"))){P[a[V]]=G.substr(0,te)+Y+G.substr(te+1),P[a[z]]=!0,P.type=P.isCurrency?"currency":"percent";break}}return P}r.isCurrencyPercent=x;function M(H){var z=(F("dateFormats.short",H)||"").match(/[d‏M‏]([^d‏M])[d‏M‏]/i);return z?z[1]:"/"}r.getDateSeparator=M;function k(H,z,Y,P){var V=h(Y,H,z.calendar);ne()&&(z=d(z,H));var G=z.format||l(z.skeleton,V.dateObject,z.type);if(P){if(G=G.replace(i,function(oi){return n[oi]}),G.indexOf("z")!==-1){var te=G.match(/z/g).length,xe=void 0,Me={timeZone:{}};Me.numMapper=Ze.getNumberMapper(V.parserObject,Ze.getNumberingSystem(Y)),Me.timeZone=F("dates.timeZoneNames",V.parserObject);var Le=new Date,rt=Le.getTimezoneOffset(),kt=te<4?"+H;-H":Me.timeZone.hourFormat;kt=kt.replace(/:/g,Me.numMapper.timeSeparator),rt===0?xe=Me.timeZone.gmtZeroFormat:(xe=Hu.getTimeZoneValue(rt,kt),xe=Me.timeZone.gmtFormat.replace(/\{0\}/,xe)),G=G.replace(/[z]+/,'"'+xe+'"')}G=G.replace(/ $/,"")}return G}r.getActualDateTimeFormat=k;function A(H,z){if(H.indexOf(",")!==-1){var Y=H.split(",");H=Y[0]+F("numberMapper.numberSymbols.group",z)+Y[1].replace(".",F("numberMapper.numberSymbols.decimal",z))}else H=H.replace(".",F("numberMapper.numberSymbols.decimal",z));return H}function j(H,z,Y,P){var V=h(Y,H,"",!0),G={custom:!0},te=V.numericObject,xe,Me={},Le=(z.format||"").match(r.currencyFormatRegex),rt=r.formatRegex.test(z.format)?f(z.format||"N"):{},kt={};if(Le){kt.numberMapper=ne()?ae({},V.numericObject):Ze.getNumberMapper(V.parserObject,Ze.getNumberingSystem(Y),!0);var oi=ne()?F("currencySymbol",V.numericObject):v(V.numericObject,z.currency||hh,z.altSymbol),Gi=c("currency",kt.numberMapper.numberSystem,V.numericObject,/a/i.test(z.format));Gi=Gi.replace(/\u00A4/g,oi);var Bi=Gi.split(";");Me.hasNegativePattern=ne()?!0:Bi.length>1,Me.nData=ne()?F(rt.type+"nData",te):m(Bi[1]||"-"+Bi[0],!0,oi),Me.pData=ne()?F(rt.type+"pData",te):m(Bi[0],!1,oi),!Le[2]&&!z.minimumFractionDigits&&!z.maximumFractionDigits&&(xe=m(Gi.split(";")[0],!0,"",!0).minimumFraction)}var ct;if(r.formatRegex.test(z.format)||!z.format){if(ae(G,f(z.format||"N")),G.custom=!1,ct="###0",G.fractionDigits||z.minimumFractionDigits||z.maximumFractionDigits||xe){var Yr=0;G.fractionDigits&&(z.minimumFractionDigits=z.maximumFractionDigits=G.fractionDigits),ct=U(ct,xe||G.fractionDigits||z.minimumFractionDigits||Yr,z.maximumFractionDigits||Yr)}if(z.minimumIntegerDigits&&(ct=q(ct,z.minimumIntegerDigits)),z.useGrouping&&(ct=K(ct)),G.type==="currency"||G.type&&ne()){ne()&&G.type!=="currency"&&(Me.pData=F(G.type+"pData",te),Me.nData=F(G.type+"nData",te));var Qu=ct;ct=Me.pData.nlead+Qu+Me.pData.nend,(Me.hasNegativePattern||ne())&&(ct+=";"+Me.nData.nlead+Qu+Me.nData.nend)}G.type==="percent"&&!ne()&&(ct+=" %")}else ct=z.format.replace(/'/g,'"');return Object.keys(kt).length>0&&(ct=P?ct:A(ct,kt)),ct}r.getActualNumberFormat=j;function U(H,z,Y){H+=".";for(var P=0;P<z;P++)H+="0";if(z<Y)for(var V=Y-z,G=0;G<V;G++)H+="#";return H}r.fractionDigitsPattern=U;function q(H,z){for(var Y=H.split("."),P="",V=0;V<z;V++)P+="0";return Y[1]?P+"."+Y[1]:P}r.minimumIntegerPattern=q;function K(H){var z=H.split("."),Y=z[0],P=3-Y.length%3,V=P&&P===1?"#":P===2?"##":"";Y=V+Y,H="";for(var G=Y.length-1;G>0;G=G-3)H=","+Y[G-2]+Y[G-1]+Y[parseInt(G.toString(),10)]+H;return H=H.slice(1),z[1]?H+"."+z[1]:H}r.groupingPattern=K;function oe(H,z){var Y=s,P=F("supplemental.weekData.firstDay",z),V=H;return/en-/.test(V)&&(V=V.slice(3)),V=V.slice(0,2).toUpperCase()+V.substr(2),P&&(Y=P[""+V]||P[V.slice(0,2)]||s),o[""+Y]}r.getWeekData=oe;function ie(H,z,Y){var P=sC(Y);if(z!==P)for(var V=0,G=H;V<G.length;V++){var te=G[V];te.nend=te.nend.replace(z,P),te.nlead=te.nlead.replace(z,P)}}r.replaceBlazorCurrency=ie;function se(H){var z=new Date(H.getFullYear(),0,1),Y=z.getDay(),P;Y=Y>=0?Y:Y+7;var V=Math.floor((H.getTime()-z.getTime()-(H.getTimezoneOffset()-z.getTimezoneOffset())*6e4)/864e5)+1;if(Y<4){if(P=Math.floor((V+Y-1)/7)+1,P>52){var G=new Date(H.getFullYear()+1,0,1),te=G.getDay();te=te>=0?te:te+7,P=te<4?1:53}}else P=Math.floor((V+Y-1)/7);return P}r.getWeekOfYear=se})(me||(me={}));var yC=/^(.*?):[ \t]*([^\r\n]*)$/gm,bC="GET",pr=function(){function r(e,t,i,n){this.mode=!0,this.emitError=!0,this.options={},typeof e=="string"?(this.url=e,this.type=t?t.toUpperCase():bC,this.mode=u(i)?!0:i):typeof e=="object"&&(this.options=e,Ki(this,this.options)),this.type=this.type?this.type.toUpperCase():bC,this.contentType=this.contentType!==void 0?this.contentType:n}return r.prototype.send=function(e){var t=this;this.data=u(e)?this.data:e;var i={cancel:!1,httpRequest:null},n=new Promise(function(s,o){t.httpRequest=new XMLHttpRequest,t.httpRequest.onreadystatechange=function(){t.stateChange(s,o)},u(t.onLoad)||(t.httpRequest.onload=t.onLoad),u(t.onProgress)||(t.httpRequest.onprogress=t.onProgress),u(t.onAbort)||(t.httpRequest.onabort=t.onAbort),u(t.onError)||(t.httpRequest.onerror=t.onError),u(t.onUploadProgress)||(t.httpRequest.upload.onprogress=t.onUploadProgress),t.httpRequest.open(t.type,t.url,t.mode),!u(t.data)&&t.contentType!==null&&t.httpRequest.setRequestHeader("Content-Type",t.contentType||"application/json; charset=utf-8"),t.beforeSend&&(i.httpRequest=t.httpRequest,t.beforeSend(i)),i.cancel||t.httpRequest.send(u(t.data)?null:t.data)});return n},r.prototype.successHandler=function(e){return this.onSuccess&&this.onSuccess(e,this),e},r.prototype.failureHandler=function(e){return this.onFailure&&this.onFailure(this.httpRequest),e},r.prototype.stateChange=function(e,t){var i=this.httpRequest.responseText;if(this.dataType&&this.dataType.toLowerCase()==="json")if(i==="")i=void 0;else try{i=JSON.parse(i)}catch{}this.httpRequest.readyState===4&&(this.httpRequest.status>=200&&this.httpRequest.status<=299||this.httpRequest.status===304?e(this.successHandler(i)):this.emitError?t(new Error(this.failureHandler(this.httpRequest.statusText))):e())},r.prototype.getResponseHeader=function(e){var t,i;t={};for(var n=yC.exec(this.httpRequest.getAllResponseHeaders());n;)t[n[1].toLowerCase()]=n[2],n=yC.exec(this.httpRequest.getAllResponseHeaders());return i=t[e.toLowerCase()],u(i)?null:i},r}();var lV=function(){function r(e,t,i){this.type="GET",this.emitError=!0,typeof e=="string"?(this.url=e,this.type=u(t)?this.type:t.toUpperCase(),this.contentType=i):qr(e)&&Object.keys(e).length>0&&Ki(this,e),this.contentType=u(this.contentType)?"application/json; charset=utf-8":this.contentType}return r.prototype.send=function(e){var t=this,i={"application/json":"json","multipart/form-data":"formData","application/octet-stream":"blob","application/x-www-form-urlencoded":"formData"};try{u(this.fetchRequest)&&this.type==="GET"?this.fetchRequest=new Request(this.url,{method:this.type}):u(this.fetchRequest)&&(this.data=u(e)?this.data:e,this.fetchRequest=new Request(this.url,{method:this.type,headers:{"Content-Type":this.contentType},body:this.data}));var n={cancel:!1,fetchRequest:this.fetchRequest};return this.triggerEvent(this.beforeSend,n),n.cancel?null:(this.fetchResponse=fetch(this.fetchRequest),this.fetchResponse.then(function(s){if(t.triggerEvent(t.onLoad,s),!s.ok)throw s;for(var o="text",a=0,l=Object.keys(i);a<l.length;a++){var h=l[a];s.headers.get("Content-Type")&&s.headers.get("Content-Type").indexOf(h)!==-1&&(o=i[h])}return s[o]()}).then(function(s){return t.triggerEvent(t.onSuccess,s,t),s}).catch(function(s){var o={};return t.emitError&&(t.triggerEvent(t.onFailure,s),o=Promise.reject(s)),o}))}catch(s){return s}},r.prototype.triggerEvent=function(e,t,i){!u(e)&&typeof e=="function"&&e(t,i)},r}();var gI=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i,vI=/msie|trident/i,yI=/Trident\/7\./,bI=/(ipad|iphone|ipod touch)/i,OI=/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i,CI=/android/i,SI=/trident|windows phone|edge/i,MI=/(version)[ /]([\w.]+)/i,Vm={OPERA:/(opera|opr)(?:.*version|)[ /]([\w.]+)/i,EDGE:/(edge)(?:.*version|)[ /]([\w.]+)/i,CHROME:/(chrome|crios)[ /]([\w.]+)/i,PANTHOMEJS:/(phantomjs)[ /]([\w.]+)/i,SAFARI:/(safari)[ /]([\w.]+)/i,WEBKIT:/(webkit)[ /]([\w.]+)/i,MSIE:/(msie|trident) ([\w.]+)/i,MOZILLA:/(mozilla)(?:.*? rv:([\w.]+)|)/i};typeof window<"u"&&(window.browserDetails=window.browserDetails||{});var N=function(){function r(){}return r.extractBrowserDetail=function(){for(var e={culture:{}},t=Object.keys(Vm),i=[],n=0,s=t;n<s.length;n++){var o=s[n];if(i=r.userAgent.match(Vm[""+o]),i){if(e.name=i[1].toLowerCase()==="opr"?"opera":i[1].toLowerCase(),e.name=i[1].toLowerCase()==="crios"?"chrome":e.name,e.version=i[2],e.culture.name=e.culture.language=navigator.language,r.userAgent.match(yI)){e.name="msie";break}var a=r.userAgent.match(MI);e.name==="safari"&&a&&(e.version=a[2]);break}}return e},r.getEvent=function(e){var t={start:{isPointer:"pointerdown",isTouch:"touchstart",isDevice:"mousedown"},move:{isPointer:"pointermove",isTouch:"touchmove",isDevice:"mousemove"},end:{isPointer:"pointerup",isTouch:"touchend",isDevice:"mouseup"},cancel:{isPointer:"pointercancel",isTouch:"touchcancel",isDevice:"mouseleave"}};return r.isPointer?t[""+e].isPointer:r.isTouch?t[""+e].isTouch+(r.isDevice?"":" "+t[""+e].isDevice):t[""+e].isDevice},r.getTouchStartEvent=function(){return r.getEvent("start")},r.getTouchEndEvent=function(){return r.getEvent("end")},r.getTouchMoveEvent=function(){return r.getEvent("move")},r.getTouchCancelEvent=function(){return r.getEvent("cancel")},r.isSafari=function(){return r.isDevice&&r.isIos&&r.isTouch&&typeof window<"u"&&window.navigator.userAgent.toLowerCase().indexOf("iphone")===-1&&window.navigator.userAgent.toLowerCase().indexOf("safari")>-1},r.getValue=function(e,t){var i=typeof window<"u"?window.browserDetails:{};return typeof navigator<"u"&&navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1&&r.isTouch===!0&&!Vm.CHROME.test(navigator.userAgent)&&(i.isIos=!0,i.isDevice=!0,i.isTouch=!0,i.isPointer=!0),typeof i[""+e]>"u"?i[""+e]=t.test(r.userAgent):i[""+e]},Object.defineProperty(r,"userAgent",{get:function(){return r.uA},set:function(e){r.uA=e,window.browserDetails={}},enumerable:!0,configurable:!0}),Object.defineProperty(r,"info",{get:function(){return Ce(window.browserDetails.info)?window.browserDetails.info=r.extractBrowserDetail():window.browserDetails.info},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isIE",{get:function(){return r.getValue("isIE",vI)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isTouch",{get:function(){return Ce(window.browserDetails.isTouch)?window.browserDetails.isTouch="ontouchstart"in window.navigator||window&&window.navigator&&window.navigator.maxTouchPoints>0||"ontouchstart"in window:window.browserDetails.isTouch},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isPointer",{get:function(){return Ce(window.browserDetails.isPointer)?window.browserDetails.isPointer="pointerEnabled"in window.navigator:window.browserDetails.isPointer},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isMSPointer",{get:function(){return Ce(window.browserDetails.isMSPointer)?window.browserDetails.isMSPointer="msPointerEnabled"in window.navigator:window.browserDetails.isMSPointer},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isDevice",{get:function(){return r.getValue("isDevice",gI)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isIos",{get:function(){return r.getValue("isIos",bI)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isIos7",{get:function(){return r.getValue("isIos7",OI)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isAndroid",{get:function(){return r.getValue("isAndroid",CI)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isWebView",{get:function(){return Ce(window.browserDetails.isWebView)&&(window.browserDetails.isWebView=!(Ce(window.cordova)&&Ce(window.PhoneGap)&&Ce(window.phonegap)&&window.forge!=="object")),window.browserDetails.isWebView},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isWindows",{get:function(){return r.getValue("isWindows",SI)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"touchStartEvent",{get:function(){return Ce(window.browserDetails.touchStartEvent)?window.browserDetails.touchStartEvent=r.getTouchStartEvent():window.browserDetails.touchStartEvent},enumerable:!0,configurable:!0}),Object.defineProperty(r,"touchMoveEvent",{get:function(){return Ce(window.browserDetails.touchMoveEvent)?window.browserDetails.touchMoveEvent=r.getTouchMoveEvent():window.browserDetails.touchMoveEvent},enumerable:!0,configurable:!0}),Object.defineProperty(r,"touchEndEvent",{get:function(){return Ce(window.browserDetails.touchEndEvent)?window.browserDetails.touchEndEvent=r.getTouchEndEvent():window.browserDetails.touchEndEvent},enumerable:!0,configurable:!0}),Object.defineProperty(r,"touchCancelEvent",{get:function(){return Ce(window.browserDetails.touchCancelEvent)?window.browserDetails.touchCancelEvent=r.getTouchCancelEvent():window.browserDetails.touchCancelEvent},enumerable:!0,configurable:!0}),r.uA=typeof navigator<"u"?navigator.userAgent:"",r}();var y=function(){function r(){}return r.addOrGetEventData=function(e){return"__eventList"in e?e.__eventList.events:(e.__eventList={},e.__eventList.events=[])},r.add=function(e,t,i,n,s){var o=r.addOrGetEventData(e),a;s?a=Ji(i,s):a=i,n&&(a=a.bind(n));for(var l=t.split(" "),h=0;h<l.length;h++)o.push({name:l[parseInt(h.toString(),10)],listener:i,debounce:a}),N.isIE?e.addEventListener(l[parseInt(h.toString(),10)],a):e.addEventListener(l[parseInt(h.toString(),10)],a,{passive:!1});return a},r.remove=function(e,t,i){for(var n=r.addOrGetEventData(e),s=t.split(" "),o=function(l){var h=-1,c;n&&n.length!==0&&n.some(function(p,d){return p.name===s[parseInt(l.toString(),10)]&&p.listener===i?(h=d,c=p.debounce,!0):!1}),h!==-1&&n.splice(h,1),c&&e.removeEventListener(s[parseInt(l.toString(),10)],c)},a=0;a<s.length;a++)o(a)},r.clearEvents=function(e){var t,i;t=r.addOrGetEventData(e),i=ae([],i,t);for(var n=0;n<i.length;n++){var s=i[parseInt(n.toString(),10)];e.removeEventListener(s.name,s.debounce),t.shift()}},r.trigger=function(e,t,i){for(var n=r.addOrGetEventData(e),s=0,o=n;s<o.length;s++){var a=o[s];a.name===t&&a.debounce.call(this,i)}},r}();var TI=/^svg|^path|^g/;function B(r,e){var t=TI.test(r)?document.createElementNS("http://www.w3.org/2000/svg",r):document.createElement(r);return typeof e>"u"||(t.innerHTML=e.innerHTML?e.innerHTML:"",e.className!==void 0&&(t.className=e.className),e.id!==void 0&&(t.id=e.id),e.styles!==void 0&&t.setAttribute("style",e.styles),e.attrs!==void 0&&pe(t,e.attrs)),t}function E(r,e){for(var t=OC(e),i=RegExp,n=0,s=r;n<s.length;n++)for(var o=s[n],a=0,l=t;a<l.length;a++){var h=l[a];if(qr(o)){var c=F("attributes.className",o);u(c)?Pe("attributes.className",h,o):new i("\\b"+h+"\\b","i").test(c)||Pe("attributes.className",c+" "+h,o)}else o.classList.contains(h)||o.classList.add(h)}return r}function L(r,e){for(var t=OC(e),i=0,n=r;i<n.length;i++){var s=n[i],o=qr(s),a=o?F("attributes.className",s):s.className!=="";if(a)for(var l=0,h=t;l<h.length;l++){var c=h[l];if(o){var p=F("attributes.className",s),d=p.split(" "),f=d.indexOf(c);f!==-1&&d.splice(f,1),Pe("attributes.className",d.join(" "),s)}else s.classList.remove(c)}}return r}function OC(r){var e=[];return typeof r=="string"?e.push(r):e=r,e}function ai(r){var e=r;return e.style.visibility===""&&e.offsetWidth>0}function nn(r,e,t){for(var i=document.createDocumentFragment(),n=0,s=r;n<s.length;n++){var o=s[n];i.appendChild(o)}return e.insertBefore(i,e.firstElementChild),t&&CC(e),r}function st(r,e,t){var i=document.createDocumentFragment();if(r instanceof NodeList)for(;r.length>0;)i.appendChild(r[0]);else for(var n=0,s=r;n<s.length;n++){var o=s[n];i.appendChild(o)}return e.appendChild(i),t&&CC(e),r}function CC(r){var e=r.querySelectorAll("script");e.forEach(function(t){var i=document.createElement("script");i.text=t.innerHTML,document.head.appendChild(i),w(i)})}function w(r){var e=r.parentNode;if(e)return e.removeChild(r)}function Rt(r){var e=r.parentNode;y.clearEvents(r),e.removeChild(r)}function pe(r,e){for(var t=Object.keys(e),i=r,n=0,s=t;n<s.length;n++){var o=s[n];if(qr(i)){var a=o;o==="tabindex"&&(a="tabIndex"),i.attributes[""+a]=e[""+o]}else i.setAttribute(o,e[""+o])}return i}function $(r,e,t){return e===void 0&&(e=document),r=SC(r),e.querySelector(r)}function ge(r,e,t){e===void 0&&(e=document),r=SC(r);var i=e.querySelectorAll(r);return i}function SC(r){var e=/(!|"|\$|%|&|'|\(|\)|\*|\/|:|;|<|=|\?|@|\]|\^|`|{|}|\||\+|~)/g;if(r.match(/#[0-9]/g)||r.match(e)){for(var t=r.split(","),i=0;i<t.length;i++){for(var n=t[parseInt(i.toString(),10)].split(" "),s=0;s<n.length;s++)if(n[parseInt(s.toString(),10)].indexOf("#")>-1&&!n[parseInt(s.toString(),10)].match(/\[.*\]/)){var o=n[parseInt(s.toString(),10)].split("#");if(o[1].match(/^\d/)||o[1].match(e)){var a=n[parseInt(s.toString(),10)].split(".");a[0]=a[0].replace(/#/,"[id='")+"']",n[parseInt(s.toString(),10)]=a.join(".")}}t[parseInt(i.toString(),10)]=n.join(" ")}return t.join(",")}return r}function S(r,e){var t=r;if(typeof t.closest=="function")return t.closest(e);for(;t&&t.nodeType===1;){if($m(t,e))return t;t=t.parentNode}return null}function he(r,e){e!==void 0&&Object.keys(e).forEach(function(t){r.style[t]=e[t]})}function Bt(r,e,t){E([r],e),L([r],t)}function $m(r,e){var t=r.matches||r.msMatchesSelector||r.webkitMatchesSelector;return t?t.call(r,e):[].indexOf.call(document.querySelectorAll(e),r)!==-1}var NI=new RegExp("]"),yi=function(){function r(e,t){this.isRendered=!1,this.isComplexArraySetter=!1,this.isServerRendered=!1,this.allowServerDataBinding=!0,this.isProtectedOnChange=!0,this.properties={},this.changedProperties={},this.oldProperties={},this.bulkChanges={},this.refreshing=!1,this.ignoreCollectionWatch=!1,this.finalUpdate=function(){},this.childChangedProperties={},this.modelObserver=new tn(this),Ce(t)||(typeof t=="string"?this.element=document.querySelector(t):this.element=t,u(this.element)||(this.isProtectedOnChange=!1,this.addInstance())),Ce(e)||this.setProperties(e,!0),this.isDestroyed=!1}return r.prototype.setProperties=function(e,t){var i=this.isProtectedOnChange;this.isProtectedOnChange=!!t,Ki(this,e),t!==!0?(Ki(this.changedProperties,e),this.dataBind()):ne()&&this.isRendered&&this.serverDataBind(e),this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.isProtectedOnChange=i},r.callChildDataBind=function(e,t){for(var i=Object.keys(e),n=0,s=i;n<s.length;n++){var o=s[n];if(t[""+o]instanceof Array)for(var a=0,l=t[""+o];a<l.length;a++){var h=l[a];h.dataBind!==void 0&&h.dataBind()}else t[""+o].dataBind()}},r.prototype.clearChanges=function(){this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.childChangedProperties={}},r.prototype.dataBind=function(){if(r.callChildDataBind(this.childChangedProperties,this),Object.getOwnPropertyNames(this.changedProperties).length){var e=this.isProtectedOnChange,t=this.changedProperties,i=this.oldProperties;this.clearChanges(),this.isProtectedOnChange=!0,this.onPropertyChanged(t,i),this.isProtectedOnChange=e}},r.prototype.serverDataBind=function(e){if(ne()){e=e||{},ae(this.bulkChanges,{},e,!0);var t="sfBlazor";this.allowServerDataBinding&&window[""+t].updateModel&&(window[""+t].updateModel(this),this.bulkChanges={})}},r.prototype.saveChanges=function(e,t,i){if(ne()){var n={};n[""+e]=t,this.serverDataBind(n)}this.isProtectedOnChange||(this.oldProperties[""+e]=i,this.changedProperties[""+e]=t,this.finalUpdate(),this.finalUpdate=eC(this.dataBind.bind(this)))},r.prototype.addEventListener=function(e,t){this.modelObserver.on(e,t)},r.prototype.removeEventListener=function(e,t){this.modelObserver.off(e,t)},r.prototype.trigger=function(e,t,i,n){var s=this;if(this.isDestroyed!==!0){var o=this.isProtectedOnChange;this.isProtectedOnChange=!1;var a=this.modelObserver.notify(e,t,i,n);if(NI.test(e)){var l=F(e,this);if(l){var h="Blazor";if(window[""+h]){var c=l.call(this,t);c&&typeof c.then=="function"?i?c.then(function(p){i&&(p=typeof p=="string"&&s.modelObserver.isJson(p)?JSON.parse(p):p,i.call(s,p))}).catch(function(p){n&&(p=typeof p=="string"&&s.modelObserver.isJson(p)?JSON.parse(p):p,n.call(s,p))}):a=c:i&&i.call(this,t)}else l.call(this,t),i&&i.call(this,t)}else i&&i.call(this,t)}return this.isProtectedOnChange=o,a}},r.prototype.addInstance=function(){var e="e-"+this.getModuleName().toLowerCase();E([this.element],["e-lib",e]),u(this.element.ej2_instances)?Pe("ej2_instances",[this],this.element):this.element.ej2_instances.push(this)},r.prototype.destroy=function(){var e=this;this.element.ej2_instances=this.element.ej2_instances?this.element.ej2_instances.filter(function(t){return Ym?Ym(t)!==Ym(e):t!==e}):[],L([this.element],["e-"+this.getModuleName()]),this.element.ej2_instances.length===0&&L([this.element],["e-lib"]),this.clearChanges(),this.modelObserver.destroy(),this.isDestroyed=!0},r}();function qm(r,e){var t,i,n=typeof r=="string"?document.getElementById(r):r;for(i=0;i<n.ej2_instances.length;i++)if(t=n.ej2_instances[parseInt(i.toString(),10)],typeof e=="string"){var s=t.getModuleName();if(e===s)return t}else if(t instanceof e)return t}var Ym;function TC(r,e,t,i){return(!r.properties.hasOwnProperty(e)||!(r.properties[e]instanceof i))&&(r.properties[""+e]=ja(i,[r,e,t])),r.properties[""+e]}function Wm(r,e,t,i,n,s){for(var o=[],a=t?t.length:0,l=0;l<a;l++){var h=i;if(s&&(h=i(t[parseInt(l.toString(),10)],r)),n){var c=ja(h,[r,e,{},!0]);c.setProperties(t[parseInt(l.toString(),10)],!0),o.push(c)}else o.push(ja(h,[r,e,t[parseInt(l.toString(),10)],!1]))}return o}function NC(r,e){return function(){return this.properties.hasOwnProperty(e)||(this.properties[""+e]=r),this.properties[""+e]}}function xI(r,e){return function(t){if(this.properties[""+e]!==t){var i=this.properties.hasOwnProperty(e)?this.properties[e]:r;this.saveChanges(e,t,i),this.properties[""+e]=t}}}function wI(r,e,t){return function(){return TC(this,e,r,t)}}function EI(r,e,t){return function(i){TC(this,e,r,t).setProperties(i)}}function kI(r,e,t){return function(){var i=this;if(!this.properties.hasOwnProperty(e)){var n=Wm(this,e,r,t,!1);this.properties[""+e]=n}var s=this.controlParent!==void 0&&this.controlParent.ignoreCollectionWatch||this.ignoreCollectionWatch;return!this.properties[e].hasOwnProperty("push")&&!s&&["push","pop"].forEach(function(o){var a={value:LI(o,e,t,i.properties[""+e]).bind(i),configurable:!0};Object.defineProperty(i.properties[""+e],o,a)}),this.properties[e].hasOwnProperty("isComplexArray")||Object.defineProperty(this.properties[""+e],"isComplexArray",{value:!0}),this.properties[""+e]}}function DI(r,e,t){return function(i){this.isComplexArraySetter=!0;var n=Wm(this,e,r,t,!1),s=Wm(this,e,i,t,!0);this.isComplexArraySetter=!1,this.saveChanges(e,s,n),this.properties[""+e]=s}}function LI(r,e,t,i){return function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];var o=this.propName?this.getParentKey()+"."+e+"-":e+"-";switch(r){case"push":for(var a=0;a<n.length;a++){var l=n[parseInt(a.toString(),10)];Array.prototype[""+r].apply(i,[l]);var h=MC(o+(i.length-1),l,!this.controlParent,r);this.serverDataBind(h,n[parseInt(a.toString(),10)],!1,r)}break;case"pop":Array.prototype[""+r].apply(i);var c=MC(o+i.length,null,!this.controlParent,r);this.serverDataBind(c,{ejsAction:"pop"},!1,r);break}return i}}function MC(r,e,t,i){var n=r;if(t&&(n={},n[""+r]=e,e&&typeof e=="object")){var s="ejsAction";n[""+r][""+s]=i}return n}function b(r){return function(e,t){var i={set:xI(r,t),get:NC(r,t),enumerable:!0,configurable:!0};Object.defineProperty(e,t,i),Fu(e,t,"prop",r)}}function we(r,e){return function(t,i){var n={set:EI(r,i,e),get:wI(r,i,e),enumerable:!0,configurable:!0};Object.defineProperty(t,i,n),Fu(t,i,"complexProp",r,e)}}function bn(r,e){return function(t,i){var n={set:DI(r,i,e),get:kI(r,i,e),enumerable:!0,configurable:!0};Object.defineProperty(t,i,n),Fu(t,i,"colProp",r,e)}}function R(){return function(r,e){var t={set:function(i){var n=this.properties[""+e];if(n!==i){var s=xC(this,e);Ce(n)===!1&&s.context.removeEventListener(s.prefix,n),s.context.addEventListener(s.prefix,i),this.properties[""+e]=i}},get:NC(void 0,e),enumerable:!0,configurable:!0};Object.defineProperty(r,e,t),Fu(r,e,"event")}}function Ee(r){}function Fu(r,e,t,i,n){Ce(r.propList)&&(r.propList={props:[],complexProps:[],colProps:[],events:[],propNames:[],complexPropNames:[],colPropNames:[],eventNames:[]}),r.propList[t+"s"].push({propertyName:e,defaultValue:i,type:n}),r.propList[t+"Names"].push(e)}function xC(r,e){if(r.hasOwnProperty("parentObj")===!1)return{context:r,prefix:e};var t=F("propName",r);return t&&(e=t+"-"+e),xC(F("parentObj",r),e)}var AI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Zr=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Xr=function(r){AI(e,r);function e(i){var n=r.call(this,i,void 0)||this;return n.easing={ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",easeIn:"cubic-bezier(0.420, 0.000, 1.000, 1.000)",easeOut:"cubic-bezier(0.000, 0.000, 0.580, 1.000)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",elasticInOut:"cubic-bezier(0.5,-0.58,0.38,1.81)",elasticIn:"cubic-bezier(0.17,0.67,0.59,1.81)",elasticOut:"cubic-bezier(0.7,-0.75,0.99,1.01)"},n}t=e,e.prototype.animate=function(i,n){n=n||{};var s=this.getModel(n);if(typeof i=="string")for(var o=Array.prototype.slice.call(ge(i,document)),a=0,l=o;a<l.length;a++){var h=l[a];s.element=h,t.delayAnimation(s)}else s.element=i,t.delayAnimation(s)},e.stop=function(i,n){i.style.animation="",i.removeAttribute("e-animate");var s=i.getAttribute("e-animation-id");if(s){var o=parseInt(s,10);cancelAnimationFrame(o),i.removeAttribute("e-animation-id")}n&&n.end&&n.end.call(this,n)},e.delayAnimation=function(i){dr==="Disable"||dr===Zm.Disable?(i.begin&&i.begin.call(this,i),i.end&&i.end.call(this,i)):i.delay?setTimeout(function(){t.applyAnimation(i)},i.delay):t.applyAnimation(i)},e.applyAnimation=function(i){var n=this;i.timeStamp=0;var s=0,o=0,a=0,l=i.duration;i.element.setAttribute("e-animate","true");var h=function(c){try{if(c){a=a===0?c:a,i.timeStamp=c+i.timeStamp-a,a=c,!s&&i.begin&&i.begin.call(n,i),s=s+1;var p=i.timeStamp/s;i.timeStamp<l&&i.timeStamp+p<l&&i.element.getAttribute("e-animate")?(i.element.style.animation=i.name+" "+i.duration+"ms "+i.timingFunction,i.progress&&i.progress.call(n,i),requestAnimationFrame(h)):(cancelAnimationFrame(o),i.element.removeAttribute("e-animation-id"),i.element.removeAttribute("e-animate"),i.element.style.animation="",i.end&&i.end.call(n,i))}else o=requestAnimationFrame(h),i.element.setAttribute("e-animation-id",o.toString())}catch(d){cancelAnimationFrame(o),i.element.removeAttribute("e-animation-id"),i.fail&&i.fail.call(n,d)}};h()},e.prototype.getModel=function(i){return{name:i.name||this.name,delay:i.delay||this.delay,duration:i.duration!==void 0?i.duration:this.duration,begin:i.begin||this.begin,end:i.end||this.end,fail:i.fail||this.fail,progress:i.progress||this.progress,timingFunction:this.easing[i.timingFunction]?this.easing[i.timingFunction]:i.timingFunction||this.easing[this.timingFunction]}},e.prototype.onPropertyChanged=function(i,n){},e.prototype.getModuleName=function(){return"animation"},e.prototype.destroy=function(){};var t;return Zr([b("FadeIn")],e.prototype,"name",void 0),Zr([b(400)],e.prototype,"duration",void 0),Zr([b("ease")],e.prototype,"timingFunction",void 0),Zr([b(0)],e.prototype,"delay",void 0),Zr([R()],e.prototype,"progress",void 0),Zr([R()],e.prototype,"begin",void 0),Zr([R()],e.prototype,"end",void 0),Zr([R()],e.prototype,"fail",void 0),e=t=Zr([Ee],e),e}(yi);function On(r,e,t){var i=II(e);return i.rippleFlag===!1||i.rippleFlag===void 0&&!fr?function(){}:(r.setAttribute("data-ripple","true"),y.add(r,"mousedown",wC,{parent:r,rippleOptions:i}),y.add(r,"mouseup",EC,{parent:r,rippleOptions:i,done:t}),y.add(r,"mouseleave",Qa,{parent:r,rippleOptions:i}),N.isPointer&&y.add(r,"transitionend",Qa,{parent:r,rippleOptions:i}),function(){r.removeAttribute("data-ripple"),y.remove(r,"mousedown",wC),y.remove(r,"mouseup",EC),y.remove(r,"mouseleave",Qa),y.remove(r,"transitionend",Qa)})}function II(r){var e={selector:r&&r.selector?r.selector:null,ignore:r&&r.ignore?r.ignore:null,rippleFlag:r&&r.rippleFlag,isCenterRipple:r&&r.isCenterRipple,duration:r&&r.duration?r.duration:350};return e}function wC(r){var e=r.target,t=this.rippleOptions.selector,i=t?S(e,t):e;if(!(!i||this.rippleOptions&&S(e,this.rippleOptions.ignore))){var n=i.getBoundingClientRect(),s=r.pageX-document.body.scrollLeft,o=r.pageY-(!document.body.scrollTop&&document.documentElement?document.documentElement.scrollTop:document.body.scrollTop),a=Math.max(Math.abs(s-n.left),Math.abs(s-n.right)),l=Math.max(Math.abs(o-n.top),Math.abs(o-n.bottom)),h=Math.sqrt(a*a+l*l),c=h*2+"px",p=s-n.left-h,d=o-n.top-h;this.rippleOptions&&this.rippleOptions.isCenterRipple&&(p=0,d=0,c="100%"),i.classList.add("e-ripple");var f=this.rippleOptions.duration.toString(),m="width: "+c+";height: "+c+";left: "+p+"px;top: "+d+"px;transition-duration: "+f+"ms;",g=B("div",{className:"e-ripple-element",styles:m});i.appendChild(g),window.getComputedStyle(g).getPropertyValue("opacity"),g.style.transform="scale(1)",i!==this.parent&&y.add(i,"mouseleave",Qa,{parent:this.parent,rippleOptions:this.rippleOptions})}}function EC(r){kC(r,this)}function Qa(r){kC(r,this)}function kC(r,e){var t=e.rippleOptions.duration,i=r.target,n=e.rippleOptions.selector,s=n?S(i,n):i;if(!(!s||s&&s.className.indexOf("e-ripple")===-1)){var o=ge(".e-ripple-element",s),a=o[o.length-1];a&&(a.style.opacity="0.5"),e.parent!==s&&y.remove(s,"mouseleave",Qa),setTimeout(function(){a&&a.parentNode&&a.parentNode.removeChild(a),s.getElementsByClassName("e-ripple-element").length||s.classList.remove("e-ripple"),e.done&&e.done(r)},t)}}var fr=!1;var dr;var Zm;(function(r){r.Default="Default",r.Enable="Enable",r.Disable="Disable"})(Zm||(Zm={}));var PI="Module",DC=function(){function r(e){this.loadedModules=[],this.parent=e}return r.prototype.inject=function(e,t){var i=e.length;if(i===0){this.clean();return}this.loadedModules.length&&this.clearUnusedModule(e);for(var n=0;n<i;n++)for(var s=e[parseInt(n.toString(),10)],o=0,a=t;o<a.length;o++){var l=a[o],h=s.member;if(l&&l.prototype.getModuleName()===s.member&&!this.isModuleLoaded(h)){var c=ja(l,s.args),p=this.getMemberName(h);s.isProperty?Pe(p,l,this.parent):Pe(p,c,this.parent);var d=s;d.member=p,this.loadedModules.push(d)}}},r.prototype.clean=function(){for(var e=0,t=this.loadedModules;e<t.length;e++){var i=t[e];i.isProperty||F(i.member,this.parent).destroy()}this.loadedModules=[]},r.prototype.getNonInjectedModules=function(e){var t=this;return e.filter(function(i){return!t.isModuleLoaded(i.member)})},r.prototype.clearUnusedModule=function(e){for(var t=this,i=e.map(function(l){return t.getMemberName(l.member)}),n=this.loadedModules.filter(function(l){return i.indexOf(l.member)===-1}),s=0,o=n;s<o.length;s++){var a=o[s];a.isProperty||F(a.member,this.parent).destroy(),this.loadedModules.splice(this.loadedModules.indexOf(a),1),za(this.parent,a.member)}},r.prototype.getMemberName=function(e){return e[0].toLowerCase()+e.substring(1)+PI},r.prototype.isModuleLoaded=function(e){for(var t=0,i=this.loadedModules;t<i.length;t++){var n=i[t];if(n.member===this.getMemberName(e))return!0}return!1},r}();var de=function(){function r(e,t,i,n){this.isComplexArraySetter=!1,this.properties={},this.changedProperties={},this.childChangedProperties={},this.oldProperties={},this.finalUpdate=function(){},this.callChildDataBind=F("callChildDataBind",yi),this.parentObj=e,this.controlParent=this.parentObj.controlParent||this.parentObj,this.propName=t,this.isParentArray=n,this.setProperties(i,!0)}return r.prototype.updateChange=function(e,t){e===!0?this.parentObj.childChangedProperties[""+t]=e:delete this.parentObj.childChangedProperties[""+t],this.parentObj.updateChange&&this.parentObj.updateChange(e,this.parentObj.propName)},r.prototype.updateTimeOut=function(){if(this.parentObj.updateTimeOut)this.parentObj.finalUpdate(),this.parentObj.updateTimeOut();else{var e=setTimeout(this.parentObj.dataBind.bind(this.parentObj)),t=function(){clearTimeout(e)};this.finalUpdate=t}},r.prototype.clearChanges=function(){this.finalUpdate(),this.updateChange(!1,this.propName),this.oldProperties={},this.changedProperties={}},r.prototype.setProperties=function(e,t){t===!0?(Ki(this,e),this.updateChange(!1,this.propName),this.clearChanges()):Ki(this,e)},r.prototype.dataBind=function(){if(this.callChildDataBind(this.childChangedProperties,this),this.isParentArray){var e=this.parentObj[this.propName].indexOf(this);Object.keys(this.changedProperties).length&&(Pe(this.propName+"."+e,this.changedProperties,this.parentObj.changedProperties),Pe(this.propName+"."+e,this.oldProperties,this.parentObj.oldProperties))}else this.parentObj.changedProperties[this.propName]=this.changedProperties,this.parentObj.oldProperties[this.propName]=this.oldProperties;this.clearChanges()},r.prototype.saveChanges=function(e,t,i,n){this.controlParent.isProtectedOnChange||(n||this.serverDataBind(e,t,!0),this.oldProperties[""+e]=i,this.changedProperties[""+e]=t,this.updateChange(!0,this.propName),this.finalUpdate(),this.updateTimeOut())},r.prototype.serverDataBind=function(e,t,i,n){if(ne()&&!this.parentObj.isComplexArraySetter){var s,o={},a=i?this.getParentKey(!0)+"."+e:e;if(a.indexOf(".")!==-1){var l=a.split(".");s=o;for(var h=0;h<l.length;h++){var c=h===l.length-1;s[l[parseInt(h.toString(),10)]]=c?t:{},s=c?s:s[l[parseInt(h.toString(),10)]]}}else o[""+a]={},s=o[""+a],o[""+a][""+e]=t;if(this.isParentArray){var p="ejsAction";s[""+p]=n||"none"}this.controlParent.serverDataBind(o)}},r.prototype.getParentKey=function(e){var t="",i=this.propName;if(this.isParentArray){t=this.parentObj[this.propName].indexOf(this);var n=this.parentObj[this.propName].length;n=e?n:n>0?n-1:0,t=t!==-1?"-"+t:"-"+n,i=i+t}return this.controlParent!==this.parentObj&&(i=this.parentObj.getParentKey()+"."+this.propName+t),i},r}();var AC=["grid","pivotview","treegrid","spreadsheet","rangeNavigator","DocumentEditor","listbox","inplaceeditor","PdfViewer","richtexteditor","DashboardLayout","chart","stockChart","circulargauge","diagram","heatmap","lineargauge","maps","slider","smithchart","barcode","sparkline","treemap","bulletChart","kanban","daterangepicker","schedule","gantt","signature","query-builder","drop-down-tree","carousel","filemanager","uploader","accordion","tab","treeview"],LC=[115,121,110,99,102,117,115,105,111,110,46,105,115,76,105,99,86,97,108,105,100,97,116,101,100],Xm,IC=function(){function r(e){this.isValidated=!1,this.isLicensed=!0,this.version="25",this.platform=/JavaScript|ASPNET|ASPNETCORE|ASPNETMVC|FileFormats|essentialstudio/i,this.errors={noLicense:"<span>This application was built using a trial version of Syncfusion Essential Studio. To remove the license validation message permanently, a valid license key must be included.</span>",trailExpired:"<span>This application was built using a trial version of Syncfusion Essential Studio. To remove the license validation message permanently, a valid license key must be included.</span>",versionMismatched:"<span>The included Syncfusion license key is invalid.</span>",platformMismatched:"<span>The included Syncfusion license key is invalid.</span>",invalidKey:"<span>The included Syncfusion license key is invalid.</span>"},this.manager=function(){var t=null;function i(s){t=s}function n(){return t}return{setKey:i,getKey:n}}(),this.npxManager=function(){var t="npxKeyReplace";function i(){return t}return{getKey:i}}(),this.manager.setKey(e)}return r.prototype.validate=function(){var e=[115,121,110,99,102,117,115,105,111,110,46,108,105,99,101,110,115,101,67,111,110,116,101,110,116],t=[115,121,110,99,102,117,115,105,111,110,46,99,108,97,105,109,65,99,99,111,117,110,116,85,82,76];if(!this.isValidated&&Io&&!F(Vu(LC),Io)&&!F("Blazor",Io)){var i=void 0,n=void 0;if(this.manager&&this.manager.getKey()||this.npxManager&&this.npxManager.getKey()!=="npxKeyReplace"){var s=this.getInfoFromKey();if(s&&s.length)for(var o=0,a=s;o<a.length;o++){var l=a[o];if(!this.platform.test(l.platform)||l.invalidPlatform)i=this.errors.platformMismatched;else if(l.version.indexOf(this.version)===-1)i=this.errors.versionMismatched,i=i.replace("##LicenseVersion",l.version),i=i.replace("##Requireversion",this.version+".x");else if(l.expiryDate){var h=new Date(l.expiryDate),c=new Date;if(h!==c&&h<c)i=this.errors.trailExpired;else break}}else i=this.errors.invalidKey}else{var p=F(Vu(e),Io);n=F(Vu(t),Io),p&&p!==""?i=p:i=this.errors.noLicense}if(i&&typeof document<"u"&&!u(document)){Xm=n&&n!==""?n:"https://www.syncfusion.com/account/claim-license-key?pl=SmF2YVNjcmlwdA==&vs=MjU=&utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information";var d=B("div",{innerHTML:`<img src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzE5OV80KSI+CjxwYXRoIGQ9Ik0xMiAyMUMxNi45NzA2IDIxIDIxIDE2Ljk3MDYgMjEgMTJDMjEgNy4wMjk0NCAxNi45NzA2IDMgMTIgM0M3LjAyOTQ0IDMgMyA3LjAyOTQ0IDMgMTJDMyAxNi45NzA2IDcuMDI5NDQgMjEgMTIgMjFaIiBzdHJva2U9IiM3MzczNzMiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMS4yNSAxMS4yNUgxMlYxNi41SDEyLjc1IiBmaWxsPSIjNjE2MDYzIi8+CjxwYXRoIGQ9Ik0xMS4yNSAxMS4yNUgxMlYxNi41SDEyLjc1IiBzdHJva2U9IiM3MzczNzMiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMS44MTI1IDlDMTIuNDMzOCA5IDEyLjkzNzUgOC40OTYzMiAxMi45Mzc1IDcuODc1QzEyLjkzNzUgNy4yNTM2OCAxMi40MzM4IDYuNzUgMTEuODEyNSA2Ljc1QzExLjE5MTIgNi43NSAxMC42ODc1IDcuMjUzNjggMTAuNjg3NSA3Ljg3NUMxMC42ODc1IDguNDk2MzIgMTEuMTkxMiA5IDExLjgxMjUgOVoiIGZpbGw9IiM3MzczNzMiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xOTlfNCI+CjxyZWN0IHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0id2hpdGUiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K' style="top: 6px;
                    position: absolute;
                    left: 16px;
                    width: 24px;
                    height: 24px;"/>`+i+' <a style="text-decoration: none;color: #0D6EFD;font-weight: 500;" href='+Xm+">Claim your free account</a>"});d.setAttribute("style",`position: fixed;
                top: 10px;
                left: 10px;
                right: 10px;
                font-size: 14px;
                background: #EEF2FF;
                color: #222222;
                z-index: 999999999;
                text-align: left;
                border: 1px solid #EEEEEE;
                padding: 10px 11px 10px 50px;
                border-radius: 8px;
                font-family: Helvetica Neue, Helvetica, Arial;`),document.body.appendChild(d),this.isLicensed=!1}this.isValidated=!0,Pe(Vu(LC),this.isValidated,Io)}return this.isLicensed},r.prototype.getDecryptedData=function(e){try{return atob(e)}catch{return""}},r.prototype.getInfoFromKey=function(){try{var e="",t=[5439488,7929856,5111808,6488064,4587520,7667712,5439488,6881280,5177344,7208960,4194304,4456448,6619136,7733248,5242880,7077888,6356992,7602176,4587520,7274496,7471104,7143424],i=[],n=[],s=!1,o=!1;this.manager.getKey()?e=this.manager.getKey():(o=!0,e=this.npxManager.getKey().split("npxKeyReplace")[1]);for(var a=e.split(";"),l=0,h=a;l<h.length;l++){var c=h[l],p=this.getDecryptedData(c);if(p){var d=0,f="";if(o){for(var v=p[p.length-1],O=[],m=0;m<p.length;m++)O[""+m]=p[""+m].charCodeAt(0)-v.charCodeAt(0);for(var m=0;m<O.length;m++)f+=String.fromCharCode(O[parseInt(m.toString(),10)])}else for(var m=0;m<p.length;m++,d++){d===t.length&&(d=0);var g=p.charCodeAt(m);f+=String.fromCharCode(g^t[parseInt(d.toString(),10)]>>16)}this.platform.test(f)?(i=f.split(";"),s=!1,i.length>3&&n.push({platform:i[0],version:i[1],expiryDate:i[2]})):f&&f.split(";").length>3&&(s=!0)}}return s&&!n.length?[{invalidPlatform:s}]:n.length?n:null}catch{return null}},r}(),PC=new IC;function Vu(r){for(var e="",t=0,i=r;t<i.length;t++){var n=i[t];e+=String.fromCharCode(n)}return e}function Gm(r){PC=new IC(r)}var jC=function(r){return r&&Gm(r),PC.validate()};var zC=function(){var r=`
    <div style="
    position: fixed;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 99999;
    ">
        <div style="
    background: #FFFFFF;
    height: 455px;
    width: 840px;
    font-family: Helvetica Neue, Helvetica, Arial;
    color: #000000;
    box-shadow: 0px 4.8px 14.4px rgb(0 0 0 / 18%), 0px 25.6px 57.6px rgb(0 0 0 / 22%);
    display: block;
    margin: 8% auto;
    border-radius: 20px;
    ">
            <div style="
    position: absolute;
width: 838px;
height: 62px;
background-color: #F9F9F9;
border: 1px solid #EEEEEE;
border-top-left-radius: 20px;
border-top-right-radius: 20px;
">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQ2IiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMTQ2IDMyIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNNDAuNTk2NSAxNS4wMDc4SDMyLjQyNUMzMS41NTU3IDE1LjAwNzggMzAuOTAzNyAxNS4xODEyIDMwLjUxMjUgMTUuNDg0NkMzMC4xMjEzIDE1LjgzMTQgMjkuOTA0IDE2LjMwODIgMjkuOTA0IDE3LjA0NTFDMjkuOTA0IDE3LjYwODYgMzAuMDc3OCAxOC4wNDIxIDMwLjQyNTYgMTguMzAyMkMzMC43NzMzIDE4LjYwNTYgMzEuMjk0OSAxOC43MzU2IDMxLjk5MDMgMTguNzM1NkgzNi4zMzY5QzM4LjExODkgMTguNzM1NiAzOS40MjI5IDE5LjA4MjQgNDAuMTYxOCAxOS43MzI2QzQwLjk0NDIgMjAuNDI2MiA0MS4yOTE5IDIxLjU1MzIgNDEuMjkxOSAyMy4xMTM3QzQxLjI5MTkgMjQuNzE3NiA0MC44NTcyIDI1Ljg4OCAzOS45ODc5IDI2LjY2ODJDMzkuMTE4NiAyNy40MDUxIDM3LjcyNzcgMjcuNzk1MyAzNS44NTg3IDI3Ljc5NTNIMjcuMDc4N1YyNS4wMjFIMzUuMzM3MkMzNi4yOTM0IDI1LjAyMSAzNi45NDU0IDI0Ljg5MSAzNy4zMzY2IDI0LjYzMDlDMzcuNzI3NyAyNC4zNzA4IDM3LjkwMTYgMjMuODk0IDM3LjkwMTYgMjMuMjg3MUMzNy45MDE2IDIyLjYzNjkgMzcuNzI3NyAyMi4xNjAxIDM3LjM4IDIxLjlDMzcuMDMyMyAyMS42Mzk5IDM2LjQyMzggMjEuNDY2NSAzNS41NTQ1IDIxLjQ2NjVIMzEuNjQyNkMyOS44NjA1IDIxLjQ2NjUgMjguNTEzMSAyMS4xMTk4IDI3LjY4NzMgMjAuMzgyOEMyNi44NjE0IDE5LjY0NTkgMjYuNDI2OCAxOC41MTg5IDI2LjQyNjggMTcuMDAxN0MyNi40MjY4IDE1LjM1NDUgMjYuODYxNCAxNC4xNDA4IDI3LjczMDcgMTMuMzYwNkMyOC42IDEyLjU4MDMgMjkuOTkwOSAxMi4yMzM1IDMxLjkwMzQgMTIuMjMzNUg0MC41OTY1VjE1LjAwNzhaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik00OC4wNzI3IDI1LjI4MTFINTAuNTA2OFYxNi4zOTQ5SDUzLjU0OTNWMjcuNTM1MkM1My41NDkzIDI5LjA1MjQgNTMuMjAxNiAzMC4xNzk0IDUyLjUwNjIgMzAuOTE2M0M1MS44MTA3IDMxLjY1MzIgNTAuNzI0MSAzMiA0OS4yNDYzIDMySDQzLjMzNVYyOS42NTkySDQ4LjcyNDdDNDkuMjg5NyAyOS42NTkyIDQ5Ljc2NzkgMjkuNTI5MiA1MC4wNzIxIDI5LjIyNThDNTAuMzc2NCAyOC45NjU3IDUwLjU1MDIgMjguNTMyMiA1MC41NTAyIDI4LjAxMlYyNy44Mzg2SDQ3Ljg5ODlDNDYuMjAzNyAyNy44Mzg2IDQ0Ljk0MzIgMjcuNDkxOSA0NC4yNDc4IDI2Ljg0MTZDNDMuNTA4OSAyNi4xNDgxIDQzLjE2MTEgMjUuMDY0NCA0My4xNjExIDIzLjQ2MDVWMTYuMzk0OUg0Ni4xNjAyVjIzLjIwMDVDNDYuMTYwMiAyNC4wNjc0IDQ2LjI5MDYgMjQuNjMwOSA0Ni41NTE0IDI0Ljg5MUM0Ni43MjUzIDI1LjE1MTEgNDcuMjQ2OSAyNS4yODExIDQ4LjA3MjcgMjUuMjgxMVoiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTU1Ljg5NjUgMTYuMzk0OUg2MS41OTA0QzYzLjMyOTEgMTYuMzk0OSA2NC41NDYxIDE2LjY5ODMgNjUuMjg1IDE3LjM0ODVDNjYuMDIzOSAxNy45OTg4IDY2LjM3MTYgMTkuMDgyNCA2Ni4zNzE2IDIwLjU1NjNWMjcuNzk1M0g2My4zMjkxVjIwLjk0NjRDNjMuMzI5MSAyMC4wNzk0IDYzLjE5ODcgMTkuNTE1OSA2Mi45Mzc5IDE5LjI5OTJDNjIuNjc3MSAxOS4wMzkxIDYyLjE1NTUgMTguOTA5MSA2MS4zMjk3IDE4LjkwOTFINTguODk1NlYyNy44Mzg2SDU1Ljg1M1YxNi4zOTQ5SDU1Ljg5NjVaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik03NC45MzQyIDI1LjM2NzhINzguMTUwNlYyNy43OTUySDc0LjAyMTRDNzIuOTc4MiAyNy43OTUyIDcyLjEwODkgMjcuNjY1MiA3MS40NTcgMjcuNDkxOEM3MC44MDUgMjcuMjc1IDcwLjE5NjUgMjYuOTI4MyA2OS43MTgzIDI2LjQ1MTRDNjkuMTk2OCAyNS45MzEzIDY4Ljc2MjEgMjUuMjgxMSA2OC40NTc4IDI0LjU0NDJDNjguMTUzNiAyMy44MDcyIDY4LjAyMzIgMjIuOTgzNiA2OC4wMjMyIDIyLjE2QzY4LjAyMzIgMjEuMjkzMSA2OC4xNTM2IDIwLjQ2OTUgNjguNDU3OCAxOS42ODkyQzY4Ljc2MjEgMTguOTA5IDY5LjE1MzMgMTguMzAyMSA2OS43MTgzIDE3Ljc4MTlDNzAuMjM5OSAxNy4zMDUxIDcwLjgwNSAxNi45NTgzIDcxLjUwMDQgMTYuNzQxNkM3Mi4xOTU5IDE2LjUyNDkgNzMuMDIxNyAxNi40MzgyIDc0LjA2NDkgMTYuNDM4Mkg3OC4xOTQxVjE4LjkwOUg3NC45MzQyQzczLjQ5OTggMTguOTA5IDcyLjU0MzYgMTkuMTY5MSA3MS45Nzg1IDE5LjY0NTlDNzEuNDU2OSAyMC4xMjI3IDcxLjE1MjcgMjAuOTg5NyA3MS4xNTI3IDIyLjIwMzRDNzEuMTUyNyAyMi44OTY5IDcxLjI4MzEgMjMuNDYwNSA3MS41MDA0IDIzLjkzNzNDNzEuNzE3NyAyNC40MTQxIDcyLjA2NTUgMjQuNzYwOSA3Mi41MDAxIDI1LjA2NDNDNzIuNzE3NCAyNS4xOTQ0IDcyLjk3ODIgMjUuMjgxMSA3My4yODI1IDI1LjM2NzhDNzMuNjMwMiAyNS4zMjQ0IDc0LjE1MTggMjUuMzY3OCA3NC45MzQyIDI1LjM2NzhaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik04MC44NDU2IDE4LjY0ODlINzguNjcyNFYxNi4zNTE1SDgwLjg0NTZWMTUuMTgxMUM4MC44NDU2IDE0LjAxMDggODEuMDYzIDEzLjIzMDUgODEuNDk3NiAxMi44NDA0QzgxLjkzMjMgMTIuNDUwMyA4Mi43NTgxIDEyLjIzMzUgODMuOTc1MSAxMi4yMzM1SDg2Ljg0MzhWMTQuNDAwOUg4NS40MDk1Qzg0Ljg4NzkgMTQuNDAwOSA4NC41NDAyIDE0LjQ4NzYgODQuMzIyOSAxNC42NjFDODQuMTA1NSAxNC44MzQ0IDgzLjk3NTEgMTUuMDk0NSA4My45NzUxIDE1LjQ0MTJWMTYuMzUxNUg4Ni44NDM4VjE4LjY0ODlIODMuOTc1MVYyNy43OTUzSDgwLjg0NTZWMTguNjQ4OVoiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTk4LjQwNTYgMjcuNzk1M0g5Mi43MTE2QzkxLjAxNjUgMjcuNzk1MyA4OS44NDI5IDI3LjQ0ODUgODkuMDYwNSAyNi43OTgzQzg4LjMyMTYgMjYuMTQ4MSA4Ny45MzA0IDI1LjA2NDQgODcuOTMwNCAyMy41OTA2VjE2LjM5NDlIOTAuOTI5NVYyMy40MTcyQzkwLjkyOTUgMjQuMTk3NCA5MS4wNTk5IDI0LjY3NDMgOTEuMzIwNyAyNC45MzQ0QzkxLjU4MTUgMjUuMTk0NCA5Mi4xMDMxIDI1LjMyNDUgOTIuOTI4OSAyNS4zMjQ1SDk1LjM2M1YxNi4zOTQ5SDk4LjQwNTZWMjcuNzk1M1oiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTEwMC42MjIgMjUuNDExMkgxMDcuMDExQzEwNy41NzcgMjUuNDExMiAxMDguMDExIDI1LjMyNDUgMTA4LjI3MiAyNS4xNTExQzEwOC41MzMgMjQuOTc3NyAxMDguNjYzIDI0LjY3NDMgMTA4LjY2MyAyNC4zMjc1QzEwOC42NjMgMjMuOTM3NCAxMDguNTMzIDIzLjY3NzMgMTA4LjI3MiAyMy40NjA1QzEwOC4wMTEgMjMuMjg3MSAxMDcuNTc3IDIzLjIwMDUgMTA3LjA1NSAyMy4yMDA1SDEwNC40NDdDMTAyLjg4MiAyMy4yMDA1IDEwMS44MzkgMjIuOTgzNyAxMDEuMzE4IDIyLjUwNjlDMTAwLjc1MiAyMi4wMzAxIDEwMC40OTIgMjEuMjA2NSAxMDAuNDkyIDE5Ljk5MjdDMTAwLjQ5MiAxOC43NzkgMTAwLjgzOSAxNy44Njg3IDEwMS40OTEgMTcuMjYxOEMxMDIuMTQzIDE2LjY5ODMgMTAzLjE4NyAxNi4zOTQ5IDEwNC41MzQgMTYuMzk0OUgxMTEuMDU0VjE4Ljc3OUgxMDUuNzA4QzEwNC44MzggMTguNzc5IDEwNC4yNzMgMTguODY1NyAxMDQuMDEyIDE4Ljk5NTdDMTAzLjc1MiAxOS4xNjkxIDEwMy42MjEgMTkuNDI5MiAxMDMuNjIxIDE5LjgxOTRDMTAzLjYyMSAyMC4xNjYxIDEwMy43NTIgMjAuNDI2MiAxMDMuOTY5IDIwLjU5OTZDMTA0LjE4NiAyMC43NzMgMTA0LjU3NyAyMC44NTk3IDEwNS4wNTYgMjAuODU5N0gxMDcuNzk0QzEwOS4wNTQgMjAuODU5NyAxMTAuMDExIDIxLjE2MzEgMTEwLjY2MyAyMS43MjY2QzExMS4zMTUgMjIuMjkwMiAxMTEuNjYyIDIzLjE1NzEgMTExLjY2MiAyNC4yNDA4QzExMS42NjIgMjUuMjgxMSAxMTEuMzU4IDI2LjE0ODEgMTEwLjc5MyAyNi43OTgzQzExMC4yMjggMjcuNDQ4NSAxMDkuNDQ2IDI3Ljc5NTMgMTA4LjUzMyAyNy43OTUzSDEwMC43MDlWMjUuNDExMkgxMDAuNjIyWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMTE2LjU3NCAxNS4wOTQ0SDExMy40MDFWMTIuMjc2OUgxMTYuNTc0VjE1LjA5NDRaTTExNi41NzQgMjcuNzk1M0gxMTMuNDAxVjE2LjM5NDlIMTE2LjU3NFYyNy43OTUzWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMTMwLjMwOSAyMi4xMTY3QzEzMC4zMDkgMjMuODkzOSAxMjkuNzQ0IDI1LjMyNDQgMTI4LjY1NyAyNi40MDgxQzEyNy41NzEgMjcuNDkxOCAxMjYuMDkzIDI4LjAxMiAxMjQuMjI0IDI4LjAxMkMxMjIuMzU1IDI4LjAxMiAxMjAuODc3IDI3LjQ5MTggMTE5Ljc5IDI2LjQwODFDMTE4LjcwNCAyNS4zMjQ0IDExOC4xMzkgMjMuODkzOSAxMTguMTM5IDIyLjExNjdDMTE4LjEzOSAyMC4zMzk0IDExOC43MDQgMTguOTA5IDExOS43OSAxNy44MjUzQzEyMC44NzcgMTYuNzQxNiAxMjIuMzk4IDE2LjIyMTQgMTI0LjIyNCAxNi4yMjE0QzEyNi4wNDkgMTYuMjIxNCAxMjcuNTI3IDE2Ljc0MTYgMTI4LjY1NyAxNy44MjUzQzEyOS43NDQgMTguODY1NiAxMzAuMzA5IDIwLjI5NjEgMTMwLjMwOSAyMi4xMTY3Wk0xMjEuMjY4IDIyLjExNjdDMTIxLjI2OCAyMy4yMDA0IDEyMS41MjkgMjQuMDY3MyAxMjIuMDUxIDI0LjY3NDJDMTIyLjU3MiAyNS4yODExIDEyMy4yNjggMjUuNTg0NSAxMjQuMTggMjUuNTg0NUMxMjUuMDkzIDI1LjU4NDUgMTI1Ljc4OSAyNS4yODExIDEyNi4zMSAyNC42NzQyQzEyNi44MzIgMjQuMDY3MyAxMjcuMDkzIDIzLjIwMDQgMTI3LjA5MyAyMi4xMTY3QzEyNy4wOTMgMjEuMDMzIDEyNi44MzIgMjAuMTY2MSAxMjYuMzEgMTkuNjAyNUMxMjUuNzg5IDE4Ljk5NTcgMTI1LjA5MyAxOC42OTIyIDEyNC4xMzcgMTguNjkyMkMxMjMuMjI0IDE4LjY5MjIgMTIyLjUyOSAxOC45OTU3IDEyMi4wMDcgMTkuNjAyNUMxMjEuNTI5IDIwLjE2NjEgMTIxLjI2OCAyMS4wMzMgMTIxLjI2OCAyMi4xMTY3WiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMTMxLjc4NyAxNi4zOTQ5SDEzNy40ODFDMTM5LjIxOSAxNi4zOTQ5IDE0MC40MzYgMTYuNjk4MyAxNDEuMTc1IDE3LjM0ODVDMTQxLjkxNCAxNy45OTg4IDE0Mi4yNjIgMTkuMDgyNCAxNDIuMjYyIDIwLjU1NjNWMjcuNzk1M0gxMzkuMjE5VjIwLjk0NjRDMTM5LjIxOSAyMC4wNzk0IDEzOS4wODkgMTkuNTE1OSAxMzguODI4IDE5LjI5OTJDMTM4LjU2NyAxOS4wMzkxIDEzOC4wNDYgMTguOTA5MSAxMzcuMjIgMTguOTA5MUgxMzQuNzg2VjI3LjgzODZIMTMxLjc0M1YxNi4zOTQ5SDEzMS43ODdaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik03LjEyODMxIDMuNzM3NDNIMFYxMC44NDY0SDcuMTI4MzFWMy43Mzc0M1oiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTIzLjI1MTMgLTIuMTU3MjVlLTA1TDE4LjU1MTMgNS41MTY4NUwyNC4wODMxIDEwLjIwNDFMMjguNzgzMSA0LjY4NzI1TDIzLjI1MTMgLTIuMTU3MjVlLTA1WiIgZmlsbD0iI0ZGODYwMCIvPgo8cGF0aCBkPSJNMTUuNjA0MSAzLjczNzQzSDguNDc1ODNWMTAuODQ2NEgxNS42MDQxVjMuNzM3NDNaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik03LjEyODMxIDEyLjE5MDJIMFYxOS4yOTkySDcuMTI4MzFWMTIuMTkwMloiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTE1LjYwNDEgMTIuMTkwMkg4LjQ3NTgzVjE5LjI5OTJIMTUuNjA0MVYxMi4xOTAyWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMjQuMDc5NyAxMi4xOTAySDE2Ljk1MTRWMTkuMjk5MkgyNC4wNzk3VjEyLjE5MDJaIiBmaWxsPSIjRkY4NjAwIi8+CjxwYXRoIGQ9Ik03LjEyODMxIDIwLjY4NjNIMFYyNy43OTUzSDcuMTI4MzFWMjAuNjg2M1oiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTE1LjYwNDEgMjAuNjg2M0g4LjQ3NTgzVjI3Ljc5NTNIMTUuNjA0MVYyMC42ODYzWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMjQuMTIzMiAyMC42ODYzSDE2Ljk5NDlWMjcuNzk1M0gyNC4xMjMyVjIwLjY4NjNaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik0xNDYgMTUuODMxM0MxNDYgMTYuODcxNyAxNDUuMTc0IDE3LjY5NTMgMTQ0LjEzMSAxNy42OTUzQzE0My4wODggMTcuNjk1MyAxNDIuMjYyIDE2Ljg3MTcgMTQyLjI2MiAxNS44MzEzQzE0Mi4yNjIgMTQuNzkxIDE0My4wODggMTQuMDEwNyAxNDQuMTMxIDE0LjAxMDdDMTQ1LjEzMSAxMy45Njc0IDE0NiAxNC43OTEgMTQ2IDE1LjgzMTNaTTE0Mi45NTcgMTQuNzkxQzE0Mi42OTcgMTUuMDUxMSAxNDIuNTY2IDE1LjQ0MTIgMTQyLjU2NiAxNS44MzEzQzE0Mi41NjYgMTYuNjk4MyAxNDMuMjYyIDE3LjM5MTggMTQ0LjEzMSAxNy4zOTE4QzE0NSAxNy4zOTE4IDE0NS42OTYgMTYuNjk4MyAxNDUuNjk2IDE1LjgzMTNDMTQ1LjY5NiAxNS4wMDc3IDE0NSAxNC4yNzA4IDE0NC4xNzQgMTQuMjcwOEMxNDMuNjUzIDE0LjI3MDggMTQzLjI2MiAxNC40NDQyIDE0Mi45NTcgMTQuNzkxWk0xNDQuODcgMTYuOTE1SDE0NC40NzlMMTQzLjkxNCAxNi4wOTE0VjE2LjkxNUgxNDMuNjA5VjE0Ljc0NzZIMTQzLjk1N0MxNDQuNDM1IDE0Ljc0NzYgMTQ0LjY1MyAxNC45NjQ0IDE0NC42NTMgMTUuMzU0NUMxNDQuNjUzIDE1LjY1NzkgMTQ0LjQ3OSAxNS44NzQ3IDE0NC4xNzQgMTUuOTYxNEwxNDQuODcgMTYuOTE1Wk0xNDQuMDQ0IDE1LjY1NzlDMTQ0LjI2MSAxNS42NTc5IDE0NC4zOTIgMTUuNTI3OSAxNDQuMzkyIDE1LjM1NDVDMTQ0LjM5MiAxNS4xMzc4IDE0NC4yNjEgMTUuMDUxMSAxNDQuMDAxIDE1LjA1MTFIMTQzLjkxNFYxNS42NTc5SDE0NC4wNDRaIiBmaWxsPSIjMzU0M0E4Ii8+Cjwvc3ZnPgo=" style="
    text-align: left;
    width: 146px;
    position: absolute;
    top: 14px;
    left: 31px;
">
            </div>
            <div style="
    position: relative;
    top: 80px;
    left: 32px;
    font-size: 20px;
    text-align: left;
    font-weight: 700;
    letter-spacing: 0.02em;
    font-style: normal;
    line-height: 125%;
    ">Claim your FREE account and get a key in less than a minute</div>
            <ul style="
        font-size: 15px;
        font-weight: 400;
        color: #333333;
        letter-spacing: 0.01em;
        position: relative;
        left: 32px;
        top: 88px;
        line-height: 180%;
        ">
                <li><span>Access to a 30-day free trial of any of our products.</span></li>
                <li><span>Access to 24x5 support by developers via the <a href="https://support.syncfusion.com/create?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;
                color: #0D6EFD;
                font-weight: 500;">support tickets</a>, <a href="https://www.syncfusion.com/forums?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;
                color: #0D6EFD;
                font-weight: 500;">forum</a>, <a href="https://www.syncfusion.com/feedback?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information
                " style="text-decoration: none;
                color: #0D6EFD;
                font-weight: 500;">feature &amp; feedback page</a> and chat.</span></li>
                <li><span>200+ <a href="https://www.syncfusion.com/succinctly-free-ebooks?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;
                color: #0D6EFD;
                font-weight: 500;">ebooks </a>on the latest technologies, industry trends, and research topics.</span>
                </li>
                <li><span>Largest collection of over 7,000 flat and wireframe icons for free with Syncfusion <a href="https://www.syncfusion.com/downloads/metrostudio?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information
                " style="text-decoration: none;
                color: #0D6EFD;
                font-weight: 500;">Metro Studio.</a></span></li>
                <li><span>Free and unlimited access to Syncfusion technical <a href="https://www.syncfusion.com/blogs/?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information
                " style="text-decoration: none;
                color: #0D6EFD;
                font-weight: 500;">blogs</a> and <a href="https://www.syncfusion.com/resources/techportal/whitepapers?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;
                color: #0D6EFD;
                font-weight: 500;">whitepapers.</a></span></li>
            </ul>
            <div style="
            font-size: 18px;
            font-weight: 700;
            position: relative;
            line-height: 125%;
            letter-spacing: 0.02em;
            top: 90px;
            left: 32px;
    ">Syncfusion is trusted by 29,000+ businesses worldwide</div>
            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODIwIiBoZWlnaHQ9IjU2IiB2aWV3Qm94PSIwIDAgODIwIDU2IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPg0KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00MjcuNjE3IDIyLjU2NTlWMjQuNzIyNkM0MjYuNTU4IDI0LjM2MzggNDI1LjM5OCAyNC4xNTQ0IDQyNC40NzQgMjQuMTU0NEM0MjMuMzMzIDI0LjE1NDQgNDIyLjY5OCAyNC40OTEyIDQyMi42OTggMjUuMDk2M0M0MjIuNjk4IDI1LjQ4MjQgNDIyLjk3NiAyNS43MzgzIDQyMy43NzMgMjYuMDg1NEw0MjUuOTE3IDI3LjAxNzRDNDI3LjYzMyAyNy43NjM5IDQyOC40OTcgMjguODUzIDQyOC40OTcgMzAuMjY4MUM0MjguNDk3IDMyLjQ1MjIgNDI2LjU0NiAzMy44MyA0MjMuNDUyIDMzLjgzQzQyMi4zMjQgMzMuODMgNDIxLjAxOCAzMy42NzM2IDQxOS42MzYgMzMuMzcwOVYzMS4xNDE2QzQyMS4wMDYgMzEuNTAyOCA0MjIuMjYyIDMxLjY5NTcgNDIzLjIzOSAzMS42OTU3QzQyNC41MTggMzEuNjk1NyA0MjUuMjAzIDMxLjM1MDYgNDI1LjIwMyAzMC43MDc0QzQyNS4yMDMgMzAuMzIwOCA0MjQuOTM1IDMwLjAzNjcgNDI0LjMyMiAyOS43NzE3TDQyMS45NzUgMjguNzU5M0M0MjAuMjM2IDI4LjAwNzggNDE5LjQzMyAyNi45OTU0IDQxOS40MzMgMjUuNTUyMUM0MTkuNDMzIDIzLjQ4MzcgNDIxLjMxNCAyMi4xNjQ5IDQyNC4yNjUgMjIuMTY0OUM0MjUuMjk4IDIyLjE2NDkgNDI2LjU3IDIyLjMxNzEgNDI3LjYxNyAyMi41NjU5VjIyLjU2NTlaTTQzMC4xNjcgMjIuMzkwOUg0MzMuNjM1VjMzLjYwMzlINDMwLjE2N1YyMi4zOTA5Wk00NDQuOTExIDIyLjM5MDlWMjQuNDQ1MUg0MzkuNjc1VjI2Ljk3NDJINDQ0LjI0OVYyOC44MzIzSDQzOS42NzVWMzEuNDU0M0g0NDQuOTc4VjMzLjYwMzlINDM2LjMwNVYyMi4zOTA5SDQ0NC45MTFaTTQ2MS4yOTQgMjIuMzkwOVYzMy42MDM5SDQ1Ny45MzlWMjYuMjIzNkw0NTQuNjUyIDMzLjY5MTVINDUyLjUzMUw0NDkuMjY2IDI2LjIyMzZWMzMuNjAzOUg0NDYuOTQ5VjIyLjM5MDlINDUxLjE4NEw0NTQuMTc4IDI5LjIxMTRMNDU3LjE1NiAyMi4zOTA5SDQ2MS4yOTRWMjIuMzkwOVpNNDcyLjU3OSAyMi4zOTA5VjI0LjQ0NTFINDY3LjMzNVYyNi45NzQySDQ3MS45MDhWMjguODMyM0g0NjcuMzM1VjMxLjQ1NDNINDcyLjYzOFYzMy42MDM5SDQ2My45NTdWMjIuMzkwOUg0NzIuNTc5Wk00ODQuNzk0IDIyLjM5MDlWMzMuNjAzOUg0ODEuMDkzTDQ3Ni45MjYgMjYuNDEyM1YzMy42MDM5SDQ3NC42MDhWMjIuMzkwOUg0NzguNDA3TDQ4Mi40ODQgMjkuNDg3NlYyMi4zOTA5SDQ4NC43OTRaTTQ5NC44NTggMjIuNTY1OVYyNC43MjI2QzQ5My44MDcgMjQuMzY2MyA0OTIuNjQgMjQuMTU0NCA0OTEuNzMyIDI0LjE1NDRDNDkwLjU3MyAyNC4xNTQ0IDQ4OS45MzkgMjQuNDg1OCA0ODkuOTM5IDI1LjA5M0M0ODkuOTM5IDI1LjQ4ODYgNDkwLjE5OCAyNS43MjUgNDkxLjAyMyAyNi4wODU5TDQ5My4xNTcgMjcuMDE3OEM0OTQuODg1IDI3Ljc3MjIgNDk1LjczOSAyOC44NTE4IDQ5NS43MzkgMzAuMjgzNUM0OTUuNzM5IDMyLjQ1NTkgNDkzLjc4NiAzMy44MzA4IDQ5MC42OTkgMzMuODMwOEM0ODkuNTY5IDMzLjgzMDggNDg4LjI1OSAzMy42NzM2IDQ4Ni44NzggMzMuMzcxN1YzMS4xNDI0QzQ4OC4yNDcgMzEuNTAyOCA0ODkuNDk5IDMxLjY5NjUgNDkwLjQ3IDMxLjY5NjVDNDkxLjc0IDMxLjY5NjUgNDkyLjQ0NCAzMS4zNTE1IDQ5Mi40NDQgMzAuNzI4NUM0OTIuNDQ0IDMwLjMxNjMgNDkyLjE5NyAzMC4wNTA0IDQ5MS41NTUgMjkuNzcyNUw0ODkuMjE4IDI4Ljc2MDFDNDg3LjQ2NyAyOC4wMDI4IDQ4Ni42NzQgMjcuMDAyIDQ4Ni42NzQgMjUuNTUzM0M0ODYuNjc0IDIzLjQ4NjIgNDg4LjU1NiAyMi4xNjY1IDQ5MS41IDIyLjE2NjVDNDkyLjUzNiAyMi4xNjUzIDQ5My44MTMgMjIuMzE3MSA0OTQuODU4IDIyLjU2NTlWMjIuNTY1OVoiIGZpbGw9IiMwMEEwQjAiLz4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMzUyLjQxMyAyNi44MTlDMzUwLjk5MiAyNS4yNzU5IDM0OS42MzggMjMuODMxNSAzNDguMzQ5IDIyLjE1NzRMMzQ3LjkyIDIxLjU5OTVDMzQ5LjQwNiAyMS4zNjkzIDM1MC42OTUgMjAuMzg0OCAzNTAuNjk1IDE4Ljc0MzNDMzUwLjY5NSAxNy4yMzMxIDM0OS41MzkgMTYuMjQ4MiAzNDcuODIxIDE2LjI0ODJDMzQ2LjU5OCAxNi4yNDgyIDM0NS43MDYgMTYuMzEzNyAzNDUuMjQzIDE2LjMxMzdDMzQ0LjcxNSAxNi4zMTM3IDM0NC4yODUgMTYuMzEzNyAzNDMuNzkgMTYuMjgwOEMzNDMuODU2IDE4LjE1MjEgMzQzLjg4OSAxOC4yODM0IDM0My44ODkgMTkuNDMyMlYyMy42MzQzQzM0My44ODkgMjQuNDU1MyAzNDMuODU2IDI1LjI3NTkgMzQzLjc5IDI2LjgxODZDMzQ0LjE1MyAyNi43MjAyIDM0NC41MTcgMjYuNzIwMiAzNDQuNzgxIDI2LjcyMDJDMzQ1LjA0NSAyNi43MjAyIDM0NS40MDkgMjYuNzUzMSAzNDUuNzA2IDI2LjgxODZDMzQ1LjY0IDI1Ljc2NzkgMzQ1LjYwNyAyNC4wMjgzIDM0NS42MDcgMjMuNjM0M1YyMS4yMDUxQzM0Ny4xNiAyMy4yMDc3IDM0OS4yMDkgMjUuNjY5NSAzNTAuMDAxIDI2LjgxODZDMzUwLjM5OCAyNi43MjAyIDM1MC43MjggMjYuNzIwMiAzNTEuMTI0IDI2LjcyMDJDMzUxLjQ1NSAyNi43MjA2IDM1MS45MTggMjYuNzIwNiAzNTIuNDEzIDI2LjgxOVYyNi44MTlaTTM0OC44NzggMTkuMDA2QzM0OC44NzggMjAuMDIzNCAzNDguMzE3IDIxLjIwNTQgMzQ2Ljc5NyAyMS4yMDU0QzM0Ni40IDIxLjIwNTQgMzQ2LjAwMyAyMS4yMDU0IDM0NS42MDcgMjEuMTcyNVYxNy4wNjg4QzM0Ni4wMDMgMTYuOTcwNCAzNDYuNDk5IDE2LjkwNDYgMzQ2Ljc2MyAxNi45MDQ2QzM0OC4wODUgMTYuOTA0OSAzNDguODc4IDE3LjY2IDM0OC44NzggMTkuMDA2VjE5LjAwNlpNMzgyLjM4IDI2Ljg4NDVDMzgxLjgxOSAyNi4yOTM2IDM4MC45NiAyNS4zNDE3IDM4MC4xMzQgMjQuNDIyM0MzODAuODI4IDIzLjY2NzIgMzgxLjU1NSAyMi41NTEgMzgxLjk4NCAyMS41OTkxQzM4MS43MTkgMjEuNDY3OCAzODEuMzU2IDIxLjIwNTEgMzgxLjA5MiAyMC45NzUzQzM4MC45OTMgMjEuNzk1OSAzODAuNDMyIDIyLjg3OTIgMzc5LjYzOSAyMy44MzE1QzM3OC41MTUgMjIuNTE4NSAzNzguMjE4IDIyLjE1NzQgMzc3LjE5MyAyMC43Nzg1QzM3OC41ODEgMTkuODkyMSAzNzkuMjQyIDE4Ljg3NDMgMzc5LjI0MiAxOC4wNTM3QzM3OS4yNDIgMTcuMTAxNyAzNzguNTgxIDE2LjExNjkgMzc2Ljk2MiAxNi4xMTY5QzM3NS4yMTEgMTYuMTE2OSAzNzQuMzUyIDE3LjIwMDIgMzc0LjM1MiAxOC40ODAzQzM3NC4zNTIgMTkuMjM1NCAzNzQuNTUgMTkuODkxNyAzNzUuMzc2IDIwLjk3NTNDMzc0LjA1NCAyMS42OTc1IDM3Mi43NjYgMjIuNzQ3OSAzNzIuNzY2IDI0LjQyMjNDMzcyLjc2NiAyNi4wNjM5IDM3NC4wODcgMjYuOTE3NCAzNzUuNzA3IDI2LjkxNzRDMzc3LjE5MyAyNi45MTc0IDM3OC4xNTEgMjYuMzI2NiAzNzguOTEyIDI1LjYzNjlMMzc5LjkwMiAyNi44MTlDMzgwLjIgMjYuNzg2MSAzODAuNTMxIDI2LjcyMDYgMzgwLjg2MSAyNi43MjA2QzM4MS4zMjQgMjYuNzIwNiAzODEuODUyIDI2Ljc4NjEgMzgyLjM4IDI2Ljg4NDVWMjYuODg0NVpNMzgzLjM3MiA0MC4wMTU4QzM4MS45MTggMzguNDczIDM4MC41OTcgMzcuMDYxMiAzNzkuMzA4IDM1LjM4NzFMMzc4Ljg3OCAzNC44Mjg4QzM4MC4zMzIgMzQuNTk5MSAzODEuNjU0IDMzLjYxNSAzODEuNjU0IDMxLjk0MDFDMzgxLjY1NCAzMC40NjMyIDM4MC40OTggMjkuNDQ1NCAzNzguNzc5IDI5LjQ0NTRDMzc3LjU1NyAyOS40NDU0IDM3Ni42MzIgMjkuNTQzNSAzNzYuMTY5IDI5LjU0MzVDMzc1LjY3MyAyOS41NDM1IDM3NS4yNDQgMjkuNTQzNSAzNzQuNzQ4IDI5LjQ3NzZDMzc0LjgxNCAzMS4zODIyIDM3NC44NDggMzEuNDgwMiAzNzQuODQ4IDMyLjYyOTRWMzYuODMxMUMzNzQuODQ4IDM3LjY1MjQgMzc0LjgxNCAzOC41MDUyIDM3NC43NDggNDAuMDE1NEMzNzUuMTEyIDM5Ljk0OTYgMzc1LjQ3NSAzOS45NDk2IDM3NS43MDcgMzkuOTQ5NkMzNzYuMDA0IDM5Ljk0OTYgMzc2LjM2OCAzOS45NDk2IDM3Ni42MzIgNDAuMDE1NEMzNzYuNTY1IDM4Ljk5OCAzNzYuNTMzIDM3LjI1ODEgMzc2LjUzMyAzNi44MzExVjM0LjQzNDhDMzc4LjExOSAzNi40MDQyIDM4MC4xNjcgMzguODk5NiAzODAuOTYgNDAuMDE1NEMzODEuMzU2IDM5Ljk0OTYgMzgxLjY4NyAzOS45NDk2IDM4Mi4wODMgMzkuOTQ5NkMzODIuMzggMzkuOTUgMzgyLjg3NiAzOS45NSAzODMuMzcyIDQwLjAxNThaTTM2Mi4xNiAyNi44MTlDMzYwLjk3MSAyNS41NzE1IDM1OC44ODkgMjIuOTc4IDM1OC4wNjMgMjEuOTkzNUwzNTcuMjM3IDIwLjk3NTdDMzU4LjA5NiAxOS45NTgzIDM1OC42OSAxOS4zMzQxIDM1OS4zMTkgMTguNTc5QzM2MC4wNDUgMTcuNzkxIDM2MC43MDYgMTYuOTcwNCAzNjEuNDk5IDE2LjI0ODJDMzYxLjEzNiAxNi4zMTM3IDM2MC45MzcgMTYuMzEzNyAzNjAuNzM5IDE2LjMxMzdDMzYwLjU0MSAxNi4zMTM3IDM2MC4zNDMgMTYuMzEzNyAzNjAuMTQ0IDE2LjI0ODJDMzU5LjkxMyAxNi42MDkzIDM1OS41NSAxNy4wNjg4IDM1OS4xNTMgMTcuNTI4N0MzNTguNzU2IDE3Ljk1NTYgMzU4LjM2IDE4LjM4MjIgMzU4LjA2MyAxOC43NDMzQzM1Ny4yMzYgMTkuNjk1MiAzNTYuNzc0IDIwLjE1NDcgMzU1LjU4NSAyMS4yNzA5VjE5LjQ2NTVDMzU1LjU4NSAxOC40MTUxIDM1NS41ODUgMTcuNzI1NSAzNTUuNjUxIDE2LjI0ODJDMzU1LjMyMSAxNi4zMTM3IDM1NC45NTcgMTYuMzEzNyAzNTQuNzI2IDE2LjMxMzdDMzU0LjQ2MSAxNi4zMTM3IDM1NC4wMzIgMTYuMzEzNyAzNTMuNzY4IDE2LjI0ODJDMzUzLjgzMyAxNy44MjM5IDM1My44NjcgMTguMjgzNCAzNTMuODY3IDE5LjQzMjVWMjMuNjM0N0MzNTMuODY3IDI0LjY4NSAzNTMuODMzIDI1LjMwODggMzUzLjc2OCAyNi44MTlDMzU0LjE2NCAyNi43MjA2IDM1NC40OTUgMjYuNzIwNiAzNTQuNzI2IDI2LjcyMDZDMzU0Ljk1NyAyNi43MjA2IDM1NS4zNTMgMjYuNzUzNSAzNTUuNjUxIDI2LjgxOUMzNTUuNTg1IDI1LjE0NDkgMzU1LjU4NSAyNC4xNTk3IDM1NS41ODUgMjMuNjM0N1YyMS40MzUyQzM1Ni44MDcgMjIuODc5NiAzNTguNjkgMjUuMjQzMyAzNTkuNzQ4IDI2LjgxOUMzNjAuMTMgMjYuNzU2MyAzNjAuNTE3IDI2LjcyMzQgMzYwLjkwNSAyNi43MjA2QzM2MS4yMDIgMjYuNzIwNiAzNjEuNjY1IDI2LjcyMDYgMzYyLjE2IDI2LjgxOVYyNi44MTlaTTM3Mi42MDEgNDAuMDE1OEMzNzIuNTY4IDM5Ljg1MTkgMzcyLjUzNSAzOS43MjA2IDM3Mi41MzUgMzkuNTIzNEMzNzIuNTM1IDM5LjM5MjggMzcyLjU2OCAzOS4yMjgxIDM3Mi42MDEgMzkuMDk2NEMzNzEuMjggMzkuMTI5NyAzNjguOTAxIDM5LjE5NTIgMzY4LjM3MiAzOS4xOTUyVjM0LjY2NDlDMzY5LjY5NCAzNC42NjQ5IDM3MC45ODIgMzQuNjY0OSAzNzIuMjcgMzQuNzk2M0MzNzIuMjM4IDM0LjYzMjQgMzcyLjIwNCAzNC40Njc3IDM3Mi4yMDQgMzQuMzM2NEMzNzIuMjA0IDM0LjIwNTggMzcyLjIwNCAzNC4wNDE5IDM3Mi4yNyAzMy44NDQ3QzM3MS4zNDYgMzMuOTQyOCAzNjkuMTk4IDMzLjk3NiAzNjguMzcyIDMzLjk3NlYzMC4yNjZDMzY5LjgyNiAzMC4yNjYgMzcwLjY4NSAzMC4yNjYgMzcxLjE4IDMwLjI5OTNMMzcyLjUwMiAzMC4zNjUxQzM3Mi40MzYgMzAuMTY3OSAzNzIuNDM2IDMwLjA2OTIgMzcyLjQzNiAyOS45MDUzQzM3Mi40MzYgMjkuNzQxNCAzNzIuNDM2IDI5LjcwODEgMzcyLjUwMiAyOS40NDU4QzM3MS40MTEgMjkuNDc4MyAzNjkuOTI1IDI5LjU0MzggMzY5LjI2NCAyOS41NDM4QzM2OC44MDIgMjkuNTQzOCAzNjcuMzQ4IDI5LjUxMTMgMzY2LjU4NyAyOS40NDU4QzM2Ni42NTQgMzAuMjY2NCAzNjYuNjg2IDMxLjYxMjMgMzY2LjY4NiAzMi41NjQyVjM2Ljg2NTFDMzY2LjY4NiAzNy40ODg1IDM2Ni42MiAzOC43MzU3IDM2Ni41ODcgNDAuMDE2MkMzNjcuNTEzIDM5Ljk1MDMgMzY4LjgwMiAzOS45NTAzIDM2OS4yNjQgMzkuOTUwM0MzNzAuMDI0IDM5Ljk1IDM3MS42NDMgMzkuOTUgMzcyLjYwMSA0MC4wMTU4Wk0zNjQuNjA1IDM5LjEyOTRDMzY0LjQ0IDM4LjgwMDggMzY0LjM0MSAzOC4zMDg4IDM2NC4yNzUgMzguMDQ2MUMzNjIuOTIgMzkuMTYxOSAzNjEuOTk1IDM5LjM5MjQgMzYwLjkzOCAzOS4zOTI0QzM1OC41OTIgMzkuMzkyNCAzNTcuMzM3IDM3LjI5MTMgMzU3LjMzNyAzNC42NjQ5QzM1Ny4zMzcgMzEuNzQzNiAzNTguNzU3IDMwLjAzNjIgMzYxLjE2OSAzMC4wMzYyQzM2Mi40MjUgMzAuMDM2MiAzNjMuNjE0IDMwLjU5NDUgMzY0LjE3NiAzMS4xNTI4QzM2NC4yMDggMzAuODg5OCAzNjQuMzA4IDMwLjM2NDggMzY0LjQ3MyAzMC4wNjg4QzM2My4zMTYgMjkuNTExMyAzNjIuMjU5IDI5LjM0NjYgMzYxLjEwMiAyOS4zNDY2QzM1Ny4yMzcgMjkuMzQ2NiAzNTUuNDUzIDMxLjc0MzYgMzU1LjQ1MyAzNC44Mjg4QzM1NS40NTMgMzguMzA5MSAzNTcuNzk4IDQwLjE0NzEgMzYwLjczOSA0MC4xNDcxQzM2Mi40MjUgNDAuMTQ3MSAzNjMuODEyIDM5LjYyMjIgMzY0LjYwNSAzOS4xMjk0VjM5LjEyOTRaTTM0Mi4zMDMgMjYuODE5QzM0MC41MTkgMjMuNDA0OSAzMzguOCAxOS4xMzczIDMzNy41NzggMTYuMTE2OUgzMzcuMzhDMzM2LjU4NyAxOC4wMjA3IDMzNS4xMzMgMjEuMjcwOSAzMzQuNzM3IDIyLjE4OTlDMzM0LjI3NCAyMy4zMDYxIDMzMy4yNSAyNS41MDU2IDMzMi41ODkgMjYuODE4NkMzMzIuODAzIDI2Ljc1MzggMzMzLjAyNiAyNi43MjA2IDMzMy4yNSAyNi43MjAyQzMzMy40NDggMjYuNzIwMiAzMzMuNjEzIDI2Ljc1MzEgMzMzLjg0NSAyNi44MTg2QzMzNC4xNzUgMjUuOTMyMiAzMzQuNjM4IDI0LjgxNiAzMzUuMTMzIDIzLjYzNDNDMzM1Ljc5NCAyMy42MDE0IDMzNi4zODkgMjMuNTY4OCAzMzYuOTg0IDIzLjU2ODhDMzM3LjYxMiAyMy41Njg4IDMzOC4yNzIgMjMuNjAxNCAzMzguOTMzIDIzLjYzNDNMMzM5LjU5NCAyNS4yMUwzNDAuMjU1IDI2LjgxODZDMzQwLjcxNyAyNi43MjAyIDM0MS4wOCAyNi43MjAyIDM0MS4zMTIgMjYuNzIwMkMzNDEuNjA5IDI2LjcyMDYgMzQxLjg3MyAyNi43MjA2IDM0Mi4zMDMgMjYuODE5VjI2LjgxOVpNMzUzLjYzNiAyOS40NDU0QzM1My40MzggMjkuNTExMyAzNTMuMjczIDI5LjU0MzUgMzUzLjEwNyAyOS41NDM1QzM1Mi45MDkgMjkuNTQzNSAzNTIuNzQ0IDI5LjUxMDkgMzUyLjU0NiAyOS40NDU0QzM1Mi42NDQgMzAuNzU4NCAzNTIuNjc4IDMyLjA3MTQgMzUyLjY3OCAzMy4zNTE5VjM2LjczMzRDMzUyLjE0OSAzNi4yNzM2IDM1MC44NiAzNS4wOTE5IDM0OS4zNzQgMzMuNzEzQzM0Ny44NiAzMi4zMDc0IDM0Ni4zOTQgMzAuODUxMSAzNDQuOTc5IDI5LjM0NjZIMzQ0Ljc0OEMzNDQuNzgxIDMwLjgyNDMgMzQ0LjgxNCAzMi40IDM0NC44MTQgMzMuODExNFYzNS44Nzk5QzM0NC44MTQgMzcuNjUyOCAzNDQuODE0IDM4LjYwNDcgMzQ0LjcxNSA0MC4wMTYyQzM0NC45OCAzOS45NTAzIDM0NS4xMTIgMzkuOTUwMyAzNDUuMzEgMzkuOTUwM0MzNDUuNDQyIDM5Ljk1MDMgMzQ1LjU3NSAzOS45NTAzIDM0NS44MDYgNDAuMDE2MkMzNDUuNzQgMzguNjcwNiAzNDUuNzA3IDM2LjQ3MDggMzQ1LjcwNyAzNS44Nzk5VjMyLjU5NjhDMzQ4LjE4NSAzNC44NjI1IDM1MS4yMjQgMzcuODgyNiAzNTMuNDcxIDQwLjE0NzVIMzUzLjYwM0MzNTMuNjAzIDM4LjkzMjkgMzUzLjUzNyAzNy43MTc5IDM1My41MzcgMzYuNTA0VjM0LjYzMjdDMzUzLjUzNiAzMi40MzI1IDM1My41MzYgMzEuMzQ5MyAzNTMuNjM2IDI5LjQ0NTRaTTM0Mi41NjcgNDAuMDE1OEMzNDIuNTM0IDM5Ljg1MTkgMzQyLjUwMSAzOS43MjA2IDM0Mi41MDEgMzkuNTIzNEMzNDIuNTAxIDM5LjM5MjggMzQyLjUzNCAzOS4yMjgxIDM0Mi41NjcgMzkuMDk2NEMzNDEuMjQ2IDM5LjEyOTcgMzM4Ljg2NyAzOS4xOTUyIDMzOC4zNzEgMzkuMTk1MlYzNC42NjQ5QzMzOS42NiAzNC42NjQ5IDM0MC45NDggMzQuNjY0OSAzNDIuMjM3IDM0Ljc5NjNDMzQyLjIwNCAzNC42MzI0IDM0Mi4xNzEgMzQuNDY3NyAzNDIuMTcxIDM0LjMzNjRDMzQyLjE3MSAzNC4yMDU4IDM0Mi4xNzEgMzQuMDQxOSAzNDIuMjM3IDMzLjg0NDdDMzQxLjMxMiAzMy45NDI4IDMzOS4xOTcgMzMuOTc2IDMzOC4zNzEgMzMuOTc2VjMwLjI2NkMzMzkuNzkyIDMwLjI2NiAzNDAuNjUxIDMwLjI2NiAzNDEuMTc5IDMwLjI5OTNMMzQyLjQ2OCAzMC4zNjUxQzM0Mi40MzUgMzAuMTY3OSAzNDIuNDM1IDMwLjA2OTIgMzQyLjQzNSAyOS45MDUzQzM0Mi40MzUgMjkuNzQxNCAzNDIuNDM1IDI5LjY3NTUgMzQyLjQ2OCAyOS40NDU4QzM0MS4zNzggMjkuNDc4MyAzMzkuODkxIDI5LjU0MzggMzM5LjIzIDI5LjU0MzhDMzM4Ljc2NyAyOS41NDM4IDMzNy4zMTQgMjkuNTExMyAzMzYuNTU0IDI5LjQ0NThDMzM2LjYyIDMwLjI2NjQgMzM2LjY1MyAzMS42MTIzIDMzNi42NTMgMzIuNTY0MlYzNi44NjUxQzMzNi42NTMgMzcuNDg4NSAzMzYuNTg3IDM4LjczNTcgMzM2LjU1NCA0MC4wMTYyQzMzNy41MTIgMzkuOTUwMyAzMzguNzY3IDM5Ljk1MDMgMzM5LjIzIDM5Ljk1MDNDMzM5Ljk5IDM5Ljk1IDM0MS42NDIgMzkuOTUgMzQyLjU2NyA0MC4wMTU4VjQwLjAxNThaTTMzMS4yMDEgMjYuODE5QzMzMC42NzMgMjMuMjQwNiAzMzAuMjEgMTkuNDk4NCAzMjkuODQ3IDE2LjExNjlDMzI5Ljc0OCAxNi4xNDk4IDMyOS43MTQgMTYuMTQ5OCAzMjkuNjQ5IDE2LjExNjlDMzI4Ljk1NSAxNy4zMzE1IDMyOC4xNjIgMTguNjQ0NSAzMjcuNTY3IDE5LjU2MzlDMzI3LjAwNiAyMC40NTAzIDMyNi4zNDUgMjEuNTAwNyAzMjUuNTg1IDIyLjYxNjlDMzIzLjk5OSAyMC41ODE3IDMyMi4zNDcgMTguMDIxMSAzMjEuMjU2IDE2LjExNjlDMzIxLjE5IDE2LjE0OTggMzIxLjE1NyAxNi4xMTY5IDMyMS4wOTEgMTYuMTE2OUMzMjAuNzI4IDE5LjQ5OCAzMjAuMjMyIDIzLjI3MzIgMzE5LjczNiAyNi44MTlDMzIwLjAwMSAyNi43MjA2IDMyMC4xNjYgMjYuNzIwNiAzMjAuMjk4IDI2LjcyMDZDMzIwLjQ5NiAyNi43MjA2IDMyMC42MjggMjYuNzUzNSAzMjAuODU5IDI2LjgxOUMzMjAuOTkyIDI0LjQ1NTMgMzIxLjI1NiAyMi4xMjQ0IDMyMS41NTMgMTkuNjYyM0MzMjIuODQyIDIxLjUzMzYgMzIzLjk2NSAyMy4xNDIyIDMyNS4yMjEgMjQuODQ5M0MzMjYuMjc4IDIzLjIwNzcgMzI3LjM2OCAyMS40MzQ4IDMyOC41NTggMTkuNjI5NEMzMjguODg4IDIyLjE1NyAzMjkuMTg2IDI0LjQ1NTMgMzI5LjM1MSAyNi44MTlDMzI5Ljc4IDI2LjcyMDYgMzMwLjA3OCAyNi43MjA2IDMzMC4yNzYgMjYuNzIwNkMzMzAuNTQgMjYuNzIwNiAzMzAuODA1IDI2LjcyMDYgMzMxLjIwMSAyNi44MTlWMjYuODE5Wk0zMzQuOTY4IDMyLjIwMjhDMzM0Ljk2OCAzMC4yOTg5IDMzMy40NDggMjkuNDQ1NCAzMzEuNTk4IDI5LjQ0NTRDMzMwLjc3MiAyOS40NDU0IDMyOS44OCAyOS41NDM1IDMyOS4yNTIgMjkuNTQzNUMzMjkuMDIxIDI5LjU0MzUgMzI4LjUyNSAyOS41NDM1IDMyNy45OTcgMjkuNDc3NkMzMjguMDMgMzAuNTI4MyAzMjguMDk2IDMxLjQxNDggMzI4LjA5NiAzMi40MzIyVjM2LjkyOTVDMzI4LjA5NiAzNy45MTQ4IDMyOC4wMyAzOC45OTggMzI3Ljk5NyA0MC4wMTU0QzMyOC40MjYgMzkuOTQ5NiAzMjguNzI0IDM5Ljk0OTYgMzI4LjkyMiAzOS45NDk2QzMyOS4xNTMgMzkuOTQ5NiAzMjkuNDg0IDM5Ljk0OTYgMzI5Ljg4IDQwLjAxNTRDMzI5LjgxNSAzOS4wMzE5IDMyOS43ODIgMzguMDQ2NSAzMjkuNzgxIDM3LjA2MDlWMzUuNDJDMzMwLjE0NSAzNS40NTI2IDMzMC41MDggMzUuNDUyNiAzMzAuOTA1IDM1LjQ1MjZDMzMyLjgyIDM1LjQ1MjYgMzM0Ljk2OCAzNC43MzA0IDMzNC45NjggMzIuMjAyOFYzMi4yMDI4Wk0zMjYuMDE0IDM2Ljg5NzNDMzI2LjAxNCAzNS4yNTU4IDMyNC45MjQgMzQuNTMzNiAzMjMuMDQgMzMuNzQ1NkMzMjEuNjg2IDMzLjE4OCAzMjAuOTkyIDMyLjY5NTYgMzIwLjk5MiAzMS42NDQ1QzMyMC45OTIgMzAuNjYgMzIxLjc1MiAzMC4wMzYyIDMyMy4wMDggMzAuMDM2MkMzMjMuODM0IDMwLjAzNjIgMzI0LjU2MSAzMC4zMzE1IDMyNS4yMjIgMzAuODU2OEMzMjUuMjg3IDMwLjQ5NTcgMzI1LjQ1MyAzMC4xMzQ3IDMyNS42NTEgMjkuODM5NEMzMjQuODU4IDI5LjQ3ODMgMzIzLjk5OSAyOS4zNDcgMzIzLjA3NCAyOS4zNDdDMzIwLjM2NSAyOS4zNDcgMzE5LjUwNSAzMC44OTA1IDMxOS41MDUgMzIuMjAzNUMzMTkuNTA1IDMzLjgxMTggMzIwLjI5OSAzNC41NjcyIDMyMi4zNDcgMzUuMzU1M0MzMjMuNjM2IDM1Ljg0NyAzMjQuMjk2IDM2LjQ3MTEgMzI0LjI5NiAzNy41NTQ0QzMyNC4yOTYgMzguNzAzNSAzMjMuNDM3IDM5LjQyNTcgMzIyLjI0OCAzOS40MjU3QzMyMS41NTQgMzkuNDI1NyAzMjAuMzY1IDM5LjA2NDYgMzE5LjUzOSAzOC4zMDk5QzMxOS41MDUgMzguNzM2MSAzMTkuNTA1IDM5LjEzMDQgMzE5LjM3MyAzOS40OTE1QzMxOS45MDIgMzkuNzU0NiAzMjEuMTI1IDQwLjE0NzkgMzIyLjIxNSA0MC4xNDc5QzMyNC45OSA0MC4xNDcxIDMyNi4wMTQgMzguNDM5NyAzMjYuMDE0IDM2Ljg5NzNWMzYuODk3M1pNMzc4LjE1MiAxNy45ODgyQzM3OC4xNTIgMTguOTczIDM3Ny40NTggMTkuNjYyMyAzNzYuNzY0IDIwLjIyMDJDMzc2LjMwMSAxOS41NjM5IDM3NS43NCAxOC42NzcxIDM3NS43NCAxNy45ODgyQzM3NS43NCAxNy4yMzMxIDM3Ni4yNjggMTYuODA2MSAzNzYuOTk1IDE2LjgwNjFDMzc3Ljk4NyAxNi44MDY1IDM3OC4xNTIgMTcuNjkyNiAzNzguMTUyIDE3Ljk4ODJWMTcuOTg4MlpNMzc4LjQ4MiAyNS4wMTMyQzM3OC4xMTkgMjUuMzQxNyAzNzcuMjYgMjUuOTY1NSAzNzYuNTMzIDI1Ljk2NTVDMzc1LjU3NCAyNS45NjU1IDM3NC40MTggMjUuMjc1OSAzNzQuNDE4IDIzLjc5ODZDMzc0LjQxOCAyMi40ODU1IDM3NS4yNzcgMjEuODk0NyAzNzUuODA2IDIxLjU2NjVDMzc3LjAyOCAyMy4yNDA2IDM3Ny4wOTUgMjMuMzM5MSAzNzguNDgyIDI1LjAxMzJaTTM3OS44MDQgMzIuMjAyOEMzNzkuODA0IDMzLjI1MzUgMzc5LjI3NSAzNC40MDI2IDM3Ny43NTUgMzQuNDAyNkMzNzcuMzI2IDM0LjQwMjYgMzc2LjkyOSAzNC40MDI2IDM3Ni41MzMgMzQuMzY5M1YzMC4yNjU2QzM3Ni45MjkgMzAuMTY3NiAzNzcuNDI1IDMwLjEzNDMgMzc3LjcyMiAzMC4xMzQzQzM3OS4wMTEgMzAuMTM0MyAzNzkuODA0IDMwLjg4OTggMzc5LjgwNCAzMi4yMDI4Wk0zMzguNjAyIDIyLjgxNDFDMzM3LjkwOSAyMi44NDY2IDMzNy41NDUgMjIuODQ2NiAzMzcuMDgyIDIyLjg0NjZDMzM2LjUyMSAyMi44NDY2IDMzNi4xOSAyMi44NDY2IDMzNS40NjMgMjIuODE0MUwzMzcuMDgyIDE5LjAwNkwzMzguNjAyIDIyLjgxNDFaTTMzMy4xNTEgMzIuMzAwOEMzMzMuMTUxIDMzLjgxMTEgMzMyLjI1OCAzNC43OTU5IDMzMC44MDUgMzQuNzk1OUMzMzAuNTA3IDM0Ljc5NTkgMzMwLjE3NyAzNC43OTU5IDMyOS43OCAzNC43MzAxVjMwLjIzMjdDMzMwLjI0MyAzMC4xNjY5IDMzMC42MzkgMzAuMTMzOSAzMzEuMDM2IDMwLjEzMzlDMzMyLjQyNCAzMC4xMzQzIDMzMy4xNTEgMzEuMDIxMSAzMzMuMTUxIDMyLjMwMDhaTTM2OS41MjggMjMuNjY3NkMzNjkuNTI4IDIyLjAyNiAzNjguNDM4IDIxLjMwMzkgMzY2LjU1NSAyMC41MTYyQzM2NS4yIDE5Ljk1ODMgMzY0LjUwNiAxOS40OTg4IDM2NC41MDYgMTguNDE1MUMzNjQuNTA2IDE3LjQ2MzIgMzY1LjI2NiAxNi44MDY1IDM2Ni41MjEgMTYuODA2NUMzNjcuMzQ4IDE2LjgwNjUgMzY4LjA3NSAxNy4xMDE3IDM2OC43MzUgMTcuNjI3NUMzNjguODAyIDE3LjI2NjQgMzY4Ljk2NyAxNi45MDQ5IDM2OS4xMzEgMTYuNjQyMkMzNjguMzcyIDE2LjI4MTEgMzY3LjQ3OSAxNi4xMTcyIDM2Ni41ODcgMTYuMTE3MkMzNjMuOTQ0IDE2LjExNzIgMzYyLjk4NiAxNy42NiAzNjIuOTg2IDE5LjAwNkMzNjIuOTg2IDIwLjU4MTcgMzYzLjgxMiAyMS4zMzY4IDM2NS44NjEgMjIuMTI0NEMzNjcuMTQ5IDIyLjYxNjkgMzY3LjgxIDIzLjI0MDYgMzY3LjgxIDI0LjM1NjhDMzY3LjgxIDI1LjQ3MyAzNjYuOTUxIDI2LjE5NTIgMzY1Ljc2MiAyNi4xOTUyQzM2NS4wMzUgMjYuMTk1MiAzNjMuODc5IDI1LjgzNDEgMzYzLjA1MiAyNS4xMTE5QzM2My4wMiAyNS41Mzg5IDM2Mi45ODYgMjUuOSAzNjIuODg3IDI2LjI2MTFDMzYzLjM4MyAyNi41MjM4IDM2NC42MDYgMjYuOTE3NCAzNjUuNzI5IDI2LjkxNzRDMzY4LjUwNCAyNi45MTc0IDM2OS41MjggMjUuMjQzMyAzNjkuNTI4IDIzLjY2NzZWMjMuNjY3NloiIGZpbGw9IiMwMzY1NTUiLz4NCjxwYXRoIGQ9Ik02NDAuNDE2IDIwLjU1NzNDNjM4LjY3MSAxOS44MzU0IDYzNy42MzEgMTkuNTU1MSA2MzYuNTk4IDE5LjU1NTFDNjM1LjUxNCAxOS41NTUxIDYzNC44MTkgMTkuOTE3IDYzNC44MTkgMjAuNDc2NUM2MzQuODE5IDIyLjE2NDUgNjQwLjk2MiAyMS42ODkzIDY0MC45NjIgMjUuNTkzNkM2NDAuOTYyIDI3Ljc0NjQgNjM5LjAyNCAyOC45OTc0IDYzNi4zMzIgMjguOTk3NEM2MzQuMjIgMjguOTk3NCA2MzMuMTggMjguNDg4IDYzMS45ODMgMjcuOTExNlYyNS40OTYyQzYzMy43MSAyNi41NjM1IDYzNC43NjggMjYuOTQwMSA2MzYuMTAxIDI2Ljk0MDFDNjM3LjI1NiAyNi45NDAxIDYzNy44NzkgMjYuNTYzNSA2MzcuODc5IDI1LjkwNjNDNjM3Ljg3OSAyNC4wNjg1IDYzMS43MzcgMjQuNzQxNSA2MzEuNzM3IDIwLjcyMTNDNjMxLjczNyAxOC43ODI3IDYzMy41MzQgMTcuNDk5IDYzNi4zMzIgMTcuNDk5QzYzNy42ODIgMTcuNDk5IDYzOC45MDEgMTcuNzYzNSA2NDAuNDE2IDE4LjM3MDdWMjAuNTU3M1pNNjQ5LjAxNiAyOC40ODQxQzY0Ny45OTIgMjguODMwNiA2NDcuMTI2IDI4Ljk5NTQgNjQ2LjI2MiAyOC45OTU0QzY0My40MDIgMjguOTk1NCA2NDEuNTUyIDI3LjQ0MjIgNjQxLjU1MiAyNS4wNzkyQzY0MS41NTIgMjIuNzU5NCA2NDMuNDczIDIxLjEyMDIgNjQ2LjE1NiAyMS4xMjAyQzY0Ni45ODUgMjEuMTIwMiA2NDguMDQ0IDIxLjMxODIgNjQ4Ljg5MSAyMS42MTIzVjIzLjM4ODFDNjQ4LjIyMSAyMy4wNTYyIDY0Ny40NDQgMjIuODc0MSA2NDYuODA5IDIyLjg3NDFDNjQ1LjI3MyAyMi44NzQxIDY0NC4yODYgMjMuNzM0MyA2NDQuMjg2IDI1LjA2MTlDNjQ0LjI4NiAyNi40MDggNjQ1LjI1NiAyNy4yOTQgNjQ2LjcyIDI3LjI5NEM2NDcuMzM3IDI3LjI5NCA2NDcuODg2IDI3LjE2MjMgNjQ5LjAxNiAyNi43NjhMNjQ5LjAxNiAyOC40ODQxWk02NzEuMzIgMjQuMjA5QzY3MS40MjUgMjMuMTU0OCA2NzIuMDgxIDIyLjU0NTcgNjczLjA4NyAyMi41NDU3QzY3NC4wNzYgMjIuNTQ1NyA2NzQuNzQ2IDIzLjE3MjEgNjc0Ljg1MiAyNC4yMDlINjcxLjMyWk02NzIuOTEgMjEuMTIyOUM2NzAuNCAyMS4xMjI5IDY2OC42MTQgMjIuNzc1NSA2NjguNjE0IDI1LjEwMTJDNjY4LjYxNCAyNy40NDQxIDY3MC40NzEgMjguOTk1NCA2NzMuMzM1IDI4Ljk5NTRDNjczLjk3IDI4Ljk5NTQgNjc1LjUwNCAyOC45OTU0IDY3Ni45NjYgMjcuOTg3VjI2LjUwNDJDNjc1Ljc2OSAyNy4yOTkzIDY3NC45NzcgMjcuNTczMSA2NzMuOTU1IDI3LjU3MzFDNjcyLjM0MSAyNy41NzMxIDY3MS4zNTQgMjYuNzk0OSA2NzEuMjY1IDI1LjQ2NjZINjc3LjExQzY3Ny4yMzIgMjIuNjkzOSA2NzUuMjc5IDIxLjEyMjkgNjcyLjkxIDIxLjEyMjlWMjEuMTIyOVpNNjc4LjA5OSAyOC44NTcySDY4MC42NTRWMjEuMjYyN0g2NzguMDk5VjI4Ljg1NzJaTTY4Ny43NjcgMjYuNzgxNUM2ODcuMjM0IDI3LjIyODEgNjg2Ljc5MiAyNy40MDcyIDY4Ni4yNDYgMjcuNDA3MkM2ODUuMDQzIDI3LjQwNzIgNjg0LjI4MSAyNi40ODM4IDY4NC4yODEgMjUuMTAwNEM2ODQuMjgxIDIzLjU4NDEgNjg1LjA0MyAyMi43MTAxIDY4Ni4zMzEgMjIuNzEwMUM2ODYuNzkyIDIyLjcxMDEgNjg3LjM5NCAyMi45MDggNjg3Ljc2NyAyMy4xNTU5VjI2Ljc4MTVaTTY4Ny43NjcgMTcuNjM5MVYyMS41OTU4QzY4Ny4wNzYgMjEuMjg0NyA2ODYuMzg4IDIxLjEyMDIgNjg1LjY0NCAyMS4xMjAyQzY4My4zMTMgMjEuMTIwMiA2ODEuNyAyMi43MjY2IDY4MS43IDI1LjA1MDdDNjgxLjcgMjcuMzI0OCA2ODMuMzEzIDI4Ljk5NzQgNjg1LjUgMjguOTk3NEM2ODYuMzY3IDI4Ljk5NzQgNjg3LjAzNyAyOC43ODU2IDY4Ny43NjcgMjguMjQzNVYyOC44NTQ5SDY5MC4zMjJWMTcuNjM5MUg2ODcuNzY3Wk02OTQuMTA1IDI0LjIwOUM2OTQuMjExIDIzLjE1NDggNjk0Ljg2NCAyMi41NDU3IDY5NS44NjggMjIuNTQ1N0M2OTYuODU4IDIyLjU0NTcgNjk3LjUzNSAyMy4xNzIxIDY5Ny42NDEgMjQuMjA5SDY5NC4xMDVaTTY5NS42OTQgMjEuMTIyOUM2OTMuMTg0IDIxLjEyMjkgNjkxLjQgMjIuNzc1NSA2OTEuNCAyNS4xMDEyQzY5MS40IDI3LjQ0NDEgNjkzLjI1OSAyOC45OTU0IDY5Ni4xMTkgMjguOTk1NEM2OTYuNzUzIDI4Ljk5NTQgNjk4LjI5IDI4Ljk5NTQgNjk5Ljc1NSAyNy45ODdWMjYuNTA0MkM2OTguNTU3IDI3LjI5OTMgNjk3Ljc2MyAyNy41NzMxIDY5Ni43MzYgMjcuNTczMUM2OTUuMTMxIDI3LjU3MzEgNjk0LjE0IDI2Ljc5NDkgNjk0LjA1MSAyNS40NjY2SDY5OS44OTRDNzAwLjAxNSAyMi42OTM5IDY5OC4wNjEgMjEuMTIyOSA2OTUuNjk0IDIxLjEyMjkiIGZpbGw9IiMwMDlFNEQiLz4NCjxwYXRoIGQ9Ik03MDMuNzIxIDIzLjQzNjhINzAzLjc1OEM3MDQuNTE3IDIxLjg1NjIgNzA1LjM2NiAyMS4xMTUgNzA2LjM1MiAyMS4xMTVDNzA2Ljg2MiAyMS4xMTUgNzA3LjMwMyAyMS4yOTY0IDcwOC4wNDQgMjEuODA3Nkw3MDcuMzQxIDIzLjkxMzNDNzA2LjY3IDIzLjUxODYgNzA2LjIyOSAyMy4zNTM1IDcwNS44MjMgMjMuMzUzNUM3MDQuODg2IDIzLjM1MzUgNzA0LjI4NiAyNC4xNzc1IDcwMy43MjEgMjUuNTcwNFYyOC44NDY2SDcwMS4xNjJWMjEuMjU0MUg3MDMuNzIxVjIzLjQzNjhaTTY4MC43NzUgMTguMDY3NEM2ODEuMDE1IDE4LjY1NzUgNjgwLjU4MyAxOS40ODA1IDY3OS44MTQgMTkuOTA0QzY3OS4wNDEgMjAuMzI3MSA2NzguMjI0IDIwLjE5MjggNjc3Ljk4NiAxOS42MDI3QzY3Ny43NDMgMTkuMDExNyA2NzguMTczIDE4LjE4NzcgNjc4Ljk0NSAxNy43NjY2QzY3OS43MTYgMTcuMzQxMSA2ODAuNTMzIDE3LjQ3NTkgNjgwLjc3NSAxOC4wNjc0WiIgZmlsbD0iIzAwOUU0RCIvPg0KPHBhdGggZD0iTTY1OC4yMiAyNC4wMjMxQzY1OC4yMiAyMS45NjUxIDY1Ni43MTkgMjEuMTIyNiA2NTUuMjM5IDIxLjEyMjZDNjU0LjIzMiAyMS4xMjI2IDY1My40MDQgMjEuNTE4NCA2NTIuNjY0IDIyLjM5MjFINjUyLjYyOVYxNy42MzkySDY1MC4wNzFWMjguODM1M0g2NTIuNjI5VjI0LjAyMzFDNjUzLjIyOCAyMy4yMTYxIDY1My43MzggMjIuODcxMSA2NTQuMzM4IDIyLjg3MTFDNjU1LjEzNCAyMi44NzExIDY1NS42NjIgMjMuMzk4NiA2NTUuNjYyIDI0LjUzMjlWMjcuMjAwOEM2NTYuNTIgMjYuNzg5NiA2NTcuMzkzIDI2LjUzNzQgNjU4LjIyIDI2LjQ0MzhWMjQuMDIzMVpNNjY0LjYzNiAyMS4xMTk5QzY2My41OTQgMjEuMTE5OSA2NjIuNzk5IDIxLjQ4MTEgNjYxLjk4NCAyMi4zNDkzVjIxLjI2MjRINjU5LjQyOFYyNi40MjM0QzY2MC4zMTMgMjYuNTA1OCA2NjEuNDQzIDI2Ljg4NDcgNjYxLjk4NCAyNy41MTA0VjIzLjk2MzRDNjYyLjY1NyAyMy4wMjMyIDY2My4xMzQgMjIuNzA5NyA2NjMuNzcgMjIuNzA5N0M2NjQuNDk0IDIyLjcwOTcgNjY1LjA0NSAyMy4xNTU2IDY2NS4wNDUgMjQuMjI2NFYyOC44MzcySDY2Ny42MDJWMjQuMDI4OUM2NjcuNjAyIDIxLjc5MjYgNjY1LjkwOCAyMS4xMTk5IDY2NC42MzYgMjEuMTE5OVYyMS4xMTk5Wk02NjkuMDE1IDMxLjAxODFINjY2LjA0M1YzMi45ODY0SDY2OC45MDlWMzMuODMxMkg2NjYuMDQzVjM1Ljg2MTlINjY5LjEwM1YzNi43MDU1SDY2NS4wNDZWMzAuMTc1Mkg2NjkuMDE1TDY2OS4wMTUgMzEuMDE4MVpNNjcxLjQ0MiAzNi43MDkzSDY3Mi4zNTJWMzAuMTczM0g2NzEuNDQyVjM2LjcwOTNaTTY3Ni44NTkgMzMuMDQ4NEM2NzcuNTA0IDMzLjA0ODQgNjc3LjkwNCAzMy40NjMxIDY3Ny45MzUgMzQuMTE0Mkg2NzUuNjE2QzY3NS43NDIgMzMuNDM0MiA2NzYuMTYxIDMzLjA0ODQgNjc2Ljg1OSAzMy4wNDg0Wk02NzUuNiAzNC42ODFINjc4Ljg0MkM2NzguODQyIDMzLjA4NjkgNjc4LjA2MiAzMi4zMTggNjc2LjgzOCAzMi4zMThDNjc1LjU2OSAzMi4zMTggNjc0LjY4OCAzMy4xOTI0IDY3NC42ODggMzQuNDk2OUM2NzQuNjg4IDM1LjY4OSA2NzUuNDg0IDM2Ljc4OTggNjc2LjkxNyAzNi43ODk4QzY3Ny42OTggMzYuNzg5OCA2NzguMjAzIDM2LjYyODEgNjc4Ljc2MyAzNi4yODJWMzUuNDU2QzY3OC4yMjIgMzUuNzg1NiA2NzcuNjk4IDM1Ljk3NTggNjc3LjE0NyAzNS45NzU4QzY3Ni4yNjUgMzUuOTc1OCA2NzUuNzQyIDM1LjUzNSA2NzUuNiAzNC42ODA2VjM0LjY4MVpNNjg0Ljc4NiAzMy41MzA5QzY4NC4yNjMgMzMuMTk2NiA2ODMuOTE0IDMzLjA5ODUgNjgzLjUxNSAzMy4wOTg1QzY4Mi42ODIgMzMuMDk4NSA2ODIuMTA1IDMzLjY5NDUgNjgyLjEwNSAzNC41NjdDNjgyLjEwNSAzNS40NTYgNjgyLjcxOSAzNS45OTE2IDY4My42NjggMzUuOTkxNkM2ODQuMDU4IDM1Ljk5MTYgNjg0LjQzIDM1Ljg5NzMgNjg0Ljg4OCAzNS43MDU5VjM2LjU0MjZDNjg0LjU4MiAzNi42Nzc0IDY4My45OTcgMzYuNzg5OCA2ODMuNTE1IDM2Ljc4OThDNjgyLjEzNiAzNi43ODk4IDY4MS4xOCAzNS45MDYyIDY4MS4xOCAzNC42NDMyQzY4MS4xOCAzMy4yMTc4IDY4Mi4wNTQgMzIuMzE4IDY4My40NTMgMzIuMzE4QzY4My45ODcgMzIuMzE4IDY4NC4zNDYgMzIuNDMzOSA2ODQuNzg3IDMyLjYxNDVMNjg0Ljc4NiAzMy41MzA5Wk02ODguOTM0IDMyLjQwMDRINjkwLjM5NVYzMy4xNjUxSDY4OC45MzRWMzUuMzc1MkM2ODguOTM0IDM1Ljg4MTEgNjg5LjMyNyAzNi4wMjc0IDY4OS41OTMgMzYuMDI3NEM2ODkuOTIyIDM2LjAyNzQgNjkwLjI2MiAzNS45MiA2OTAuNjMgMzUuNzA3OVYzNi41MDM3QzY5MC4zMSAzNi42Njc4IDY4OS44MiAzNi43ODk4IDY4OS41MTkgMzYuNzg5OEM2ODguNTI4IDM2Ljc4OTggNjg4LjAyNyAzNi4yMTYxIDY4OC4wMjcgMzUuNDM5MVYzMy4xNjUxSDY4Ny4yMjRWMzMuMDcwM0w2ODguOTM0IDMxLjUxMDJWMzIuNDAwNFpNNjkzLjg3NiAzMi40MDA0VjMzLjM5NjlINjkzLjg5NUM2OTQuMzU5IDMyLjYzNDUgNjk0LjggMzIuMzE4IDY5NS4yMyAzMi4zMThDNjk1LjYwMSAzMi4zMTggNjk1Ljk0NyAzMi40ODAxIDY5Ni4zMjkgMzIuODE2Nkw2OTUuODQ3IDMzLjU2NDRDNjk1LjU3IDMzLjMwOTEgNjk1LjIxMSAzMy4xMzMxIDY5NC45OTUgMzMuMTMzMUM2OTQuMzY4IDMzLjEzMzEgNjkzLjg3NiAzMy43MjY4IDY5My44NzYgMzQuNDYyNlYzNi43MDkzSDY5Mi45NjdWMzIuNDAwNEg2OTMuODc2Wk03MDUuNjU3IDMzLjUzMDlDNzA1LjEzMSAzMy4xOTY2IDcwNC43ODIgMzMuMDk4NSA3MDQuMzgxIDMzLjA5ODVDNzAzLjU0OSAzMy4wOTg1IDcwMi45NzcgMzMuNjk0NSA3MDIuOTc3IDM0LjU2N0M3MDIuOTc3IDM1LjQ1NiA3MDMuNTkyIDM1Ljk5MTYgNzA0LjUzNSAzNS45OTE2QzcwNC45MjUgMzUuOTkxNiA3MDUuMjk1IDM1Ljg5NzMgNzA1Ljc2IDM1LjcwNTlWMzYuNTQyNkM3MDUuNDQ3IDM2LjY3NzQgNzA0Ljg2MiAzNi43ODk4IDcwNC4zOCAzNi43ODk4QzcwMy4wMDQgMzYuNzg5OCA3MDIuMDQ0IDM1LjkwNjIgNzAyLjA0NCAzNC42NDMyQzcwMi4wNDQgMzMuMjE3OCA3MDIuOTIyIDMyLjMxOCA3MDQuMzIgMzIuMzE4QzcwNC44NTUgMzIuMzE4IDcwNS4yMTIgMzIuNDMzOSA3MDUuNjU3IDMyLjYxNDVMNzA1LjY1NyAzMy41MzA5Wk02OTguNzQyIDM2LjcwOTNINjk5LjY1MlYzMi40MDA4SDY5OC43NDJWMzYuNzA5M1oiIGZpbGw9IiMwMDlFNEQiLz4NCjxwYXRoIGQ9Ik02OTkuNjg0IDMwLjg1MjVDNjk5Ljc3MyAzMS4wNjA0IDY5OS42MTggMzEuMzU0NCA2OTkuMzQ0IDMxLjUwNDFDNjk5LjA2OCAzMS42NTQzIDY5OC43NzYgMzEuNjA2MiA2OTguNjkzIDMxLjM5NzhDNjk4LjYxIDMxLjE4NzQgNjk4Ljc2MSAzMC44OTU4IDY5OS4wMzggMzAuNzQ1NkM2OTkuMzExIDMwLjU5MzUgNjk5LjYwMSAzMC42NDIxIDY5OS42ODQgMzAuODUyNVYzMC44NTI1Wk02NTguOTQgMzEuMjAwOUM2NTguNzc5IDMxLjIwMDkgNjU4LjcxMSAzMS4yMjU1IDY1OC42NDYgMzEuMjkzOEM2NTguNjIgMzEuMzIwMyA2NTguNjEgMzEuMzQ3MiA2NTguNiAzMS40MDExTDY1Ny43ODQgMzQuMjg3QzY1Ny41OTMgMzUuMjk5MiA2NTYuMjU5IDM2LjMwOTkgNjU0LjUyMSAzNi4zMDk5SDY1Mi4xMDRMNjUyLjUyMyAzNC44MjdINjU0LjA3NkM2NTQuMjM0IDM0LjgyNyA2NTQuMzU4IDM0Ljc3MjEgNjU0LjQ2MiAzNC42NjQzQzY1NC41IDM0LjYyMjUgNjU0LjU1IDM0LjU1NyA2NTQuNTU2IDM0LjQ4OTZMNjU1LjIwMSAzMS45NjgxQzY1NS4zOTEgMzAuOTU1NSA2NTYuNTM4IDI5LjgzNjkgNjU4LjI3NiAyOS44MzY5SDY2MC43NTFMNjYwLjQzNSAzMS4yMDA5SDY1OC45NFpNNjU5LjQ5NyAzMi45NTk2TDY1OS43NzMgMzIuMDI1OUg2NjIuMjg4QzY2Mi41OTggMzAuNjcyIDY2Mi4zNTQgMjkuNDE3NyA2NjEuNDczIDI4LjU5NjFDNjU5LjY4OSAyNi45MzMyIDY1NS45NTcgMjcuNDk4MyA2NTMuMTc3IDI5Ljk3NzlDNjUyLjc0MyAzMC4zNjMgNjUyLjM3NiAzMC43NzkzIDY1Mi4wNDIgMzEuMjA0OEg2NTMuNTU2TDY1My4yMDQgMzIuMTQwNEg2NTEuMzk1QzY1MS4yMjIgMzIuNDM1NCA2NTEuMDYgMzIuNzI4MSA2NTAuOTM2IDMzLjAyNUg2NTMuMDgxTDY1Mi43MzcgMzMuOTYwN0g2NTAuNjNDNjUwLjI2OSAzNS4zOTAxIDY1MC40OTkgMzYuNzIzMyA2NTEuNDA2IDM3LjU2OTlDNjUzLjE2NyAzOS4yMTE2IDY1Ni44ODggMzguNjM0NiA2NTkuNjY3IDM2LjE1NTRDNjYwLjE1MyAzNS43MjQyIDY2MC41NTUgMzUuMjU4NyA2NjAuOTE4IDM0Ljc4MDhINjU4Ljk3M0w2NTkuMjY5IDMzLjg0NzFINjYxLjU0M0M2NjEuNzEgMzMuNTUwMSA2NjEuODYzIDMzLjI1NjUgNjYxLjk4MyAzMi45NTk2SDY1OS40OTdaIiBmaWxsPSIjMDA5RTREIi8+DQo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfNThfMTExKSI+DQo8cGF0aCBkPSJNNzc1LjA2OCA0MS4yMjc0Qzc2Ni4yODUgNDIuMDQ2MyA3NTcuMTMxIDQwLjc1NjQgNzU1Ljg0OCAzMy44MTlDNzU1LjIyMSAzMC4zOTkgNzU2Ljc2NSAyNi43NzI1IDc1OC44MSAyNC41MTg0VjIzLjMxNDhDNzU1LjEyNiAyNi41OCA3NTMuMTMgMzAuNzExNSA3NTQuMjggMzUuNTkyQzc1NS43NDggNDEuODUxOCA3NjMuNjAzIDQ1LjM5NjcgNzc1LjU5NSA0NC4yMTk1Qzc4MC4zNDIgNDMuNzU0NSA3ODYuNTUgNDIuMjEyIDc5MC44NjkgMzkuODE0NFYzNi40MTA5Qzc4Ni45NDkgMzguNzcxMyA3ODAuNDY4IDQwLjcyMTEgNzc1LjA2OCA0MS4yMjc0VjQxLjIyNzRaTTc5OC4yMDUgMjMuMjMzNUM3OTYuMTIyIDEyLjk1MzMgNzc2LjM3MyAxMi4zMDE2IDc2My42NDMgMjAuMTMzOFYyMC45OTg5Qzc3Ni4zNTkgMTQuMzkxNSA3OTQuMzk1IDE0LjQzMTcgNzk2LjAzNyAyMy45MDE2Qzc5Ni41ODkgMjcuMDM0MiA3OTQuODQzIDMwLjI5NzggNzkxLjcyMyAzMi4xNzdWMzQuNjM0MkM3OTUuNDc2IDMzLjI0MzIgNzk5LjMyNCAyOC43NDQyIDc5OC4yMDUgMjMuMjMzNVYyMy4yMzM1WiIgZmlsbD0iIzBFN0RDMiIvPg0KPHBhdGggZD0iTTc5MC4xNTkgMjEuNzM2OEg3ODcuODU2VjMyLjEwM0M3ODcuODU2IDMzLjMxNzkgNzg4LjQzNyAzNC4zNzQ0IDc5MC4xNTkgMzQuNTQzMlYyMS43MzY4Wk03NjIuNzM5IDI1LjUyMTdINzYwLjQzMkw3NjAuNDMxIDMyLjI5NDNDNzYwLjQzMSAzMy41MTM0IDc2MS4wMTMgMzQuNTY4OCA3NjIuNzM5IDM0LjczNDRWMjUuNTIxN1YyNS41MjE3Wk03NjAuNDMyIDIyLjA1MjFINzYyLjczMlYyNC4yNTg0SDc2MC40MzJWMjIuMDUyMVpNNzc2LjUzIDM0LjYyNzJDNzc0LjY2NiAzNC42MjcyIDc3My44NzcgMzMuMzE3NyA3NzMuODc3IDMyLjAyOFYyMy4wMzU1SDc3Ni4xNlYyNS41MjE3SDc3Ny44NzlWMjcuMzg1M0g3NzYuMTZWMzEuODg1NEM3NzYuMTYgMzIuNDExMyA3NzYuNDA3IDMyLjcwNDQgNzc2Ljk1IDMyLjcwNDRINzc3Ljg3OVYzNC42MjcyTDc3Ni41MyAzNC42MjcyVjM0LjYyNzJaTTc4MC43MzEgMzAuNzk2MUM3ODAuNzMxIDMxLjk3NjggNzgxLjQ2MSAzMi44NDQ2IDc4Mi43NTQgMzIuODQ0NkM3ODMuNzY2IDMyLjg0NDYgNzg0LjI2NiAzMi41NjA1IDc4NC44NSAzMS45NzY4TDc4Ni4yNjEgMzMuMzM0OUM3ODUuMzU3IDM0LjIzNzkgNzg0LjQwOSAzNC43ODcgNzgyLjczNyAzNC43ODdDNzgwLjU1MiAzNC43ODcgNzc4LjQ1OSAzMy41ODE5IDc3OC40NTkgMzAuMDY4NkM3NzguNDU5IDI3LjA2NTEgNzgwLjI4OCAyNS4zNjczIDc4Mi42ODYgMjUuMzY3M0M3ODUuMTI0IDI1LjM2NzMgNzg2LjUyNSAyNy4zNTQ5IDc4Ni41MjUgMjkuOTYzOVYzMC43OTYzSDc4MC43MzFWMzAuNzk2MVpNNzgyLjU4NiAyNy4yNzU2Qzc4MS44MDUgMjcuMjc1NiA3ODEuMjA0IDI3LjY4MjMgNzgwLjk1IDI4LjIzMDlDNzgwLjgwMiAyOC41NjA3IDc4MC43NDcgMjguODE3NyA3ODAuNzMxIDI5LjIyMjlINzg0LjI0OUM3ODQuMjA0IDI4LjIzMDkgNzgzLjc1OSAyNy4yNzU2IDc4Mi41ODYgMjcuMjc1NlpNNzY4LjkzOSAyNy4zODUzQzc2OS42MDggMjcuMzg1MyA3NjkuODg3IDI3LjcxOTggNzY5Ljg4NyAyOC4yNjI2VjM0LjY0MDZINzcyLjE3VjI4LjI0OTJDNzcyLjE3IDI2Ljk1NDIgNzcxLjQ4NyAyNS41MjQxIDc2OS40ODIgMjUuNTI0MUw3NjQuNzY2IDI1LjUyMTdWMzQuNjQwNkg3NjcuMDVWMjcuMzg1M0g3NjguOTM5VjI3LjM4NTNaTTc5Mi42MzcgMjMuNTg5MUM3OTIuMTI5IDIzLjU4OTEgNzkxLjcyNCAyMy4xNzU0IDc5MS43MjQgMjIuNjYyOUM3OTEuNzI0IDIyLjE1MjkgNzkyLjEyOSAyMS43MzY4IDc5Mi42MzcgMjEuNzM2OEM3OTMuMTQyIDIxLjczNjggNzkzLjU1NiAyMi4xNTI5IDc5My41NTYgMjIuNjYyOUM3OTMuNTU2IDIzLjE3NTQgNzkzLjE0MiAyMy41ODkxIDc5Mi42MzcgMjMuNTg5MVpNNzkyLjYzNyAyMS44OTEyQzc5Mi4yMTggMjEuODkxMiA3OTEuODgyIDIyLjI0MDcgNzkxLjg4MiAyMi42NjI5Qzc5MS44ODIgMjMuMDg3NiA3OTIuMjE4IDIzLjQzMDkgNzkyLjYzNyAyMy40MzA5Qzc5My4wNTUgMjMuNDMwOSA3OTMuNDAyIDIzLjA4NzYgNzkzLjQwMiAyMi42NjI5Qzc5My40MDIgMjIuMjQwNyA3OTMuMDU1IDIxLjg5MTIgNzkyLjYzNyAyMS44OTEyWk03OTMuMDQzIDIzLjIxOEg3OTIuODcyQzc5Mi44NjQgMjMuMjE3OSA3OTIuODU3IDIzLjIxNTcgNzkyLjg1MSAyMy4yMTE2Qzc5Mi44NDUgMjMuMjA3NSA3OTIuODQgMjMuMjAxNyA3OTIuODM3IDIzLjE5NDlMNzkyLjYwNSAyMi43OTdDNzkyLjU5OCAyMi43ODg1IDc5Mi41NzkgMjIuNzc4OCA3OTIuNTczIDIyLjc3ODhINzkyLjQ2N1YyMy4xNzU0Qzc5Mi40NjcgMjMuMTk1IDc5Mi40NTMgMjMuMjE4MSA3OTIuNDI4IDIzLjIxODFINzkyLjI3NEM3OTIuMjUxIDIzLjIxODEgNzkyLjIzNSAyMy4xOTUgNzkyLjIzNSAyMy4xNzU0VjIyLjE3NDlDNzkyLjIzNSAyMi4xMTY0IDc5Mi4yNTQgMjIuMDkyNCA3OTIuMzA1IDIyLjA4NUM3OTIuMzYxIDIyLjA3OSA3OTIuNTA1IDIyLjA3MTYgNzkyLjU4NiAyMi4wNzE2Qzc5Mi44NzIgMjIuMDcxNiA3OTMuMDM5IDIyLjE1NjYgNzkzLjAzOSAyMi40MjQ0VjIyLjQ0NEM3OTMuMDM5IDIyLjYwOTQgNzkyLjk1OSAyMi42OTk1IDc5Mi44MzMgMjIuNzM5N0w3OTMuMDc0IDIzLjE1NDdDNzkzLjA3OCAyMy4xNjQgNzkzLjA4IDIzLjE3MzkgNzkzLjA4IDIzLjE4NEM3OTMuMDggMjMuMTk5NyA3OTMuMDcyIDIzLjIxOCA3OTMuMDQzIDIzLjIxOFYyMy4yMThaTTc5Mi44MjEgMjIuNDI0NEM3OTIuODIxIDIyLjMxMjcgNzkyLjc1MiAyMi4yNzczIDc5Mi42MDUgMjIuMjc3M0g3OTIuNDU5VjIyLjU5NDdDNzkyLjQ4MiAyMi41OTQ3IDc5Mi41ODYgMjIuNTk5NiA3OTIuNjA1IDIyLjU5OTZDNzkyLjc1MiAyMi41OTk2IDc5Mi44MjEgMjIuNTUgNzkyLjgyMSAyMi40NDRWMjIuNDI0NFoiIGZpbGw9IiMwRTdEQzIiLz4NCjwvZz4NCjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMV81OF8xMTEpIj4NCjxwYXRoIGQ9Ik01MzMuNzczIDIwLjk5MTFDNTI5LjI2MyAyMC45OTExIDUyNS41OTkgMjQuNjU0NyA1MjUuNTk5IDI5LjE2NDRDNTI1LjU5OSAzMy42NzQxIDUyOS4yNjMgMzcuMzM3NyA1MzMuNzczIDM3LjMzNzdDNTM4LjI4MiAzNy4zMzc3IDU0MS45NDYgMzMuNjc0MSA1NDEuOTQ2IDI5LjE2NDRDNTQxLjk0NiAyNC42NTQ3IDUzOC4yODIgMjAuOTkxMSA1MzMuNzczIDIwLjk5MTFaTTUzMy43NzMgMzYuNTE4NkM1MjkuNzEzIDM2LjUxODYgNTI2LjQxOSAzMy4yMTUgNTI2LjQxOSAyOS4xNjQ0QzUyNi40MTkgMjUuMTEzNyA1MjkuNzEzIDIxLjgxMDIgNTMzLjc3MyAyMS44MTAyQzUzNy44MzIgMjEuODEwMiA1NDEuMTI3IDI1LjExMzcgNTQxLjEyNyAyOS4xNjQ0QzU0MS4xMjcgMzMuMjE1IDUzNy44MzIgMzYuNTE4NiA1MzMuNzczIDM2LjUxODZaIiBmaWxsPSJibGFjayIvPg0KPHBhdGggZD0iTTUzNi42OSAyMy45MjUyQzUzNi42NjMgMjMuOTA3MiA1MzYuNjI3IDIzLjg5ODIgNTM2LjU5MSAyMy44OTgyQzUzNi40ODMgMjMuODk4MiA1MzYuNDAyIDIzLjk3OTIgNTM2LjQwMiAyNC4wODczVjI2LjY0MzdDNTM2LjQwMiAyNi43MzM3IDUzNi4zMyAyNi44MDU3IDUzNi4yNCAyNi44MDU3SDUzMS4yOUM1MzEuMiAyNi44MDU3IDUzMS4xMzcgMjYuNzMzNyA1MzEuMTI4IDI2LjY0MzdWMjQuMDg3M0M1MzEuMTI4IDI0LjA1MTMgNTMxLjExOSAyNC4wMjQyIDUzMS4xMDEgMjMuOTg4MkM1MzEuMDQ3IDIzLjg5ODIgNTMwLjkzIDIzLjg3MTIgNTMwLjgzOSAyMy45MjUyQzUyOS4wMTIgMjUuMDUwNCA1MjcuOTA1IDI3LjAwMzcgNTI3LjkwNSAyOS4xNjQxQzUyNy45MDUgMzEuMzI0NCA1MjkuMDEyIDMzLjI3NzcgNTMwLjg1NyAzNC40MDI5QzUzMC44ODUgMzQuNDIwOSA1MzAuOTIxIDM0LjQyOTkgNTMwLjk1NyAzNC40Mjk5QzUzMS4wNjUgMzQuNDI5OSA1MzEuMTQ2IDM0LjM0ODkgNTMxLjE0NiAzNC4yNDA5VjMxLjY4NDVDNTMxLjE0NiAzMS41OTQ0IDUzMS4yMTggMzEuNTMxNCA1MzEuMzA4IDMxLjUyMjRINTM2LjI1OEM1MzYuMzQ4IDMxLjUyMjQgNTM2LjQyIDMxLjU5NDQgNTM2LjQyIDMxLjY4NDVWMzQuMjQwOUM1MzYuNDIgMzQuMjc2OSA1MzYuNDI5IDM0LjMwMzkgNTM2LjQ0NyAzNC4zMzk5QzUzNi41MDEgMzQuNDI5OSA1MzYuNjE4IDM0LjQ1NjkgNTM2LjcwOCAzNC40MDI5QzUzOC41NTQgMzMuMjc3NyA1MzkuNjYxIDMxLjMyNDQgNTM5LjY2MSAyOS4xNjQxQzUzOS42NjEgMjcuMDAzNyA1MzguNTM2IDI1LjA1MDQgNTM2LjY5IDIzLjkyNTJWMjMuOTI1MlpNNTMwLjE5MSAzMi4zNjg2TDUzMC4yMTggMzIuNjc0Nkw1MzAuMDIgMzIuNDMxNkM1MjguNDk5IDMwLjUxNDMgNTI4LjQ5OSAyNy44MDQ4IDUzMC4wMiAyNS44ODc1TDUzMC4xOTEgMjUuNjcxNUw1MzAuMjE4IDI1LjY0NDVMNTMwLjE5MSAyNS45NTk2QzUzMC4xNjQgMjYuMjExNiA1MzAuMTU1IDI2LjQ3MjYgNTMwLjE1NSAyNi43MzM3VjMxLjU4NTRDNTMwLjE1NSAzMS44NDY1IDUzMC4xNzMgMzIuMTA3NSA1MzAuMTkxIDMyLjM2ODZaTTUzNi40MDIgMzAuMzg4M0M1MzYuNDAyIDMwLjQ3ODMgNTM2LjMzIDMwLjU1MDMgNTM2LjI0IDMwLjU1MDNINTMxLjI5QzUzMS4yIDMwLjU1MDMgNTMxLjEzNyAzMC40NzgzIDUzMS4xMjggMzAuMzg4M1YyNy45Mzk5QzUzMS4xMjggMjcuODQ5OSA1MzEuMiAyNy43Nzc4IDUzMS4yOSAyNy43Nzc4SDUzNi4yNEM1MzYuMzMgMjcuNzc3OCA1MzYuNDAyIDI3Ljg0OTkgNTM2LjQwMiAyNy45Mzk5VjMwLjM4ODNaTTUzNy41MTkgMzIuNDMxNkw1MzcuMzIxIDMyLjY3NDZMNTM3LjM0OCAzMi4zNjg2QzUzNy4zNzUgMzIuMTE2NSA1MzcuMzg0IDMxLjg1NTUgNTM3LjM4NCAzMS41OTQ0VjI2LjczMzdDNTM3LjM4NCAyNi40NzI2IDUzNy4zNzUgMjYuMjExNiA1MzcuMzQ4IDI1Ljk1OTZMNTM3LjMzOSAyNS44MjQ1TDUzNy4zMyAyNS42ODA1VjI1LjY0NDVMNTM3LjUxOSAyNS44ODc1QzUzOC4yNTcgMjYuODA1NyA1MzguNjYyIDI3Ljk3NTkgNTM4LjY2MiAyOS4xNTUxQzUzOC42NjIgMzAuMzM0MiA1MzguMjU3IDMxLjUxMzQgNTM3LjUxOSAzMi40MzE2VjMyLjQzMTZaIiBmaWxsPSJibGFjayIvPg0KPHBhdGggZD0iTTU1NC4yNzYgMjkuMDIwMkM1NTQuMjMxIDI5LjAwMjIgNTU0LjE3NyAyOC45ODQyIDU1NC4xNzcgMjguOTMwMkM1NTQuMTc3IDI4Ljg5NDIgNTU0LjE5NSAyOC44NjcyIDU1NC4yMzEgMjguODQ5MkM1NTQuMjk0IDI4LjgyMjIgNTU1Ljg1MSAyOC4yNjQxIDU1NS44NTEgMjYuNDI3OEM1NTUuODUxIDI0LjM4NDUgNTU0LjQ3NCAyMy4xNjkzIDU1Mi4xNTIgMjMuMTY5M0g1NDYuNTI2VjM1LjE3NzJINTUyLjY2NUM1NTQuNDU2IDM1LjE3NzIgNTU2LjM4MiAzMy45MDggNTU2LjM4MiAzMS44NjQ2QzU1Ni4zODIgMjkuOTExMyA1NTQuOTA2IDI5LjIyNzIgNTU0LjI3NiAyOS4wMjAyVjI5LjAyMDJaTTU0OS4zNjEgMjUuNjI2N0M1NDkuMzYxIDI1LjU4MTcgNTQ5LjM5NyAyNS41NDU2IDU0OS40NDIgMjUuNTQ1Nkg1NTEuNjc1QzU1Mi40MTMgMjUuNTQ1NiA1NTIuOTE3IDI2LjA0MDcgNTUyLjkxNyAyNi43Nzg4QzU1Mi45MTcgMjcuMzU0OSA1NTIuNDY3IDI3Ljk3NiA1NTEuNjIxIDI3Ljk3Nkg1NDkuNDQyQzU0OS4zOTcgMjcuOTc2IDU0OS4zNjEgMjcuOTQgNTQ5LjM2MSAyNy44OTVWMjUuNjI2N1pNNTUxLjY3NSAzMi44MDk4SDU0OS40NDJDNTQ5LjM5NyAzMi44MDk4IDU0OS4zNjEgMzIuNzczOCA1NDkuMzYxIDMyLjcyODhWMzAuMzM0NEM1NDkuMzYxIDMwLjI4OTQgNTQ5LjM5NyAzMC4yNTM0IDU0OS40NDIgMzAuMjUzNEg1NTEuNjIxQzU1Mi42OTIgMzAuMjUzNCA1NTMuMzA0IDMwLjcxMjUgNTUzLjMwNCAzMS41MjI2QzU1My4zMDQgMzIuMzU5NyA1NTIuNzM3IDMyLjgwOTggNTUxLjY3NSAzMi44MDk4VjMyLjgwOThaTTU3NS4zODQgMjcuOTQ5TDU3NC45NTIgMjcuODU5QzU3My45OCAyNy42NTIgNTczLjAzNSAyNy4zOTA5IDU3My4wMzUgMjYuNTUzOEM1NzMuMDM1IDI1LjcxNjcgNTczLjgxOCAyNS4zMzg2IDU3NC41OTIgMjUuMzM4NkM1NzUuNTAxIDI1LjMzODYgNTc2LjQwMSAyNS43NDM3IDU3Ny4wODYgMjYuNDQ1OEw1NzguODY4IDI0LjY4MTVDNTc4LjEwMyAyMy44MzU0IDU3Ni43NDQgMjIuODYzMiA1NzQuNTQ3IDIyLjg2MzJDNTcxLjkwMSAyMi44NjMyIDU3MC4xMTggMjQuMzY2NSA1NzAuMTE4IDI2LjYwNzhDNTcwLjExOCAyOC45NzUyIDU3MS45ODIgMjkuODY2MyA1NzMuNTQ4IDMwLjE5OTRMNTczLjk3MSAzMC4yODk0QzU3NS40OTIgMzAuNjEzNSA1NzYuMjEyIDMwLjg1NjUgNTc2LjIxMiAzMS43MjA2QzU3Ni4yMTIgMzIuNDk0NyA1NzUuNTE5IDMzLjAwNzggNTc0LjQ5MyAzMy4wMDc4QzU3My4yODcgMzMuMDA3OCA1NzIuMjE2IDMyLjQ3NjcgNTcxLjQwNiAzMS40Nzc2TDU2OS41NzggMzMuMjY4OUM1NzAuNTUxIDM0LjQyMTEgNTcxLjgzOCAzNS40NjUyIDU3NC41MjkgMzUuNDY1MkM1NzYuODI1IDM1LjQ2NTIgNTc5LjE1NiAzNC4xMzMgNTc5LjE1NiAzMS41NzY2QzU3OS4xNDcgMjguOTU3MiA1NzcuMzY1IDI4LjM2MzEgNTc1LjM4NCAyNy45NDlWMjcuOTQ5Wk01OTkuMTAzIDIzLjE2OTNWMjcuNTYyQzU5OS4xMDMgMjcuNjA3IDU5OS4wNjcgMjcuNjQzIDU5OS4wMjIgMjcuNjQzSDU5NS4zMzFDNTk1LjI4NiAyNy42NDMgNTk1LjI1IDI3LjYwNyA1OTUuMjUgMjcuNTYyVjIzLjE2OTNINTkyLjIyNlYzNS4xNzcySDU5NS4yNVYzMC40NjA0QzU5NS4yNSAzMC40MTU0IDU5NS4yODYgMzAuMzc5NCA1OTUuMzMxIDMwLjM3OTRINTk5LjAyMkM1OTkuMDY3IDMwLjM3OTQgNTk5LjEwMyAzMC40MTU0IDU5OS4xMDMgMzAuNDYwNFYzNS4xNzcySDYwMi4xNDZWMjMuMTY5M0g1OTkuMTAzWk01ODYuMTQxIDMyLjcxOThDNTg0Ljc4MiAzMi43MTk4IDU4My4zMTUgMzEuNTg1NiA1ODMuMzE1IDI5LjA5MjJDNTgzLjMxNSAyNi44MTQ4IDU4NC42OTIgMjUuNjI2NyA1ODYuMDUxIDI1LjYyNjdDNTg3LjA0MSAyNS42MjY3IDU4Ny43MzQgMjYuMDQwNyA1ODguMjgzIDI2Ljk1ODlMNTkwLjYwNiAyNS40MTk2QzU4OS40MTggMjMuNjczMyA1ODguMDA0IDIyLjg4MTIgNTg2LjAzMyAyMi44ODEyQzU4Mi4xNzEgMjIuODgxMiA1ODAuNDQzIDI2LjAwNDcgNTgwLjQ0MyAyOS4wOTIyQzU4MC40NDMgMzIuODQ1OCA1ODIuNzI5IDM1LjQ2NTIgNTg1Ljk5NyAzNS40NjUyQzU4OC40MjcgMzUuNDY1MiA1ODkuNTM1IDM0LjU3NDEgNTkwLjY5NiAzMi45MjY4TDU4OC4zNTUgMzEuMzUxNkM1ODcuODMzIDMyLjE5NzcgNTg3LjI2NiAzMi43MTk4IDU4Ni4xNDEgMzIuNzE5OFpNNTYzLjE3OCAyMi44NjMyQzU1OS44NzUgMjIuODYzMiA1NTcuNjYxIDI1LjM5MjYgNTU3LjY2MSAyOS4xNjQyQzU1Ny42NjEgMzIuOTM1OCA1NTkuODc1IDM1LjQ2NTIgNTYzLjE3OCAzNS40NjUyQzU2Ni40ODIgMzUuNDY1MiA1NjguNjk2IDMyLjkzNTggNTY4LjY5NiAyOS4xNjQyQzU2OC42OTYgMjUuMzkyNiA1NjYuNDgyIDIyLjg2MzIgNTYzLjE3OCAyMi44NjMyVjIyLjg2MzJaTTU2My4xNzggMzIuNzE5OEM1NjEuNTU4IDMyLjcxOTggNTYwLjUxNCAzMS4zMjQ2IDU2MC41MTQgMjkuMTY0MkM1NjAuNTE0IDI3LjAxMjkgNTYxLjU1OCAyNS42MjY3IDU2My4xNzggMjUuNjI2N0M1NjQuODA4IDI1LjYyNjcgNTY1Ljg2MSAyNy4wMTI5IDU2NS44NjEgMjkuMTY0MkM1NjUuODYxIDMxLjMyNDYgNTY0LjgwOCAzMi43MTk4IDU2My4xNzggMzIuNzE5OFoiIGZpbGw9IiNGODAwMDAiLz4NCjwvZz4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTQ2LjM0NCAyMi4xODExQzE0Ny41OTUgMjIuMjg1NCAxNDguODQ1IDIxLjU1NTMgMTQ5LjYyNyAyMC42Mjk4QzE1MC4zOTUgMTkuNjc4MSAxNTAuOTAzIDE4LjQwMDUgMTUwLjc3MyAxNy4wOTY5QzE0OS42NjYgMTcuMTQ5MSAxNDguMjk4IDE3LjgyNjkgMTQ3LjUxNyAxOC43Nzg2QzE0Ni44IDE5LjU5OTkgMTQ2LjE4OCAyMC45Mjk2IDE0Ni4zNDQgMjIuMTgxMVpNMTQ3Ljg0MSAyMy4wNzk3QzE0OC42NTMgMjIuNzYwNiAxNDkuNjU4IDIyLjM2NTYgMTUwLjc2IDIyLjQyOTFDMTUxLjQ2MyAyMi40ODEyIDE1My40OTUgMjIuNjg5OCAxNTQuNzk4IDI0LjYxOTJDMTU0Ljc5MiAyNC42MjM3IDE1NC43NzggMjQuNjMyMyAxNTQuNzU5IDI0LjY0NUMxNTQuNDM2IDI0Ljg1NDggMTUyLjM5IDI2LjE4NzEgMTUyLjQxNCAyOC44MTY5QzE1Mi40MzkgMzEuOTQ5OSAxNTQuOTg4IDMzLjExODMgMTU1LjMyMiAzMy4yNzExQzE1NS4zNDQgMzMuMjgxMSAxNTUuMzU2IDMzLjI4NjcgMTU1LjM1OCAzMy4yODgzQzE1NS4zNTYgMzMuMjkyNiAxNTUuMzU0IDMzLjMwMSAxNTUuMzUgMzMuMzEzM0MxNTUuMjgzIDMzLjUyODggMTU0Ljg0NSAzNC45NDg5IDE1My44NDcgMzYuNDA0QzE1Mi45MjIgMzcuNzU5OCAxNTEuOTcxIDM5LjA4OTUgMTUwLjQ2IDM5LjExNTZDMTQ5Ljc0OSAzOS4xMjgzIDE0OS4yNyAzOC45MjExIDE0OC43NzIgMzguNzA1NEMxNDguMjQ3IDM4LjQ3ODUgMTQ3LjcwMSAzOC4yNDIyIDE0Ni44NCAzOC4yNDIyQzE0NS45NDcgMzguMjQyMiAxNDUuMzc2IDM4LjQ4NDggMTQ0LjgyNiAzOC43MTg0QzE0NC4zNDggMzguOTIxNCAxNDMuODg3IDM5LjExNzQgMTQzLjI0NSAzOS4xNDE3QzE0MS43ODYgMzkuMTkzOCAxNDAuNjc5IDM3LjcwNzcgMTM5Ljc1NCAzNi4zNTE5QzEzNy44NjYgMzMuNjE0MyAxMzYuNDIgMjguNjM0NCAxMzguMzc0IDI1LjI3MUMxMzkuMzI1IDIzLjU4OTMgMTQxLjA1NyAyMi41MzM0IDE0Mi45MTkgMjIuNTA3M0MxNDMuNzMyIDIyLjQ5MjUgMTQ0LjUwNyAyMi44MDA2IDE0NS4xODQgMjMuMDcwMUMxNDUuNzAyIDIzLjI3NTggMTQ2LjE2MiAyMy40NTg5IDE0Ni41NCAyMy40NTg5QzE0Ni44NzcgMjMuNDU4OSAxNDcuMzE5IDIzLjI4NTEgMTQ3Ljg0MSAyMy4wNzk3WiIgZmlsbD0iYmxhY2siLz4NCjxwYXRoIGQ9Ik0zNi44NTg3IDM3LjUyNDFIMzEuOTg3NEwzNS4wMzQyIDE5LjY2NjhIMzkuOTA1MkwzNi44NTg3IDM3LjUyNDFaIiBmaWxsPSIjMDA1NzlGIi8+DQo8cGF0aCBkPSJNNTQuNTE1NyAyMC4xMDQxQzUzLjU1NDkgMTkuNzQyOCA1Mi4wMzA5IDE5LjM0MzggNTAuMTQ2NiAxOS4zNDM4QzQ1LjMzNjEgMTkuMzQzOCA0MS45NDg2IDIxLjc3NTMgNDEuOTI3OCAyNS4yNTE2QzQxLjg4NzggMjcuODE2NSA0NC4zNTMxIDI5LjI0MSA0Ni4xOTcgMzAuMDk2MkM0OC4wODE2IDMwLjk3MDEgNDguNzIyMyAzMS41NDA1IDQ4LjcyMjMgMzIuMzE5NEM0OC43MDMxIDMzLjUxNTcgNDcuMTk5NCAzNC4wNjcyIDQ1Ljc5NjkgMzQuMDY3MkM0My44NTIxIDM0LjA2NzIgNDIuODEgMzMuNzgyOSA0MS4yMjY0IDMzLjExNzNMNDAuNTg1IDMyLjgzMkwzOS45MDMzIDM2Ljg0MDZDNDEuMDQ1OCAzNy4zMzM5IDQzLjE1MDcgMzcuNzcxNyA0NS4zMzYxIDM3Ljc5MDlDNTAuNDQ3MyAzNy43OTA5IDUzLjc3NDkgMzUuMzk3MSA1My44MTQzIDMxLjY5MjVDNTMuODMzOCAyOS42NTk3IDUyLjUzMiAyOC4xMDIgNDkuNzI1NCAyNi44MjkyQzQ4LjAyMTcgMjYuMDEyMSA0Ni45NzgzIDI1LjQ2MTIgNDYuOTc4MyAyNC42MjUyQzQ2Ljk5ODMgMjMuODY1MiA0Ny44NjA4IDIzLjA4NjggNDkuNzg0IDIzLjA4NjhDNTEuMzY3NyAyMy4wNDg2IDUyLjUzMTIgMjMuNDA5NCA1My40MTI2IDIzLjc3MDVMNTMuODUzMiAyMy45NjAxTDU0LjUxNTcgMjAuMTA0MVoiIGZpbGw9IiMwMDU3OUYiLz4NCjxwYXRoIGQ9Ik02MC45OTI0IDMxLjE5NzlDNjEuMzkzNiAzMC4xNzIgNjIuOTM3MiAyNi4yMDE2IDYyLjkzNzIgMjYuMjAxNkM2Mi45MTcgMjYuMjM5NyA2My4zMzc2IDI1LjE1NjggNjMuNTc4MSAyNC40OTE5TDYzLjkxODYgMjYuMDMwNkM2My45MTg2IDI2LjAzMDYgNjQuODQxIDMwLjMwNTEgNjUuMDQxNCAzMS4xOTc5QzY0LjI4IDMxLjE5NzkgNjEuOTU0NiAzMS4xOTc5IDYwLjk5MjQgMzEuMTk3OVpNNjcuMDA1NCAxOS42NjY4SDYzLjIzNzRDNjIuMDc1NSAxOS42NjY4IDYxLjE5MjcgMTkuOTg5NSA2MC42OTE0IDIxLjE0ODRMNTMuNDU1OCAzNy41MjM5SDU4LjU2NzFDNTguNTY3MSAzNy41MjM5IDU5LjQwODUgMzUuMzE5OSA1OS41ODk0IDM0Ljg0NTJDNjAuMTUwMSAzNC44NDUyIDY1LjEyMjMgMzQuODQ1MiA2NS44NDM3IDM0Ljg0NTJDNjUuOTgzNSAzNS40NzIxIDY2LjQyNDkgMzcuNTIzOSA2Ni40MjQ5IDM3LjUyMzlINzAuOTM1Mkw2Ny4wMDU0IDE5LjY2NjhWMTkuNjY2OFoiIGZpbGw9IiMwMDU3OUYiLz4NCjxwYXRoIGQ9Ik0yNy45MTggMTkuNjY2OEwyMy4xNDc1IDMxLjg0MzhMMjIuNjI2MiAyOS4zNzQxQzIxLjc0NDIgMjYuNTI0NSAxOC45NzgxIDIzLjQyODQgMTUuODkxNCAyMS44ODlMMjAuMjYxIDM3LjUwNTJIMjUuNDEyMkwzMy4wNjkgMTkuNjY2OEgyNy45MThWMTkuNjY2OFoiIGZpbGw9IiMwMDU3OUYiLz4NCjxwYXRoIGQ9Ik0xOC43MTg0IDE5LjY2NjhIMTAuODgxMUwxMC44MDA5IDIwLjAyNzZDMTYuOTE0NSAyMS41MDk1IDIwLjk2MzUgMjUuMDgxNSAyMi42MjcgMjkuMzc0OUwyMC45MjMyIDIxLjE2NzlDMjAuNjQyNyAyMC4wMjc0IDE5Ljc4MDcgMTkuNzA0NCAxOC43MTg0IDE5LjY2NjhaIiBmaWxsPSIjRkFBNjFBIi8+DQo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDJfNThfMTExKSI+DQo8cGF0aCBkPSJNMjIxLjE1OCAxNy40OTlWMTguOTM1NkgyMzEuMzA2VjE3LjQ5OUgyMjEuMTU4Wk0yMzIuNzQ0IDE3LjQ5OVYxOC45MzU2SDI0Ny4yMDZDMjQ3LjIwNiAxOC45MzU2IDI0NS43MjkgMTcuNDk5IDI0My43NzMgMTcuNDk5SDIzMi43NDRaTTI1MC4wNDMgMTcuNDk5VjE4LjkzNTZIMjU4Ljc5M0wyNTguMjczIDE3LjQ5OUgyNTAuMDQzWk0yNjUuMDY1IDE3LjQ5OUwyNjQuNTQ2IDE4LjkzNTZIMjczLjIxNlYxNy40OTlIMjY1LjA2NVpNMjIxLjE1OCAyMC4yOTI5VjIxLjcyOTZIMjMxLjMwNlYyMC4yOTI5SDIyMS4xNThaTTIzMi43NDQgMjAuMjk1VjIxLjcyOTdIMjQ4Ljg4NEMyNDguODg0IDIxLjcyOTcgMjQ4LjY5NiAyMC42MjM5IDI0OC4zNjcgMjAuMjk1SDIzMi43NDRaTTI1MC4wNDMgMjAuMjk1VjIxLjcyOTdIMjU5Ljc1MkwyNTkuMjcxIDIwLjI5NUgyNTAuMDQzWk0yNjQuMDI3IDIwLjI5NUwyNjMuNTQ2IDIxLjcyOTdIMjczLjIxNlYyMC4yOTVIMjY0LjAyN1YyMC4yOTVaTTIyNC4wNzQgMjMuMDg2OVYyNC41MjU3SDIyOC40NjlWMjMuMDg2OUgyMjQuMDc0VjIzLjA4NjlaTTIzNS42NjEgMjMuMDg2OVYyNC41MjU3SDI0MC4wNTZWMjMuMDg2OUgyMzUuNjYxVjIzLjA4NjlaTTI0NC4zMzEgMjMuMDg2OVYyNC41MjU3SDI0OC43MjZDMjQ4LjcyNiAyNC41MjU3IDI0OS4wMDUgMjMuNzY1OSAyNDkuMDA1IDIzLjA4NjlIMjQ0LjMzMVYyMy4wODY5Wk0yNTIuOTYgMjMuMDg2OVYyNC41MjU3SDI2MC43NTJMMjYwLjIzMiAyMy4wODY5SDI1Mi45NlYyMy4wODY5Wk0yNjMuMDY5IDIzLjA4NjlMMjYyLjU0OCAyNC41MjU3SDI3MC4zNzlWMjMuMDg2OUgyNjMuMDY5VjIzLjA4NjlaTTIyNC4wNzQgMjUuODgzVjI3LjMxOTdIMjI4LjQ2OVYyNS44ODNIMjI0LjA3NFYyNS44ODNaTTIzNS42NjEgMjUuODgzVjI3LjMxOTdIMjQ2Ljg4N0MyNDYuODg3IDI3LjMxOTcgMjQ3LjgyNiAyNi41ODI1IDI0OC4xMjUgMjUuODgzSDIzNS42NjFaTTI1Mi45NiAyNS44ODNWMjcuMzE5N0gyNTcuMzU1VjI2LjUyTDI1Ny42MzQgMjcuMzE5N0gyNjUuNjg0TDI2NS45ODQgMjYuNTJWMjcuMzE5N0gyNzAuMzc5VjI1Ljg4M0gyNjIuMTI5TDI2MS42OTEgMjcuMDk5OUwyNjEuMjUxIDI1Ljg4M0gyNTIuOTZaTTIyNC4wNzQgMjguNjc3VjMwLjExMzdIMjI4LjQ2OVYyOC42NzdIMjI0LjA3NFpNMjM1LjY2MSAyOC42NzdWMzAuMTEzN0gyNDguMTI1QzI0Ny44MjYgMjkuNDE2NSAyNDYuODg3IDI4LjY3NyAyNDYuODg3IDI4LjY3N0gyMzUuNjYxWk0yNTIuOTYgMjguNjc3VjMwLjExMzdIMjU3LjM1NVYyOC42NzdIMjUyLjk2Wk0yNTguMTUzIDI4LjY3N0wyNTguNjg1IDMwLjExMzdIMjY0LjcyMUwyNjUuMjI2IDI4LjY3N0gyNTguMTUzWk0yNjUuOTg0IDI4LjY3N1YzMC4xMTM3SDI3MC4zNzlWMjguNjc3SDI2NS45ODRaTTIyNC4wNzQgMzEuNDcxVjMyLjkwNzZIMjI4LjQ2OVYzMS40NzFIMjI0LjA3NFpNMjM1LjY2MSAzMS40NzFWMzIuOTA3NkgyNDAuMDU2VjMxLjQ3MUgyMzUuNjYxWk0yNDQuMzMxIDMxLjQ3MVYzMi45MDc2SDI0OS4wMDVDMjQ5LjAwNSAzMi4yMjk2IDI0OC43MjYgMzEuNDcxIDI0OC43MjYgMzEuNDcxSDI0NC4zMzFWMzEuNDcxWk0yNTIuOTYgMzEuNDcxVjMyLjkwNzZIMjU3LjM1NVYzMS40NzFIMjUyLjk2Wk0yNTkuMTUxIDMxLjQ3MUwyNTkuNjY2IDMyLjkwNzZIMjYzLjcxM0wyNjQuMjMyIDMxLjQ3MUgyNTkuMTUxWk0yNjUuOTg0IDMxLjQ3MVYzMi45MDc2SDI3MC4zNzlWMzEuNDcxSDI2NS45ODRaTTIyMS4yMzcgMzQuMjY1VjM1LjcwMzdIMjMxLjM4NlYzNC4yNjVIMjIxLjIzN1pNMjMyLjc0NCAzNC4yNjVWMzUuNzAzN0gyNDguMzY3QzI0OC42OTYgMzUuMzc0MyAyNDguODg0IDM0LjI2NSAyNDguODg0IDM0LjI2NUgyMzIuNzQ0VjM0LjI2NVpNMjUwLjEyMyAzNC4yNjVWMzUuNzAzN0gyNTcuMzU1VjM0LjI2NUgyNTAuMTIzWk0yNjAuMTUxIDM0LjI2NUwyNjAuNjggMzUuNzAzN0gyNjIuNzM5TDI2My4yMzYgMzQuMjY1SDI2MC4xNTFaTTI2NS45ODQgMzQuMjY1VjM1LjcwMzdIMjczLjI5NVYzNC4yNjVIMjY1Ljk4NFpNMjIxLjIzNyAzNy4wNjFWMzguNDk3N0gyMzEuMzg2VjM3LjA2MUgyMjEuMjM3Wk0yMzIuNzQ0IDM3LjA2MVYzOC40OTU2SDI0My43NzNDMjQ1LjcyOSAzOC40OTU2IDI0Ny4yMDYgMzcuMDYxIDI0Ny4yMDYgMzcuMDYxSDIzMi43NDRaTTI1MC4xMjMgMzcuMDYxVjM4LjQ5NzdIMjU3LjM1NVYzNy4wNjFIMjUwLjEyM1pNMjYxLjE1NSAzNy4wNjFMMjYxLjY2NCAzOC40OTM2TDI2MS43NTIgMzguNDk1NkwyNjIuMjY5IDM3LjA2MUgyNjEuMTU1VjM3LjA2MVpNMjY1Ljk4NCAzNy4wNjFWMzguNDk3N0gyNzMuMjk1VjM3LjA2MUgyNjUuOTg0WiIgZmlsbD0iIzFGNzBDMSIvPg0KPC9nPg0KPGRlZnM+DQo8Y2xpcFBhdGggaWQ9ImNsaXAwXzU4XzExMSI+DQo8cmVjdCB3aWR0aD0iNDQuNDQ3MyIgaGVpZ2h0PSIyOS42MzE1IiBmaWxsPSJ3aGl0ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzUzLjk1NSAxNC44MTU1KSIvPg0KPC9jbGlwUGF0aD4NCjxjbGlwUGF0aCBpZD0iY2xpcDFfNThfMTExIj4NCjxyZWN0IHdpZHRoPSI3Ni41NDgxIiBoZWlnaHQ9IjE2LjM1MDciIGZpbGw9IndoaXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MjUuNTk5IDIwLjk4ODkpIi8+DQo8L2NsaXBQYXRoPg0KPGNsaXBQYXRoIGlkPSJjbGlwMl81OF8xMTEiPg0KPHJlY3Qgd2lkdGg9IjUyLjEzNzIiIGhlaWdodD0iMjAuOTk4NyIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIyMS4xNTggMTcuNDk5KSIvPg0KPC9jbGlwUGF0aD4NCjwvZGVmcz4NCjwvc3ZnPg0K" style="
            width: 742.5px;
            position: relative;
            top: 107px;
            left: 32px;
            ">
            <a href=`+Xm+` style="
        float: left;
        border-radius: 56px;
        background: #0D6EFD;
        padding-top: 8px;
        width: 280px;
        height: 38px;
        text-align: center;
        position: relative;
        top: 127px;
        left: 274px;
        font-size: 16px;
        color: white;
        text-decoration: none;
        letter-spacing: 0.02em;
    ">Claim your FREE account</a>
            <div style="
    font-size: 14px;
    position: relative;
    top: 180px;
    left: 19px;
    letter-spacing: 0.02em;
    font-weight: 500;
    line-height: 125%;
">have a Syncfusion account? <a href="https://www.syncfusion.com/account/login?ReturnUrl=/account/login" style="text-decoration: none;
color: #0D6EFD;
font-weight: 500;">Sign In</a></div>
        </div>
    </div>`;if(typeof document<"u"&&!u(document)){var e=B("div",{innerHTML:r});document.body.appendChild(e)}};var jI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),$u=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},tg=0,Km,RC=0,Jm=0,BC=!0,QC=!1,eg=!1;var Ve=function(r){jI(e,r);function e(t,i){var n=r.call(this,t,i)||this;return n.randomId=iC(),n.isStringTemplate=!1,n.needsID=!1,n.isReactHybrid=!1,u(n.enableRtl)&&n.setProperties({enableRtl:mC},!0),u(n.locale)&&n.setProperties({locale:ch},!0),n.moduleLoader=new DC(n),n.localObserver=new tn(n),Fm.on("notifyExternalChange",n.detectFunction,n,n.randomId),typeof window<"u"&&typeof document<"u"&&!jC()&&AC.indexOf(n.getModuleName())!==-1&&(Jm=Jm+1,Jm>5&&(BC=!1)),Ce(i)||n.appendTo(),n}return e.prototype.requiredModules=function(){return[]},e.prototype.destroy=function(){this.isDestroyed||(this.enablePersistence&&(this.setPersistData(),this.detachUnloadEvent()),this.localObserver.destroy(),!this.refreshing&&(L([this.element],["e-control"]),this.trigger("destroyed",{cancel:!1}),r.prototype.destroy.call(this),this.moduleLoader.clean(),Fm.off("notifyExternalChange",this.detectFunction,this.randomId)))},e.prototype.refresh=function(){this.refreshing=!0,this.moduleLoader.clean(),this.destroy(),this.clearChanges(),this.localObserver=new tn(this),this.preRender(),this.injectModules(),this.render(),this.refreshing=!1},e.prototype.accessMount=function(){this.mount&&!this.isReactHybrid&&this.mount()},e.prototype.getRootElement=function(){return this.isReactHybrid?this.actualElement:this.element},e.prototype.getLocalData=function(){var t=this.getModuleName()+this.element.id;return eg?window.localStorage.getItem(t+this.ej2StatePersistenceVersion):window.localStorage.getItem(t)},e.prototype.attachUnloadEvent=function(){this.handleUnload=this.handleUnload.bind(this),window.addEventListener("unload",this.handleUnload)},e.prototype.handleUnload=function(){this.setPersistData()},e.prototype.detachUnloadEvent=function(){window.removeEventListener("unload",this.handleUnload)},e.prototype.appendTo=function(t){if(!u(t)&&typeof t=="string"?this.element=$(t,document):u(t)||(this.element=t),!u(this.element)){var i="e-"+this.getModuleName().toLowerCase();E([this.element],["e-control",i]),this.isProtectedOnChange=!1,this.needsID&&!this.element.id&&(this.element.id=this.getUniqueID(this.getModuleName())),this.enablePersistence&&(this.mergePersistData(),this.attachUnloadEvent());var n=F("ej2_instances",this.element);(!n||n.indexOf(this)===-1)&&r.prototype.addInstance.call(this),this.preRender(),this.injectModules();var s={schedule:"all",diagram:"all",PdfViewer:"all",grid:["logger"],richtexteditor:["link","table","image","audio","video","formatPainter","emojiPicker","pasteCleanup","htmlEditor","toolbar"],treegrid:["filter"],gantt:["tooltip"],chart:["Export","Zoom"],accumulationchart:["Export"]},o=this.getModuleName();if(this.requiredModules&&(!s[""+o]||s[""+o]!=="all"))for(var a=this.requiredModules(),l=0,h=this.moduleLoader.getNonInjectedModules(a);l<h.length;l++){var c=h[l],p=c.name?c.name:c.member;if(!(s[""+o]&&s[""+o].indexOf(c.member)!==-1)){var d=o.charAt(0).toUpperCase()+o.slice(1);console.warn('[WARNING] :: Module "'+p+'" is not available in '+d+" component! You either misspelled the module name or forgot to load it.")}}!BC&&!QC&&(zC(),QC=!0),this.render(),this.mount?this.accessMount():this.trigger("created")}},e.prototype.renderComplete=function(t){if(ne()){var i="sfBlazor";window[i].renderComplete(this.element,t)}this.isRendered=!0},e.prototype.dataBind=function(){this.injectModules(),r.prototype.dataBind.call(this)},e.prototype.on=function(t,i,n){if(typeof t=="string")this.localObserver.on(t,i,n);else for(var s=0,o=t;s<o.length;s++){var a=o[s];this.localObserver.on(a.event,a.handler,a.context)}},e.prototype.off=function(t,i){if(typeof t=="string")this.localObserver.off(t,i);else for(var n=0,s=t;n<s.length;n++){var o=s[n];this.localObserver.off(o.event,o.handler)}},e.prototype.notify=function(t,i){this.isDestroyed!==!0&&this.localObserver.notify(t,i)},e.prototype.getInjectedModules=function(){return this.injectedModules},e.Inject=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.prototype.injectedModules||(this.prototype.injectedModules=[]);for(var n=0;n<t.length;n++)this.prototype.injectedModules.indexOf(t[parseInt(n.toString(),10)])===-1&&this.prototype.injectedModules.push(t[parseInt(n.toString(),10)])},e.prototype.createElement=function(t,i,n){return B(t,i)},e.prototype.triggerStateChange=function(t,i){this.isReactHybrid&&(this.setState(),this.currentContext={calls:t,args:i})},e.prototype.injectModules=function(){this.injectedModules&&this.injectedModules.length&&this.moduleLoader.inject(this.requiredModules(),this.injectedModules)},e.prototype.detectFunction=function(t){var i=Object.keys(t);i.length&&(this[i[0]]=t[i[0]])},e.prototype.mergePersistData=function(){var t;eg?t=window.localStorage.getItem(this.getModuleName()+this.element.id+this.ej2StatePersistenceVersion):t=window.localStorage.getItem(this.getModuleName()+this.element.id),u(t)||t===""||this.setProperties(JSON.parse(t),!0)},e.prototype.setPersistData=function(){this.isDestroyed||(eg?window.localStorage.setItem(this.getModuleName()+this.element.id+this.ej2StatePersistenceVersion,this.getPersistData()):window.localStorage.setItem(this.getModuleName()+this.element.id,this.getPersistData()))},e.prototype.renderReactTemplates=function(t){u(t)||t()},e.prototype.clearTemplate=function(t,i){},e.prototype.getUniqueID=function(t){return this.isHistoryChanged()&&(tg=0),Km=this.pageID(location.href),RC=history.length,t+"_"+Km+"_"+tg++},e.prototype.pageID=function(t){var i=0;if(t.length===0)return i;for(var n=0;n<t.length;n++){var s=t.charCodeAt(n);i=(i<<5)-i+s,i=i&i}return Math.abs(i)},e.prototype.isHistoryChanged=function(){return Km!==this.pageID(location.href)||RC!==history.length},e.prototype.addOnPersist=function(t){for(var i=this,n={},s=0,o=t;s<o.length;s++){var a=o[s],l=void 0;l=F(a,this),Ce(l)||Pe(a,this.getActualProperties(l),n)}return JSON.stringify(n,function(h,c){return i.getActualProperties(c)})},e.prototype.getActualProperties=function(t){return t instanceof de?F("properties",t):t},e.prototype.ignoreOnPersist=function(t){return JSON.stringify(this.iterateJsonProperties(this.properties,t))},e.prototype.iterateJsonProperties=function(t,i){for(var n={},s=function(c){if(i.indexOf(c)===-1){var p=t[c];if(typeof p=="object"&&!(p instanceof Array)){var d=i.filter(function(f){var m=RegExp;return new m(c+".").test(f)}).map(function(f){return f.replace(c+".","")});n[""+c]=o.iterateJsonProperties(o.getActualProperties(p),d)}else n[""+c]=p}},o=this,a=0,l=Object.keys(t);a<l.length;a++){var h=l[a];s(h)}return n},$u([b(!1)],e.prototype,"enablePersistence",void 0),$u([b()],e.prototype,"enableRtl",void 0),$u([b()],e.prototype,"locale",void 0),e=$u([Ee],e),e}(yi);(function(){typeof window<"u"&&window.addEventListener("popstate",function(){tg=0})})();var UC=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ut=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},zI={left:0,top:0,bottom:0,right:0},ig={isDragged:!1},RI=function(r){UC(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return ut([b(0)],e.prototype,"left",void 0),ut([b(0)],e.prototype,"top",void 0),e}(de);var HC=function(r){UC(e,r);function e(i,n){var s=r.call(this,n,i)||this;return s.dragLimit=t.getDefaultPosition(),s.borderWidth=t.getDefaultPosition(),s.padding=t.getDefaultPosition(),s.diffX=0,s.prevLeft=0,s.prevTop=0,s.dragProcessStarted=!1,s.eleTop=0,s.tapHoldTimer=0,s.externalInitialize=!1,s.diffY=0,s.parentScrollX=0,s.parentScrollY=0,s.droppables={},s.bind(),s}t=e,e.prototype.bind=function(){this.toggleEvents(),N.isIE&&E([this.element],"e-block-touch"),this.droppables[this.scope]={}},e.getDefaultPosition=function(){return ae({},zI)},e.prototype.toggleEvents=function(i){var n;Ce(this.handle)||(n=$(this.handle,this.element));var s=this.enableTapHold&&N.isDevice&&N.isTouch?this.mobileInitialize:this.initialize;i?y.remove(n||this.element,N.isSafari()?"touchstart":N.touchStartEvent,s):y.add(n||this.element,N.isSafari()?"touchstart":N.touchStartEvent,s,this)},e.prototype.mobileInitialize=function(i){var n=this,s=i.currentTarget;this.tapHoldTimer=setTimeout(function(){n.externalInitialize=!0,n.removeTapholdTimer(),n.initialize(i,s)},this.tapHoldThreshold),y.add(document,N.isSafari()?"touchmove":N.touchMoveEvent,this.removeTapholdTimer,this),y.add(document,N.isSafari()?"touchend":N.touchEndEvent,this.removeTapholdTimer,this)},e.prototype.removeTapholdTimer=function(){clearTimeout(this.tapHoldTimer),y.remove(document,N.isSafari()?"touchmove":N.touchMoveEvent,this.removeTapholdTimer),y.remove(document,N.isSafari()?"touchend":N.touchEndEvent,this.removeTapholdTimer)},e.prototype.getScrollableParent=function(i,n){var s={vertical:"scrollHeight",horizontal:"scrollWidth"},o={vertical:"clientHeight",horizontal:"clientWidth"};return u(i)?null:i[s[""+n]]>i[o[""+n]]?(n==="vertical"?i.scrollTop>0:i.scrollLeft>0)?(n==="vertical"?(this.parentScrollY=this.parentScrollY+(this.parentScrollY===0?i.scrollTop:i.scrollTop-this.parentScrollY),this.tempScrollHeight=i.scrollHeight):(this.parentScrollX=this.parentScrollX+(this.parentScrollX===0?i.scrollLeft:i.scrollLeft-this.parentScrollX),this.tempScrollWidth=i.scrollWidth),u(i)?i:this.getScrollableParent(i.parentNode,n)):this.getScrollableParent(i.parentNode,n):this.getScrollableParent(i.parentNode,n)},e.prototype.getScrollableValues=function(){this.parentScrollX=0,this.parentScrollY=0;var i=this.element.classList.contains("e-dialog")&&this.element.classList.contains("e-dlg-modal"),n=this.getScrollableParent(this.element.parentNode,"vertical"),s=this.getScrollableParent(this.element.parentNode,"horizontal")},e.prototype.initialize=function(i,n){if(this.currentStateTarget=i.target,!this.isDragStarted()){if(this.isDragStarted(!0),this.externalInitialize=!1,this.target=i.currentTarget||n,this.dragProcessStarted=!1,this.abort){var s=this.abort;typeof s=="string"&&(s=[s]);for(var o=0;o<s.length;o++)if(!u(S(i.target,s[parseInt(o.toString(),10)]))){this.isDragStarted()&&this.isDragStarted(!0);return}}this.preventDefault&&!Ce(i.changedTouches)&&i.type!=="touchstart"&&i.preventDefault(),this.element.setAttribute("aria-grabbed","true");var a=this.getCoordinates(i);if(this.initialPosition={x:a.pageX,y:a.pageY},!this.clone){var l=this.element.getBoundingClientRect();this.getScrollableValues(),i.clientX===i.pageX&&(this.parentScrollX=0),i.clientY===i.pageY&&(this.parentScrollY=0),this.relativeXPosition=a.pageX-(l.left+this.parentScrollX),this.relativeYPosition=a.pageY-(l.top+this.parentScrollY)}this.externalInitialize?this.intDragStart(i):(y.add(document,N.isSafari()?"touchmove":N.touchMoveEvent,this.intDragStart,this),y.add(document,N.isSafari()?"touchend":N.touchEndEvent,this.intDestroy,this)),this.toggleEvents(!0),i.type!=="touchstart"&&this.isPreventSelect&&document.body.classList.add("e-prevent-select"),this.externalInitialize=!1,y.trigger(document.documentElement,N.isSafari()?"touchstart":N.touchStartEvent,i)}},e.prototype.intDragStart=function(i){this.removeTapholdTimer();var n=!Ce(i.changedTouches);if(!(n&&i.changedTouches.length!==1)){var s=this.getCoordinates(i),o,a=getComputedStyle(this.element);this.margin={left:parseInt(a.marginLeft,10),top:parseInt(a.marginTop,10),right:parseInt(a.marginRight,10),bottom:parseInt(a.marginBottom,10)};var l=this.element;if(this.clone&&this.dragTarget){var h=S(i.target,this.dragTarget);u(h)||(l=h)}this.isReplaceDragEle&&(l=this.currentStateCheck(i.target,l)),this.offset=this.calculateParentPosition(l),this.position=this.getMousePosition(i,this.isDragScroll);var c=this.initialPosition.x-s.pageX,p=this.initialPosition.y-s.pageY,d=Math.sqrt(c*c+p*p);if(d>=this.distance||this.externalInitialize){var f=this.getHelperElement(i);if(!f||u(f))return;n&&i.preventDefault();var m=this.helperElement=f;if(this.parentClientRect=this.calculateParentPosition(m.offsetParent),this.dragStart){var g=this.getProperTargetElement(i),v={event:i,element:l,target:g,bindEvents:ne()?this.bindDragEvents.bind(this):null,dragElement:m};this.trigger("dragStart",v)}this.dragArea?this.setDragArea():(this.dragLimit={left:0,right:0,bottom:0,top:0},this.borderWidth={top:0,left:0}),o={left:this.position.left-this.parentClientRect.left,top:this.position.top-this.parentClientRect.top},this.clone&&!this.enableTailMode&&(this.diffX=this.position.left-this.offset.left,this.diffY=this.position.top-this.offset.top),this.getScrollableValues();var O=getComputedStyle(l),C=parseFloat(O.marginTop);this.clone&&C!==0&&(o.top+=C),this.eleTop=isNaN(parseFloat(O.top))?0:parseFloat(O.top)-this.offset.top,this.enableScrollHandler&&!this.clone&&(o.top-=this.parentScrollY,o.left-=this.parentScrollX);var x=this.getProcessedPositionValue({top:o.top-this.diffY+"px",left:o.left-this.diffX+"px"});this.dragArea&&typeof this.dragArea!="string"&&this.dragArea.classList.contains("e-kanban-content")&&this.dragArea.style.position==="relative"&&(o.top+=this.dragArea.scrollTop),this.dragElePosition={top:o.top,left:o.left},he(m,this.getDragPosition({position:"absolute",left:x.left,top:x.top})),y.remove(document,N.isSafari()?"touchmove":N.touchMoveEvent,this.intDragStart),y.remove(document,N.isSafari()?"touchend":N.touchEndEvent,this.intDestroy),ne()||this.bindDragEvents(m)}}},e.prototype.bindDragEvents=function(i){ai(i)?(y.add(document,N.isSafari()?"touchmove":N.touchMoveEvent,this.intDrag,this),y.add(document,N.isSafari()?"touchend":N.touchEndEvent,this.intDragStop,this),this.setGlobalDroppables(!1,this.element,i)):(this.toggleEvents(),document.body.classList.remove("e-prevent-select"))},e.prototype.elementInViewport=function(i){for(this.top=i.offsetTop,this.left=i.offsetLeft,this.width=i.offsetWidth,this.height=i.offsetHeight;i.offsetParent;)i=i.offsetParent,this.top+=i.offsetTop,this.left+=i.offsetLeft;return this.top>=window.pageYOffset&&this.left>=window.pageXOffset&&this.top+this.height<=window.pageYOffset+window.innerHeight&&this.left+this.width<=window.pageXOffset+window.innerWidth},e.prototype.getProcessedPositionValue=function(i){return this.queryPositionInfo?this.queryPositionInfo(i):i},e.prototype.calculateParentPosition=function(i){if(u(i))return{left:0,top:0};var n=i.getBoundingClientRect(),s=getComputedStyle(i);return{left:n.left+window.pageXOffset-parseInt(s.marginLeft,10),top:n.top+window.pageYOffset-parseInt(s.marginTop,10)}},e.prototype.intDrag=function(i){if(!(!Ce(i.changedTouches)&&i.changedTouches.length!==1)){this.clone&&i.changedTouches&&N.isDevice&&N.isTouch&&i.preventDefault();var n,s;this.position=this.getMousePosition(i,this.isDragScroll);var o=this.getDocumentWidthHeight("Height");o<this.position.top&&(this.position.top=o);var a=this.getDocumentWidthHeight("Width");if(a<this.position.left&&(this.position.left=a),this.drag){var l=this.getProperTargetElement(i);this.trigger("drag",{event:i,element:this.element,target:l})}var h=this.checkTargetElement(i);if(h.target&&h.instance){var c=!0;this.hoverObject&&(this.hoverObject.instance!==h.instance?this.triggerOutFunction(i,h):c=!1),c&&(h.instance.dragData[this.scope]=this.droppables[this.scope],h.instance.intOver(i,h.target),this.hoverObject=h)}else this.hoverObject&&this.triggerOutFunction(i,h);var p=this.droppables[this.scope].helper;this.parentClientRect=this.calculateParentPosition(this.helperElement.offsetParent);var d=this.parentClientRect.left,f=this.parentClientRect.top,m=this.getCoordinates(i),g=m.pageX,v=m.pageY,O=this.position.left-this.diffX,C=this.position.top-this.diffY,x=getComputedStyle(p);if(this.dragArea){if(this.enableAutoScroll&&this.setDragArea(),this.pageX!==g||this.skipDistanceCheck){var M=p.offsetWidth+(parseFloat(x.marginLeft)+parseFloat(x.marginRight));this.dragLimit.left>O&&O>0?n=this.dragLimit.left:this.dragLimit.right+window.pageXOffset<O+M&&O>0?n=O-(O-this.dragLimit.right)+window.pageXOffset-M:n=O<0?this.dragLimit.left:O}if(this.pageY!==v||this.skipDistanceCheck){var k=p.offsetHeight+(parseFloat(x.marginTop)+parseFloat(x.marginBottom));this.dragLimit.top>C&&C>0?s=this.dragLimit.top:this.dragLimit.bottom+window.pageYOffset<C+k&&C>0?s=C-(C-this.dragLimit.bottom)+window.pageYOffset-k:s=C<0?this.dragLimit.top:C}}else n=O,s=C;var A=f+this.borderWidth.top,j=d+this.borderWidth.left;this.dragProcessStarted&&(u(s)&&(s=this.prevTop),u(n)&&(n=this.prevLeft));var U,q;if(this.helperElement.classList.contains("e-treeview"))this.dragArea?(this.dragLimit.top=this.clone?this.dragLimit.top:0,U=s-A<0?this.dragLimit.top:s-this.borderWidth.top,q=n-j<0?this.dragLimit.left:n-this.borderWidth.left):(U=s-this.borderWidth.top,q=n-this.borderWidth.left);else if(this.dragArea){var K=this.helperElement.classList.contains("e-dialog");this.dragLimit.top=this.clone?this.dragLimit.top:0,U=s-A<0?this.dragLimit.top:s-A,q=n-j<0?K?n-(j-this.borderWidth.left):this.dragElePosition.left:n-j}else U=s-A,q=n-j;var oe=parseFloat(getComputedStyle(this.element).marginTop);if(oe>0&&(this.clone&&(U+=oe,C<0&&(oe+C>=0?U=oe+C:U-=oe),this.dragArea&&(U=this.dragLimit.bottom<U?this.dragLimit.bottom:U)),s-A<0))if(C+oe+(p.offsetHeight-A)>=0){var ie=this.dragLimit.top+C-A;ie+oe+A<0?U-=oe+A:U=ie}else U-=oe+A;if(this.dragArea&&this.helperElement.classList.contains("e-treeview")){var k=p.offsetHeight+(parseFloat(x.marginTop)+parseFloat(x.marginBottom));U=U+k>this.dragLimit.bottom?this.dragLimit.bottom-k:U}this.enableScrollHandler&&!this.clone&&(U-=this.parentScrollY,q-=this.parentScrollX),this.dragArea&&typeof this.dragArea!="string"&&this.dragArea.classList.contains("e-kanban-content")&&this.dragArea.style.position==="relative"&&(U+=this.dragArea.scrollTop);var se=this.getProcessedPositionValue({top:U+"px",left:q+"px"});he(p,this.getDragPosition(se)),!this.elementInViewport(p)&&this.enableAutoScroll&&!this.helperElement.classList.contains("e-treeview")&&this.helperElement.scrollIntoView();var H=document.querySelectorAll(":hover");if(this.enableAutoScroll&&this.helperElement.classList.contains("e-treeview")){H.length===0&&(H=this.getPathElements(i));var z=this.getScrollParent(H,!1);this.elementInViewport(this.helperElement)?this.getScrollPosition(z,U):this.elementInViewport(this.helperElement)||(H=[].slice.call(document.querySelectorAll(":hover")),H.length===0&&(H=this.getPathElements(i)),z=this.getScrollParent(H,!0),this.getScrollPosition(z,U))}this.dragProcessStarted=!0,this.prevLeft=n,this.prevTop=s,this.position.left=n,this.position.top=s,this.pageX=g,this.pageY=v}},e.prototype.getScrollParent=function(i,n){for(var s=n?i.reverse():i,o,a=s.length-1;a>=0;a--)if(o=window.getComputedStyle(s[parseInt(a.toString(),10)])["overflow-y"],(o==="auto"||o==="scroll")&&s[parseInt(a.toString(),10)].scrollHeight>s[parseInt(a.toString(),10)].clientHeight)return s[parseInt(a.toString(),10)];if(o=window.getComputedStyle(document.scrollingElement)["overflow-y"],o==="visible")return document.scrollingElement.style.overflow="auto",document.scrollingElement},e.prototype.getScrollPosition=function(i,n){if(i&&i===document.scrollingElement)i.clientHeight+document.scrollingElement.scrollTop-this.helperElement.clientHeight<n&&i.getBoundingClientRect().height+this.parentClientRect.top>n?i.scrollTop+=this.helperElement.clientHeight:i.scrollTop>n-this.helperElement.clientHeight&&(i.scrollTop-=this.helperElement.clientHeight);else if(i&&i!==document.scrollingElement){var s=document.scrollingElement.scrollTop,o=this.helperElement.clientHeight;i.clientHeight+i.getBoundingClientRect().top-o+s<n?i.scrollTop+=this.helperElement.clientHeight:i.getBoundingClientRect().top>n-o-s&&(i.scrollTop-=this.helperElement.clientHeight)}},e.prototype.getPathElements=function(i){var n=i.clientX>0?i.clientX:0,s=i.clientY>0?i.clientY:0;return document.elementsFromPoint(n,s)},e.prototype.triggerOutFunction=function(i,n){this.hoverObject.instance.intOut(i,n.target),this.hoverObject.instance.dragData[this.scope]=null,this.hoverObject=null},e.prototype.getDragPosition=function(i){var n=ae({},i);return this.axis&&(this.axis==="x"?delete n.top:this.axis==="y"&&delete n.left),n},e.prototype.getDocumentWidthHeight=function(i){var n=document.body,s=document.documentElement,o=Math.max(n["scroll"+i],s["scroll"+i],n["offset"+i],s["offset"+i],s["client"+i]);return o},e.prototype.intDragStop=function(i){if(this.dragProcessStarted=!1,!(!Ce(i.changedTouches)&&i.changedTouches.length!==1)){var n=["touchend","pointerup","mouseup"];if(n.indexOf(i.type)!==-1){if(this.dragStop){var s=this.getProperTargetElement(i);this.trigger("dragStop",{event:i,element:this.element,target:s,helper:this.helperElement})}this.intDestroy(i)}else this.element.setAttribute("aria-grabbed","false");var o=this.checkTargetElement(i);o.target&&o.instance&&(o.instance.dragStopCalled=!0,o.instance.dragData[this.scope]=this.droppables[this.scope],o.instance.intDrop(i,o.target)),this.setGlobalDroppables(!0),document.body.classList.remove("e-prevent-select")}},e.prototype.intDestroy=function(i){this.dragProcessStarted=!1,this.toggleEvents(),document.body.classList.remove("e-prevent-select"),this.element.setAttribute("aria-grabbed","false"),y.remove(document,N.isSafari()?"touchmove":N.touchMoveEvent,this.intDragStart),y.remove(document,N.isSafari()?"touchend":N.touchEndEvent,this.intDragStop),y.remove(document,N.isSafari()?"touchend":N.touchEndEvent,this.intDestroy),y.remove(document,N.isSafari()?"touchmove":N.touchMoveEvent,this.intDrag),this.isDragStarted()&&this.isDragStarted(!0)},e.prototype.onPropertyChanged=function(i,n){},e.prototype.getModuleName=function(){return"draggable"},e.prototype.isDragStarted=function(i){return i&&(ig.isDragged=!ig.isDragged),ig.isDragged},e.prototype.setDragArea=function(){var i,n,s=0,o=0,a,l=typeof this.dragArea;if(l==="string"?a=$(this.dragArea):a=this.dragArea,a){var h=a.getBoundingClientRect();i=a.scrollWidth?a.scrollWidth:h.right-h.left,n=a.scrollHeight?this.dragArea&&!u(this.helperElement)&&this.helperElement.classList.contains("e-treeview")?a.clientHeight:a.scrollHeight:h.bottom-h.top;for(var c=["Top","Left","Bottom","Right"],p=getComputedStyle(a),d=0;d<c.length;d++){var f=c[parseInt(d.toString(),10)],m=p["border"+f+"Width"],g=p["padding"+f],v=f.toLowerCase();this.borderWidth[""+v]=isNaN(parseFloat(m))?0:parseFloat(m),this.padding[""+v]=isNaN(parseFloat(g))?0:parseFloat(g)}this.dragArea&&!u(this.helperElement)&&this.helperElement.classList.contains("e-treeview")?s=h.top+document.scrollingElement.scrollTop:s=h.top,o=h.left,this.dragLimit.left=o+this.borderWidth.left+this.padding.left,this.dragLimit.top=a.offsetTop+this.borderWidth.top+this.padding.top,this.dragLimit.right=o+i-(this.borderWidth.right+this.padding.right),this.dragLimit.bottom=s+n-(this.borderWidth.bottom+this.padding.bottom)}},e.prototype.getProperTargetElement=function(i){var n=this.getCoordinates(i),s,o=this.helperElement.style.pointerEvents||"",a=i.type.indexOf("pointer")!==-1&&N.info.name==="safari"&&parseInt(N.info.version,10)>12;return lh(i.target,this.helperElement)||i.type.indexOf("touch")!==-1||a?(this.helperElement.style.pointerEvents="none",s=document.elementFromPoint(n.clientX,n.clientY),this.helperElement.style.pointerEvents=o):s=i.target,s},e.prototype.currentStateCheck=function(i,n){var s;return!u(this.currentStateTarget)&&this.currentStateTarget!==i?s=this.currentStateTarget:s=u(n)?i:n,s},e.prototype.getMousePosition=function(i,n){var s=i.srcElement!==void 0?i.srcElement:i.target,o=this.getCoordinates(i),a,l,h=u(s.offsetParent);if(n?(a=this.clone?o.pageX:o.pageX+(h?0:s.offsetParent.scrollLeft)-this.relativeXPosition,l=this.clone?o.pageY:o.pageY+(h?0:s.offsetParent.scrollTop)-this.relativeYPosition):(a=this.clone?o.pageX:o.pageX+window.pageXOffset-this.relativeXPosition,l=this.clone?o.pageY:o.pageY+window.pageYOffset-this.relativeYPosition),document.scrollingElement&&!n&&!this.clone){var c=document.scrollingElement,p=c.scrollHeight>0&&c.scrollHeight>c.clientHeight&&c.scrollTop>0,d=c.scrollWidth>0&&c.scrollWidth>c.clientWidth&&c.scrollLeft>0;a=d?a-c.scrollLeft:a,l=p?l-c.scrollTop:l}return{left:a-(this.margin.left+this.cursorAt.left),top:l-(this.margin.top+this.cursorAt.top)}},e.prototype.getCoordinates=function(i){return i.type.indexOf("touch")>-1?i.changedTouches[0]:i},e.prototype.getHelperElement=function(i){var n;return this.clone?this.helper?n=this.helper({sender:i,element:this.target}):(n=B("div",{className:"e-drag-helper e-block-touch",innerHTML:"Draggable"}),document.body.appendChild(n)):n=this.element,n},e.prototype.setGlobalDroppables=function(i,n,s){this.droppables[this.scope]=i?null:{draggable:n,helper:s,draggedElement:this.element}},e.prototype.checkTargetElement=function(i){var n=this.getProperTargetElement(i),s=this.getDropInstance(n);if(!s&&n&&!u(n.parentNode)){var o=S(n.parentNode,".e-droppable")||n.parentElement;o&&(s=this.getDropInstance(o))}return{target:n,instance:s}},e.prototype.getDropInstance=function(i){var n="getModuleName",s,o=i&&i.ej2_instances;if(o)for(var a=0,l=o;a<l.length;a++){var h=l[a];if(h[""+n]()==="droppable"){s=h;break}}return s},e.prototype.destroy=function(){this.toggleEvents(!0),r.prototype.destroy.call(this)};var t;return ut([we({},RI)],e.prototype,"cursorAt",void 0),ut([b(!0)],e.prototype,"clone",void 0),ut([b()],e.prototype,"dragArea",void 0),ut([b()],e.prototype,"isDragScroll",void 0),ut([b()],e.prototype,"isReplaceDragEle",void 0),ut([b(!0)],e.prototype,"isPreventSelect",void 0),ut([R()],e.prototype,"drag",void 0),ut([R()],e.prototype,"dragStart",void 0),ut([R()],e.prototype,"dragStop",void 0),ut([b(1)],e.prototype,"distance",void 0),ut([b()],e.prototype,"handle",void 0),ut([b()],e.prototype,"abort",void 0),ut([b()],e.prototype,"helper",void 0),ut([b("default")],e.prototype,"scope",void 0),ut([b("")],e.prototype,"dragTarget",void 0),ut([b()],e.prototype,"axis",void 0),ut([b()],e.prototype,"queryPositionInfo",void 0),ut([b(!1)],e.prototype,"enableTailMode",void 0),ut([b(!1)],e.prototype,"skipDistanceCheck",void 0),ut([b(!0)],e.prototype,"preventDefault",void 0),ut([b(!1)],e.prototype,"enableAutoScroll",void 0),ut([b(!1)],e.prototype,"enableTapHold",void 0),ut([b(750)],e.prototype,"tapHoldThreshold",void 0),ut([b(!1)],e.prototype,"enableScrollHandler",void 0),e=t=ut([Ee],e),e}(yi);var BI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ua=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},h$=function(r){BI(e,r);function e(t,i){var n=r.call(this,i,t)||this;return n.mouseOver=!1,n.dragData={},n.dragStopCalled=!1,n.bind(),n}return e.prototype.bind=function(){this.wireEvents()},e.prototype.wireEvents=function(){y.add(this.element,N.isSafari()?"touchend":N.touchEndEvent,this.intDrop,this)},e.prototype.onPropertyChanged=function(t,i){},e.prototype.getModuleName=function(){return"droppable"},e.prototype.intOver=function(t,i){if(!this.mouseOver){var n=this.dragData[this.scope];this.trigger("over",{event:t,target:i,dragData:n}),this.mouseOver=!0}},e.prototype.intOut=function(t,i){this.mouseOver&&(this.trigger("out",{evt:t,target:i}),this.mouseOver=!1)},e.prototype.intDrop=function(t,i){if(this.dragStopCalled)this.dragStopCalled=!1;else return;var n=!0,s=this.dragData[this.scope],o=s?s.helper&&ai(s.helper):!1,a;o&&(a=this.isDropArea(t,s.helper,i),this.accept&&(n=$m(s.helper,this.accept))),o&&this.drop&&a.canDrop&&n&&this.trigger("drop",{event:t,target:a.target,droppedElement:s.helper,dragData:s}),this.mouseOver=!1},e.prototype.isDropArea=function(t,i,n){var s={canDrop:!0,target:n||t.target},o=t.type==="touchend";if(o||s.target===i){i.style.display="none";var a=o?t.changedTouches[0]:t,l=document.elementFromPoint(a.clientX,a.clientY);s.canDrop=!1,s.canDrop=lh(l,this.element),s.canDrop&&(s.target=l),i.style.display=""}return s},e.prototype.destroy=function(){y.remove(this.element,N.isSafari()?"touchend":N.touchEndEvent,this.intDrop),r.prototype.destroy.call(this)},Ua([b()],e.prototype,"accept",void 0),Ua([b("default")],e.prototype,"scope",void 0),Ua([R()],e.prototype,"drop",void 0),Ua([R()],e.prototype,"over",void 0),Ua([R()],e.prototype,"out",void 0),e=Ua([Ee],e),e}(yi);var QI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Yu=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},UI={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222},Gr=function(r){QI(e,r);function e(i,n){var s=r.call(this,n,i)||this;return s.keyPressHandler=function(o){for(var a=o.altKey,l=o.ctrlKey,h=o.shiftKey,c=o.which,p=Object.keys(s.keyConfigs),d=0,f=p;d<f.length;d++)for(var m=f[d],g=s.keyConfigs[""+m].split(","),v=0,O=g;v<O.length;v++){var C=O[v],x=t.getKeyConfigData(C.trim());a===x.altKey&&l===x.ctrlKey&&h===x.shiftKey&&c===x.keyCode&&(o.action=m,s.keyAction&&s.keyAction(o))}},s.bind(),s}t=e,e.prototype.destroy=function(){this.unwireEvents(),r.prototype.destroy.call(this)},e.prototype.onPropertyChanged=function(i,n){},e.prototype.bind=function(){this.wireEvents()},e.prototype.getModuleName=function(){return"keyboard"},e.prototype.wireEvents=function(){this.element.addEventListener(this.eventName,this.keyPressHandler)},e.prototype.unwireEvents=function(){this.element.removeEventListener(this.eventName,this.keyPressHandler)},e.getKeyConfigData=function(i){if(i in this.configCache)return this.configCache[""+i];var n=i.toLowerCase().split("+"),s={altKey:n.indexOf("alt")!==-1,ctrlKey:n.indexOf("ctrl")!==-1,shiftKey:n.indexOf("shift")!==-1,keyCode:null};return n[n.length-1].length>1&&Number(n[n.length-1])?s.keyCode=Number(n[n.length-1]):s.keyCode=t.getKeyCode(n[n.length-1]),t.configCache[""+i]=s,s},e.getKeyCode=function(i){return UI[""+i]||i.toUpperCase().charCodeAt(0)};var t;return e.configCache={},Yu([b({})],e.prototype,"keyConfigs",void 0),Yu([b("keyup")],e.prototype,"eventName",void 0),Yu([R()],e.prototype,"keyAction",void 0),e=t=Yu([Ee],e),e}(yi);var Qi=function(){function r(e,t,i){this.controlName=e,this.localeStrings=t,this.setLocale(i||ch)}return r.prototype.setLocale=function(e){var t=this.intGetControlConstant(r.locale,e);this.currentLocale=t||this.localeStrings},r.load=function(e){this.locale=ae(this.locale,e,{},!0)},r.prototype.getConstant=function(e){return u(this.currentLocale[""+e])?this.localeStrings[""+e]||"":this.currentLocale[""+e]},r.prototype.intGetControlConstant=function(e,t){return e[""+t]?e[""+t][this.controlName]:null},r.locale={},r}();var _C=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Kr=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},HI=function(r){_C(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Kr([b(50)],e.prototype,"swipeThresholdDistance",void 0),e}(de);var _I=/(Up|Down)/,mr=function(r){_C(e,r);function e(t,i){var n=r.call(this,i,t)||this;return n.touchAction=!0,n.tapCount=0,n.startEvent=function(s){if(n.touchAction===!0){var o=n.updateChangeTouches(s);s.changedTouches!==void 0&&(n.touchAction=!1),n.isTouchMoved=!1,n.movedDirection="",n.startPoint=n.lastMovedPoint={clientX:o.clientX,clientY:o.clientY},n.startEventData=o,n.hScrollLocked=n.vScrollLocked=!1,n.tStampStart=Date.now(),n.timeOutTapHold=setTimeout(function(){n.tapHoldEvent(s)},n.tapHoldThreshold),y.add(n.element,N.touchMoveEvent,n.moveEvent,n),y.add(n.element,N.touchEndEvent,n.endEvent,n),y.add(n.element,N.touchCancelEvent,n.cancelEvent,n)}},n.moveEvent=function(s){var o=n.updateChangeTouches(s);n.movedPoint=o,n.isTouchMoved=!(o.clientX===n.startPoint.clientX&&o.clientY===n.startPoint.clientY);var a={};if(n.isTouchMoved){clearTimeout(n.timeOutTapHold),n.calcScrollPoints(s);var l={startEvents:n.startEventData,originalEvent:s,startX:n.startPoint.clientX,startY:n.startPoint.clientY,distanceX:n.distanceX,distanceY:n.distanceY,scrollDirection:n.scrollDirection,velocity:n.getVelocity(o)};a=ae(a,{},l),n.trigger("scroll",a),n.lastMovedPoint={clientX:o.clientX,clientY:o.clientY}}},n.cancelEvent=function(s){clearTimeout(n.timeOutTapHold),clearTimeout(n.timeOutTap),n.tapCount=0,n.swipeFn(s),y.remove(n.element,N.touchCancelEvent,n.cancelEvent)},n.endEvent=function(s){n.swipeFn(s),n.isTouchMoved||typeof n.tap=="function"&&(n.trigger("tap",{originalEvent:s,tapCount:++n.tapCount}),n.timeOutTap=setTimeout(function(){n.tapCount=0},n.tapThreshold)),n.modeclear()},n.swipeFn=function(s){clearTimeout(n.timeOutTapHold),clearTimeout(n.timeOutTap);var o=n.updateChangeTouches(s),a=o.clientX-n.startPoint.clientX,l=o.clientY-n.startPoint.clientY;a=Math.floor(a<0?-1*a:a),l=Math.floor(l<0?-1*l:a),n.isTouchMoved=a>1||l>1;var h=/Firefox/.test(N.userAgent);h&&o.clientX===0&&o.clientY===0&&s.type==="mouseup"&&(n.isTouchMoved=!1),n.endPoint=o,n.calcPoints(s);var c={originalEvent:s,startEvents:n.startEventData,startX:n.startPoint.clientX,startY:n.startPoint.clientY,distanceX:n.distanceX,distanceY:n.distanceY,swipeDirection:n.movedDirection,velocity:n.getVelocity(o)};if(n.isTouchMoved){var p=void 0,d=n.swipeSettings.swipeThresholdDistance;p=ae(p,n.defaultArgs,c);var f=!1,m=n.element,g=n.isScrollable(m),v=_I.test(n.movedDirection);(d<n.distanceX&&!v||d<n.distanceY&&v)&&(g?f=n.checkSwipe(m,v):f=!0),f&&n.trigger("swipe",p)}n.modeclear()},n.modeclear=function(){n.modeClear=setTimeout(function(){n.touchAction=!0},typeof n.tap!="function"?0:20),n.lastTapTime=new Date().getTime(),y.remove(n.element,N.touchMoveEvent,n.moveEvent),y.remove(n.element,N.touchEndEvent,n.endEvent),y.remove(n.element,N.touchCancelEvent,n.cancelEvent)},n.bind(),n}return e.prototype.onPropertyChanged=function(t,i){},e.prototype.bind=function(){this.wireEvents(),N.isIE&&this.element.classList.add("e-block-touch")},e.prototype.destroy=function(){this.unwireEvents(),r.prototype.destroy.call(this)},e.prototype.wireEvents=function(){y.add(this.element,N.touchStartEvent,this.startEvent,this)},e.prototype.unwireEvents=function(){y.remove(this.element,N.touchStartEvent,this.startEvent)},e.prototype.getModuleName=function(){return"touch"},e.prototype.isScrollable=function(t){var i=getComputedStyle(t),n=i.overflow+i.overflowX+i.overflowY;return!!/(auto|scroll)/.test(n)},e.prototype.tapHoldEvent=function(t){this.tapCount=0,this.touchAction=!0;var i;y.remove(this.element,N.touchMoveEvent,this.moveEvent),y.remove(this.element,N.touchEndEvent,this.endEvent),i={originalEvent:t},this.trigger("tapHold",i),y.remove(this.element,N.touchCancelEvent,this.cancelEvent)},e.prototype.calcPoints=function(t){var i=this.updateChangeTouches(t);this.defaultArgs={originalEvent:t},this.distanceX=Math.abs(Math.abs(i.clientX)-Math.abs(this.startPoint.clientX)),this.distanceY=Math.abs(Math.abs(i.clientY)-Math.abs(this.startPoint.clientY)),this.distanceX>this.distanceY?this.movedDirection=i.clientX>this.startPoint.clientX?"Right":"Left":this.movedDirection=i.clientY<this.startPoint.clientY?"Up":"Down"},e.prototype.calcScrollPoints=function(t){var i=this.updateChangeTouches(t);this.defaultArgs={originalEvent:t},this.distanceX=Math.abs(Math.abs(i.clientX)-Math.abs(this.lastMovedPoint.clientX)),this.distanceY=Math.abs(Math.abs(i.clientY)-Math.abs(this.lastMovedPoint.clientY)),(this.distanceX>this.distanceY||this.hScrollLocked===!0)&&this.vScrollLocked===!1?(this.scrollDirection=i.clientX>this.lastMovedPoint.clientX?"Right":"Left",this.hScrollLocked=!0):(this.scrollDirection=i.clientY<this.lastMovedPoint.clientY?"Up":"Down",this.vScrollLocked=!0)},e.prototype.getVelocity=function(t){var i=t.clientX,n=t.clientY,s=Date.now(),o=i-this.startPoint.clientX,a=n-this.startPoint.clientX,l=s-this.tStampStart;return Math.sqrt(o*o+a*a)/l},e.prototype.checkSwipe=function(t,i){var n=["scroll","offset"],s=i?["Height","Top"]:["Width","Left"];return t[n[0]+s[0]]<=t[n[1]+s[0]]?!0:t[n[0]+s[1]]===0||t[n[1]+s[0]]+t[n[0]+s[1]]>=t[n[0]+s[0]]},e.prototype.updateChangeTouches=function(t){var i=t.changedTouches&&t.changedTouches.length!==0?t.changedTouches[0]:t;return i},Kr([R()],e.prototype,"tap",void 0),Kr([R()],e.prototype,"tapHold",void 0),Kr([R()],e.prototype,"swipe",void 0),Kr([R()],e.prototype,"scroll",void 0),Kr([b(350)],e.prototype,"tapThreshold",void 0),Kr([b(750)],e.prototype,"tapHoldThreshold",void 0),Kr([we({},HI)],e.prototype,"swipeSettings",void 0),e=Kr([Ee],e),e}(yi);var FI=new RegExp("\\n|\\r|\\s\\s+","g"),VI=new RegExp(/'|"/g),$I=new RegExp("if ?\\("),YI=new RegExp("else if ?\\("),FC=new RegExp("else"),qI=new RegExp("for ?\\("),VC=new RegExp("(/if|/for)"),WI=new RegExp("\\((.*)\\)",""),sg=new RegExp("^[0-9]+$","g"),ZI=new RegExp(`[\\w"'.\\s+]+`,"g"),XI=new RegExp('"(.*?)"',"g"),GI=new RegExp(`[\\w"'@#$.\\s-+]+`,"g"),$C=new RegExp("\\${([^}]*)}","g"),KI=/^\..*/gm,ng=/\\/gi,JI=/\\\\/gi,e4=new RegExp(`[\\w"'@#$.\\s+]+`,"g"),t4=/\window\./gm;function WC(r,e,t){if(typeof r=="function")return r;var i="data",n=i4(r,i,e,t),s=`var valueRegEx = (/value=\\'([A-Za-z0-9 _]*)((.)([\\w)(!-;?-\u25A0\\s]+)['])/g);
        var hrefRegex = (/(?:href)([\\s='"./]+)([\\w-./?=&\\\\#"]+)((.)([\\w)(!-;/?-\u25A0\\s]+)['])/g);
        if(str.match(valueRegEx)){
            var check = str.match(valueRegEx);
            var str1 = str;
            for (var i=0; i < check.length; i++) {
                var check1 = str.match(valueRegEx)[i].split('value=')[1];
                var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '"') : check1;
                change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'"') : change;
                str1 = str1.replace(check1, change);
            }
            str = str.replace(str, str1);
        }
        else if (str.match(/(?:href='')/) === null) {
            if(str.match(hrefRegex)) {
                var check = str.match(hrefRegex);
                var str1 = str;
                for (var i=0; i < check.length; i++) {
                    var check1 = str.match(hrefRegex)[i].split('href=')[1];
                    if (check1) {
                        var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '"') : check1;
                        change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'"') : change;
                        str1 = str1.replace(check1, change);
                    }
                }
                str = str.replace(str, str1);
            }
        }
        `,o='var str="'+n+'";'+s+" return str;",a=new Function(i,o);return a.bind(e)}function i4(r,e,t,i){var n=0,s=[],o=r.match(/class="([^"]+|)\s{2}/g),a="";if(o&&o.forEach(function(p){a=p.replace(/\s\s+/g," "),r=r.replace(p,a)}),$C.test(r)){for(var l=!1,h="",c=0;c<r.length;c++)r[c+""]==="$"&&r[c+1]==="{"?l=!0:r[c+""]==="}"&&(l=!1),h+=r[c+""]==='"'&&!l?'\\"':r[c+""];r=h}else r=r.replace(/\\?"/g,'\\"');return r.replace(FI,"").replace(XI,"'$1'").replace($C,function(p,d,f,m){var g=/@|#|\$/gm,v=d.match(WI);if(v){var O=v[1];if(YI.test(d))d='";} '+d.replace(v[1],O.replace(ZI,function(q){return q=q.trim(),Ha(q,!VI.test(q)&&s.indexOf(q)===-1,e,s,i)}))+`{ 
 str = str + "`;else if($I.test(d))d='"; '+d.replace(v[1],O.replace(GI,function(q){return qC(q,e,s,i)}))+`{ 
 str = str + "`;else if(qI.test(d)){var C=v[1].split(" of ");d='"; '+d.replace(v[1],function(q){return s.push(C[0]),s.push(C[0]+"Index"),n=n+1,"var i"+n+"=0; i"+n+" < "+Ha(C[1],!0,e,s,i)+".length; i"+n+"++"})+`{ 
 `+C[0]+"= "+Ha(C[1],!0,e,s,i)+"[i"+n+`]; 
 var `+C[0]+"Index=i"+n+`; 
 str = str + "`}else{var x=d.split("("),M=t&&t.hasOwnProperty(x[0])?"this.":"global";M=/\./.test(x[0])?"":M;var k=v[1].split(",");v[1].length!==0&&!/data/.test(k[0])&&!/window./.test(k[0])&&(v[1]=M==="global"?e+"."+v[1]:v[1]);var A=/@|\$|#/gm,j=/\]\./gm;if(t4.test(d)&&j.test(d)||A.test(d)){var U=/@|\$|#|\]\./gm;U.test(d)&&(d='"+ '+(M==="global"?"":M)+d.replace(v[1],O.replace(e4,function(q){return qC(q,e,s,i)}))+'+ "')}else d='" + '+(M==="global"?"":M)+d.replace(O,Ha(v[1].replace(/,( |)data.|,/gi,","+e+".").replace(/,( |)data.window/gi,",window"),M!=="global",e,s,i))+'+"'}}else FC.test(d)?d='"; '+d.replace(FC,`} else { 
 str = str + "`):d.match(VC)?d=d.replace(VC,`"; 
 } 
 str = str + "`):g.test(d)?(d.match(ng)&&(d=YC(d)),d='"+'+rg(d,s.indexOf(d)===-1,e,s)+'"]+"'):d.match(ng)?(d=YC(d),d='"+'+rg(d,s.indexOf(d)===-1,e,s)+'"]+"'):d=d!==""?'"+'+Ha(d.replace(/,/gi,"+"+e+"."),s.indexOf(d)===-1,e,s,i)+'+"':"${}";return d})}function Ha(r,e,t,i,n){return e&&!sg.test(r)&&i.indexOf(r.split(".")[0])===-1&&!n&&r!=="true"&&r!=="false"?t+"."+r:r}function n4(r,e,t,i){var n=/^\..*/gm;return e&&!sg.test(r)&&i.indexOf(r.split(".")[0])===-1&&!n.test(r)?t+"."+r:r}function rg(r,e,t,i){return e&&!sg.test(r)&&i.indexOf(r.split(".")[0])===-1?t+'["'+r:r}function YC(r){var e="\\\\";return r.match(JI)?r=r:r=r.replace(ng,e),r}function qC(r,e,t,i){r=r.trim();var n=/\window\./gm;if(n.test(r))return r;var s=/'|"/gm,o=/@|\$|#/gm;return o.test(r)&&(r=rg(r,t.indexOf(r)===-1,e,t)+'"]'),KI.test(r)?n4(r,!s.test(r)&&t.indexOf(r)===-1,e,t):Ha(r,!s.test(r)&&t.indexOf(r)===-1,e,t,i)}var r4=/^[\n\r.]+<tr|^<tr/,s4=/^[\n\r.]+<svg|^<path|^<g/,_a={};function o4(){return"-"+Math.random().toString(36).substr(2,5)}function Ui(r,e,t){var i=l4.compile(r,e,t);return function(n,s,o,a,l,h,c,p){var d=i(n,s,o,c,p),f="BlazorTemplateId";if(ne()&&!l){var m=o4(),g=a+m;if(_a[""+a]||(_a[""+a]=[]),u(h))n[""+f]=g,_a[""+a].push(n);else for(var v=Object.keys(_a[""+a][parseInt(h.toString(),10)]),O=0,C=v;O<C.length;O++){var x=C[O];x!==f&&n[""+x]&&(_a[""+a][parseInt(h.toString(),10)][""+x]=n[""+x]),x===f&&(g=_a[""+a][parseInt(h.toString(),10)][""+x])}return o==="rowTemplate"?[B("tr",{id:g,className:"e-blazor-template"})]:[B("div",{id:g,className:"e-blazor-template"})]}if(typeof d=="string")if(s4.test(d)){var M=B("svg",{innerHTML:d});return M.childNodes}else{var M=B(r4.test(d)?"table":"div",{innerHTML:d});return M.childNodes}else return d}}function uh(r,e){var t;return r.prototype.CSPTemplate=!0,u(e)?t=r:(t=r.bind(e),t.prototype=Object.create(r.prototype)),t}var a4=function(){function r(){}return r.prototype.compile=function(e,t,i){return t===void 0&&(t={}),WC(e,t)},r}(),l4={compile:new a4().compile};var h4=["script","style","iframe[src]",'link[href*="javascript:"]','object[type="text/x-scriptlet"]','object[data^="data:text/html;base64"]','img[src^="data:text/html;base64"]','[src^="javascript:"]','[dynsrc^="javascript:"]','[lowsrc^="javascript:"]','[type^="application/x-shockwave-flash"]'],c4=[{attribute:"href",selector:'[href*="javascript:"]'},{attribute:"background",selector:'[background^="javascript:"]'},{attribute:"style",selector:'[style*="javascript:"]'},{attribute:"style",selector:'[style*="expression("]'},{attribute:"href",selector:'a[href^="data:text/html;base64"]'}],ZC=["onchange","onclick","onmouseover","onmouseout","onkeydown","onload","onerror","onblur","onfocus","onbeforeload","onbeforeunload","onkeyup","onsubmit","onafterprint","onbeforeonload","onbeforeprint","oncanplay","oncanplaythrough","oncontextmenu","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onformchange","onforminput","onhaschange","oninput","oninvalid","onkeypress","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmousedown","onmousemove","onmouseup","onmousewheel","onoffline","onoine","ononline","onpagehide","onpageshow","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreadystatechange","onredo","onresize","onscroll","onseeked","onseeking","onselect","onstalled","onstorage","onsuspend","ontimeupdate","onundo","onunload","onvolumechange","onwaiting","onmouseenter","onmouseleave","onstart","onpropertychange","oncopy","ontoggle","onpointerout","onpointermove","onpointerleave","onpointerenter","onpointerrawupdate","onpointerover","onbeforecopy","onbeforecut","onbeforeinput"],pt=function(){function r(){}return r.beforeSanitize=function(){return{selectors:{tags:h4,attributes:c4}}},r.sanitize=function(e){if(u(e))return e;var t=this.beforeSanitize(),i=this.serializeValue(t,e);return i},r.serializeValue=function(e,t){this.removeAttrs=e.selectors.attributes,this.removeTags=e.selectors.tags,this.wrapElement=document.createElement("div"),this.wrapElement.innerHTML=t,this.removeXssTags(),this.removeJsEvents(),this.removeXssAttrs();var i=this.wrapElement.innerHTML;return this.removeElement(),this.wrapElement=null,i.replace(/&amp;/g,"&")},r.removeElement=function(){for(var e=this.wrapElement.children,t=0;t<e.length;t++)for(var i=e[parseInt(t.toString(),10)].attributes,n=0;n<i.length;n++)this.wrapElement.children[parseInt(t.toString(),10)].removeAttribute(i[parseInt(n.toString(),10)].localName)},r.removeXssTags=function(){var e=this.wrapElement.querySelectorAll(this.removeTags.join(","));if(e.length>0)e.forEach(function(t){w(t)});else return},r.removeJsEvents=function(){var e=this.wrapElement.querySelectorAll("["+ZC.join("],[")+"]");if(e.length>0)e.forEach(function(t){ZC.forEach(function(i){t.hasAttribute(i)&&t.removeAttribute(i)})});else return},r.removeXssAttrs=function(){var e=this;this.removeAttrs.forEach(function(t,i){var n=e.wrapElement.querySelectorAll(t.selector);n.length>0&&n.forEach(function(s){s.removeAttribute(t.attribute)})})},r}();var ws="tableclass",XC="load",Es="initial-load",zo="content-changed",bt="initial-end",Ut="iframe-click",ue="destroy",ks="toolbarClick",Cn="toolbar-refresh",og="refresh-begin",Ni="toolbar-updated",Ro="bind-on-end",Fa="render-color-picker",ph="html-toolbar-click",dh="markdown-toolbar-click",fh="destroy-color-picker",Je="model-changed",mh="tableModulekeyUp",At="keyUp",ot="keyDown",Ds="mouseUp",GC="toolbarCreated",ag="toolbarRenderComplete",Bo="enableFullScreen",Qo="disableFullScreen",Hi="dropDownSelect",gh="beforeDropDownItemRender",vh="execCommandCallBack",yh="image-toolbar-action",KC="audio-toolbar-action",bh="video-toolbar-action",Oh="link-toolbar-action",Ls="resize",Va="resizeStart",$a="resizing",Ya="resizeStop";var Uo="insertLink",qa="unLink",qu="editLink",Ch="openLink",Ht="actionBegin",ei="actionComplete",JC="updatedToolbarStatus";var Ho="updateToolbarItem",As="insertImage",eS="insertAudio",Wa="insertVideo",Fn="insertCompleted";var Wu="insertImgLink",Zu="imgAltText",Xu="delete";var Gu="delete",Ku="caption",Ju="imageSize",ep="videoSize",_o="sourceCode",Sh="updateSource";var Za="beforeDropDownOpen",Zt="selection-save",Xt="selection-restore",lg="expandPopupClick",tS="count";var li="mouseDown",Is="sourceCodeMouseDown",xi="editAreaClick",gr="scroll",vr="contentscroll",Fo="colorPickerChanged",Vo="tableColorPickerChanged",Ps="focusChange",js="selectAll",$o="selectRange",zs="getSelectedHtml",Mh="renderInlineToolbar",Rs="paste-content";var _i="rtl-mode",Th="createTable",Bs="docClick",Nh="table-toolbar-action",Qs="checkUndoStack",Us="readOnlyMode",Qe="moduleDestroy",iS="pasteClean",xh="enterHandler",nS="beforeDialogOpen",Fi="clearDialogObj",rS="dialogOpen",sS="beforeDialogClose",oS="dialogClose",aS="beforeQuickToolbarOpen",lS="quickToolbarOpen",hS="quickToolbarClose";var cS="imageSelected",hg="imageUploading",cg="imageUploadSuccess",ug="imageUploadFailed",uS="imageRemoving",pS="fileSelected",dS="fileUploading",fS="fileUploadSuccess",mS="fileUploadFailed",gS="fileRemoving",pg="afterImageDelete",dg="afterMediaDelete",wh="drop",Hs="xhtmlValidation",fg="beforeImageUpload",vS="beforeFileUpload",mg="resizeInitialized",tp="renderFileManager",yS="beforeImageDrop",Vn="dynamicModule";var Yo="updateTbItemsStatus",Eh="showLinkDialog",kh="closeLinkDialog",Dh="showImageDialog",bS="showAudioDialog",Lh="showVideoDialog",Ah="closeImageDialog",OS="closeAudioDialog",Ih="closeVideoDialog",Ph="showTableDialog",jh="closeTableDialog",dt="closeTableDialog",CS="formatPainterClick",SS="formatPainterDoubleClick",qo="emojiPicker",yr="destroyTooltip",Wo="hidePopup",gg="cleanupResizeElements",zh="afterKeyDown",Rh="updateValueOnIdle",$n="documentClickClosedBy",Bh="showColorPicker",Qh="closeTooltip",MS=`address:empty, article:empty, aside:empty, blockquote:empty,
 details:empty, dd:empty, div:empty, dl:empty, dt:empty, fieldset:empty, footer:empty,form:empty, h1:empty,
 h2:empty, h3:empty, h4:empty, h5:empty, h6:empty, header:empty, hgroup:empty, li:empty, main:empty, nav:empty,
 noscript:empty, output:empty, p:empty, pre:empty, section:empty, td:empty, th:empty`,TS=`a:empty, abbr:empty, acronym:empty, b:empty, bdi:empty, bdo:empty, big:empty, button:empty,
canvas:empty, cite:empty, code:empty, data:empty, datalist:empty, del:empty, dfn:empty, em:empty, font:empty, i:empty, iframe:empty,
ins:empty, kbd:empty, label:empty, map:empty, mark:empty, meter:empty, noscript:empty, object:empty, output:empty, picture:empty, progress:empty,
q:empty, ruby:empty, s:empty, samp:empty, script:empty, select:empty, slot:empty, small:empty, span:empty, strong:empty, strike:empty, sub:empty, sup:empty, svg:empty,
template:empty, textarea:empty, time:empty, u:empty, tt:empty, var:empty, wbr:empty`,vg=["px","em","rem","pt","cm","mm","in","pc","vw","vh","vmin","vmax"],NS={px:{px:1,em:.0625,rem:.0625,pt:.75,cm:.0264583,mm:.0026458,in:.0104167,pc:.0625,vw:.00625,vh:.00625,vmin:.00625,vmax:.00625},em:{px:16,em:1,rem:1,pt:12,cm:.423333,mm:.0423333,in:.166667,pc:.0625,vw:1,vh:1,vmin:1,vmax:1},rem:{px:16,em:1,rem:1,pt:12,cm:.423333,mm:.0423333,in:.166667,pc:.0625,vw:1,vh:1,vmin:1,vmax:1},pt:{px:1.33333,em:.0833333,rem:.0833333,pt:1,cm:.0352778,mm:.0035278,in:.0138889,pc:.0416667,vw:.00416667,vh:.00416667,vmin:.00416667,vmax:.00416667},cm:{px:37.7953,em:2.3622,rem:2.3622,pt:28.3465,cm:1,mm:.1,in:.393701,pc:.148148,vw:.0377953,vh:.0377953,vmin:.0377953,vmax:.0377953},mm:{px:3.77953,em:.23622,rem:.23622,pt:2.83465,cm:10,mm:1,in:.0393701,pc:.0148148,vw:.00377953,vh:.00377953,vmin:.00377953,vmax:.00377953},in:{px:96,em:6,rem:6,pt:72,cm:2.54,mm:25.4,in:1,pc:.375,vw:.09375,vh:.09375,vmin:.09375,vmax:.09375},pc:{px:16,em:1,rem:1,pt:12,cm:.423333,mm:.0423333,in:.166667,pc:1,vw:.0625,vh:.0625,vmin:.0625,vmax:.0625},vw:{px:160,em:10,rem:10,pt:120,cm:4.23333,mm:.423333,in:1.66667,pc:.625,vw:1,vh:1,vmin:1,vmax:1},vh:{px:160,em:10,rem:10,pt:120,cm:4.23333,mm:.423333,in:1.66667,pc:.625,vw:1,vh:1,vmin:1,vmax:1},vmin:{px:160,em:10,rem:10,pt:120,cm:4.23333,mm:.423333,in:1.66667,pc:.625,vw:1,vh:1,vmin:1,vmax:1},vmax:{px:160,em:10,rem:10,pt:120,cm:4.23333,mm:.423333,in:1.66667,pc:.625,vw:1,vh:1,vmin:1,vmax:1}},ip="onHandleFontsizeChange";var Zo="e-richtexteditor",Jr="e-rtl";var np="e-disabled",yg="rte-iframe-script-sheet",bg="rte-iframe-style-sheet",Xa="e-rte-toolbar",Og="e-rte-tb-fixed",Uh="e-rte-tb-float",rp="e-rte-inline";var Cg="e-rte-tb-expand",Ga="e-rte-full-screen",Ka="e-rte-quick-toolbar",xS="e-rte-text-quicktoolbar",Sg="e-rte-pop",wS="e-tb-static",ES="e-rte-quick-popup",_s="e-quick-dropdown",kS="e-rte-image-popup",Mg="e-rte-text-popup",Xo="e-rte-inline-popup",sp="e-rte-inline-dropdown",rn="e-rte-dropdown-popup",op="e-rte-dropdown-icons",Yn="e-rte-dropdown-items",hi="e-rte-dropdown-btn",DS="e-rte-content",Sn="e-toolbar-item";var ap="e-toolbar-wrapper";var Tg="e-show",Go="e-hide",Ng="e-visible",lp="e-focused",xg="e-remove-white-space",wg="e-imgright",Eg="e-imgleft",kg="e-imgcenter",br="e-imgbreak";var es="e-clickelem",Fs="e-video-clickelem",Ja="e-audio-wrap",Vs="e-video-wrap",Dg="e-video-break",sn="e-img-caption",LS="e-rte-img-caption",el="e-caption-inline",ts="e-imginline",AS="e-audio-inline",Hh="e-video-inline";var tl="e-icons",Or="e-active",Cr="e-expand-open",at="e-rte-elements",hp="e-tbar-btn",IS="e-rte-horizontal-separator",Lg="e-tbar-ios-fixed",cp="e-rte-list-primary-content",PS="e-rte-numberformatlist-dropdown",jS="e-rte-bulletformatlist-dropdown",zS="e-formats-tbar-btn",RS="e-font-name-tbar-btn",BS="e-font-size-tbar-btn",QS="e-alignment-tbar-btn",US="e-rte-fontcolor-element",HS="e-rte-backgroundcolor-element",il="e-rte-color-content",_S="e-rte-fontcolor-dropdown",FS="e-rte-backgroundcolor-dropdown",VS="e-rte-square-palette",$S="e-rte-fontcolor-colorpicker",YS="e-rte-backgroundcolor-colorpicker",$s="e-rte-readonly",wi="e-cell-select",Ko="e-dashed-border",Jo="e-alternate-border",_h="e-column-resize",Fh="e-row-resize",Vh="e-table-box",Ag="e-rte-hidden";var qS="e-resize-handle";var $h="e-rte-image",WS="e-resize",nl="e-img-focus",ZS="e-audio-focus",on="e-video-focus",Yh="e-rte-drag-image",XS="e-rte-upload-popup",Ig="e-popup-open",GS="e-img-resize",KS="e-droparea",JS="e-img-inner",eM="e-upload-files",tM="e-rte-dialog-upload";var iM="e-custom-tile",nM="e-nocolor-item";var Pg="e-rte-table-border",jg="e-rte-table-resize",zg="e-rte-fixed-tb-expand",Rg="e-rte-toolbar-enabled";var Mn="e-rte-srctextarea";var ve;(function(r){r[r.Toolbar=0]="Toolbar",r[r.Content=1]="Content",r[r.Popup=2]="Popup",r[r.LinkToolbar=3]="LinkToolbar",r[r.TextToolbar=4]="TextToolbar",r[r.ImageToolbar=5]="ImageToolbar",r[r.AudioToolbar=6]="AudioToolbar",r[r.VideoToolbar=7]="VideoToolbar",r[r.InlineToolbar=8]="InlineToolbar",r[r.TableToolbar=9]="TableToolbar"})(ve||(ve={}));var ti;(function(r){r.Expand="Expand",r.MultiRow="MultiRow",r.Scrollable="Scrollable"})(ti||(ti={}));var ln;(function(r){r.InsertLink="InsertLink",r.InsertImage="InsertImage",r.InsertAudio="InsertAudio",r.InsertVideo="InsertVideo",r.InsertTable="InsertTable"})(ln||(ln={}));var rl=["alignments","formats","fontname","fontsize","fontcolor","backgroundcolor","align","display","audiolayoutoption","videolayoutoption","videoalign","tablerows","tablecolumns","tablecell","tablecellhorizontalalign","tablecellverticalalign","styles","numberformatlist","bulletformatlist"],is={alignments:{id:"Alignments",icon:"e-alignments",tooltip:"Alignments",command:"Alignments",subCommand:"Alignments"},justifyleft:{id:"JustifyLeft",icon:"e-justify-left",tooltip:"JustifyLeft",command:"Alignments",subCommand:"JustifyLeft"},justifycenter:{id:"JustifyCenter",icon:"e-justify-center",tooltip:"JustifyCenter",command:"Alignments",subCommand:"JustifyCenter"},justifyright:{id:"JustifyRight",icon:"e-justify-right",tooltip:"JustifyRight",command:"Alignments",subCommand:"JustifyRight"},justifyfull:{id:"JustifyFull",icon:"e-justify-full",tooltip:"JustifyFull",command:"Alignments",subCommand:"JustifyFull"},fontname:{id:"FontName",icon:"e-font-name",tooltip:"Font Name",command:"Font",subCommand:"FontName"},fontsize:{id:"FontSize",icon:"e-font-size",tooltip:"Font Size",command:"Font",subCommand:"FontSize"},fontcolor:{id:"FontColor",icon:"e-rte-font-color",tooltip:"Font Color",command:"Font",subCommand:"FontColor",value:"#ff0000ff"},backgroundcolor:{id:"BackgroundColor",icon:"e-background-color",tooltip:"Background Color",command:"Font",subCommand:"BackgroundColor",value:"#ffff00ff"},bold:{id:"Bold",icon:"e-bold",tooltip:"Bold",command:"Style",subCommand:"Bold"},italic:{id:"Italic",icon:"e-italic",tooltip:"Italic",command:"Style",subCommand:"Italic"},underline:{id:"Underline",icon:"e-underline",tooltip:"Underline",command:"Style",subCommand:"Underline"},strikethrough:{id:"StrikeThrough",icon:"e-strike-through",tooltip:"StrikeThrough",command:"Style",subCommand:"StrikeThrough"},clearformat:{id:"ClearFormat",icon:"e-clear-format",tooltip:"Clear Format",command:"Clear",subCommand:"ClearFormat"},clearall:{id:"ClearAll",icon:"e-clear-all",tooltip:"Clear All",command:"Clear",subCommand:"ClearAll"},cut:{id:"Cut",icon:"e-cut",tooltip:"Cut",command:"ClipBoard",subCommand:"Cut"},copy:{id:"Copy",icon:"e-copy",tooltip:"Copy",command:"ClipBoard",subCommand:"Copy"},paste:{id:"Paste",icon:"e-paste",tooltip:"Paste",command:"ClipBoard",subCommand:"Paste"},unorderedlist:{id:"UnorderedList",icon:"e-unorder-list",tooltip:"Bulleted List",command:"Lists",subCommand:"UL"},orderedlist:{id:"OrderedList",icon:"e-order-list",tooltip:"Numbered List",command:"Lists",subCommand:"OL"},numberformatlist:{id:"NumberFormatList",icon:"e-order-list",tooltip:"Number Format List",command:"NumberFormatList",subCommand:"NumberFormatList"},bulletformatlist:{id:"BulletFormatList",icon:"e-unorder-list",tooltip:"Bullet Format List",command:"BulletFormatList",subCommand:"BulletFormatList"},indent:{id:"Indent",icon:"e-indent",tooltip:"Increase Indent",command:"Indents",subCommand:"Indent"},outdent:{id:"Outdent",icon:"e-outdent",tooltip:"Decrease Indent",command:"Indents",subCommand:"Outdent"},undo:{id:"Undo",icon:"e-undo",tooltip:"Undo",command:"Actions",subCommand:"Undo"},redo:{id:"Redo",icon:"e-redo",tooltip:"Redo",command:"Actions",subCommand:"Redo"},superscript:{id:"SuperScript",icon:"e-super-script",tooltip:"Superscript",command:"Effects",subCommand:"SuperScript"},subscript:{id:"SubScript",icon:"e-sub-script",tooltip:"Subscript",command:"Effects",subCommand:"SubScript"},createlink:{id:"CreateLink",icon:"e-create-link",tooltip:"Insert Hyperlink",command:"Links",subCommand:"CreateLink"},openlink:{id:"OpenLink",icon:"e-open-link",tooltip:"Open Link",command:"Links",subCommand:"OpenLink"},editlink:{id:"EditLink",icon:"e-edit-link",tooltip:"Edit Link",command:"Links",subCommand:"EditLink"},removelink:{id:"RemoveLink",icon:"e-remove-link",tooltip:"Remove Link",command:"Links",subCommand:"RemoveLink"},image:{id:"Image",icon:"e-image",tooltip:"Insert Image",command:"Images",subCommand:"Image"},audio:{id:"Audio",icon:"e-audio",tooltip:"Insert Audio",command:"Audios",subCommand:"Audio"},video:{id:"Video",icon:"e-video",tooltip:"Insert Video",command:"Videos",subCommand:"Video"},filemanager:{id:"FileManager",icon:"e-rte-file-manager",tooltip:"File Manager",command:"Files",subCommand:"File"},createtable:{id:"CreateTable",icon:"e-create-table",tooltip:"Create Table",command:"Table",subCommand:"CreateTable"},removetable:{id:"removeTable",icon:"e-remove-table",tooltip:"Remove Table",command:"removeTable",subCommand:"removeTable"},replace:{id:"Replace",icon:"e-replace",tooltip:"Replace",command:"Images",subCommand:"Replace"},audioreplace:{id:"AudioReplace",icon:"e-audio-replace",tooltip:"Audio Replace",command:"Audios",subCommand:"AudioReplace"},audioremove:{id:"AudioRemove",icon:"e-audio-remove",tooltip:"Audio Remove",command:"Audios",subCommand:"AudioRemove"},audiolayoutoption:{id:"AudioLayoutOption",icon:"e-audio-display",tooltip:"Audio LayoutOption",command:"Audios",subCommand:"AudioLayoutOption"},videoreplace:{id:"VideoReplace",icon:"e-video-replace",tooltip:"Video Replace",command:"Videos",subCommand:"VideoReplace"},videoalign:{id:"VideoAlign",icon:"e-video-align",tooltip:"Video Align",command:"Videos",subCommand:"VideoAlign"},videoremove:{id:"VideoRemove",icon:"e-video-remove",tooltip:"Video Remove",command:"Videos",subCommand:"VideoRemove"},videolayoutoption:{id:"VideoLayoutOption",icon:"e-video-display",tooltip:"Video LayoutOption",command:"Videos",subCommand:"VideoLayoutOption"},videodimension:{id:"VideoDimension",icon:"e-video-dimension",tooltip:"Video Dimension",command:"Videos",subCommand:"VideoDimension"},align:{id:"Align",icon:"e-align",tooltip:"Align",command:"Images",subCommand:"Align"},caption:{id:"Caption",icon:"e-caption",tooltip:"Image Caption",command:"Images",subCommand:"Caption"},remove:{id:"Remove",icon:"e-remove",tooltip:"Remove",command:"Images",subCommand:"Remove"},openimagelink:{id:"OpenImageLink",icon:"e-open-link",tooltip:"Open Link",command:"Images",subCommand:"OpenImageLink"},editimagelink:{id:"EditImageLink",icon:"e-edit-link",tooltip:"Edit Link",command:"Images",subCommand:"EditImageLink"},removeimagelink:{id:"RemoveImageLink",icon:"e-remove-link",tooltip:"Remove Link",command:"Images",subCommand:"RemoveImageLink"},insertlink:{id:"InsertLink",icon:"e-insert-link",tooltip:"Insert Link",command:"Images",subCommand:"InsertLink"},display:{id:"Display",icon:"e-display",tooltip:"Display",command:"Images",subCommand:"Display"},alttext:{id:"AltText",icon:"e-alt-text",tooltip:"Alternative Text",command:"Images",subCommand:"AltText"},dimension:{id:"Dimension",icon:"e-img-dimension",tooltip:"Change Size",command:"Images",subCommand:"Dimension"},fullscreen:{id:"Maximize",icon:"e-maximize",tooltip:"Maximize",command:"View",subCommand:"Maximize"},maximize:{id:"Maximize",icon:"e-maximize",tooltip:"Maximize",command:"FullScreen",subCommand:"Maximize"},minimize:{id:"Minimize",icon:"e-minimize",tooltip:"Minimize",command:"FullScreen",subCommand:"Minimize"},lowercase:{id:"LowerCase",icon:"e-lower-case",tooltip:"Lower Case",command:"Casing",subCommand:"LowerCase"},uppercase:{id:"UpperCase",icon:"e-upper-case",tooltip:"Upper Case",command:"Casing",subCommand:"UpperCase"},print:{id:"Print",icon:"e-print",tooltip:"Print",command:"Print",subCommand:"Print"},formats:{id:"Formats",icon:"e-formats",tooltip:"Formats",command:"Formats",subCommand:"Formats"},sourcecode:{id:"SourceCode",icon:"e-source-code",tooltip:"Code View (Ctrl+Shift+H)",command:"SourceCode",subCommand:"SourceCode"},preview:{id:"Preview",icon:"e-preview",tooltip:"Preview (Ctrl+Shift+H)",command:"Preview",subCommand:"Preview"},viewside:{id:"ViewSide",icon:"e-view-side",tooltip:"ViewSide",command:"ViewSide",subCommand:"ViewSide"},insertcode:{id:"InsertCode",icon:"e-insert-code",tooltip:"Insert Code",command:"Formats",subCommand:"Pre"},tableheader:{id:"TableHeader",icon:"e-table-header",tooltip:"Table Header",command:"Table",subCommand:"TableHeader"},tableremove:{id:"TableRemove",icon:"e-table-remove",tooltip:"Table Remove",command:"Table",subCommand:"TableRemove"},tablerows:{id:"TableRows",icon:"e-table-rows",tooltip:"Table Rows",command:"Table",subCommand:"TableRows"},tablecolumns:{id:"TableColumns",icon:"e-table-columns",tooltip:"Table Columns",command:"Table",subCommand:"TableColumns"},tablecell:{id:"TableCell",icon:"e-table-cell",tooltip:"Table Cell",command:"Table",subCommand:"TableCell"},tablecellbackground:{id:"TableCellBackground",icon:"e-table-cell-background",tooltip:"Table Cell Background",command:"Table",subCommand:"TableCellBackground"},tablecellhorizontalalign:{id:"TableCellHorizontalAlign",icon:"e-table-cell-horizontalAlign",tooltip:"Table Cell HorizontalAlign",command:"Table",subCommand:"TableCellHorizontalAlign"},tablecellverticalalign:{id:"TableCellVerticalAlign",icon:"e-table-cell-verticalAlign",tooltip:"Table Cell VerticalAlign",command:"Table",subCommand:"TableCellVerticalAlign"},tableeditproperties:{id:"TableEditProperties",icon:"e-table-edit-properties",tooltip:"Table Edit Properties",command:"Table",subCommand:"TableEditProperties"},styles:{id:"Styles",icon:"e-table-styles",tooltip:"Styles",command:"Table",subCommand:"Styles"},formatpainter:{id:"FormatPainter",icon:"e-rte-format-painter",tooltip:"Format Painter",command:"FormatPainter",subCommand:"FormatPainter"},emojipicker:{id:"EmojiPicker",icon:"e-emoji",tooltip:"Emoji Icon",command:"EmojiPicker",subCommand:"EmojiPicker"}},u4=[{locale:"alignmentsDropDownLeft",value:"JustifyLeft"},{locale:"alignmentsDropDownCenter",value:"JustifyCenter"},{locale:"alignmentsDropDownRight",value:"JustifyRight"},{locale:"alignmentsDropDownJustify",value:"JustifyFull"}],ea=[{iconCss:"e-icons e-justify-left",text:"Align Left",command:"Alignments",subCommand:"JustifyLeft"},{iconCss:"e-icons e-justify-center",text:"Align Center",command:"Alignments",subCommand:"JustifyCenter"},{iconCss:"e-icons e-justify-right",text:"Align Right",command:"Alignments",subCommand:"JustifyRight"},{iconCss:"e-icons e-justify-full",text:"Align Justify",command:"Alignments",subCommand:"JustifyFull"}],rM=[{iconCss:"e-icons e-justify-left",command:"Images",subCommand:"JustifyLeft"},{iconCss:"e-icons e-justify-center",command:"Images",subCommand:"JustifyCenter"},{iconCss:"e-icons e-justify-right",command:"Images",subCommand:"JustifyRight"}],sM=[{iconCss:"e-icons e-justify-left",command:"Videos",subCommand:"JustifyLeft"},{iconCss:"e-icons e-justify-center",command:"Videos",subCommand:"JustifyCenter"},{iconCss:"e-icons e-justify-right",command:"Videos",subCommand:"JustifyRight"}],p4=[{locale:"imageDisplayDropDownInline",value:"Inline"},{locale:"imageDisplayDropDownBreak",value:"Break"}],d4=[{locale:"audioLayoutOptionDropDownInline",value:"Inline"},{locale:"audioLayoutOptionDropDownBreak",value:"Break"}],f4=[{locale:"videoLayoutOptionDropDownInline",value:"Inline"},{locale:"videoLayoutOptionDropDownBreak",value:"Break"}],qh=[{text:"Inline",cssClass:"e-inline",command:"Images",subCommand:"Inline"},{text:"Break",cssClass:"e-break",command:"Images",subCommand:"Break"}],Wh=[{text:"Inline",cssClass:"e-audio-inline",command:"Audios",subCommand:"Inline"},{text:"Break",cssClass:"e-audio-break",command:"Audios",subCommand:"Break"}],Zh=[{text:"Inline",cssClass:"e-video-inline",command:"Videos",subCommand:"Inline"},{text:"Break",cssClass:"e-video-break",command:"Videos",subCommand:"Break"}],oM=[{iconCss:"e-icons e-cell-merge",text:"Merge cells",command:"Table",subCommand:"Merge"},{iconCss:"e-icons e-cell-horizontal-split",text:"Horizontal split",command:"Table",subCommand:"HorizontalSplit"},{iconCss:"e-icons e-cell-vertical-split",text:"Vertical split",command:"Table",subCommand:"VerticalSplit"}],m4=[{locale:"tableInsertRowDropDownBefore",value:"InsertRowBefore"},{locale:"tableInsertRowDropDownAfter",value:"InsertRowAfter"},{locale:"tableInsertRowDropDownDelete",value:"DeleteRow"}],Xh=[{iconCss:"e-icons e-insert-row-before",text:"Insert row before",command:"Table",subCommand:"InsertRowBefore"},{iconCss:"e-icons e-insert-row-after",text:"Insert row after",command:"Table",subCommand:"InsertRowAfter"},{iconCss:"e-icons e-delete-row",text:"Delete row",command:"Table",subCommand:"DeleteRow"}],g4=[{locale:"tableInsertColumnDropDownLeft",value:"InsertColumnLeft"},{locale:"tableInsertColumnDropDownRight",value:"InsertColumnRight"},{locale:"tableInsertColumnDropDownDelete",value:"DeleteColumn"}],Gh=[{iconCss:"e-icons e-insert-column-left",text:"Insert column left",command:"Table",subCommand:"InsertColumnLeft"},{iconCss:"e-icons e-insert-column-right",text:"Insert column right",command:"Table",subCommand:"InsertColumnRight"},{iconCss:"e-icons e-delete-column",text:"Delete column",command:"Table",subCommand:"DeleteColumn"}],v4=[{locale:"tableVerticalAlignDropDownTop",value:"AlignTop"},{locale:"tableVerticalAlignDropDownMiddle",value:"AlignMiddle"},{locale:"tableVerticalAlignDropDownBottom",value:"AlignBottom"}],Kh=[{iconCss:"e-icons e-align-top",text:"Align Top",command:"Table",subCommand:"AlignTop"},{iconCss:"e-icons e-align-middle",text:"Align Middle",command:"Table",subCommand:"AlignMiddle"},{iconCss:"e-icons e-align-bottom",text:"Align Bottom",command:"Table",subCommand:"AlignBottom"}],y4=[{locale:"tableStylesDropDownDashedBorder",value:"Dashed"},{locale:"tableStylesDropDownAlternateRows",value:"Alternate"}],Jh=[{text:"Dashed Borders",cssClass:"e-dashed-borders",command:"Table",subCommand:"Dashed"},{text:"Alternate Rows",cssClass:"e-alternate-rows",command:"Table",subCommand:"Alternate"}],aM=["Bold","Italic","Underline","|","Formats","Alignments","OrderedList","UnorderedList","|","CreateLink","Image","|","SourceCode","Undo","Redo"],sl=[{cssClass:"e-segoe-ui",text:"Segoe UI",command:"Font",subCommand:"FontName",value:"Segoe UI"},{cssClass:"e-arial",text:"Arial",command:"Font",subCommand:"FontName",value:"Arial,Helvetica,sans-serif"},{cssClass:"e-georgia",text:"Georgia",command:"Font",subCommand:"FontName",value:"Georgia,serif"},{cssClass:"e-impact",text:"Impact",command:"Font",subCommand:"FontName",value:"Impact,Charcoal,sans-serif"},{cssClass:"e-tahoma",text:"Tahoma",command:"Font",subCommand:"FontName",value:"Tahoma,Geneva,sans-serif"},{cssClass:"e-times-new-roman",text:"Times New Roman",command:"Font",subCommand:"FontName",value:"Times New Roman,Times,serif"},{cssClass:"e-verdana",text:"Verdana",command:"Font",subCommand:"FontName",value:"Verdana,Geneva,sans-serif"}],lM=[{text:"8 pt",value:"8pt"},{text:"10 pt",value:"10pt"},{text:"12 pt",value:"12pt"},{text:"14 pt",value:"14pt"},{text:"18 pt",value:"18pt"},{text:"24 pt",value:"24pt"},{text:"36 pt",value:"36pt"}],ol=[{cssClass:"e-paragraph",text:"Paragraph",command:"Formats",subCommand:"P",value:"P"},{cssClass:"e-code",text:"Code",command:"Formats",subCommand:"Pre",value:"Pre"},{cssClass:"e-quote",text:"Quotation",command:"Formats",subCommand:"BlockQuote",value:"BlockQuote"},{cssClass:"e-h1",text:"Heading 1",command:"Formats",subCommand:"H1",value:"H1"},{cssClass:"e-h2",text:"Heading 2",command:"Formats",subCommand:"H2",value:"H2"},{cssClass:"e-h3",text:"Heading 3",command:"Formats",subCommand:"H3",value:"H3"},{cssClass:"e-h4",text:"Heading 4",command:"Formats",subCommand:"H4",value:"H4"}],hM={Custom:["","#000000","#e7e6e6","#44546a","#4472c4","#ed7d31","#a5a5a5","#ffc000","#70ad47","#ff0000","#f2f2f2","#808080","#cfcdcd","#d5dce4","#d9e2f3","#fbe4d5","#ededed","#fff2cc","#e2efd9","#ffcccc","#d9d9d9","#595959","#aeaaaa","#acb9ca","#b4c6e7","#f7caac","#dbdbdb","#ffe599","#c5e0b3","#ff8080","#bfbfbf","#404040","#747070","#8496b0","#8eaadb","#f4b083","#c9c9c9","#ffd966","#a8d08d","#ff3333","#a6a6a6","#262626","#3b3838","#323e4f","#2f5496","#c45911","#7b7b7b","#bf8f00","#538135","#b30000","#7f7f7f","#0d0d0d","#161616","#212934","#1f3763","#823b0b","#525252","#7f5f00","#375623","#660000"]},cM={Custom:["","#000000","#ffff00","#00ff00","#00ffff","#0000ff","#ff0000","#000080","#800080","#996633","#f2f2f2","#808080","#ffffcc","#b3ffb3","#ccffff","#ccccff","#ffcccc","#ccccff","#ff80ff","#f2e6d9","#d9d9d9","#595959","#ffff80","#80ff80","#b3ffff","#8080ff","#ff8080","#8080ff","#ff00ff","#dfbf9f","#bfbfbf","#404040","#ffff33","#33ff33","#33ffff","#3333ff","#ff3333","#0000b3","#b300b3","#c68c53","#a6a6a6","#262626","#e6e600","#00b300","#009999","#000099","#b30000","#000066","#660066","#86592d","#7f7f7f","#0d0d0d","#999900","#006600","#006666","#000066","#660000","#00004d","#4d004d","#734d26"]},al=[{text:"None",command:"Lists",subCommand:"NumberFormatList",value:"none"},{text:"Number",command:"Lists",subCommand:"NumberFormatList",value:"decimal"},{text:"Lower Greek",command:"Lists",subCommand:"NumberFormatList",value:"lowerGreek"},{text:"Lower Roman",command:"Lists",subCommand:"NumberFormatList",value:"lowerRoman"},{text:"Upper Alpha",command:"Lists",subCommand:"NumberFormatList",value:"upperAlpha"},{text:"Lower Alpha",command:"Lists",subCommand:"NumberFormatList",value:"lowerAlpha"},{text:"Upper Roman",command:"Lists",subCommand:"NumberFormatList",value:"upperRoman"}],ll=[{text:"None",command:"Lists",subCommand:"BulletFormatList",value:"none"},{text:"Disc",command:"Lists",subCommand:"BulletFormatList",value:"disc"},{text:"Circle",command:"Lists",subCommand:"BulletFormatList",value:"circle"},{text:"Square",command:"Lists",subCommand:"BulletFormatList",value:"square"}];function Ys(r,e,t){for(var i=0;e.length>i;i++)if(e[i].value===t.subCommand)return r.localeObj.getConstant(e[i].locale);return t.text}function uM(r){ea.forEach(function(e,t){ea[t].text=Ys(r,u4,ea[t])}),qh.forEach(function(e,t){qh[t].text=Ys(r,p4,qh[t])}),Wh.forEach(function(e,t){Wh[t].text=Ys(r,d4,Wh[t])}),Zh.forEach(function(e,t){Zh[t].text=Ys(r,f4,Zh[t])}),Xh.forEach(function(e,t){Xh[t].text=Ys(r,m4,Xh[t])}),Gh.forEach(function(e,t){Gh[t].text=Ys(r,g4,Gh[t])}),Kh.forEach(function(e,t){Kh[t].text=Ys(r,v4,Kh[t])}),Jh.forEach(function(e,t){Jh[t].text=Ys(r,y4,Jh[t])})}var up={"Insert Link":"Ctrl+K","Insert Image":"Ctrl+Shift+I","Create Table":"Ctrl+Shift+E",Undo:"Ctrl+Z",Redo:"Ctrl+Y",Copy:"Ctrl+C",Cut:"Ctrl+X",Paste:"Ctrl+V",Bold:"Ctrl+B",Italic:"Ctrl+I",Underline:"Ctrl+U",Strikethrough:"Ctrl+Shift+S","Upper Case":"Ctrl+Shift+U","Lower Case":"Ctrl+Shift+L",Superscript:"Ctrl+Shift+=",Subscript:"Ctrl+=","Code View":"Ctrl+Shift+H",Maximize:"Ctrl+Shift+F",Minimize:"Esc","Clear Format":"Ctrl+Shift+R","Numbered List":"Ctrl+Shift+O","Bulleted List":"Ctrl+Alt+O","Number Format List":"Ctrl+Shift+O","Bullet Format List":"Ctrl+Alt+O","Insert Audio":"Ctrl+Shift+A","Insert Video":"Ctrl+Alt+V","Increase Indent":"Ctrl+]","Decrease Indent":"Ctrl+[","Decrease Fontsize":"Ctrl+Shift+<","Increase Fontsize":"Ctrl+Shift+>","Justify Center":"Ctrl+E","Justify Full":"Ctrl+J","Justify Left":"Ctrl+L","Justify Right":"Ctrl+R","Format Painter":"Alt+Shift+C, Alt+Shift+V"},pM=[{name:"Smilies & People",code:"1F600",iconCss:"e-emoji",icons:[{code:"1F600",desc:"Grinning face"},{code:"1F603",desc:"Grinning face with big eyes"},{code:"1F604",desc:"Grinning face with smiling eyes"},{code:"1F606",desc:"Grinning squinting face"},{code:"1F605",desc:"Grinning face with sweat"},{code:"1F602",desc:"Face with tears of joy"},{code:"1F923",desc:"Rolling on the floor laughing"},{code:"1F60A",desc:"Smiling face with smiling eyes"},{code:"1F607",desc:"Smiling face with halo"},{code:"1F642",desc:"Slightly smiling face"},{code:"1F643",desc:"Upside-down face"},{code:"1F60D",desc:"Smiling face with heart-eyes"},{code:"1F618",desc:"Face blowing a kiss"},{code:"1F61B",desc:"Face with tongue"},{code:"1F61C",desc:"Winking face with tongue"},{code:"1F604",desc:"Grinning face with smiling eyes"},{code:"1F469",desc:"Woman"},{code:"1F468",desc:"Man"},{code:"1F467",desc:"Girl"},{code:"1F466",desc:"Boy"},{code:"1F476",desc:"Baby"},{code:"1F475",desc:"Old woman"},{code:"1F474",desc:"Old man"},{code:"1F46E",desc:"Police officer"},{code:"1F477",desc:"Construction worker"},{code:"1F482",desc:"Guard"},{code:"1F575",desc:"Detective"},{code:"1F9D1",desc:"Cook"}]},{name:"Animals & Nature",code:"1F435",iconCss:"e-animals",icons:[{code:"1F436",desc:"Dog face"},{code:"1F431",desc:"Cat face"},{code:"1F42D",desc:"Mouse face"},{code:"1F439",desc:"Hamster face"},{code:"1F430",desc:"Rabbit face"},{code:"1F98A",desc:"Fox face"},{code:"1F43B",desc:"Bear face"},{code:"1F43C",desc:"Panda face"},{code:"1F428",desc:"Koala"},{code:"1F42F",desc:"Tiger face"},{code:"1F981",desc:"Lion face"},{code:"1F42E",desc:"Cow face"},{code:"1F437",desc:"Pig face"},{code:"1F43D",desc:"Pig nose"},{code:"1F438",desc:"Frog face"},{code:"1F435",desc:"Monkey face"},{code:"1F649",desc:"Hear-no-evil monkey"},{code:"1F64A",desc:"Speak-no-evil monkey"},{code:"1F412",desc:"Monkey"},{code:"1F414",desc:"Chicken"},{code:"1F427",desc:"Penguin"},{code:"1F426",desc:"Bird"},{code:"1F424",desc:"Baby chick"},{code:"1F986",desc:"Duck"},{code:"1F985",desc:"Eagle"}]},{name:"Food & Drink",code:"1F347",iconCss:"e-food-and-drinks",icons:[{code:"1F34E",desc:"Red apple"},{code:"1F34C",desc:"Banana"},{code:"1F347",desc:"Grapes"},{code:"1F353",desc:"Strawberry"},{code:"1F35E",desc:"Bread"},{code:"1F950",desc:"Croissant"},{code:"1F955",desc:"Carrot"},{code:"1F354",desc:"Hamburger"},{code:"1F355",desc:"Pizza"},{code:"1F32D",desc:"Hot dog"},{code:"1F35F",desc:"French fries"},{code:"1F37F",desc:"Popcorn"},{code:"1F366",desc:"Soft ice cream"},{code:"1F367",desc:"Shaved ice"},{code:"1F36A",desc:"Cookie"},{code:"1F382",desc:"Birthday cake"},{code:"1F370",desc:"Shortcake"},{code:"1F36B",desc:"Chocolate bar"},{code:"1F369",desc:"Donut"},{code:"1F36E",desc:"Custard"},{code:"1F36D",desc:"Lollipop"},{code:"1F36C",desc:"Candy"},{code:"1F377",desc:"Wine glass"},{code:"1F37A",desc:"Beer mug"},{code:"1F37E",desc:"Bottle with popping cork"}]},{name:"Activities",code:"1F383",iconCss:"e-activities",icons:[{code:"26BD",desc:"Soccer ball"},{code:"1F3C0",desc:"Basketball"},{code:"1F3C8",desc:"American football"},{code:"26BE",desc:"Baseball"},{code:"1F3BE",desc:"Tennis"},{code:"1F3D0",desc:"Volleyball"},{code:"1F3C9",desc:"Rugby football"},{code:"1F3B1",desc:"Pool 8 ball"},{code:"1F3D3",desc:"Ping pong"},{code:"1F3F8",desc:"Badminton"},{code:"1F94A",desc:"Boxing glove"},{code:"1F3CA",desc:"Swimmer"},{code:"1F3CB",desc:"Weightlifter"},{code:"1F6B4",desc:"Bicyclist"},{code:"1F6F9",desc:"Skateboard"},{code:"1F3AE",desc:"Video game"},{code:"1F579",desc:"Joystick"},{code:"1F3CF",desc:"Cricket"},{code:"1F3C7",desc:"Horse racing"},{code:"1F3AF",desc:"Direct hit"},{code:"1F3D1",desc:"Field hockey"},{code:"1F3B0",desc:"Slot machine"},{code:"1F3B3",desc:"Bowling"},{code:"1F3B2",desc:"Game die"},{code:"265F",desc:"Chess pawn"}]},{name:"Travel & Places",code:"1F30D",iconCss:"e-travel-and-places",icons:[{code:"2708",desc:"Airplane"},{code:"1F697",desc:"Automobile"},{code:"1F695",desc:"Taxi"},{code:"1F6B2",desc:"Bicycle"},{code:"1F68C",desc:"Bus"},{code:"1F682",desc:"Locomotive"},{code:"1F6F3",desc:"Passenger ship"},{code:"1F680",desc:"Rocket"},{code:"1F681",desc:"Helicopter"},{code:"1F6A2",desc:"Ship"},{code:"1F3DF",desc:"Stadium"},{code:"1F54C",desc:"Mosque"},{code:"26EA",desc:"Church"},{code:"1F6D5",desc:"Hindu Temple"},{code:"1F3D4",desc:"Snow-capped mountain"},{code:"1F3EB",desc:"School"},{code:"1F30B",desc:"Volcano"},{code:"1F3D6",desc:"Beach with umbrella"},{code:"1F3DD",desc:"Desert island"},{code:"1F3DE",desc:"National park"},{code:"1F3F0",desc:"Castle"},{code:"1F5FC",desc:"Tokyo tower"},{code:"1F5FD",desc:"Statue of liberty"},{code:"26E9",desc:"Shinto shrine"},{code:"1F3EF",desc:"Japanese castle"},{code:"1F3A2",desc:"Roller coaster"}]},{name:"Objects",code:"1F507",iconCss:"e-objects",icons:[{code:"1F4A1",desc:"Light bulb"},{code:"1F526",desc:"Flashlight"},{code:"1F4BB",desc:"Laptop computer"},{code:"1F5A5",desc:"Desktop computer"},{code:"1F5A8",desc:"Printer"},{code:"1F4F7",desc:"Camera"},{code:"1F4F8",desc:"Camera with flash"},{code:"1F4FD",desc:"Film projector"},{code:"1F3A5",desc:"Movie camera"},{code:"1F4FA",desc:"Television"},{code:"1F4FB",desc:"Radio"},{code:"1F50B",desc:"Battery"},{code:"231A",desc:"Watch"},{code:"1F4F1",desc:"Mobile phone"},{code:"260E",desc:"Telephone"},{code:"1F4BE",desc:"Floppy disk"},{code:"1F4BF",desc:"Optical disk"},{code:"1F4C0",desc:"Digital versatile disc"},{code:"1F4BD",desc:"Computer disk"},{code:"1F3A7",desc:"Headphone"},{code:"1F3A4",desc:"Microphone"},{code:"1F3B6",desc:"Multiple musical notes"},{code:"1F4DA",desc:"Books"}]},{name:"Symbols",code:"1F3E7",iconCss:"e-symbols",icons:[{code:"274C",desc:"Cross mark"},{code:"2714",desc:"Check mark"},{code:"26A0",desc:"Warning sign"},{code:"1F6AB",desc:"Prohibited"},{code:"2139",desc:"Information"},{code:"267B",desc:"Recycling symbol"},{code:"1F6AD",desc:"No smoking"},{code:"1F4F5",desc:"No mobile phones"},{code:"1F6AF",desc:"No littering"},{code:"1F6B3",desc:"No bicycles"},{code:"1F6B7",desc:"No pedestrians"},{code:"2795",desc:"Plus"},{code:"2796",desc:"Minus"},{code:"2797",desc:"Divide"},{code:"2716",desc:"Multiplication"},{code:"1F4B2",desc:"Dollar banknote"},{code:"1F4AC",desc:"Speech balloon"},{code:"2755",desc:"White exclamation mark"},{code:"2754",desc:"White question mark"},{code:"2764",desc:"Red heart"}]}];var hl={alignments:"Alignments",justifyLeft:"Align Left",justifyCenter:"Align Center",justifyRight:"Align Right",justifyFull:"Align Justify",fontName:"Font Name",fontSize:"Font Size",fontColor:"Font Color",backgroundColor:"Background Color",bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",clearFormat:"Clear Format",clearAll:"Clear All",cut:"Cut",copy:"Copy",paste:"Paste",unorderedList:"Bulleted List",orderedList:"Numbered List",indent:"Increase Indent",outdent:"Decrease Indent",undo:"Undo",redo:"Redo",superscript:"Superscript",subscript:"Subscript",createLink:"Insert Link",openLink:"Open Link",editLink:"Edit Link",removeLink:"Remove Link",image:"Insert Image",audio:"Insert Audio",video:"Insert Video",replace:"Replace",numberFormatList:"Number Format List",bulletFormatList:"Bullet Format List",audioReplace:"Replace",videoReplace:"Replace",videoAlign:"Align",videoDimension:"Dimension",audioRemove:"Remove",videoRemove:"Remove",audioLayoutOption:"Layout option",videoLayoutOption:"Layout option",align:"Align",caption:"Caption",remove:"Remove",insertLink:"Insert Link",display:"Display",altText:"Alternative text",dimension:"Change Size",fullscreen:"Maximize",maximize:"Maximize",minimize:"Minimize",lowerCase:"Lower Case",upperCase:"Upper Case",print:"Print",formats:"Formats",sourcecode:"Code View",preview:"Preview",viewside:"ViewSide",insertCode:"Insert Code",linkText:"Display text",linkTooltipLabel:"Title",linkWebUrl:"Web address",linkTitle:"Enter a title",linkurl:"https://example.com",linkOpenInNewWindow:"Open link in new window",linkHeader:"Insert Link",dialogInsert:"Insert",dialogCancel:"Cancel",dialogUpdate:"Update",imageHeader:"Insert Image",audioHeader:"Insert Audio",videoHeader:"Insert Video",imageLinkHeader:"You can also provide a link from the web",audioLinkHeader:"You can also provide a link from the web",videoLinkHeader:"Web URL",embedVideoLinkHeader:"Media Embed URL",mdimageLink:"Please provide a URL for your image",imageUploadMessage:"Drop image here or browse to upload",audioUploadMessage:"Drop an audio file or browse to upload",videoUploadMessage:"Drop a video file or browse to upload",imageDeviceUploadMessage:"Click here to upload",audioDeviceUploadMessage:"Click here to upload",videoDeviceUploadMessage:"Click here to upload",imageAlternateText:"Alternate Text",alternateHeader:"Alternative Text",browse:"Browse",imageUrl:"https://example.com/image.png",audioUrl:"https://example.com/audio.mp3",videoUrl:"https://example.com/video.mp4",webUrl:"Web URL",embedUrl:"Embed Code",imageCaption:"Caption",imageSizeHeader:"Image Size",videoSizeHeader:"Video Size",imageHeight:"Height",imageWidth:"Width",videoHeight:"Height",videoWidth:"Width",textPlaceholder:"Enter text",inserttablebtn:"Insert Table",tabledialogHeader:"Insert Table",tableWidth:"Width",cellpadding:"Cell Padding",cellspacing:"Cell Spacing",columns:"Number of columns",rows:"Number of rows",tableRows:"Row",tableColumns:"Column",tableCellHorizontalAlign:"Table Cell Horizontal Align",tableCellVerticalAlign:"Vertical Align",createTable:"Create Table",removeTable:"Remove Table",tableHeader:"Header Row",tableRemove:"Delete Table",tableCellBackground:"Table Cell Background",tableEditProperties:"Table Edit Properties",styles:"Styles",insertColumnLeft:"Insert Column Left",insertColumnRight:"Insert Column Right",deleteColumn:"Delete Column",insertRowBefore:"Insert Row Before",insertRowAfter:"Insert Row After",deleteRow:"Delete Row",tableEditHeader:"Edit Table",TableHeadingText:"Heading",TableColText:"Col",imageInsertLinkHeader:"Insert Link",editImageHeader:"Edit Image",editAudioHeader:"Edit Audio",editVideoHeader:"Edit Video",alignmentsDropDownLeft:"Align Left",alignmentsDropDownCenter:"Align Center",alignmentsDropDownRight:"Align Right",alignmentsDropDownJustify:"Align Justify",imageDisplayDropDownInline:"Inline",imageDisplayDropDownBreak:"Break",audioLayoutOptionDropDownInline:"Inline",audioLayoutOptionDropDownBreak:"Break",videoLayoutOptionDropDownInline:"Inline",videoLayoutOptionDropDownBreak:"Break",tableInsertRowDropDownBefore:"Insert row before",tableInsertRowDropDownAfter:"Insert row after",tableInsertRowDropDownDelete:"Delete row",tableInsertColumnDropDownLeft:"Insert column left",tableInsertColumnDropDownRight:"Insert column right",tableInsertColumnDropDownDelete:"Delete column",tableVerticalAlignDropDownTop:"Align Top",tableVerticalAlignDropDownMiddle:"Align Middle",tableVerticalAlignDropDownBottom:"Align Bottom",tableStylesDropDownDashedBorder:"Dashed Borders",tableStylesDropDownAlternateRows:"Alternate Rows",pasteFormat:"Paste Format",pasteFormatContent:"Choose the formatting action",plainText:"Plain Text",cleanFormat:"Clean",keepFormat:"Keep",pasteDialogOk:"OK",pasteDialogCancel:"Cancel",fileManager:"File Manager",fileDialogHeader:"File Browser",formatsDropDownParagraph:"Paragraph",formatsDropDownCode:"Code",formatsDropDownQuotation:"Quotation",formatsDropDownHeading1:"Heading 1",formatsDropDownHeading2:"Heading 2",formatsDropDownHeading3:"Heading 3",formatsDropDownHeading4:"Heading 4",fontNameSegoeUI:"Segoe UI",fontNameArial:"Arial",fontNameGeorgia:"Georgia",fontNameImpact:"Impact",fontNameTahoma:"Tahoma",fontNameTimesNewRoman:"Times New Roman",fontNameVerdana:"Verdana",numberFormatListNumber:"Number",numberFormatListLowerAlpha:"Lower Alpha",numberFormatListUpperAlpha:"Upper Alpha",numberFormatListLowerRoman:"Lower Roman",numberFormatListUpperRoman:"Upper Roman",numberFormatListLowerGreek:"Lower Greek",bulletFormatListDisc:"Disc",bulletFormatListCircle:"Circle",bulletFormatListSquare:"Square",numberFormatListNone:"None",bulletFormatListNone:"None",formatPainter:"Format Painter",emojiPicker:"Emoji Picker",embeddedCode:"Embedded code",pasteEmbeddedCodeHere:"Paste embedded code here",emojiPickerTypeToFind:"Type to find",emojiPickerNoResultFound:"No results found",emojiPickerTrySomethingElse:"Try something else",linkAriaLabel:"Open in new window",unsupportedImage:"Unsupported file format",mergecells:"Merge cells",verticalsplit:"Vertical split",horizontalsplit:"Horizontal split"},dM={alignments:"alignments",justifyleft:"justifyLeft",justifycenter:"justifyCenter",justifyright:"justifyRight",justifyfull:"justifyFull",fontname:"fontName",fontsize:"fontSize",fontcolor:"fontColor",backgroundcolor:"backgroundColor",bold:"bold",italic:"italic",underline:"underline",strikethrough:"strikethrough",clearformat:"clearFormat",clearall:"clearAll",cut:"cut",copy:"copy",paste:"paste",unorderedlist:"unorderedList",orderedlist:"orderedList",indent:"indent",outdent:"outdent",numberformatlist:"numberFormatList",bulletformatlist:"bulletFormatList",undo:"undo",redo:"redo",filemanager:"fileManager",superscript:"superscript",subscript:"subscript",createlink:"createLink",openlink:"openLink",editlink:"editLink",removelink:"removeLink",openimagelink:"openLink",editimagelink:"editLink",removeimagelink:"removeLink",image:"image",audio:"audio",video:"video",replace:"replace",audioreplace:"audioReplace",videoreplace:"videoReplace",videoalign:"videoAlign",videodimension:"videoDimension",audioremove:"audioRemove",videoremove:"videoRemove",audiolayoutoption:"audioLayoutOption",videolayoutoption:"videoLayoutOption",align:"align",caption:"caption",remove:"remove",insertlink:"insertLink",display:"display",alttext:"alternateHeader",dimension:"dimension",fullscreen:"fullscreen",maximize:"maximize",minimize:"minimize",lowercase:"lowerCase",uppercase:"upperCase",print:"print",formats:"formats",sourcecode:"sourcecode",preview:"preview",viewside:"viewside",insertcode:"insertCode",tablerows:"tableRows",tablecolumns:"tableColumns",tablecellhorizontalalign:"tableCellHorizontalAlign",tablecellverticalalign:"tableCellVerticalAlign",createtable:"createTable",removetable:"removeTable",tableheader:"tableHeader",tableremove:"tableRemove",tablecellbackground:"tableCellBackground",tableeditproperties:"tableEditProperties",styles:"styles",insertcolumnleft:"insertColumnLeft",insertcolumnright:"insertColumnRight",deletecolumn:"deleteColumn",aligntop:"AlignTop",alignmiddle:"AlignMiddle",alignbottom:"AlignBottom",insertrowbefore:"insertRowBefore",insertrowafter:"insertRowAfter",deleterow:"deleteRow",formatpainter:"formatPainter",emojipicker:"emojiPicker",embeddedCode:"Embedded code",pasteEmbeddedCodeHere:"Paste embedded code here",emojiPickerTypeToFind:"Type to find",emojiPickerNoResultFound:"No results found",emojiPickerTrySomethingElse:"Try something else",imageLinkAriaLabel:"Open in new window"},ec=[{locale:"fontNameSegoeUI",value:"Segoe UI"},{locale:"fontNameArial",value:"Arial,Helvetica,sans-serif"},{locale:"fontNameGeorgia",value:"Georgia,serif"},{locale:"fontNameImpact",value:"Impact,Charcoal,sans-serif"},{locale:"fontNameTahoma",value:"Tahoma,Geneva,sans-serif"},{locale:"fontNameTimesNewRoman",value:"Times New Roman,Times,serif"},{locale:"fontNameVerdana",value:"Verdana,Geneva,sans-serif"}],pp=[{locale:"formatsDropDownParagraph",value:"P"},{locale:"formatsDropDownCode",value:"Pre"},{locale:"formatsDropDownQuotation",value:"BlockQuote"},{locale:"formatsDropDownHeading1",value:"H1"},{locale:"formatsDropDownHeading2",value:"H2"},{locale:"formatsDropDownHeading3",value:"H3"},{locale:"formatsDropDownHeading4",value:"H4"}],tc=[{locale:"numberFormatListNone",value:"none"},{locale:"numberFormatListNumber",value:"decimal"},{locale:"numberFormatListLowerAlpha",value:"lower-alpha"},{locale:"numberFormatListUpperAlpha",value:"upper-alpha"},{locale:"numberFormatListLowerRoman",value:"lower-roman"},{locale:"numberFormatListUpperRoman",value:"upper-roman"},{locale:"numberFormatListLowerGreek",value:"lower-greek"}],ic=[{locale:"bulletFormatListNone",value:"none"},{locale:"bulletFormatListDisc",value:"disc"},{locale:"bulletFormatListCircle",value:"circle"},{locale:"bulletFormatListSquare",value:"square"}];var b4=["Undo","Redo"],O4=["a","abbr","acronym","audio","b","bdi","bdo","big","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","font","i","iframe","img","input","ins","kbd","label","map","mark","meter","noscript","object","output","picture","progress","q","ruby","s","samp","script","select","slot","small","span","strong","strike","sub","sup","svg","template","textarea","time","u","tt","var","video","wbr"];function nc(r,e){var t=-1;return e.some(function(i,n){return typeof i=="string"&&r===i.toLocaleLowerCase()?(t=n,!0):!1}),t}function tt(r,e){var t=!1;return r.classList.contains(e)&&(t=!0),t}function qn(r,e,t,i){for(var n,s,o=0;o<r.length;o++)if(t==="value"&&r[o].value.toLocaleLowerCase()===e.toLocaleLowerCase()){n=r[o];break}else if(t==="text"&&r[o].text.toLocaleLowerCase()===e.toLocaleLowerCase()){n=r[o];break}else if(t==="subCommand"&&r[o].subCommand.toLocaleLowerCase()===e.toLocaleLowerCase()){n=r[o];break}if(!u(n))switch(i){case"text":s=n.text;break;case"value":s=n.value;break;case"iconCss":s=n.iconCss;break}return s}function it(){var r=!1;return N.isDevice&&N.isIos&&(r=!0),r}function fp(r){return u(r)?"":r}function Qg(r,e,t){var i=0;return t?i=window.pageYOffset+e.getBoundingClientRect().top+r.clientY:i=r.pageY,i}function ta(r,e){var t=e.getService("rteLocale"),i=dM[""+r],n=t.getConstant(i);return n}function ns(r,e,t,i){if(t)for(var n=e.getService("rteLocale"),s=0;s<t.length;s++){var o=t[s].value.toLocaleLowerCase(),a=t[s].locale,l=hl[""+a].toLocaleLowerCase();if(r===o||r===l){var h=t[s].locale;return n.getConstant(h)}}else for(var c=i.fontSize.items,s=0;s<c.length;s++)if(r===i.fontSize.items[s].value){var p=i.fontSize.items[s].text;return p}return""}function Ug(r){for(var e=Object.keys(hl),t=0;t<e.length;t++){var i=hl[""+e[t]];if(r===i)return i}return""}function rc(r,e,t){_g(t);for(var i=r.dropDownModule,n=r.args,s=Object.keys(r.args),o=0,a=s;o<a.length;o++)for(var l=a[o],h=0;h<r.tbItems.length;h++){var c=r.tbItems[h].subCommand,p=c&&c.toLocaleLowerCase();if(c&&p===l||c==="UL"&&l==="unorderedlist"||c==="OL"&&l==="orderedlist"||p==="pre"&&l==="insertcode"||c==="NumberFormatList"&&l==="numberFormatList"||c==="BulletFormatList"&&l==="bulletFormatList"){if(typeof n[""+l]=="boolean")n[""+l]===!0?E([r.tbElements[h]],[Or]):L([r.tbElements[h]],[Or]);else if((typeof n[""+l]=="string"||n[""+l]===null)&&nc(l,r.parent.toolbarSettings.items)>=-1){var d=n[""+l]?n[""+l]:"",f="";switch(l){case"formats":{if(u(i.formatDropDown)||e||!u(i.formatDropDown)&&i.formatDropDown.isDestroyed)break;var m=r.parent.format.types,g=u(r.parent.format.default)?m[0].text:r.parent.format.default;f=d==="empty"?"":qn(m,d,"subCommand","text"),i.formatDropDown.content='<span style="display: inline-flex;width:'+r.parent.format.width+'" ><span class="e-rte-dropdown-btn-text'+(u(r.parent.cssClass)?"":" "+r.parent.cssClass)+'">'+(u(f)?g:f)+"</span></span>",i.formatDropDown.dataBind();break}case"alignments":{if(u(i.alignDropDown)||!u(i.alignDropDown)&&i.alignDropDown.isDestroyed)break;var v=ea;f=qn(v,d,"subCommand","iconCss"),i.alignDropDown.iconCss=u(f)?"e-icons e-justify-left":f,i.alignDropDown.dataBind();break}case"fontname":{if(u(i.fontNameDropDown)||e||!u(i.fontNameDropDown)&&i.fontNameDropDown.isDestroyed)break;var O=r.parent.fontFamily.items;f=d==="empty"?"":qn(O,d,"value","text");var C=u(r.parent.fontFamily.default)?O[0].text:r.parent.fontFamily.default,x=u(f)?C:f;i.fontNameDropDown.content='<span style="display: inline-flex;width:'+r.parent.fontFamily.width+'" ><span class="e-rte-dropdown-btn-text'+(u(r.parent.cssClass)?"":" "+r.parent.cssClass)+'">'+x+"</span></span>",i.fontNameDropDown.dataBind();break}case"fontsize":{if(u(i.fontSizeDropDown)||!u(i.fontSizeDropDown)&&i.fontSizeDropDown.isDestroyed)break;var M=r.parent.fontSize.items,k=u(r.parent.fontSize.default)?M[1].text:r.parent.fontSize.default;f=d==="empty"?"":qn(M,d===""?k.replace(/\s/g,""):d,"value","text"),i.fontSizeDropDown.content='<span style="display: inline-flex;width:'+r.parent.fontSize.width+'" ><span class="e-rte-dropdown-btn-text'+(u(r.parent.cssClass)?"":" "+r.parent.cssClass)+'">'+fp(f)+"</span></span>",i.fontSizeDropDown.dataBind();break}case"bulletFormatList":case"numberFormatList":d!==""?E([r.tbElements[h]],[Or]):L([r.tbElements[h]],[Or])}}}}}function sc(r){return typeof r=="object"?r:[r]}function oc(r,e){for(var t=[],i=0;i<r.length;i++)for(var n=0;n<e.length;n++)if(e[n].type!=="Separator"){if((r[i]==="OrderedList"||r[i]==="NumberFormatList")&&e[n].subCommand==="OL"){t.push(n);break}else if((r[i]==="UnorderedList"||r[i]==="BulletFormatList")&&e[n].subCommand==="UL"){t.push(n);break}else if(r[i]==="InsertCode"&&e[n].subCommand==="Pre"){t.push(n);break}else if(r[i]==="FileManager"&&e[n].subCommand==="File"){t.push(n);break}else if(typeof r[i]=="object"&&r[i].command==="Custom"){t.push(i);break}else if(r[i]===e[n].subCommand){t.push(n);break}}return t}function rs(r,e){for(var t=0,i=oc(sc(b4),r.toolbarObj.items),n=ge("."+Sn,r.toolbarObj.element),s=Object.keys(e),o=0,a=s;o<a.length;o++){var l=a[o],h=n[i[t]];h&&r.toolbarObj.enableItems(h,e[""+l]),t++}}function Tn(r,e){var t=document.createEvent("HTMLEvents");t.initEvent(e,!1,!0),r.dispatchEvent(t)}function Nn(r){var e=B("template");return e.innerHTML=r,e.content instanceof DocumentFragment?e.content:document.createRange().createContextualFragment(r)}function Hg(r,e){var t=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType===3?t.push(e):t=t.concat(Hg(r,e));return t}function cl(r){for(var e={},t=Object.keys(r),i=0;i<Object.keys(r).length;i++)e[t[i].toLocaleLowerCase()]=r[t[i]];return e}function ia(r,e){var t;return r!==null&&r!==""?(t=e.enableHtmlEncode?fM(Wn(r),e):fM(r,e),e.setProperties({value:t},!0)):e.enterKey==="DIV"?t=e.enableHtmlEncode?"&lt;div&gt;&lt;br/&gt;&lt;/div&gt;":"<div><br/></div>":e.enterKey==="BR"?t=e.enableHtmlEncode?"&lt;br/&gt;":"<br/>":t=e.enableHtmlEncode?"&lt;p&gt;&lt;br/&gt;&lt;/p&gt;":"<p><br/></p>",t}function fM(r,e){var t=document.createElement("div"),i=document.createElement("div"),n=t.childNodes;if(t.innerHTML=r,t.setAttribute("class","tempDiv"),n.length>0){for(var s=void 0,o=void 0,a=void 0;t.firstChild;){for(var l=t.querySelectorAll(MS),h=0;h<l.length;h++)l[h].innerHTML="<br>";for(var c=t.querySelectorAll("p"),h=0;h<c.length;h++)c[h].textContent.trim().length===0&&c[h].childNodes.length===1&&c[h].childNodes[0].nodeName==="#text"&&u(c[h].childNodes[0].textContent.match(/\u00a0/g))&&(c[h].innerHTML="<br>");for(var p=t.querySelectorAll(TS),h=0;h<p.length;h++)p[h].innerHTML="&ZeroWidthSpace;";e.enterKey!=="BR"&&(t.firstChild.nodeName==="#text"&&(t.firstChild.textContent.indexOf(`
`)<0||t.firstChild.textContent.trim()!=="")||O4.indexOf(t.firstChild.nodeName.toLocaleLowerCase())>=0)?(s?o.appendChild(t.firstChild):(e.enterKey==="DIV"?a=B("div"):a=B("p"),i.appendChild(a),a.appendChild(t.firstChild)),o=a,s=!0):t.firstChild.nodeName==="#text"&&(t.firstChild.textContent===`
`||t.firstChild.textContent.indexOf(`
`)>=0&&t.firstChild.textContent.trim()==="")?w(t.firstChild):(i.appendChild(t.firstChild),s=!1)}for(var d=i.querySelectorAll("img"),h=0;h<d.length;h++)d[h].classList.contains("e-rte-image-unsupported")||(d[h].classList.contains($h)||d[h].classList.add($h),!(d[h].classList.contains(ts)||d[h].classList.contains(br))&&!(d[h].classList.contains("e-imgleft")||d[h].classList.contains("e-imgright")||d[h].classList.contains("e-imgcenter"))&&d[h].classList.add(ts))}return i.innerHTML}function mp(r){var e;return r.enterKey==="DIV"?e=r.enableHtmlEncode?"&lt;div&gt;&lt;br/&gt;&lt;/div&gt;":"<div><br/></div>":r.enterKey==="BR"?e=r.enableHtmlEncode?"&lt;br/&gt;":"<br/>":e=r.enableHtmlEncode?"&lt;p&gt;&lt;br/&gt;&lt;/p&gt;":"<p><br/></p>",e}function mM(r){return r==="<p><br></p>"||r==="&lt;p&gt;&lt;br&gt;&lt;/p&gt;"||r==="<div><br></div>"||r==="&lt;div&gt;&lt;br&gt;&lt;/div&gt;"||r==="<br>"||r==="&lt;br&gt;"||r===""}function Wn(r){return r.replace(/&amp;/g,"&").replace(/&amp;lt;/g,"<").replace(/&lt;/g,"<").replace(/&amp;gt;/g,">").replace(/&gt;/g,">").replace(/&nbsp;/g," ").replace(/&amp;nbsp;/g," ").replace(/&quot;/g,"")}function gM(r,e){if(e.enableHtmlSanitizer){var t=pt.beforeSanitize();t.selectors.tags[2]&&t.selectors.tags[2].indexOf("iframe")>-1&&(t.selectors.tags[2]="iframe:not(.e-rte-embed-url)");var i={cancel:!1,helper:null};ae(t,t,i),e.trigger("beforeSanitizeHtml",t),t.cancel&&!u(t.helper)?r=t.helper(r):t.cancel||(r=pt.serializeValue(t,r))}return r}function ul(r){for(var e=r.split(","),t=e[0].match(/:(.*?);/)[1],i=atob(e[1]),n=i.length,s=new Uint8Array(n);n--;)s[n]=i.charCodeAt(n);return new Blob([s],{type:t})}function dp(r,e,t){for(var i=0;e.length>i;i++)if(e[i].value===t.value||e[i].value===t.subCommand)return r.localeObj.getConstant(e[i].locale);return t.text}function _g(r){sl.forEach(function(e,t){sl[t].text=dp(r,ec,sl[t])}),ol.forEach(function(e,t){ol[t].text=dp(r,pp,ol[t])}),al.forEach(function(e,t){al[t].text=dp(r,tc,al[t])}),ll.forEach(function(e,t){ll[t].text=dp(r,ic,ll[t])})}var C4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),vM=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},S4="e-hscroll",qs="e-rtl",Ws="e-overlay",M4="e-hscroll-bar",T4="e-hscroll-content",ac="e-nav-arrow",lc="e-nav-right-arrow",gp="e-nav-left-arrow",na="e-scroll-nav",Fg="e-scroll-right-nav",yM="e-scroll-left-nav",bM="e-scroll-device",vp="e-scroll-overlay",Vg="e-scroll-right-overlay",$g="e-scroll-left-overlay",OM=40,CM=function(r){C4(e,r);function e(t,i){return r.call(this,t,i)||this}return e.prototype.preRender=function(){this.browser=N.info.name,this.browserCheck=this.browser==="mozilla",this.isDevice=N.isDevice,this.customStep=!0;var t=this.element;this.ieCheck=this.browser==="edge"||this.browser==="msie",this.initialize(),t.id===""&&(t.id=Fe("hscroll"),this.uniqueId=!0),t.style.display="block",this.enableRtl&&t.classList.add(qs)},e.prototype.render=function(){this.touchModule=new mr(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),y.add(this.scrollEle,"scroll",this.scrollHandler,this),this.isDevice?(this.element.classList.add(bM),this.createOverlay(this.element)):this.createNavIcon(this.element),this.setScrollState()},e.prototype.setScrollState=function(){u(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetWidth,this.customStep=!1):this.customStep=!0},e.prototype.initialize=function(){var t=this.createElement("div",{className:T4}),i=this.createElement("div",{className:M4});i.setAttribute("tabindex","-1");for(var n=this.element,s=[].slice.call(n.children),o=0,a=s;o<a.length;o++){var l=a[o];t.appendChild(l)}i.appendChild(t),n.appendChild(i),i.style.overflowX="hidden",this.scrollEle=i,this.scrollItems=t},e.prototype.getPersistData=function(){var t=["scrollStep"];return this.addOnPersist(t)},e.prototype.getModuleName=function(){return"hScroll"},e.prototype.destroy=function(){var t=this.element;t.style.display="",t.classList.remove(S4),t.classList.remove(bM),t.classList.remove(qs);var i=ge(".e-"+t.id+"_nav."+na,t),n=ge("."+vp,t);[].slice.call(n).forEach(function(l){w(l)});for(var s=0,o=[].slice.call(this.scrollItems.children);s<o.length;s++){var a=o[s];t.appendChild(a)}this.uniqueId&&this.element.removeAttribute("id"),w(this.scrollEle),i.length>0&&(w(i[0]),u(i[1])||w(i[1])),y.remove(this.scrollEle,"scroll",this.scrollHandler),this.touchModule.destroy(),this.touchModule=null,r.prototype.destroy.call(this)},e.prototype.disable=function(t){var i=ge(".e-scroll-nav:not(."+Ws+")",this.element);t?this.element.classList.add(Ws):this.element.classList.remove(Ws),[].slice.call(i).forEach(function(n){n.setAttribute("tabindex",t?"-1":"0")})},e.prototype.createOverlay=function(t){var i=t.id.concat("_nav"),n=this.createElement("div",{className:vp+" "+Vg}),s="e-"+t.id.concat("_nav "+na+" "+Fg),o=this.createElement("div",{id:i.concat("_right"),className:s}),a=this.createElement("div",{className:lc+" "+ac+" e-icons"});o.appendChild(a);var l=this.createElement("div",{className:vp+" "+$g});this.ieCheck&&o.classList.add("e-ie-align"),t.appendChild(n),t.appendChild(o),t.insertBefore(l,t.firstChild),this.eventBinding([o])},e.prototype.createNavIcon=function(t){var i=t.id.concat("_nav"),n="e-"+t.id.concat("_nav "+na+" "+Fg),s={role:"button",id:i.concat("_right"),"aria-label":"Scroll right"},o=this.createElement("div",{className:n,attrs:s});o.setAttribute("aria-disabled","false");var a=this.createElement("div",{className:lc+" "+ac+" e-icons"}),l="e-"+t.id.concat("_nav "+na+" "+yM),h={role:"button",id:i.concat("_left"),"aria-label":"Scroll left"},c=this.createElement("div",{className:l+" "+Ws,attrs:h});c.setAttribute("aria-disabled","true");var p=this.createElement("div",{className:gp+" "+ac+" e-icons"});c.appendChild(p),o.appendChild(a),t.appendChild(o),t.insertBefore(c,t.firstChild),this.ieCheck&&(o.classList.add("e-ie-align"),c.classList.add("e-ie-align")),this.eventBinding([o,c])},e.prototype.onKeyPress=function(t){var i=this;if(t.key==="Enter"){var n=function(){i.keyTimeout=!0,i.eleScrolling(10,t.target,!0)};this.keyTimer=window.setTimeout(function(){n()},100)}},e.prototype.onKeyUp=function(t){t.key==="Enter"&&(this.keyTimeout?this.keyTimeout=!1:t.target.click(),clearTimeout(this.keyTimer))},e.prototype.eventBinding=function(t){var i=this;[].slice.call(t).forEach(function(n){new mr(n,{tapHold:i.tabHoldHandler.bind(i),tapHoldThreshold:500}),n.addEventListener("keydown",i.onKeyPress.bind(i)),n.addEventListener("keyup",i.onKeyUp.bind(i)),n.addEventListener("mouseup",i.repeatScroll.bind(i)),n.addEventListener("touchend",i.repeatScroll.bind(i)),n.addEventListener("contextmenu",function(s){s.preventDefault()}),y.add(n,"click",i.clickEventHandler,i)})},e.prototype.repeatScroll=function(){clearInterval(this.timeout)},e.prototype.tabHoldHandler=function(t){var i=this,n=t.originalEvent.target;n=this.contains(n,na)?n.firstElementChild:n;var s=10,o=function(){i.eleScrolling(s,n,!0)};this.timeout=window.setInterval(function(){o()},50)},e.prototype.contains=function(t,i){return t.classList.contains(i)},e.prototype.eleScrolling=function(t,i,n){var s=this.element,o=i.classList;o.contains(na)&&(o=i.querySelector("."+ac).classList),this.contains(s,qs)&&this.browserCheck&&(t=-t),!this.contains(s,qs)||this.browserCheck||this.ieCheck?o.contains(lc)?this.frameScrollRequest(t,"add",n):this.frameScrollRequest(t,"",n):o.contains(gp)?this.frameScrollRequest(t,"add",n):this.frameScrollRequest(t,"",n)},e.prototype.clickEventHandler=function(t){this.eleScrolling(this.scrollStep,t.target,!1)},e.prototype.swipeHandler=function(t){var i=this.scrollEle,n;t.velocity<=1?n=t.distanceX/(t.velocity*10):n=t.distanceX/t.velocity;var s=.5,o=function(){var a=Math.sin(s);a<=0?window.cancelAnimationFrame(a):(t.swipeDirection==="Left"?i.scrollLeft+=n*a:t.swipeDirection==="Right"&&(i.scrollLeft-=n*a),s-=.5,window.requestAnimationFrame(o))};o()},e.prototype.scrollUpdating=function(t,i){i==="add"?this.scrollEle.scrollLeft+=t:this.scrollEle.scrollLeft-=t,this.enableRtl&&this.scrollEle.scrollLeft>0&&(this.scrollEle.scrollLeft=0)},e.prototype.frameScrollRequest=function(t,i,n){var s=this,o=10;if(n){this.scrollUpdating(t,i);return}this.customStep||[].slice.call(ge("."+vp,this.element)).forEach(function(l){t-=l.offsetWidth});var a=function(){var l,h;s.contains(s.element,qs)&&s.browserCheck?(l=-t,h=-o):(l=t,h=o),l<o?window.cancelAnimationFrame(h):(s.scrollUpdating(h,i),t-=h,window.requestAnimationFrame(a))};a()},e.prototype.touchHandler=function(t){var i=this.scrollEle,n=t.distanceX;this.ieCheck&&this.contains(this.element,qs)&&(n=-n),t.scrollDirection==="Left"?i.scrollLeft=i.scrollLeft+n:t.scrollDirection==="Right"&&(i.scrollLeft=i.scrollLeft-n)},e.prototype.arrowDisabling=function(t,i){if(this.isDevice){var n=u(t)?i:t,s=n.querySelector("."+ac);u(t)?Bt(s,[lc],[gp]):Bt(s,[gp],[lc])}else t&&i&&(t.classList.add(Ws),t.setAttribute("aria-disabled","true"),t.removeAttribute("tabindex"),i.classList.remove(Ws),i.setAttribute("aria-disabled","false"),i.setAttribute("tabindex","0"));this.repeatScroll()},e.prototype.scrollHandler=function(t){var i=t.target,n=i.offsetWidth,s=this.element,o=this.element.querySelector("."+yM),a=this.element.querySelector("."+Fg),l=this.element.querySelector("."+$g),h=this.element.querySelector("."+Vg),c=i.scrollLeft;if(c<=0&&(c=-c),this.isDevice&&(this.enableRtl&&!(this.browserCheck||this.ieCheck)&&(l=this.element.querySelector("."+Vg),h=this.element.querySelector("."+$g)),c<OM?l.style.width=c+"px":l.style.width="40px",i.scrollWidth-Math.ceil(n+c)<OM?h.style.width=i.scrollWidth-Math.ceil(n+c)+"px":h.style.width="40px"),c===0)this.arrowDisabling(o,a);else if(Math.ceil(n+c+.1)>=i.scrollWidth)this.arrowDisabling(a,o);else{var p=this.element.querySelector("."+na+"."+Ws);p&&(p.classList.remove(Ws),p.setAttribute("aria-disabled","false"),p.setAttribute("tabindex","0"))}},e.prototype.onPropertyChanged=function(t,i){for(var n=0,s=Object.keys(t);n<s.length;n++){var o=s[n];switch(o){case"scrollStep":this.setScrollState();break;case"enableRtl":t.enableRtl?this.element.classList.add(qs):this.element.classList.remove(qs);break}}},vM([b(null)],e.prototype,"scrollStep",void 0),e=vM([Ee],e),e}(Ve);var N4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),SM=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},x4="e-vscroll",yp="e-rtl",Zs="e-overlay",w4="e-vscroll-bar",E4="e-vscroll-content",hc="e-nav-arrow",bp="e-nav-up-arrow",cc="e-nav-down-arrow",ra="e-scroll-nav",MM="e-scroll-up-nav",Yg="e-scroll-down-nav",TM="e-scroll-device",Op="e-scroll-overlay",NM="e-scroll-up-overlay",xM="e-scroll-down-overlay",wM=40,EM=function(r){N4(e,r);function e(t,i){return r.call(this,t,i)||this}return e.prototype.preRender=function(){this.browser=N.info.name,this.browserCheck=this.browser==="mozilla",this.isDevice=N.isDevice,this.customStep=!0;var t=this.element;this.ieCheck=this.browser==="edge"||this.browser==="msie",this.initialize(),t.id===""&&(t.id=Fe("vscroll"),this.uniqueId=!0),t.style.display="block",this.enableRtl&&t.classList.add(yp)},e.prototype.render=function(){this.touchModule=new mr(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),y.add(this.scrollEle,"scroll",this.scrollEventHandler,this),this.isDevice?(this.element.classList.add(TM),this.createOverlayElement(this.element)):this.createNavIcon(this.element),this.setScrollState(),y.add(this.element,"wheel",this.wheelEventHandler,this)},e.prototype.setScrollState=function(){u(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetHeight,this.customStep=!1):this.customStep=!0},e.prototype.initialize=function(){var t=B("div",{className:E4}),i=B("div",{className:w4});i.setAttribute("tabindex","-1");for(var n=this.element,s=[].slice.call(n.children),o=0,a=s;o<a.length;o++){var l=a[o];t.appendChild(l)}i.appendChild(t),n.appendChild(i),i.style.overflow="hidden",this.scrollEle=i,this.scrollItems=t},e.prototype.getPersistData=function(){var t=["scrollStep"];return this.addOnPersist(t)},e.prototype.getModuleName=function(){return"vScroll"},e.prototype.destroy=function(){var t=this.element;t.style.display="",L([this.element],[x4,TM,yp]);var i=ge(".e-"+t.id+"_nav."+ra,t),n=ge("."+Op,t);[].slice.call(n).forEach(function(l){w(l)});for(var s=0,o=[].slice.call(this.scrollItems.children);s<o.length;s++){var a=o[s];t.appendChild(a)}this.uniqueId&&this.element.removeAttribute("id"),w(this.scrollEle),i.length>0&&(w(i[0]),u(i[1])||w(i[1])),y.remove(this.scrollEle,"scroll",this.scrollEventHandler),this.touchModule.destroy(),this.touchModule=null,r.prototype.destroy.call(this)},e.prototype.disable=function(t){var i=ge(".e-scroll-nav:not(."+Zs+")",this.element);t?this.element.classList.add(Zs):this.element.classList.remove(Zs),[].slice.call(i).forEach(function(n){n.setAttribute("tabindex",t?"-1":"0")})},e.prototype.createOverlayElement=function(t){var i=t.id.concat("_nav"),n=B("div",{className:Op+" "+xM}),s="e-"+t.id.concat("_nav "+ra+" "+Yg),o=B("div",{id:i.concat("down"),className:s}),a=B("div",{className:cc+" "+hc+" e-icons"});o.appendChild(a);var l=B("div",{className:Op+" "+NM});this.ieCheck&&o.classList.add("e-ie-align"),t.appendChild(n),t.appendChild(o),t.insertBefore(l,t.firstChild),this.eventBinding([o])},e.prototype.createNavIcon=function(t){var i=t.id.concat("_nav"),n="e-"+t.id.concat("_nav "+ra+" "+Yg),s=B("div",{id:i.concat("_down"),className:n});s.setAttribute("aria-disabled","false");var o=B("div",{className:cc+" "+hc+" e-icons"}),a="e-"+t.id.concat("_nav "+ra+" "+MM),l=B("div",{id:i.concat("_up"),className:a+" "+Zs});l.setAttribute("aria-disabled","true");var h=B("div",{className:bp+" "+hc+" e-icons"});l.appendChild(h),s.appendChild(o),s.setAttribute("tabindex","0"),t.appendChild(s),t.insertBefore(l,t.firstChild),this.ieCheck&&(s.classList.add("e-ie-align"),l.classList.add("e-ie-align")),this.eventBinding([s,l])},e.prototype.onKeyPress=function(t){var i=this;if(t.key==="Enter"){var n=function(){i.keyTimeout=!0,i.eleScrolling(10,t.target,!0)};this.keyTimer=window.setTimeout(function(){n()},100)}},e.prototype.onKeyUp=function(t){t.key==="Enter"&&(this.keyTimeout?this.keyTimeout=!1:t.target.click(),clearTimeout(this.keyTimer))},e.prototype.eventBinding=function(t){var i=this;[].slice.call(t).forEach(function(n){new mr(n,{tapHold:i.tabHoldHandler.bind(i),tapHoldThreshold:500}),n.addEventListener("keydown",i.onKeyPress.bind(i)),n.addEventListener("keyup",i.onKeyUp.bind(i)),n.addEventListener("mouseup",i.repeatScroll.bind(i)),n.addEventListener("touchend",i.repeatScroll.bind(i)),n.addEventListener("contextmenu",function(s){s.preventDefault()}),y.add(n,"click",i.clickEventHandler,i)})},e.prototype.repeatScroll=function(){clearInterval(this.timeout)},e.prototype.tabHoldHandler=function(t){var i=this,n=t.originalEvent.target;n=this.contains(n,ra)?n.firstElementChild:n;var s=10,o=function(){i.eleScrolling(s,n,!0)};this.timeout=window.setInterval(function(){o()},50)},e.prototype.contains=function(t,i){return t.classList.contains(i)},e.prototype.eleScrolling=function(t,i,n){var s=i.classList;s.contains(ra)&&(s=i.querySelector("."+hc).classList),s.contains(cc)?this.frameScrollRequest(t,"add",n):s.contains(bp)&&this.frameScrollRequest(t,"",n)},e.prototype.clickEventHandler=function(t){this.eleScrolling(this.scrollStep,t.target,!1)},e.prototype.wheelEventHandler=function(t){t.preventDefault(),this.frameScrollRequest(this.scrollStep,t.deltaY>0?"add":"",!1)},e.prototype.swipeHandler=function(t){var i=this.scrollEle,n;t.velocity<=1?n=t.distanceY/(t.velocity*10):n=t.distanceY/t.velocity;var s=.5,o=function(){var a=Math.sin(s);a<=0?window.cancelAnimationFrame(a):(t.swipeDirection==="Up"?i.scrollTop+=n*a:t.swipeDirection==="Down"&&(i.scrollTop-=n*a),s-=.02,window.requestAnimationFrame(o))};o()},e.prototype.scrollUpdating=function(t,i){i==="add"?this.scrollEle.scrollTop+=t:this.scrollEle.scrollTop-=t},e.prototype.frameScrollRequest=function(t,i,n){var s=this,o=10;if(n){this.scrollUpdating(t,i);return}this.customStep||[].slice.call(ge("."+Op,this.element)).forEach(function(l){t-=l.offsetHeight});var a=function(){t<o?window.cancelAnimationFrame(o):(s.scrollUpdating(o,i),t-=o,window.requestAnimationFrame(a))};a()},e.prototype.touchHandler=function(t){var i=this.scrollEle,n=t.distanceY;t.scrollDirection==="Up"?i.scrollTop=i.scrollTop+n:t.scrollDirection==="Down"&&(i.scrollTop=i.scrollTop-n)},e.prototype.arrowDisabling=function(t,i){if(this.isDevice){var n=u(t)?i:t,s=n.querySelector("."+hc);u(t)?Bt(s,[cc],[bp]):Bt(s,[bp],[cc])}else t.classList.add(Zs),t.setAttribute("aria-disabled","true"),t.removeAttribute("tabindex"),i.classList.remove(Zs),i.setAttribute("aria-disabled","false"),i.setAttribute("tabindex","0");this.repeatScroll()},e.prototype.scrollEventHandler=function(t){var i=t.target,n=i.offsetHeight,s=this.element.querySelector("."+MM),o=this.element.querySelector("."+Yg),a=this.element.querySelector("."+NM),l=this.element.querySelector("."+xM),h=i.scrollTop;if(h<=0&&(h=-h),this.isDevice&&(h<wM?a.style.height=h+"px":a.style.height="40px",i.scrollHeight-Math.ceil(n+h)<wM?l.style.height=i.scrollHeight-Math.ceil(n+h)+"px":l.style.height="40px"),h===0)this.arrowDisabling(s,o);else if(Math.ceil(n+h+.1)>=i.scrollHeight)this.arrowDisabling(o,s);else{var c=this.element.querySelector("."+ra+"."+Zs);c&&(c.classList.remove(Zs),c.setAttribute("aria-disabled","false"),c.setAttribute("tabindex","0"))}},e.prototype.onPropertyChanged=function(t,i){for(var n=0,s=Object.keys(t);n<s.length;n++){var o=s[n];switch(o){case"scrollStep":this.setScrollState();break;case"enableRtl":t.enableRtl?this.element.classList.add(yp):this.element.classList.remove(yp);break}}},SM([b(null)],e.prototype,"scrollStep",void 0),e=SM([Ee],e),e}(Ve);function Cp(r,e,t,i,n,s){var o=i;if(i.tagName===e){var a=F("ej2_instances",i);o=r("input",{attrs:{type:t}});for(var l=["change","cssClass","label","labelPosition","id"],h=0,c=i.attributes.length;h<c;h++)l.indexOf(i.attributes[h].nodeName)===-1&&o.setAttribute(i.attributes[h].nodeName,i.attributes[h].nodeValue);pe(i,{class:n}),i.appendChild(o),Pe("ej2_instances",a,o),za(i,"ej2_instances")}return o}function kM(r){for(var e,t=r.childNodes,i=0;i<t.length;i++)if(e=t[i],e.nodeType===3)return e;return null}function Xs(r,e){if(e){var t=document.createEvent("MouseEvents");t.initEvent(r.type,!1,!0),e.dispatchEvent(t)}}function DM(r,e){r.element.getAttribute("ejs-for")&&e.appendChild(r.createElement("input",{attrs:{name:r.name||r.element.name,value:"false",type:"hidden"}}))}var k4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Zn=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},LM;(function(r){r.Left="Left",r.Right="Right",r.Top="Top",r.Bottom="Bottom"})(LM||(LM={}));var xY=new tn,xn={RTL:"e-rtl",BUTTON:"e-btn",PRIMARY:"e-primary",ICONBTN:"e-icon-btn"},Ei=function(r){k4(e,r);function e(t,i){return r.call(this,t,i)||this}return e.prototype.preRender=function(){},e.prototype.render=function(){this.initialize(),this.removeRippleEffect=On(this.element,{selector:"."+xn.BUTTON}),this.renderComplete()},e.prototype.initialize=function(){if(this.cssClass&&E([this.element],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.isPrimary&&this.element.classList.add(xn.PRIMARY),!ne()||ne()&&this.getModuleName()!=="progress-btn"){if(this.content){var t=this.enableHtmlSanitizer?pt.sanitize(this.content):this.content;this.element.innerHTML=t}this.setIconCss()}this.enableRtl&&this.element.classList.add(xn.RTL),this.disabled?this.controlStatus(this.disabled):this.wireEvents()},e.prototype.controlStatus=function(t){this.element.disabled=t},e.prototype.setIconCss=function(){if(this.iconCss){var t=this.createElement("span",{className:"e-btn-icon "+this.iconCss});this.element.textContent.trim()?(t.classList.add("e-icon-"+this.iconPosition.toLowerCase()),(this.iconPosition==="Top"||this.iconPosition==="Bottom")&&this.element.classList.add("e-"+this.iconPosition.toLowerCase()+"-icon-btn")):this.element.classList.add(xn.ICONBTN);var i=this.element.childNodes[0];i&&(this.iconPosition==="Left"||this.iconPosition==="Top")?this.element.insertBefore(t,i):this.element.appendChild(t)}},e.prototype.wireEvents=function(){this.isToggle&&y.add(this.element,"click",this.btnClickHandler,this)},e.prototype.unWireEvents=function(){this.isToggle&&y.remove(this.element,"click",this.btnClickHandler)},e.prototype.btnClickHandler=function(){this.element.classList.contains("e-active")?this.element.classList.remove("e-active"):this.element.classList.add("e-active")},e.prototype.destroy=function(){var t=[xn.PRIMARY,xn.RTL,xn.ICONBTN,"e-success","e-info","e-danger","e-warning","e-flat","e-outline","e-small","e-bigger","e-active","e-round","e-top-icon-btn","e-bottom-icon-btn"];this.cssClass&&(t=t.concat(this.cssClass.split(" "))),r.prototype.destroy.call(this),L([this.element],t),this.element.getAttribute("class")||this.element.removeAttribute("class"),this.disabled&&this.element.removeAttribute("disabled"),this.content&&(this.element.innerHTML=this.element.innerHTML.replace(this.content,""));var i=this.element.querySelector("span.e-btn-icon");i&&w(i),this.unWireEvents(),fr&&this.removeRippleEffect()},e.prototype.getModuleName=function(){return"btn"},e.prototype.getPersistData=function(){return this.addOnPersist([])},e.Inject=function(){},e.prototype.onPropertyChanged=function(t,i){for(var n=this.element.querySelector("span.e-btn-icon"),s=0,o=Object.keys(t);s<o.length;s++){var a=o[s];switch(a){case"isPrimary":t.isPrimary?this.element.classList.add(xn.PRIMARY):this.element.classList.remove(xn.PRIMARY);break;case"disabled":this.controlStatus(t.disabled);break;case"iconCss":{n=this.element.querySelector("span.e-btn-icon"),n?t.iconCss?(n.className="e-btn-icon "+t.iconCss,this.element.textContent.trim()&&(this.iconPosition==="Left"?n.classList.add("e-icon-left"):n.classList.add("e-icon-right"))):w(n):this.setIconCss();break}case"iconPosition":L([this.element],["e-top-icon-btn","e-bottom-icon-btn"]),n=this.element.querySelector("span.e-btn-icon"),n&&w(n),this.setIconCss();break;case"cssClass":i.cssClass&&L([this.element],i.cssClass.split(" ")),t.cssClass&&E([this.element],t.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":t.enableRtl?this.element.classList.add(xn.RTL):this.element.classList.remove(xn.RTL);break;case"content":{var l=kM(this.element);l||this.element.classList.remove(xn.ICONBTN),(!ne()||ne()&&!this.isServerRendered&&this.getModuleName()!=="progress-btn")&&(this.enableHtmlSanitizer&&(t.content=pt.sanitize(t.content)),this.element.innerHTML=t.content,this.setIconCss());break}case"isToggle":t.isToggle?y.add(this.element,"click",this.btnClickHandler,this):(y.remove(this.element,"click",this.btnClickHandler),L([this.element],["e-active"]));break}}},e.prototype.click=function(){this.element.click()},e.prototype.focusIn=function(){this.element.focus()},Zn([b("Left")],e.prototype,"iconPosition",void 0),Zn([b("")],e.prototype,"iconCss",void 0),Zn([b(!1)],e.prototype,"disabled",void 0),Zn([b(!1)],e.prototype,"isPrimary",void 0),Zn([b("")],e.prototype,"cssClass",void 0),Zn([b("")],e.prototype,"content",void 0),Zn([b(!1)],e.prototype,"isToggle",void 0),Zn([b()],e.prototype,"locale",void 0),Zn([b(!0)],e.prototype,"enableHtmlSanitizer",void 0),Zn([R()],e.prototype,"created",void 0),e=Zn([Ee],e),e}(Ve);var D4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),hn=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},qg="e-check",AM="e-checkbox-disabled",uc="e-frame",Wg="e-stop",Zg="e-label",pc="e-ripple-container",Xg="e-ripple-check",Gg="e-ripple-stop",Kg="e-rtl",Jg="e-checkbox-wrapper",L4=["title","class","style","disabled","readonly","name","value","id"],Sp=function(r){D4(e,r);function e(t,i){var n=r.call(this,t,i)||this;return n.isFocused=!1,n.isMouseClick=!1,n.clickTriggered=!1,n.validCheck=!0,n}return e.prototype.changeState=function(t,i){var n,s=null,o=this.getWrapper().getElementsByClassName(uc)[0];fr&&(s=this.getWrapper().getElementsByClassName(pc)[0]),t==="check"?(o&&(o.classList.remove(Wg),o.classList.add(qg)),s&&(s.classList.remove(Gg),s.classList.add(Xg)),n="true",this.element.checked=!0,(this.element.required||S(this.element,"form")&&S(this.element,"form").classList.contains("e-formvalidator"))&&this.validCheck&&!i?(this.element.checked=!1,this.validCheck=!1):(this.element.required||S(this.element,"form")&&S(this.element,"form").classList.contains("e-formvalidator"))&&(this.validCheck=!0)):t==="uncheck"?(o&&L([o],[qg,Wg]),s&&L([s],[Xg,Gg]),n="false",this.element.checked=!1,(this.element.required||S(this.element,"form")&&S(this.element,"form").classList.contains("e-formvalidator"))&&this.validCheck&&!i?(this.element.checked=!0,this.validCheck=!1):(this.element.required||S(this.element,"form")&&S(this.element,"form").classList.contains("e-formvalidator"))&&(this.validCheck=!0)):(o&&(o.classList.remove(qg),o.classList.add(Wg)),s&&(s.classList.remove(Xg),s.classList.add(Gg)),n="mixed",this.element.indeterminate=!0,this.indeterminate=!0)},e.prototype.clickHandler=function(t){if(t.target.tagName==="INPUT"&&this.clickTriggered){this.isVue&&this.changeState(this.checked?"check":"uncheck"),this.clickTriggered=!1;return}(t.target.tagName==="SPAN"||t.target.tagName==="LABEL")&&(this.clickTriggered=!0),this.isMouseClick&&(this.focusOutHandler(),this.isMouseClick=!1),this.indeterminate?(this.changeState(this.checked?"check":"uncheck"),this.indeterminate=!1,this.element.indeterminate=!1):this.checked?(this.changeState("uncheck"),this.checked=!1):(this.changeState("check"),this.checked=!0);var i={checked:this.updateVueArrayModel(!1),event:t};this.trigger("change",i),t.stopPropagation()},e.prototype.destroy=function(){var t=this,i=this.getWrapper();r.prototype.destroy.call(this),this.wrapper&&(i=this.wrapper,this.disabled||this.unWireEvents(),this.tagName==="INPUT"?(this.getWrapper()&&i.parentNode&&i.parentNode.insertBefore(this.element,i),w(i),this.element.checked=!1,this.indeterminate&&(this.element.indeterminate=!1),["name","value","disabled"].forEach(function(n){t.element.removeAttribute(n)})):(["class"].forEach(function(n){i.removeAttribute(n)}),i.innerHTML="",this.element=i,this.refreshing&&(["e-control","e-checkbox","e-lib"].forEach(function(n){t.element.classList.add(n)}),Pe("ej2_instances",[this],this.element))))},e.prototype.focusHandler=function(){this.isFocused=!0},e.prototype.focusOutHandler=function(){var t=this.getWrapper();t&&t.classList.remove("e-focus"),this.isFocused=!1},e.prototype.getModuleName=function(){return"checkbox"},e.prototype.getPersistData=function(){return this.addOnPersist(["checked","indeterminate"])},e.prototype.getWrapper=function(){return this.element&&this.element.parentElement?this.element.parentElement.parentElement:null},e.prototype.getLabel=function(){return this.element?this.element.parentElement:null},e.prototype.initialize=function(){u(this.initialCheckedValue)&&(this.initialCheckedValue=this.checked),this.name&&this.element.setAttribute("name",this.name),this.value&&(this.element.setAttribute("value",this.value),this.isVue&&typeof this.value=="boolean"&&this.value===!0&&this.setProperties({checked:!0},!0)),this.checked&&this.changeState("check",!0),this.indeterminate&&this.changeState(),this.disabled&&this.setDisabled()},e.prototype.initWrapper=function(){var t=this.element.parentElement;t.classList.contains(Jg)||(t=this.createElement("div",{className:Jg}),this.element.parentNode&&this.element.parentNode.insertBefore(t,this.element));var i=this.createElement("label",{attrs:{for:this.element.id}}),n=this.createElement("span",{className:"e-icons "+uc});if(t.classList.add("e-wrapper"),this.enableRtl&&t.classList.add(Kg),this.cssClass&&E([t],this.cssClass.replace(/\s+/g," ").trim().split(" ")),t.appendChild(i),i.appendChild(this.element),DM(this,i),i.appendChild(n),fr){var s=this.createElement("span",{className:pc});this.labelPosition==="Before"?i.appendChild(s):i.insertBefore(s,n),On(s,{duration:400,isCenterRipple:!0})}this.label&&this.setText(this.label)},e.prototype.keyUpHandler=function(){this.isFocused&&this.getWrapper().classList.add("e-focus")},e.prototype.labelMouseDownHandler=function(t){this.isMouseClick=!0;var i=this.getWrapper().getElementsByClassName(pc)[0];Xs(t,i)},e.prototype.labelMouseLeaveHandler=function(t){var i=this.getLabel().getElementsByClassName(pc)[0];if(i){for(var n=i.querySelectorAll(".e-ripple-element"),s=n.length-1;s>0;s--)i.removeChild(i.childNodes[s]);Xs(t,i)}},e.prototype.labelMouseUpHandler=function(t){this.isMouseClick=!0;var i=this.getWrapper().getElementsByClassName(pc)[0];if(i){for(var n=i.querySelectorAll(".e-ripple-element"),s=0;s<n.length-1;s++)i.removeChild(i.childNodes[s]);Xs(t,i)}},e.prototype.onPropertyChanged=function(t,i){for(var n=this.getWrapper(),s=0,o=Object.keys(t);s<o.length;s++){var a=o[s];switch(a){case"checked":this.indeterminate=!1,this.element.indeterminate=!1,this.changeState(t.checked?"check":"uncheck");break;case"indeterminate":t.indeterminate?this.changeState():(this.element.indeterminate=!1,this.changeState(this.checked?"check":"uncheck"));break;case"disabled":t.disabled?(this.setDisabled(),this.wrapper=this.getWrapper(),this.unWireEvents()):(this.element.disabled=!1,n.classList.remove(AM),n.setAttribute("aria-disabled","false"),this.wireEvents());break;case"cssClass":i.cssClass&&L([n],i.cssClass.split(" ")),t.cssClass&&E([n],t.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":t.enableRtl?n.classList.add(Kg):n.classList.remove(Kg);break;case"label":this.setText(t.label);break;case"labelPosition":{var l=n.getElementsByClassName(Zg)[0],h=n.getElementsByTagName("label")[0];w(l),t.labelPosition==="After"?h.appendChild(l):h.insertBefore(l,n.getElementsByClassName(uc)[0]);break}case"name":this.element.setAttribute("name",t.name);break;case"value":if(this.isVue&&typeof t.value=="object")break;this.element.setAttribute("value",t.value);break;case"htmlAttributes":this.updateHtmlAttributeToWrapper();break}}},e.prototype.preRender=function(){var t=this.element;this.tagName=this.element.tagName,t=Cp(this.createElement,"EJS-CHECKBOX","checkbox",t,Jg,"checkbox"),this.element=t,this.element.getAttribute("type")!=="checkbox"&&this.element.setAttribute("type","checkbox"),this.element.id||(this.element.id=Fe("e-"+this.getModuleName()))},e.prototype.render=function(){this.initWrapper(),this.initialize(),this.disabled||this.wireEvents(),this.updateHtmlAttributeToWrapper(),this.updateVueArrayModel(!0),this.renderComplete(),this.wrapper=this.getWrapper()},e.prototype.setDisabled=function(){var t=this.getWrapper();this.element.disabled=!0,t.classList.add(AM),t.setAttribute("aria-disabled","true")},e.prototype.setText=function(t){var i=this.getWrapper();if(i){var n=i.getElementsByClassName(Zg)[0];if(n)n.textContent=t;else{t=this.enableHtmlSanitizer?pt.sanitize(t):t,n=this.createElement("span",{className:Zg,innerHTML:t});var s=i.getElementsByTagName("label")[0];this.labelPosition==="Before"?s.insertBefore(n,i.getElementsByClassName(uc)[0]):s.appendChild(n)}}},e.prototype.changeHandler=function(t){t.stopPropagation()},e.prototype.formResetHandler=function(){this.checked=this.initialCheckedValue,this.element.checked=this.initialCheckedValue},e.prototype.unWireEvents=function(){var t=this.wrapper;y.remove(t,"click",this.clickHandler),y.remove(this.element,"keyup",this.keyUpHandler),y.remove(this.element,"focus",this.focusHandler),y.remove(this.element,"focusout",this.focusOutHandler);var i=t.getElementsByTagName("label")[0];y.remove(i,"mousedown",this.labelMouseDownHandler),y.remove(i,"mouseup",this.labelMouseUpHandler),y.remove(i,"mouseleave",this.labelMouseLeaveHandler);var n=S(this.element,"form");n&&y.remove(n,"reset",this.formResetHandler),this.tagName==="EJS-CHECKBOX"&&y.remove(this.element,"change",this.changeHandler)},e.prototype.wireEvents=function(){var t=this.getWrapper();y.add(t,"click",this.clickHandler,this),y.add(this.element,"keyup",this.keyUpHandler,this),y.add(this.element,"focus",this.focusHandler,this),y.add(this.element,"focusout",this.focusOutHandler,this);var i=t.getElementsByTagName("label")[0];y.add(i,"mousedown",this.labelMouseDownHandler,this),y.add(i,"mouseup",this.labelMouseUpHandler,this),y.add(i,"mouseleave",this.labelMouseLeaveHandler,this);var n=S(this.element,"form");n&&y.add(n,"reset",this.formResetHandler,this),this.tagName==="EJS-CHECKBOX"&&y.add(this.element,"change",this.changeHandler,this)},e.prototype.updateVueArrayModel=function(t){if(this.isVue&&typeof this.value=="object"){var i=this.element.value;if(i&&this.value)if(t)for(var n=0;n<this.value.length;n++)i===this.value[n]&&(this.changeState("check"),this.setProperties({checked:!0},!0));else{var s=this.value.indexOf(i);return this.checked?s<0&&this.value.push(i):s>-1&&this.value.splice(s,1),this.value}}return this.validCheck?this.element.checked:!this.element.checked},e.prototype.updateHtmlAttributeToWrapper=function(){if(!u(this.htmlAttributes))for(var t=0,i=Object.keys(this.htmlAttributes);t<i.length;t++){var n=i[t],s=this.getWrapper();if(L4.indexOf(n)>-1)if(n==="class")E([s],this.htmlAttributes[""+n].split(" "));else if(n==="title")s.setAttribute(n,this.htmlAttributes[""+n]);else if(n==="style"){var o=this.getWrapper().getElementsByClassName(uc)[0];o.setAttribute(n,this.htmlAttributes[""+n])}else n==="disabled"?(this.htmlAttributes[""+n]==="true"&&this.setDisabled(),this.element.setAttribute(n,this.htmlAttributes[""+n])):this.element.setAttribute(n,this.htmlAttributes[""+n]);else s.setAttribute(n,this.htmlAttributes[""+n])}},e.prototype.click=function(){this.element.click()},e.prototype.focusIn=function(){this.element.focus()},hn([R()],e.prototype,"change",void 0),hn([R()],e.prototype,"created",void 0),hn([b(!1)],e.prototype,"checked",void 0),hn([b("")],e.prototype,"cssClass",void 0),hn([b(!1)],e.prototype,"disabled",void 0),hn([b(!1)],e.prototype,"indeterminate",void 0),hn([b("")],e.prototype,"label",void 0),hn([b("After")],e.prototype,"labelPosition",void 0),hn([b("")],e.prototype,"name",void 0),hn([b("")],e.prototype,"value",void 0),hn([b(!0)],e.prototype,"enableHtmlSanitizer",void 0),hn([b({})],e.prototype,"htmlAttributes",void 0),e=hn([Ee],e),e}(Ve);var A4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),wn=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},ev="e-label",Mp="e-ripple-container",tv="e-rtl",iv="e-radio-wrapper",I4=["title","class","style","disabled","readonly","name","value","id"],nv=function(r){A4(e,r);function e(i,n){var s=r.call(this,i,n)||this;return s.isFocused=!1,s}t=e,e.prototype.changeHandler=function(i){this.checked=!0,this.dataBind();var n=this.element.getAttribute("value");n=this.isVue&&n?this.element.value:this.value;var s=typeof this.value;this.isVue&&s==="boolean"&&(n=n==="true"),this.trigger("change",{value:n,event:i}),this.isAngular&&i.stopPropagation()},e.prototype.updateChange=function(){for(var i,n,s=this.getRadioGroup(),o=0;o<s.length;o++)i=s[o],i!==this.element&&(n=en(i,t),n.checked=!1,this.tagName==="EJS-RADIOBUTTON"&&(n.angularValue=this.value))},e.prototype.destroy=function(){var i=this,n=this.wrapper;r.prototype.destroy.call(this),n&&(this.disabled||this.unWireEvents(),this.tagName==="INPUT"?(n.parentNode&&n.parentNode.insertBefore(this.element,n),w(n),this.element.checked=!1,["name","value","disabled"].forEach(function(s){i.element.removeAttribute(s)})):(["role","aria-checked","class"].forEach(function(s){n.removeAttribute(s)}),n.innerHTML="",this.element=this.wrapper,this.refreshing&&(["e-control","e-radio","e-lib"].forEach(function(s){i.element.classList.add(s)}),Pe("ej2_instances",[this],this.element))))},e.prototype.focusHandler=function(){this.isFocused=!0},e.prototype.focusOutHandler=function(){var i=this.getLabel();i&&i.classList.remove("e-focus")},e.prototype.getModuleName=function(){return"radio"},e.prototype.getSelectedValue=function(){for(var i,n=this.getRadioGroup(),s=0,o=n.length;s<o;s++)if(i=n[s],i.checked)return i.value;return""},e.prototype.getRadioGroup=function(){return document.querySelectorAll('input.e-radio[name="'+this.element.getAttribute("name")+'"]')},e.prototype.getPersistData=function(){return this.addOnPersist(["checked"])},e.prototype.getWrapper=function(){return this.element.parentElement?this.element.parentElement:null},e.prototype.getLabel=function(){return this.element.nextElementSibling?this.element.nextElementSibling:null},e.prototype.initialize=function(){u(this.initialCheckedValue)&&(this.initialCheckedValue=this.checked),this.initWrapper(),this.updateHtmlAttribute(),this.name&&this.element.setAttribute("name",this.name);var i=this.element.getAttribute("value"),n=typeof this.value;this.isVue&&n==="boolean"&&(i=i==="true"),(this.isVue?this.value&&n!=="boolean"&&!i:this.value)&&this.element.setAttribute("value",this.value),this.checked&&(this.element.checked=!0),this.disabled&&this.setDisabled()},e.prototype.initWrapper=function(){var i,n=this.element.parentElement;n.classList.contains(iv)||(n=this.createElement("div",{className:iv}),this.element.parentNode&&this.element.parentNode.insertBefore(n,this.element));var s=this.createElement("label",{attrs:{for:this.element.id}});n.appendChild(this.element),n.appendChild(s),fr&&(i=this.createElement("span",{className:Mp}),s.appendChild(i),On(i,{duration:400,isCenterRipple:!0})),n.classList.add("e-wrapper"),this.enableRtl&&s.classList.add(tv),this.cssClass&&E([n],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.label&&this.setText(this.label)},e.prototype.keyUpHandler=function(){this.isFocused&&this.getLabel().classList.add("e-focus")},e.prototype.labelMouseDownHandler=function(i){var n=this.getLabel().getElementsByClassName(Mp)[0];Xs(i,n)},e.prototype.labelMouseLeaveHandler=function(i){var n=this.getLabel().getElementsByClassName(Mp)[0];if(n){for(var s=n.querySelectorAll(".e-ripple-element"),o=s.length-1;o>0;o--)n.removeChild(n.childNodes[o]);Xs(i,n)}},e.prototype.labelMouseUpHandler=function(i){var n=this.getLabel().getElementsByClassName(Mp)[0];if(n){for(var s=n.querySelectorAll(".e-ripple-element"),o=s.length-1;o>0;o--)n.removeChild(n.childNodes[o]);Xs(i,n)}},e.prototype.formResetHandler=function(){this.checked=this.initialCheckedValue,this.initialCheckedValue&&pe(this.element,{checked:"true"})},e.prototype.onPropertyChanged=function(i,n){for(var s=this.getWrapper(),o=this.getLabel(),a=0,l=Object.keys(i);a<l.length;a++){var h=l[a];switch(h){case"checked":i.checked&&this.updateChange(),this.element.checked=i.checked;break;case"disabled":i.disabled?(this.setDisabled(),this.unWireEvents()):(this.element.disabled=!1,this.wireEvents());break;case"cssClass":n.cssClass&&L([s],n.cssClass.split(" ")),i.cssClass&&E([s],i.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":i.enableRtl?o.classList.add(tv):o.classList.remove(tv);break;case"label":this.setText(i.label);break;case"labelPosition":i.labelPosition==="Before"?o.classList.add("e-right"):o.classList.remove("e-right");break;case"name":this.element.setAttribute("name",i.name);break;case"value":var c=typeof this.htmlAttributes.value;if(!u(this.htmlAttributes)&&(this.htmlAttributes.value||c==="boolean"&&!this.htmlAttributes.value))break;this.element.setAttribute("value",i.value);break;case"htmlAttributes":this.updateHtmlAttribute();break}}},e.prototype.preRender=function(){var i=this.element;if(this.formElement=S(this.element,"form"),this.tagName=this.element.tagName,i=Cp(this.createElement,"EJS-RADIOBUTTON","radio",i,iv,"radio"),this.element=i,this.element.getAttribute("type")!=="radio"&&this.element.setAttribute("type","radio"),this.element.id||(this.element.id=Fe("e-"+this.getModuleName())),this.tagName==="EJS-RADIOBUTTON"){var n=this.element.getAttribute("formcontrolname");n&&(this.setProperties({name:n},!0),this.element.setAttribute("name",n))}},e.prototype.render=function(){this.initialize(),this.disabled||this.wireEvents(),this.renderComplete(),this.wrapper=this.getWrapper()},e.prototype.setDisabled=function(){this.element.disabled=!0},e.prototype.setText=function(i){var n=this.getLabel(),s=n.getElementsByClassName(ev)[0];s?s.textContent=i:(i=this.enableHtmlSanitizer?pt.sanitize(i):i,s=this.createElement("span",{className:ev,innerHTML:i}),n.appendChild(s)),this.labelPosition==="Before"?this.getLabel().classList.add("e-right"):this.getLabel().classList.remove("e-right")},e.prototype.updateHtmlAttribute=function(){if(!u(this.htmlAttributes))for(var i=0,n=Object.keys(this.htmlAttributes);i<n.length;i++){var s=n[i],o=this.element.parentElement;I4.indexOf(s)>-1?s==="class"?E([o],this.htmlAttributes[""+s].replace(/\s+/g," ").trim().split(" ")):s==="title"||s==="style"?o.setAttribute(s,this.htmlAttributes[""+s]):this.element.setAttribute(s,this.htmlAttributes[""+s]):o.setAttribute(s,this.htmlAttributes[""+s])}},e.prototype.unWireEvents=function(){var i=this.wrapper;y.remove(this.element,"change",this.changeHandler),y.remove(this.element,"focus",this.focusHandler),y.remove(this.element,"focusout",this.focusOutHandler),y.remove(this.element,"keyup",this.keyUpHandler);var n=i.getElementsByTagName("label")[0];n&&(y.remove(n,"mousedown",this.labelMouseDownHandler),y.remove(n,"mouseup",this.labelMouseUpHandler),y.remove(n,"mouseleave",this.labelMouseLeaveHandler)),this.formElement&&y.remove(this.formElement,"reset",this.formResetHandler)},e.prototype.wireEvents=function(){var i=this.getLabel();y.add(this.element,"change",this.changeHandler,this),y.add(this.element,"keyup",this.keyUpHandler,this),y.add(this.element,"focus",this.focusHandler,this),y.add(this.element,"focusout",this.focusOutHandler,this);var n=i.getElementsByClassName(ev)[0];n&&(y.add(n,"mousedown",this.labelMouseDownHandler,this),y.add(n,"mouseup",this.labelMouseUpHandler,this),y.add(n,"mouseleave",this.labelMouseLeaveHandler,this)),this.formElement&&y.add(this.formElement,"reset",this.formResetHandler,this)},e.prototype.click=function(){this.element.click()},e.prototype.focusIn=function(){this.element.focus()};var t;return wn([R()],e.prototype,"change",void 0),wn([R()],e.prototype,"created",void 0),wn([b(!1)],e.prototype,"checked",void 0),wn([b("")],e.prototype,"cssClass",void 0),wn([b(!1)],e.prototype,"disabled",void 0),wn([b("")],e.prototype,"label",void 0),wn([b("After")],e.prototype,"labelPosition",void 0),wn([b("")],e.prototype,"name",void 0),wn([b("")],e.prototype,"value",void 0),wn([b(!0)],e.prototype,"enableHtmlSanitizer",void 0),wn([b({})],e.prototype,"htmlAttributes",void 0),e=t=wn([Ee],e),e}(Ve);var Sr,sa,Gs,dc,lv=!1;function IM(r,e){var t=!1,i={left:0,top:0},n=r;if(!r||!e)return i;for(u(e.offsetParent)&&e.style.position==="fixed"&&(t=!0);(e.offsetParent||t)&&r&&e.offsetParent!==r;)i.left+=r.offsetLeft,i.top+=r.offsetTop,r=r.offsetParent;for(r=n;(e.offsetParent||t)&&r&&e.offsetParent!==r;)i.left-=r.scrollLeft,i.top-=r.scrollTop,r=r.parentElement;return i}function Gt(r,e,t,i,n){if(sa=void 0,sa=n,lv=!!i,!r)return{left:0,top:0};e||(e="left"),t||(t="top"),dc=r.ownerDocument,Gs=r;var s={left:0,top:0};return P4(e.toLowerCase(),t.toLowerCase(),s)}function ss(r,e){e.left=r}function os(r,e){e.top=r}function P4(r,e,t){switch(Sr=Gs.getBoundingClientRect(),e+r){case"topcenter":ss(av(),t),os(Tp(),t);break;case"topright":ss(ov(),t),os(Tp(),t);break;case"centercenter":ss(av(),t),os(sv(),t);break;case"centerright":ss(ov(),t),os(sv(),t);break;case"centerleft":ss(Np(),t),os(sv(),t);break;case"bottomcenter":ss(av(),t),os(rv(),t);break;case"bottomright":ss(ov(),t),os(rv(),t);break;case"bottomleft":ss(Np(),t),os(rv(),t);break;default:case"topleft":ss(Np(),t),os(Tp(),t);break}return Gs=null,t}function PM(){return dc.documentElement.scrollTop||dc.body.scrollTop}function jM(){return dc.documentElement.scrollLeft||dc.body.scrollLeft}function rv(){return lv?Sr.bottom:Sr.bottom+PM()}function sv(){return Tp()+Sr.height/2}function Tp(){return lv?Sr.top:Sr.top+PM()}function Np(){return Sr.left+jM()}function ov(){var r=Gs&&(Gs.classList.contains("e-date-wrapper")||Gs.classList.contains("e-datetime-wrapper")||Gs.classList.contains("e-date-range-wrapper")||Gs.classList.contains("e-multiselect"))?sa?sa.width:0:sa&&Sr.width>=sa.width?sa.width:0;return Sr.right+jM()-r}function av(){return Np()+Sr.width/2}var Ks,Vi;function Ep(r,e,t,i){if(e===void 0&&(e=null),t===void 0&&(t={X:!1,Y:!1}),!t.Y&&!t.X)return{left:0,top:0};var n=r.getBoundingClientRect();if(Vi=e,Ks=r.ownerDocument,i||(i=Gt(r,"left","top")),t.X){var s=Vi?HM():YM(),o=uv(),a=pv(),l=o-i.left,h=i.left+n.width-a;n.width>s?l>0&&h<=0?i.left=a-n.width:h>0&&l<=0?i.left=o:i.left=l>h?a-n.width:o:l>0?i.left+=l:h>0&&(i.left-=h)}if(t.Y){var c=Vi?_M():$M(),p=cv(),d=dv(),f=p-i.top,m=i.top+n.height-d;n.height>c?f>0&&m<=0?i.top=d-n.height:m>0&&f<=0?i.top=p:i.top=f>m?d-n.height:p:f>0?i.top+=f:m>0&&(i.top-=m)}return i}function as(r,e,t,i){e===void 0&&(e=null);var n=Gt(r,"left","top");t&&(n.left=t),i&&(n.top=i);var s=[];Vi=e,Ks=r.ownerDocument;var o=r.getBoundingClientRect(),a=n.top,l=n.left,h=n.left+o.width,c=n.top+o.height,p="",d="",f=UM(a,c),m=RM(l,h);return f.topSide&&s.push("top"),m.rightSide&&s.push("right"),m.leftSide&&s.push("left"),f.bottomSide&&s.push("bottom"),s}function zM(r,e,t,i,n,s,o,a,l){if(o===void 0&&(o=null),a===void 0&&(a={X:!0,Y:!0}),!(!e||!r||!n||!s||!a.X&&!a.Y)){var h={TL:null,TR:null,BL:null,BR:null},c={TL:null,TR:null,BL:null,BR:null},p;if(window.getComputedStyle(r).display==="none"){var d=r.style.visibility;r.style.visibility="hidden",r.style.display="block",p=r.getBoundingClientRect(),r.style.removeProperty("display"),r.style.visibility=d}else p=r.getBoundingClientRect();var f={posX:n,posY:s,offsetX:t,offsetY:i,position:{left:0,top:0}};Vi=o,Ks=e.ownerDocument,z4(e,h,f,l,p),hv(c,f,p),a.X&&BM(e,c,h,f,p,!0),a.Y&&h.TL.top>-1&&QM(e,c,h,f,p,!0),j4(r,f,p)}}function j4(r,e,t){var i=0,n=0;if(r.offsetParent!=null&&(getComputedStyle(r.offsetParent).position==="absolute"||getComputedStyle(r.offsetParent).position==="relative")){var s=Gt(r.offsetParent,"left","top",!1,t);i=s.left,n=s.top}var o=1,a=1;if(r.offsetParent){var l=getComputedStyle(r.offsetParent).transform;if(l!=="none"){var h=new DOMMatrix(l);o=h.a,a=h.d}}r.style.top=e.position.top/a+e.offsetY-n+"px",r.style.left=e.position.left/o+e.offsetX-i+"px"}function z4(r,e,t,i,n){t.position=Gt(r,t.posX,t.posY,i,n),e.TL=Gt(r,"left","top",i,n),e.TR=Gt(r,"right","top",i,n),e.BR=Gt(r,"left","bottom",i,n),e.BL=Gt(r,"right","bottom",i,n)}function hv(r,e,t){r.TL={top:e.position.top+e.offsetY,left:e.position.left+e.offsetX},r.TR={top:r.TL.top,left:r.TL.left+t.width},r.BL={top:r.TL.top+t.height,left:r.TL.left},r.BR={top:r.TL.top+t.height,left:r.TL.left+t.width}}function RM(r,e){var t=!1,i=!1;return r-wp()<uv()&&(t=!0),e>pv()&&(i=!0),{leftSide:t,rightSide:i}}function BM(r,e,t,i,n,s){var o=RM(e.TL.left,e.TR.left);t.TL.left-wp()<=uv()&&(o.leftSide=!1),t.TR.left>pv()&&(o.rightSide=!1),(o.leftSide&&!o.rightSide||!o.leftSide&&o.rightSide)&&(i.posX==="right"?i.posX="left":i.posX="right",i.offsetX=i.offsetX+n.width,i.offsetX=-1*i.offsetX,i.position=Gt(r,i.posX,i.posY,!1),hv(e,i,n),s&&BM(r,e,t,i,n,!1))}function QM(r,e,t,i,n,s){var o=UM(e.TL.top,e.BL.top);t.TL.top-xp()<=cv()&&(o.topSide=!1),t.BL.top>=dv()&&r.getBoundingClientRect().bottom<window.innerHeight&&(o.bottomSide=!1),(o.topSide&&!o.bottomSide||!o.topSide&&o.bottomSide)&&(i.posY==="top"?i.posY="bottom":i.posY="top",i.offsetY=i.offsetY+n.height,i.offsetY=-1*i.offsetY,i.position=Gt(r,i.posX,i.posY,!1,n),hv(e,i,n),s&&QM(r,e,t,i,n,!1))}function UM(r,e){var t=!1,i=!1;return r-xp()<cv()&&(t=!0),e>dv()&&(i=!0),{topSide:t,bottomSide:i}}function HM(){return Vi.getBoundingClientRect().width}function _M(){return Vi.getBoundingClientRect().height}function FM(){return Vi.getBoundingClientRect().left}function VM(){return Vi.getBoundingClientRect().top}function cv(){return Vi?VM():0}function uv(){return Vi?FM():0}function pv(){return Vi?wp()+FM()+HM():wp()+YM()}function dv(){return Vi?xp()+VM()+_M():xp()+$M()}function xp(){return Ks.documentElement.scrollTop||Ks.body.scrollTop}function wp(){return Ks.documentElement.scrollLeft||Ks.body.scrollLeft}function $M(){return window.innerHeight}function YM(){var r=window.innerWidth,e=document.documentElement.getBoundingClientRect(),t=u(document.documentElement)?0:e.width;return r-(r-t)}function kp(){Vi=null,Ks=null}var qM=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Qt=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},fv=function(r){qM(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Qt([b("left")],e.prototype,"X",void 0),Qt([b("top")],e.prototype,"Y",void 0),e}(de);var Kt={ROOT:"e-popup",RTL:"e-rtl",OPEN:"e-popup-open",CLOSE:"e-popup-close"},_t=function(r){qM(e,r);function e(t,i){return r.call(this,i,t)||this}return e.prototype.onPropertyChanged=function(t,i){for(var n=0,s=Object.keys(t);n<s.length;n++){var o=s[n];switch(o){case"width":he(this.element,{width:W(t.width)});break;case"height":he(this.element,{height:W(t.height)});break;case"zIndex":he(this.element,{zIndex:t.zIndex});break;case"enableRtl":this.setEnableRtl();break;case"position":case"relateTo":this.refreshPosition();break;case"offsetX":var a=t.offsetX-i.offsetX;this.element.style.left=(parseInt(this.element.style.left,10)+a).toString()+"px";break;case"offsetY":var l=t.offsetY-i.offsetY;this.element.style.top=(parseInt(this.element.style.top,10)+l).toString()+"px";break;case"content":this.setContent();break;case"actionOnScroll":t.actionOnScroll!=="none"?this.wireScrollEvents():this.unwireScrollEvents();break}}},e.prototype.getModuleName=function(){return"popup"},e.prototype.resolveCollision=function(){this.checkCollision()},e.prototype.getPersistData=function(){return this.addOnPersist([])},e.prototype.destroy=function(){this.element.classList.contains("e-popup-open")&&this.unwireEvents(),this.element.classList.remove(Kt.ROOT,Kt.RTL,Kt.OPEN,Kt.CLOSE),this.content=null,this.relateTo=null,kp(),r.prototype.destroy.call(this)},e.prototype.render=function(){this.element.classList.add(Kt.ROOT);var t={};this.zIndex!==1e3&&(t.zIndex=this.zIndex),this.width!=="auto"&&(t.width=W(this.width)),this.height!=="auto"&&(t.height=W(this.height)),he(this.element,t),this.fixedParent=!1,this.setEnableRtl(),this.setContent()},e.prototype.wireEvents=function(){N.isDevice&&y.add(window,"orientationchange",this.orientationOnChange,this),this.actionOnScroll!=="none"&&this.wireScrollEvents()},e.prototype.wireScrollEvents=function(){if(this.getRelateToElement())for(var t=0,i=this.getScrollableParent(this.getRelateToElement());t<i.length;t++){var n=i[t];y.add(n,"scroll",this.scrollRefresh,this)}},e.prototype.unwireEvents=function(){N.isDevice&&y.remove(window,"orientationchange",this.orientationOnChange),this.actionOnScroll!=="none"&&this.unwireScrollEvents()},e.prototype.unwireScrollEvents=function(){if(this.getRelateToElement())for(var t=0,i=this.getScrollableParent(this.getRelateToElement());t<i.length;t++){var n=i[t];y.remove(n,"scroll",this.scrollRefresh)}},e.prototype.getRelateToElement=function(){var t=this.relateTo===""||u(this.relateTo)?document.body:this.relateTo;return this.setProperties({relateTo:t},!0),typeof this.relateTo=="string"?document.querySelector(this.relateTo):this.relateTo},e.prototype.scrollRefresh=function(t){if(this.actionOnScroll==="reposition"?!u(this.element)&&!(this.element.offsetParent===t.target||this.element.offsetParent&&this.element.offsetParent.tagName==="BODY"&&t.target.parentElement==null)&&this.refreshPosition():this.actionOnScroll==="hide"&&this.hide(),this.actionOnScroll!=="none"&&this.getRelateToElement()){var i=this.isElementOnViewport(this.getRelateToElement(),t.target);!i&&!this.targetInvisibleStatus?(this.trigger("targetExitViewport"),this.targetInvisibleStatus=!0):i&&(this.targetInvisibleStatus=!1)}},e.prototype.isElementOnViewport=function(t,i){for(var n=this.getScrollableParent(t),s=0;s<n.length;s++)if(!this.isElementVisible(t,n[s]))return!1;return!0},e.prototype.isElementVisible=function(t,i){var n=this.checkGetBoundingClientRect(t);if(!n.height||!n.width)return!1;if(u(this.checkGetBoundingClientRect(i))){var o=window,a={top:o.scrollY,left:o.scrollX,right:o.scrollX+o.outerWidth,bottom:o.scrollY+o.outerHeight},l=Gt(t),h={top:l.top,left:l.left,right:l.left+n.width,bottom:l.top+n.height},c={top:a.bottom-h.top,left:a.right-h.left,bottom:h.bottom-a.top,right:h.right-a.left};return c.top>0&&c.left>0&&c.right>0&&c.bottom>0}else{var s=i.getBoundingClientRect();return!(n.bottom<s.top)&&!(n.bottom>s.bottom)&&!(n.right>s.right)&&!(n.left<s.left)}},e.prototype.preRender=function(){},e.prototype.setEnableRtl=function(){this.reposition(),this.enableRtl?this.element.classList.add(Kt.RTL):this.element.classList.remove(Kt.RTL)},e.prototype.setContent=function(){if(!u(this.content))if(this.element.innerHTML="",typeof this.content=="string")this.element.textContent=this.content;else{var t=this.getRelateToElement(),i=this.content.props;(!t.classList.contains("e-dropdown-btn")||u(i))&&this.element.appendChild(this.content)}},e.prototype.orientationOnChange=function(){var t=this;setTimeout(function(){t.refreshPosition()},200)},e.prototype.refreshPosition=function(t,i){u(t)||this.checkFixedParent(t),this.reposition(),i||this.checkCollision()},e.prototype.reposition=function(){var t,i,n=this.getRelateToElement();if(typeof this.position.X=="number"&&typeof this.position.Y=="number")t={left:this.position.X,top:this.position.Y};else if(typeof this.position.X=="string"&&typeof this.position.Y=="number"||typeof this.position.X=="number"&&typeof this.position.Y=="string"){var s=void 0,o=this.element.style.display;this.element.style.display="block",this.element.classList.contains("e-dlg-modal")&&(s=this.element.parentElement.style.display,this.element.parentElement.style.display="block"),i=this.getAnchorPosition(n,this.element,this.position,this.offsetX,this.offsetY),typeof this.position.X=="string"?t={left:i.left,top:this.position.Y}:t={left:this.position.X,top:i.top},this.element.style.display=o,this.element.classList.contains("e-dlg-modal")&&(this.element.parentElement.style.display=s)}else if(n){var a=this.element.clientHeight,o=this.element.style.display;this.element.style.display="block",t=this.getAnchorPosition(n,this.element,this.position,this.offsetX,this.offsetY,a),this.element.style.display=o}else t={left:0,top:0};u(t)||(this.element.style.left=t.left+"px",this.element.style.top=t.top+"px")},e.prototype.checkGetBoundingClientRect=function(t){var i;try{return i=t.getBoundingClientRect(),i}catch{return null}},e.prototype.getAnchorPosition=function(t,i,n,s,o,a){a===void 0&&(a=0);var l=this.checkGetBoundingClientRect(i),h=this.checkGetBoundingClientRect(t);if(u(l)||u(h))return null;var c=t,p={left:0,top:0};switch(i.offsetParent&&i.offsetParent.tagName==="BODY"&&t.tagName==="BODY"?p=Gt(t):(i.classList.contains("e-dlg-modal")&&c.tagName!=="BODY"&&(i=i.parentElement),p=IM(c,i)),n.X){default:case"left":break;case"center":i.classList.contains("e-dlg-modal")&&c.tagName==="BODY"&&this.targetType==="container"?p.left+=window.innerWidth/2-l.width/2:this.targetType==="container"?p.left+=h.width/2-l.width/2:p.left+=h.width/2;break;case"right":i.classList.contains("e-dlg-modal")&&c.tagName==="BODY"&&this.targetType==="container"?p.left+=window.innerWidth-l.width:this.targetType==="container"?p.left+=h.width-l.width:p.left+=h.width;break}switch(n.Y){default:case"top":break;case"center":i.classList.contains("e-dlg-modal")&&c.tagName==="BODY"&&this.targetType==="container"?p.top+=window.innerHeight/2-l.height/2:this.targetType==="container"?p.top+=h.height/2-l.height/2:p.top+=h.height/2;break;case"bottom":i.classList.contains("e-dlg-modal")&&c.tagName==="BODY"&&this.targetType==="container"?p.top+=window.innerHeight-l.height:this.targetType==="container"&&!i.classList.contains("e-dialog")?p.top+=h.height-l.height:this.targetType==="container"&&i.classList.contains("e-dialog")?p.top+=h.height-a:p.top+=h.height;break}return p.left+=s,p.top+=o,p},e.prototype.callFlip=function(t){var i=this.getRelateToElement();zM(this.element,i,this.offsetX,this.offsetY,this.position.X,this.position.Y,this.viewPortElement,t,this.fixedParent)},e.prototype.callFit=function(t){if(as(this.element,this.viewPortElement).length!==0)if(u(this.viewPortElement)){var i=Ep(this.element,this.viewPortElement,t);t.X&&(this.element.style.left=i.left+"px"),t.Y&&(this.element.style.top=i.top+"px")}else{var n=this.checkGetBoundingClientRect(this.element),s=this.checkGetBoundingClientRect(this.viewPortElement);if(u(n)||u(s))return null;t&&t.Y===!0&&(s.top>n.top?this.element.style.top="0px":s.bottom<n.bottom&&(this.element.style.top=parseInt(this.element.style.top,10)-(n.bottom-s.bottom)+"px")),t&&t.X===!0&&(s.right<n.right?this.element.style.left=parseInt(this.element.style.left,10)-(n.right-s.right)+"px":s.left>n.left&&(this.element.style.left=parseInt(this.element.style.left,10)+(s.left-n.left)+"px"))}},e.prototype.checkCollision=function(){var t=this.collision.X,i=this.collision.Y;t==="none"&&i==="none"||(t==="flip"&&i==="flip"?this.callFlip({X:!0,Y:!0}):t==="fit"&&i==="fit"?this.callFit({X:!0,Y:!0}):(t==="flip"?this.callFlip({X:!0,Y:!1}):i==="flip"&&this.callFlip({Y:!0,X:!1}),t==="fit"?this.callFit({X:!0,Y:!1}):i==="fit"&&this.callFit({X:!1,Y:!0})))},e.prototype.show=function(t,i){var n=this,s=this.getRelateToElement();if(s.classList.contains("e-filemanager")&&(this.fmDialogContainer=this.element.getElementsByClassName("e-file-select-wrap")[0]),this.wireEvents(),!u(this.fmDialogContainer)&&N.isIos&&(this.fmDialogContainer.style.display="block"),this.zIndex===1e3||!u(i)){var o=u(i)?this.element:i;this.zIndex=ls(o),he(this.element,{zIndex:this.zIndex})}t=!u(t)&&typeof t=="object"?t:this.showAnimation,(this.collision.X!=="none"||this.collision.Y!=="none")&&(L([this.element],Kt.CLOSE),E([this.element],Kt.OPEN),this.checkCollision(),L([this.element],Kt.OPEN),E([this.element],Kt.CLOSE)),u(t)?(L([this.element],Kt.CLOSE),E([this.element],Kt.OPEN),this.trigger("open")):(t.begin=function(){n.isDestroyed||(L([n.element],Kt.CLOSE),E([n.element],Kt.OPEN))},t.end=function(){n.isDestroyed||n.trigger("open")},new Xr(t).animate(this.element))},e.prototype.hide=function(t){var i=this;t=!u(t)&&typeof t=="object"?t:this.hideAnimation,u(t)?(L([this.element],Kt.OPEN),E([this.element],Kt.CLOSE),this.trigger("close")):(t.end=function(){i.isDestroyed||(L([i.element],Kt.OPEN),E([i.element],Kt.CLOSE),i.trigger("close"))},new Xr(t).animate(this.element)),this.unwireEvents()},e.prototype.getScrollableParent=function(t){return this.checkFixedParent(t),pl(t,this.fixedParent)},e.prototype.checkFixedParent=function(t){for(var i=t.parentElement;i&&i.tagName!=="HTML";){var n=getComputedStyle(i);(n.position==="fixed"||n.position==="sticky")&&!u(this.element)&&this.element.offsetParent&&this.element.offsetParent.tagName==="BODY"&&getComputedStyle(this.element.offsetParent).overflow!=="hidden"&&(this.element.style.top=window.scrollY>parseInt(this.element.style.top,10)?W(window.scrollY-parseInt(this.element.style.top,10)):W(parseInt(this.element.style.top,10)-window.scrollY),this.element.style.position="fixed",this.fixedParent=!0),i=i.parentElement,!u(this.element)&&u(this.element.offsetParent)&&n.position==="fixed"&&this.element.style.position==="fixed"&&(this.fixedParent=!0)}},Qt([b("auto")],e.prototype,"height",void 0),Qt([b("auto")],e.prototype,"width",void 0),Qt([b(null)],e.prototype,"content",void 0),Qt([b("container")],e.prototype,"targetType",void 0),Qt([b(null)],e.prototype,"viewPortElement",void 0),Qt([b({X:"none",Y:"none"})],e.prototype,"collision",void 0),Qt([b("")],e.prototype,"relateTo",void 0),Qt([we({},fv)],e.prototype,"position",void 0),Qt([b(0)],e.prototype,"offsetX",void 0),Qt([b(0)],e.prototype,"offsetY",void 0),Qt([b(1e3)],e.prototype,"zIndex",void 0),Qt([b(!1)],e.prototype,"enableRtl",void 0),Qt([b("reposition")],e.prototype,"actionOnScroll",void 0),Qt([b(null)],e.prototype,"showAnimation",void 0),Qt([b(null)],e.prototype,"hideAnimation",void 0),Qt([R()],e.prototype,"open",void 0),Qt([R()],e.prototype,"close",void 0),Qt([R()],e.prototype,"targetExitViewport",void 0),e=Qt([Ee],e),e}(Ve);function pl(r,e){for(var t=getComputedStyle(r),i=[],n=/(auto|scroll)/,s=r.parentElement;s&&s.tagName!=="HTML";){var o=getComputedStyle(s);!(t.position==="absolute"&&o.position==="static")&&n.test(o.overflow+o.overflowY+o.overflowX)&&i.push(s),s=s.parentElement}return e||i.push(document),i}function ls(r){for(var e=r.parentElement,t=[];e&&e.tagName!=="BODY";){var i=document.defaultView.getComputedStyle(e,null).getPropertyValue("z-index"),n=document.defaultView.getComputedStyle(e,null).getPropertyValue("position");i!=="auto"&&n!=="static"&&t.push(i),e=e.parentElement}for(var s=[],o=0;o<document.body.children.length;o++)if(!r.isEqualNode(document.body.children[o])){var i=document.defaultView.getComputedStyle(document.body.children[o],null).getPropertyValue("z-index"),n=document.defaultView.getComputedStyle(document.body.children[o],null).getPropertyValue("position");i!=="auto"&&n!=="static"&&s.push(i)}s.push("999");var a=[];if(!u(r.parentElement)&&r.parentElement.tagName!=="BODY"){for(var l=[].slice.call(r.parentElement.children),o=0;o<l.length;o++)if(!r.isEqualNode(l[o])){var i=document.defaultView.getComputedStyle(l[o],null).getPropertyValue("z-index"),n=document.defaultView.getComputedStyle(l[o],null).getPropertyValue("position");i!=="auto"&&n!=="static"&&a.push(i)}}var h=t.concat(s,a),c=Math.max.apply(Math,h)+1;return c>2147483647?2147483647:c}var mv=["north-west","north","north-east","west","east","south-west","south","south-east"],yc="e-resize-handle",to="e-focused-handle",R4="e-dlg-resizable",WM=["e-restrict-left"],eT="e-resize-viewport",B4=["north","west","east","south"],$e,Mr,Mv=0,Tv=0,tT=0,iT=0,mc=0,gc=0,dl,eo,Nv,hs,Re,vc=null,Cv=null,Sv=null,Js,Dp=!0,ZM=0,gv=!0,io;function nT(r){vc=r.resizeBegin,Cv=r.resizing,Sv=r.resizeComplete,$e=XM(r.element),Re=XM(r.boundary);for(var e=r.direction.split(" "),t=0;t<e.length;t++)if(B4.indexOf(e[t])>=0&&e[t])Q4(e[t]);else if(e[t].trim()!==""){var i=B("div",{className:"e-icons "+yc+" e-"+e[t]});$e.appendChild(i)}dl=r.minHeight,Nv=r.minWidth,hs=r.maxWidth,eo=r.maxHeight,r.proxy&&r.proxy.element&&r.proxy.element.classList.contains("e-dialog")?GM(r.proxy):GM()}function Q4(r){xv();var e=B("span",{attrs:{unselectable:"on",contenteditable:"false"}});e.setAttribute("class","e-dialog-border-resize e-"+r),r==="south"&&(e.style.height="2px",e.style.width="100%",e.style.bottom="0px",e.style.left="0px"),r==="north"&&(e.style.height="2px",e.style.width="100%",e.style.top="0px",e.style.left="0px"),r==="east"&&(e.style.height="100%",e.style.width="2px",e.style.right="0px",e.style.top="0px"),r==="west"&&(e.style.height="100%",e.style.width="2px",e.style.left="0px",e.style.top="0px"),$e.appendChild(e)}function XM(r){var e;return u(r)||(typeof r=="string"?e=document.querySelector(r):e=r),e}function GM(r){u(r)&&(r=this);for(var e=$e.querySelectorAll("."+yc),t=0;t<e.length;t++){Mr=e[t],y.add(Mr,"mousedown",KM,r);var i=N.info.name==="msie"?"pointerdown":"touchstart";y.add(Mr,i,JM,r)}var n=$e.querySelectorAll(".e-dialog-border-resize");if(!u(n))for(var t=0;t<n.length;t++){Mr=n[t],y.add(Mr,"mousedown",KM,r);var i=N.info.name==="msie"?"pointerdown":"touchstart";y.add(Mr,i,JM,r)}}function rT(r){return r.indexOf("mouse")>-1?"mouse":"touch"}function KM(r){if(r.preventDefault(),$e=r.target.parentElement,xv(),mc=r.pageX,gc=r.pageY,r.target.classList.add(to),!(!u(vc)&&(io=this,vc(r,io)===!0))){this.targetEle&&$e&&$e.querySelector("."+R4)&&(Re=this.target==="body"?null:this.targetEle,hs=this.targetEle.clientWidth,eo=this.targetEle.clientHeight);var e=u(Re)?document:Re;y.add(e,"mousemove",fc,this),y.add(document,"mouseup",Lp,this);for(var t=0;t<WM.length;t++)$e.classList.contains(WM[t])?Dp=!1:Dp=!0}}function Lp(r){var e=N.info.name==="msie"?"pointermove":"touchmove",t=N.info.name==="msie"?"pointerup":"touchend",i=u(Re)?document:Re,n=N.info.name==="msie"?"pointerdown":"touchstart";y.remove(i,"mousemove",fc),y.remove(i,e,fc),y.remove(i,n,fc),u(document.body.querySelector("."+to))||document.body.querySelector("."+to).classList.remove(to),u(Sv)||(io=this,Sv(r,io)),y.remove(document,"mouseup",Lp),y.remove(document,t,Lp)}function xv(){Mv=parseFloat(getComputedStyle($e,null).getPropertyValue("width").replace("px","")),Tv=parseFloat(getComputedStyle($e,null).getPropertyValue("height").replace("px","")),tT=$e.getBoundingClientRect().left,iT=$e.getBoundingClientRect().top}function JM(r){$e=r.target.parentElement,xv();var e=$e.classList.contains("e-dialog");(r.target.classList.contains(yc)||r.target.classList.contains("e-dialog-border-resize"))&&e&&r.target.classList.add(to);var t=r.touches?r.changedTouches[0]:r;if(mc=t.pageX,gc=t.pageY,!(!u(vc)&&(io=this,vc(r,io)===!0))){var i=N.info.name==="msie"?"pointermove":"touchmove",n=N.info.name==="msie"?"pointerup":"touchend",s=u(Re)?document:Re;y.add(s,i,fc,this),y.add(document,n,Lp,this)}}function fc(r){if(r.target.classList.contains(yc)&&r.target.classList.contains(to)?Mr=r.target:u(document.body.querySelector("."+to))||(Mr=document.body.querySelector("."+to)),!u(Mr)){for(var e="",t=0;t<mv.length;t++)Mr.classList.contains("e-"+mv[t])&&(e=mv[t]);switch(u(Cv)||(io=this,Cv(r,io)),e){case"south":vv(r);break;case"north":yv(r);break;case"west":bv(r);break;case"east":Ov(r);break;case"south-east":vv(r),Ov(r);break;case"south-west":vv(r),bv(r);break;case"north-east":yv(r),Ov(r);break;case"north-west":yv(r),bv(r);break;default:break}}}function no(r){return r.getBoundingClientRect()}function vv(r){var e=document.documentElement.clientHeight,t=!1,i=r.touches?r.changedTouches[0]:r,n=i.pageY,s=no($e),o;u(Re)||(o=no(Re)),u(Re)?u(Re)&&(e-n>=0||s.top<0)&&(t=!0):t=!0;var a=Tv+(n-gc);a=a>dl?a:dl;var l=0;u(Re)||(l=o.top);var h=u(Re)?0:Re.offsetHeight-Re.clientHeight,c=s.top-l-h/2;if(c=c<0?0:c,s.top>0&&c+a>eo){if(t=!1,$e.classList.contains(eT))return;$e.style.height=eo-parseInt(c.toString(),10)+"px";return}var p=0;if(t){s.top<0&&e+(s.height+s.top)>0&&(p=s.top,a+p<=30&&(a=s.height-(s.height+s.top)+30)),a+s.top>=eo&&($e.style.height=s.height+(e-(s.height+s.top))+"px");var d=u(Re)?p:c;a>=dl&&a+d<=eo&&($e.style.height=a+"px")}}function yv(r){var e=!1,t,i=rT(r.type)==="mouse"?r.pageY:r.touches[0].pageY,n=no($e);u(Re)||(t=no(Re)),(!u(Re)&&n.top-t.top>0||u(Re)&&i>0)&&(e=!0);var s=Tv-(i-gc);if(e&&s>=dl&&s<=eo){var o=0;u(Re)||(o=t.top);var a=iT-o+(i-gc);a=a>0?a:1,$e.style.height=s+"px",$e.style.top=a+"px"}}function bv(r){var e=document.documentElement.clientWidth,t=!1,i;u(Re)||(i=no(Re));var n=rT(r.type)==="mouse"?r.pageX:r.touches[0].pageX,s=no($e),o=u(Re)?0:Re.offsetWidth-Re.clientWidth,a=u(Re)?0:i.left,l=u(Re)?0:i.width;u(Js)&&(u(Re)?Js=e:(Js=s.left-a-o/2+s.width,Js=Js+(l-o-Js))),(!u(Re)&&Math.floor(s.left-i.left+s.width+(i.right-s.right))-o<=hs||u(Re)&&n>=0)&&(t=!0);var h=Mv-(n-mc);if(Dp&&(h=h>Js?Js:h),t&&h>=Nv&&h<=hs){var c=0;u(Re)||(c=i.left);var p=tT-c+(n-mc);p=p>0?p:1,h!==ZM&&gv&&($e.style.width=h+"px"),Dp&&($e.style.left=p+"px",p===1?gv=!1:gv=!0)}ZM=h}function Ov(r){var e=document.documentElement.clientWidth,t=!1,i;u(Re)||(i=no(Re));var n=r.touches?r.changedTouches[0]:r,s=n.pageX,o=no($e);(!u(Re)&&(o.left-i.left+o.width<=hs||o.right-i.left>=o.width)||u(Re)&&e-s>0)&&(t=!0);var a=Mv+(s-mc),l=0;if(u(Re)||(l=i.left),o.left-l+a>hs){if(t=!1,$e.classList.contains(eT))return;$e.style.width=hs-(o.left-l)+"px"}t&&a>=Nv&&a<=hs&&($e.style.width=a+"px")}function sT(r){dl=r}function oT(r){hs=r}function aT(r){eo=r}function wv(){for(var r=$e.querySelectorAll("."+yc),e=0;e<r.length;e++)w(r[e]);var t=$e.querySelectorAll(".e-dialog-border-resize");if(!u(t))for(var e=0;e<t.length;e++)w(t[e])}var Av=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ae=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},U4=function(r){Av(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Ae([b(!0)],e.prototype,"isFlat",void 0),Ae([b()],e.prototype,"buttonModel",void 0),Ae([b("Button")],e.prototype,"type",void 0),Ae([R()],e.prototype,"click",void 0),e}(de);var H4=function(r){Av(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Ae([b("Fade")],e.prototype,"effect",void 0),Ae([b(400)],e.prototype,"duration",void 0),Ae([b(0)],e.prototype,"delay",void 0),e}(de);var Ap="e-dialog",Ev="e-rtl",kv="e-dlg-header-content",lT="e-dlg-header",bc="e-footer-content",Ip="e-dlg-modal",_4="e-dlg-content",hT="e-icon-dlg-close",F4="e-dlg-overlay",Tr="e-dlg-target",V4="e-dlg-container",Xn="e-scroll-disabled",$4="e-primary",Y4="e-icons",q4="e-popup",cT="e-device",Pp="e-dlg-fullscreen",uT="e-dlg-closeicon-btn",W4="e-popup-close",pT="e-popup-open",dT="Information",fT="e-scroll-disabled",vT="e-alert-dialog",yT="e-confirm-dialog",Dv="e-dlg-resizable",jp="e-restrict-left",mT="e-resize-viewport",Z4="e-dlg-ref-element",Lv="user action",X4="close icon",G4="escape",K4="overlayClick",J4="e-draggable",Iv=function(r){Av(e,r);function e(t,i){var n=r.call(this,t,i)||this;return n.needsID=!0,n}return e.prototype.render=function(){this.initialize(),this.initRender(),this.wireEvents(),this.width==="100%"&&(this.element.style.width=""),this.minHeight!==""&&(this.element.style.minHeight=W(this.minHeight)),this.enableResize&&(this.setResize(),this.animationSettings.effect==="None"&&this.getMinHeight()),this.renderComplete()},e.prototype.initializeValue=function(){this.dlgClosedBy=Lv},e.prototype.preRender=function(){var t=this;this.initializeValue(),this.headerContent=null,this.allowMaxHeight=!0,this.preventVisibility=!0,this.clonedEle=this.element.cloneNode(!0),this.closeIconClickEventHandler=function(s){t.dlgClosedBy=X4,t.hide(s)},this.dlgOverlayClickEventHandler=function(s){t.dlgClosedBy=K4,s.preventFocus=!1,t.trigger("overlayClick",s,function(o){o.preventFocus||t.focusContent(),t.dlgClosedBy=Lv})};var i={close:"Close"};if(this.l10n=new Qi("dialog",i,this.locale),this.checkPositionData(),u(this.target)){var n=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.target=document.body,this.isProtectedOnChange=n}},e.prototype.updatePersistData=function(){this.enablePersistence&&this.setProperties({width:parseFloat(this.element.style.width),height:parseFloat(this.element.style.height),position:{X:parseFloat(this.dragObj.element.style.left),Y:parseFloat(this.dragObj.element.style.top)}},!0)},e.prototype.isNumberValue=function(t){var i=/^[-+]?\d*\.?\d+$/.test(t);return i},e.prototype.checkPositionData=function(){if(!u(this.position)){if(!u(this.position.X)&&typeof this.position.X!="number"){var t=this.isNumberValue(this.position.X);if(t){var i=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.X=parseFloat(this.position.X),this.isProtectedOnChange=i}}if(!u(this.position.Y)&&typeof this.position.Y!="number"){var t=this.isNumberValue(this.position.Y);if(t){var i=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.Y=parseFloat(this.position.Y),this.isProtectedOnChange=i}}}},e.prototype.getEle=function(t,i){for(var n=void 0,s=0;s<t.length;s++)if(t[s].classList.contains(i)){n=t[s];break}return n},e.prototype.getMinHeight=function(){var t="0px",i="0px";u(this.element.querySelector("."+kv))||(t=getComputedStyle(this.headerContent).height);var n=this.getEle(this.element.children,bc);u(n)||(i=getComputedStyle(n).height);var s=parseInt(t.slice(0,t.indexOf("p")),10),o=parseInt(i.slice(0,i.indexOf("p")),10);return sT(s+30+(isNaN(o)?0:o)),s+30+o},e.prototype.onResizeStart=function(t,i){return i.trigger("resizeStart",t),t.cancel},e.prototype.onResizing=function(t,i){i.trigger("resizing",t)},e.prototype.onResizeComplete=function(t,i){i.trigger("resizeStop",t),this.updatePersistData()},e.prototype.setResize=function(){if(this.enableResize){if(this.isBlazorServerRender()&&!u(this.element.querySelector(".e-icons.e-resize-handle")))return;this.element.classList.add(Dv);for(var t=getComputedStyle(this.element).minHeight,i=getComputedStyle(this.element).minWidth,n="",s=0;s<this.resizeHandles.length;s++)if(this.resizeHandles[s]==="All"){n="south north east west north-east north-west south-east south-west";break}else{var o="";switch(this.resizeHandles[s].toString()){case"SouthEast":o="south-east";break;case"SouthWest":o="south-west";break;case"NorthEast":o="north-east";break;case"NorthWest":o="north-west";break;default:o=this.resizeHandles[s].toString();break}n+=o.toLocaleLowerCase()+" "}this.enableRtl&&n.trim()==="south-east"?n="south-west":this.enableRtl&&n.trim()==="south-west"&&(n="south-east"),this.isModal&&this.enableRtl?this.element.classList.add(jp):this.isModal&&this.target===document.body&&this.element.classList.add(mT),nT({element:this.element,direction:n,minHeight:parseInt(t.slice(0,i.indexOf("p")),10),maxHeight:this.targetEle.clientHeight,minWidth:parseInt(i.slice(0,i.indexOf("p")),10),maxWidth:this.targetEle.clientWidth,boundary:this.target===document.body?null:this.targetEle,resizeBegin:this.onResizeStart.bind(this),resizeComplete:this.onResizeComplete.bind(this),resizing:this.onResizing.bind(this),proxy:this}),this.wireWindowResizeEvent()}else wv(),this.unWireWindowResizeEvent(),this.isModal?this.element.classList.remove(jp):this.element.classList.remove(mT),this.element.classList.remove(Dv)},e.prototype.getFocusElement=function(t){var i='input,select,textarea,button:enabled,a,[contenteditable="true"],[tabindex]',n=t.querySelectorAll(i);return{element:n[n.length-1]}},e.prototype.keyDown=function(t){var i=this;if(t.keyCode===9&&this.isModal){var n=void 0;u(this.btnObj)||(n=this.btnObj[this.btnObj.length-1]),u(this.btnObj)&&!u(this.ftrTemplateContent)&&(n=this.getFocusElement(this.ftrTemplateContent)),u(this.btnObj)&&u(this.ftrTemplateContent)&&!u(this.contentEle)&&(n=this.getFocusElement(this.contentEle)),!u(n)&&document.activeElement===n.element&&!t.shiftKey&&(t.preventDefault(),this.focusableElements(this.element).focus()),document.activeElement===this.focusableElements(this.element)&&t.shiftKey&&(t.preventDefault(),u(n)||n.element.focus())}var s=document.activeElement,o=["input","textarea"].indexOf(s.tagName.toLowerCase())>-1,a=!1;if(o||(a=s.hasAttribute("contenteditable")&&s.getAttribute("contenteditable")==="true"),t.keyCode===27&&this.closeOnEscape){this.dlgClosedBy=G4;var l=document.querySelector(".e-popup-open:not(.e-dialog)");!u(l)&&!l.classList.contains("e-toolbar-pop")||this.hide(t)}if(t.keyCode===13&&!t.ctrlKey&&s.tagName.toLowerCase()!=="textarea"&&o&&!u(this.primaryButtonEle)||t.keyCode===13&&t.ctrlKey&&(s.tagName.toLowerCase()==="textarea"||a)&&!u(this.primaryButtonEle)){var h,c=this.buttons.some(function(p,d){h=d;var f=p.buttonModel;return!u(f)&&f.isPrimary===!0});c&&typeof this.buttons[h].click=="function"&&setTimeout(function(){i.buttons[h].click.call(i,t)})}},e.prototype.initialize=function(){u(this.target)||(this.targetEle=typeof this.target=="string"?document.querySelector(this.target):this.target),this.isBlazorServerRender()||E([this.element],Ap),N.isDevice&&E([this.element],cT),this.isBlazorServerRender()||this.setCSSClass(),this.setMaxHeight()},e.prototype.initRender=function(){var t=this;if(this.initialRender=!0,this.isBlazorServerRender()||pe(this.element,{role:"dialog"}),this.zIndex===1e3?(this.setzIndex(this.element,!1),this.calculatezIndex=!0):this.calculatezIndex=!1,this.isBlazorServerRender()&&u(this.headerContent)&&(this.headerContent=this.element.getElementsByClassName("e-dlg-header-content")[0]),this.isBlazorServerRender()&&u(this.contentEle)&&(this.contentEle=this.element.querySelector("#"+this.element.id+"_dialog-content")),this.isBlazorServerRender()||(this.setTargetContent(),this.header!==""&&!u(this.header)&&this.setHeader(),this.renderCloseIcon(),this.setContent(),this.footerTemplate!==""&&!u(this.footerTemplate)?this.setFooterTemplate():u(this.buttons[0].buttonModel)||this.setButton()),this.isBlazorServerRender()&&!u(this.buttons[0].buttonModel)&&this.footerTemplate===""&&this.setButton(),this.allowDragging&&!u(this.headerContent)&&this.setAllowDragging(),this.isBlazorServerRender()||(pe(this.element,{"aria-modal":this.isModal?"true":"false"}),this.isModal&&this.setIsModal()),this.isBlazorServerRender()&&u(this.dlgContainer)){this.dlgContainer=this.element.parentElement;for(var i=0,n=this.dlgContainer.children;i<n.length;i++)n[i].classList.contains("e-dlg-overlay")&&(this.dlgOverlay=n[i])}if(this.element.classList.contains(vT)!==!0&&this.element.classList.contains(yT)!==!0&&!u(this.element.parentElement)){var s=this.isModal?this.dlgContainer.parentElement:this.element.parentElement;this.refElement=this.createElement("div",{className:Z4}),s.insertBefore(this.refElement,this.isModal?this.dlgContainer:this.element)}if(u(this.targetEle)||(this.isModal?this.targetEle.appendChild(this.dlgContainer):this.targetEle.appendChild(this.element)),this.popupObj=new _t(this.element,{height:this.height,width:this.width,zIndex:this.zIndex,relateTo:this.target,actionOnScroll:"none",enableRtl:this.enableRtl,open:function(l){var h={container:t.isModal?t.dlgContainer:t.element,element:t.element,target:t.target,preventFocus:!1};t.enableResize&&t.resetResizeIcon(),t.trigger("open",h,function(c){c.preventFocus||t.focusContent()})},close:function(l){t.isModal&&E([t.dlgOverlay],"e-fade"),t.unBindEvent(t.element),t.isModal&&(t.dlgContainer.style.display="none"),t.trigger("close",t.closeArgs);var h=document.activeElement;!u(h)&&!u(h.blur)&&h.blur(),!u(t.storeActiveElement)&&!u(t.storeActiveElement.focus)&&t.storeActiveElement.focus()}}),this.positionChange(),this.setEnableRTL(),this.isBlazorServerRender()||(E([this.element],W4),this.isModal&&this.setOverlayZindex()),this.visible){if(this.show(),this.isModal){var o=this.getTargetContainer(this.target);if(o instanceof Element){var a=window.getComputedStyle(o);a.getPropertyValue("direction")==="rtl"&&this.setPopupPosition()}}}else this.isModal&&(this.dlgOverlay.style.display="none");this.initialRender=!1},e.prototype.getTargetContainer=function(t){var i=null;if(typeof t=="string")if(t.startsWith("#"))i=document.getElementById(t.substring(1));else if(t.startsWith(".")){var n=document.getElementsByClassName(t.substring(1));i=n.length>0?n[0]:null}else!(t instanceof HTMLElement)&&t!==document.body&&(i=document.querySelector(t));else t instanceof HTMLElement&&(i=t);return i},e.prototype.resetResizeIcon=function(){var t=this.getMinHeight();if(this.targetEle.offsetHeight<t){var i=this.enableRtl?"e-south-west":"e-south-east",n=this.element.querySelector("."+i);u(n)||(n.style.bottom="-"+t.toString()+"px")}},e.prototype.setOverlayZindex=function(t){var i;u(t)?i=parseInt(this.element.style.zIndex,10)?parseInt(this.element.style.zIndex,10):this.zIndex:i=t,this.dlgOverlay.style.zIndex=(i-1).toString(),this.dlgContainer.style.zIndex=i.toString()},e.prototype.positionChange=function(){this.isModal?!isNaN(parseFloat(this.position.X))&&!isNaN(parseFloat(this.position.Y))?this.setPopupPosition():!isNaN(parseFloat(this.position.X))&&isNaN(parseFloat(this.position.Y))||isNaN(parseFloat(this.position.X))&&!isNaN(parseFloat(this.position.Y))?this.setPopupPosition():(this.element.style.top="0px",this.element.style.left="0px",this.dlgContainer.classList.add("e-dlg-"+this.position.X+"-"+this.position.Y)):this.setPopupPosition()},e.prototype.setPopupPosition=function(){this.popupObj.setProperties({position:{X:this.position.X,Y:this.position.Y}})},e.prototype.setAllowDragging=function(){var t=this,i="."+kv;this.element.classList.contains(J4)||(this.dragObj=new HC(this.element,{clone:!1,isDragScroll:!0,abort:".e-dlg-closeicon-btn",handle:i,dragStart:function(n){t.trigger("dragStart",n,function(s){ne()&&s.bindEvents(n.dragElement)})},dragStop:function(n){if(t.isModal){u(t.position)||t.dlgContainer.classList.remove("e-dlg-"+t.position.X+"-"+t.position.Y);var s=t.getTargetContainer(t.target);if(s instanceof Element){var o=window.getComputedStyle(s);o.getPropertyValue("direction")==="rtl"?t.element.style.position="absolute":t.element.style.position="relative"}else t.element.style.position="relative"}t.trigger("dragStop",n),t.element.classList.remove(jp),t.updatePersistData()},drag:function(n){t.trigger("drag",n)}}),u(this.targetEle)||(this.dragObj.dragArea=this.targetEle))},e.prototype.setButton=function(){if(!this.isBlazorServerRender()){this.buttonContent=[],this.btnObj=[];for(var t=!0,i=0;i<this.buttons.length;i++){var n=u(this.buttons[i].type)?"button":this.buttons[i].type.toLowerCase(),s=this.createElement("button",{className:this.cssClass,attrs:{type:n}});this.buttonContent.push(s.outerHTML)}this.setFooterTemplate()}for(var o,i=0,a=this.element.children;i<a.length;i++)a[i].classList.contains(bc)&&(o=a[i].querySelectorAll("button"));for(var i=0;i<this.buttons.length;i++)this.isBlazorServerRender()||(this.btnObj[i]=new Ei(this.buttons[i].buttonModel)),this.isBlazorServerRender()&&(this.ftrTemplateContent=this.element.querySelector("."+bc)),!u(this.ftrTemplateContent)&&o.length>0&&(typeof this.buttons[i].click=="function"&&y.add(o[i],"click",this.buttons[i].click,this),typeof this.buttons[i].click=="object"&&y.add(o[i],"click",this.buttonClickHandler.bind(this,i),this)),!this.isBlazorServerRender()&&!u(this.ftrTemplateContent)&&(this.btnObj[i].appendTo(this.ftrTemplateContent.children[i]),this.buttons[i].isFlat&&this.btnObj[i].element.classList.add("e-flat"),this.primaryButtonEle=this.element.getElementsByClassName("e-primary")[0])},e.prototype.buttonClickHandler=function(t){this.trigger("buttons["+t+"].click",{})},e.prototype.setContent=function(){if(this.contentEle=this.createElement("div",{className:_4,id:this.element.id+"_dialog-content"}),this.headerEle?pe(this.element,{"aria-describedby":this.element.id+"_title "+this.element.id+"_dialog-content"}):pe(this.element,{"aria-describedby":this.element.id+"_dialog-content"}),this.innerContentElement)this.contentEle.appendChild(this.innerContentElement);else if(!u(this.content)&&this.content!==""||!this.initialRender){var t=Object.keys(window);typeof this.content=="string"&&!ne()?this.setTemplate(this.content,this.contentEle,"content"):this.content instanceof HTMLElement?this.contentEle.appendChild(this.content):this.setTemplate(this.content,this.contentEle,"content")}u(this.headerContent)?this.element.insertBefore(this.contentEle,this.element.children[0]):this.element.insertBefore(this.contentEle,this.element.children[1]),this.height==="auto"&&(!this.isBlazorServerRender()&&N.isIE&&this.element.style.width===""&&!u(this.width)&&(this.element.style.width=W(this.width)),this.setMaxHeight())},e.prototype.setTemplate=function(t,i,n){var s,o,a=Object.keys(window);i.classList.contains(lT)?o=this.element.id+"header":i.classList.contains(bc)?o=this.element.id+"footerTemplate":o=this.element.id+"content";var l;u(t.outerHTML)?(typeof t=="string"||typeof t!="string"||ne()&&!this.isStringTemplate)&&(typeof t=="string"&&(t=this.sanitizeHelper(t)),this.isVue||typeof t!="string"?(s=Ui(t),l=t):i.innerHTML=t):i.appendChild(t);var h=[];if(!u(s)){for(var c=ne()&&!this.isStringTemplate&&l.indexOf("<div>Blazor")===0?this.isStringTemplate:!0,p=0,d=s({},this,n,o,c);p<d.length;p++){var f=d[p];h.push(f)}st([].slice.call(h),i)}},e.prototype.sanitizeHelper=function(t){if(this.enableHtmlSanitizer){var i=pt.beforeSanitize(),n={cancel:!1,helper:null};ae(i,i,n),this.trigger("beforeSanitizeHtml",i),i.cancel&&!u(i.helper)?t=i.helper(t):i.cancel||(t=pt.serializeValue(i,t))}return t},e.prototype.setMaxHeight=function(){if(this.allowMaxHeight){var t=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=!u(this.target)&&this.targetEle.offsetHeight<window.innerHeight?this.targetEle.offsetHeight-20+"px":window.innerHeight-20+"px",this.element.style.display=t,N.isIE&&this.height==="auto"&&!u(this.contentEle)&&this.element.offsetHeight<this.contentEle.offsetHeight&&(this.element.style.height="inherit")}},e.prototype.setEnableRTL=function(){this.isBlazorServerRender()||(this.enableRtl?E([this.element],Ev):L([this.element],Ev)),u(this.element.querySelector(".e-resize-handle"))||(wv(),this.setResize())},e.prototype.setTargetContent=function(){var t=this;if(u(this.content)||this.content===""){var i=this.element.innerHTML.replace(/\s|<(\/?|\/?)(!--!--)>/g,"")!=="";(this.element.children.length>0||i)&&(this.innerContentElement=document.createDocumentFragment(),[].slice.call(this.element.childNodes).forEach(function(n){n.nodeType!==8&&t.innerContentElement.appendChild(n)}))}},e.prototype.setHeader=function(){this.headerEle?this.headerEle.innerHTML="":this.headerEle=this.createElement("div",{id:this.element.id+"_title",className:lT}),this.createHeaderContent(),this.headerContent.appendChild(this.headerEle),this.setTemplate(this.header,this.headerEle,"header"),pe(this.element,{"aria-describedby":this.element.id+"_title"}),pe(this.element,{"aria-label":"dialog"}),this.element.insertBefore(this.headerContent,this.element.children[0]),this.allowDragging&&!u(this.headerContent)&&this.setAllowDragging()},e.prototype.setFooterTemplate=function(){this.ftrTemplateContent?this.ftrTemplateContent.innerHTML="":this.ftrTemplateContent=this.createElement("div",{className:bc}),this.footerTemplate!==""&&!u(this.footerTemplate)?this.setTemplate(this.footerTemplate,this.ftrTemplateContent,"footerTemplate"):this.ftrTemplateContent.innerHTML=this.buttonContent.join(""),this.element.appendChild(this.ftrTemplateContent)},e.prototype.createHeaderContent=function(){u(this.headerContent)&&(this.headerContent=this.createElement("div",{id:this.element.id+"_dialog-header",className:kv}))},e.prototype.renderCloseIcon=function(){this.showCloseIcon&&(this.closeIcon=this.createElement("button",{className:uT,attrs:{type:"button"}}),this.closeIconBtnObj=new Ei({cssClass:"e-flat",iconCss:hT+" "+Y4}),this.closeIconTitle(),u(this.headerContent)?(this.createHeaderContent(),nn([this.closeIcon],this.headerContent),this.element.insertBefore(this.headerContent,this.element.children[0])):nn([this.closeIcon],this.headerContent),this.closeIconBtnObj.appendTo(this.closeIcon))},e.prototype.closeIconTitle=function(){this.l10n.setLocale(this.locale);var t=this.l10n.getConstant("close");this.closeIcon.setAttribute("title",t),this.closeIcon.setAttribute("aria-label",t)},e.prototype.setCSSClass=function(t){t&&(L([this.element],t.split(" ")),this.isModal&&!u(this.dlgContainer)&&L([this.dlgContainer],t.split(" "))),this.cssClass&&(E([this.element],this.cssClass.split(" ")),this.isModal&&!u(this.dlgContainer)&&E([this.dlgContainer],this.cssClass.split(" ")))},e.prototype.setIsModal=function(){this.dlgContainer=this.createElement("div",{className:V4}),this.setCSSClass(),this.element.classList.remove(pT),this.element.parentNode.insertBefore(this.dlgContainer,this.element),this.dlgContainer.appendChild(this.element),E([this.element],Ip),this.dlgOverlay=this.createElement("div",{className:F4}),this.dlgOverlay.style.zIndex=(this.zIndex-1).toString(),this.dlgContainer.appendChild(this.dlgOverlay)},e.prototype.getValidFocusNode=function(t){for(var i,n=0;n<t.length;n++){if(i=t[n],(i.clientHeight>0||i.tagName.toLowerCase()==="a"&&i.hasAttribute("href"))&&i.tabIndex>-1&&!i.disabled&&!this.disableElement(i,'[disabled],[aria-disabled="true"],[type="hidden"]'))return i;i=null}return i},e.prototype.focusableElements=function(t){if(!u(t)){var i='input,select,textarea,button,a,[contenteditable="true"],[tabindex]',n=t.querySelectorAll(i);return this.getValidFocusNode(n)}return null},e.prototype.getAutoFocusNode=function(t){var i=t.querySelector("."+uT),n="[autofocus]",s=t.querySelectorAll(n),o=this.getValidFocusNode(s);if(ne()&&(this.primaryButtonEle=this.element.getElementsByClassName("e-primary")[0]),!u(o))i=o;else if(o=this.focusableElements(this.contentEle),u(o)){if(!u(this.primaryButtonEle))return this.element.querySelector("."+$4)}else return i=o;return i},e.prototype.disableElement=function(t,i){var n=t?t.matches||t.webkitMatchesSelector||t.msGetRegionContent:null;if(n){for(;t;t=t.parentNode)if(t instanceof Element&&n.call(t,i))return t}return null},e.prototype.focusContent=function(){var t=this.getAutoFocusNode(this.element),i=u(t)?this.element:t,n=N.userAgent;(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0)&&this.element.focus(),i.focus(),this.unBindEvent(this.element),this.bindEvent(this.element)},e.prototype.bindEvent=function(t){y.add(t,"keydown",this.keyDown,this)},e.prototype.unBindEvent=function(t){y.remove(t,"keydown",this.keyDown)},e.prototype.updateSanitizeContent=function(){this.isBlazorServerRender()||(this.contentEle.innerHTML=this.sanitizeHelper(this.content))},e.prototype.isBlazorServerRender=function(){return ne()&&this.isServerRendered},e.prototype.getModuleName=function(){return"dialog"},e.prototype.onPropertyChanged=function(t,i){if(this.element.classList.contains(Ap))for(var n=0,s=Object.keys(t);n<s.length;n++){var o=s[n];switch(o){case"content":!u(this.content)&&this.content!==""?(this.isBlazorServerRender()&&(this.contentEle=this.element.querySelector(".e-dlg-content")),!u(this.contentEle)&&this.contentEle.getAttribute("role")!=="dialog"?(this.isBlazorServerRender()||(this.contentEle.innerHTML=""),typeof this.content=="function"?(this.clearTemplate(["content"]),w(this.contentEle),this.contentEle=null,this.setContent()):typeof this.content=="string"?this.isBlazorServerRender()&&this.contentEle.innerText===""?this.contentEle.insertAdjacentHTML("beforeend",this.sanitizeHelper(this.content)):this.updateSanitizeContent():this.contentEle.appendChild(this.content),this.setMaxHeight()):(!this.isBlazorServerRender()||u(this.element.querySelector(".e-dlg-content")))&&this.setContent()):u(this.contentEle)||(w(this.contentEle),this.contentEle=null);break;case"header":this.header===""||u(this.header)?this.headerEle&&(w(this.headerEle),this.headerEle=null):(!this.isBlazorServerRender()||u(this.element.querySelector(".e-dlg-header-content")))&&this.setHeader();break;case"footerTemplate":if(this.footerTemplate===""||u(this.footerTemplate)){if(!this.ftrTemplateContent)return;w(this.ftrTemplateContent),this.ftrTemplateContent=null,this.buttons=[{}]}else(!this.isBlazorServerRender()||u(this.element.querySelector(".e-footer-content")))&&this.setFooterTemplate(),this.buttons=[{}];break;case"showCloseIcon":this.element.getElementsByClassName(hT).length>0?!this.showCloseIcon&&(this.header===""||u(this.header))?(w(this.headerContent),this.headerContent=null):this.showCloseIcon?this.isBlazorServerRender()&&this.wireEvents():w(this.closeIcon):(this.isBlazorServerRender()||this.renderCloseIcon(),this.wireEvents());break;case"locale":this.showCloseIcon&&this.closeIconTitle();break;case"visible":this.visible?this.show():this.hide();break;case"isModal":this.updateIsModal();break;case"height":he(this.element,{height:W(t.height)}),this.updatePersistData();break;case"width":he(this.element,{width:W(t.width)}),this.updatePersistData();break;case"zIndex":this.popupObj.zIndex=this.zIndex,this.isModal&&this.setOverlayZindex(this.zIndex),this.element.style.zIndex!==this.zIndex.toString()&&(this.calculatezIndex=!1);break;case"cssClass":this.setCSSClass(i.cssClass);break;case"buttons":{var a=this.buttons.length;!u(this.ftrTemplateContent)&&!this.isBlazorServerRender()&&(w(this.ftrTemplateContent),this.ftrTemplateContent=null);for(var l=0;l<a;l++)u(this.buttons[l].buttonModel)||(this.footerTemplate="",this.setButton());break}case"allowDragging":this.allowDragging&&!u(this.headerContent)?this.setAllowDragging():this.dragObj.destroy();break;case"target":this.setTarget(t.target);break;case"position":if(this.checkPositionData(),this.isModal){var h=!u(i.position)&&!u(i.position.X)?i.position.X:this.position.X,c=!u(i.position)&&!u(i.position.Y)?i.position.Y:this.position.Y;this.dlgContainer.classList.contains("e-dlg-"+h+"-"+c)&&this.dlgContainer.classList.remove("e-dlg-"+h+"-"+c)}this.positionChange(),this.updatePersistData();break;case"enableRtl":this.setEnableRTL();break;case"enableResize":this.setResize();break;case"minHeight":this.minHeight!==""&&(this.element.style.minHeight=W(this.minHeight));break}}},e.prototype.setTarget=function(t){this.popupObj.relateTo=t,this.target=t,this.targetEle=typeof this.target=="string"?document.querySelector(this.target):this.target,this.dragObj&&(this.dragObj.dragArea=this.targetEle),this.setMaxHeight(),this.isModal&&this.updateIsModal(),this.enableResize&&this.setResize()},e.prototype.updateIsModal=function(){if(this.element.setAttribute("aria-modal",this.isModal?"true":"false"),this.isModal)u(this.dlgOverlay)&&(this.setIsModal(),this.element.style.top="0px",this.element.style.left="0px",u(this.targetEle)||this.targetEle.appendChild(this.dlgContainer));else{for(L([this.element],Ip),L([document.body],[Tr,Xn]),w(this.dlgOverlay);this.dlgContainer.firstChild;)this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild,this.dlgContainer);this.dlgContainer.parentElement.removeChild(this.dlgContainer)}this.visible&&this.show(),this.positionChange(),this.isModal&&this.dlgOverlay&&y.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)},e.prototype.setzIndex=function(t,i){var n=this.isProtectedOnChange;this.isProtectedOnChange=!0;var s=ls(t);this.zIndex=s>this.zIndex?s:this.zIndex,this.isProtectedOnChange=n,i&&(this.popupObj.zIndex=this.zIndex)},e.prototype.windowResizeHandler=function(){oT(this.targetEle.clientWidth),aT(this.targetEle.clientHeight),this.setMaxHeight()},e.prototype.getPersistData=function(){return this.addOnPersist(["width","height","position"])},e.prototype.destroy=function(){if(!this.isDestroyed){var t=[Ev,Ip,Dv,jp,Pp,cT],i=["role","aria-modal","aria-labelledby","aria-describedby","aria-grabbed","tabindex","style"];if(L([this.targetEle],[Tr,Xn]),!u(this.element)&&this.element.classList.contains(Pp)&&L([document.body],[Tr,Xn]),this.isModal&&L([u(this.targetEle)?document.body:this.targetEle],Xn),this.unWireEvents(),!u(this.btnObj))for(var n=0;n<this.btnObj.length;n++)this.btnObj[n].destroy();if(u(this.closeIconBtnObj)||this.closeIconBtnObj.destroy(),u(this.dragObj)||this.dragObj.destroy(),!u(this.popupObj.element)&&this.popupObj.element.classList.contains(q4)&&this.popupObj.destroy(),L([this.element],t),!u(this.cssClass)&&this.cssClass!==""&&L([this.element],this.cssClass.split(" ")),!u(this.refElement)&&!u(this.refElement.parentElement)&&(this.refElement.parentElement.insertBefore(this.isModal?this.dlgContainer:this.element,this.refElement),w(this.refElement),this.refElement=void 0),this.isModal&&!this.isBlazorServerRender()&&(w(this.dlgOverlay),this.dlgContainer.parentNode.insertBefore(this.element,this.dlgContainer),w(this.dlgContainer)),this.isBlazorServerRender()||(this.element.innerHTML=this.clonedEle.innerHTML),this.isBlazorServerRender()&&!u(this.element.children))for(var n=0;n<=this.element.children.length;n++)n=n-n,w(this.element.children[n]);for(var n=0;n<i.length;n++)this.element.removeAttribute(i[n]);this.ftrTemplateContent=null,this.headerContent=null,this.contentEle=null,this.isBlazorServerRender()?this.isDestroyed=!0:r.prototype.destroy.call(this),this.isReact&&this.clearTemplate()}},e.prototype.wireWindowResizeEvent=function(){this.boundWindowResizeHandler=this.windowResizeHandler.bind(this),window.addEventListener("resize",this.boundWindowResizeHandler)},e.prototype.unWireWindowResizeEvent=function(){window.removeEventListener("resize",this.boundWindowResizeHandler),this.boundWindowResizeHandler=null},e.prototype.wireEvents=function(){this.isBlazorServerRender()&&this.showCloseIcon&&(this.closeIcon=this.element.getElementsByClassName("e-dlg-closeicon-btn")[0]),this.showCloseIcon&&y.add(this.closeIcon,"click",this.closeIconClickEventHandler,this),this.isModal&&this.dlgOverlay&&y.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)},e.prototype.unWireEvents=function(){if(this.showCloseIcon&&y.remove(this.closeIcon,"click",this.closeIconClickEventHandler),this.isModal&&y.remove(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler),this.buttons.length>0&&!u(this.buttons[0].buttonModel)&&this.footerTemplate==="")for(var t=0;t<this.buttons.length;t++)typeof this.buttons[t].click=="function"&&y.remove(this.ftrTemplateContent.children[t],"click",this.buttons[t].click)},e.prototype.refreshPosition=function(){this.popupObj.refreshPosition(),this.element.classList.contains(Ip)&&this.positionChange()},e.prototype.getDimension=function(){var t=this.element.offsetWidth,i=this.element.offsetHeight;return{width:t,height:i}},e.prototype.show=function(t){var i=this;if(this.element.classList.contains(Ap)){if(!this.element.classList.contains(pT)||!u(t)){u(t)||this.fullScreen(t);var n=ne()?{cancel:!1,element:this.element,container:this.isModal?this.dlgContainer:this.element,maxHeight:this.element.style.maxHeight}:{cancel:!1,element:this.element,container:this.isModal?this.dlgContainer:this.element,target:this.target,maxHeight:this.element.style.maxHeight};this.trigger("beforeOpen",n,function(s){if(!s.cancel){if(i.element.style.maxHeight!==n.maxHeight&&(i.allowMaxHeight=!1,i.element.style.maxHeight=n.maxHeight),i.enableResize&&i.boundWindowResizeHandler==null&&!i.initialRender&&i.wireWindowResizeEvent(),i.storeActiveElement=document.activeElement,i.element.tabIndex=-1,i.isModal&&!u(i.dlgOverlay))if(i.dlgOverlay.style.display="block",i.dlgContainer.style.display="flex",L([i.dlgOverlay],"e-fade"),u(i.targetEle))E([document.body],[Tr,Xn]);else{i.targetEle===document.body?i.dlgContainer.style.position="fixed":i.dlgContainer.style.position="absolute",i.dlgOverlay.style.position="absolute";var o=i.getTargetContainer(i.target);if(o instanceof Element){var a=window.getComputedStyle(o);a.getPropertyValue("direction")==="rtl"?i.element.style.position="absolute":i.element.style.position="relative"}else i.element.style.position="relative";E([i.targetEle],[Tr,Xn])}var l={name:i.animationSettings.effect==="None"&&dr==="Enable"?"ZoomIn":i.animationSettings.effect+"In",duration:i.animationSettings.duration,delay:i.animationSettings.delay},h=i.isModal?i.element.parentElement:i.element;i.calculatezIndex&&(i.setzIndex(h,!0),he(i.element,{zIndex:i.zIndex}),i.isModal&&i.setOverlayZindex(i.zIndex)),i.animationSettings.effect==="None"&&dr==="Enable"?i.popupObj.show(l):i.animationSettings.effect==="None"?i.popupObj.show():i.popupObj.show(l),i.dialogOpen=!0;var c=i.isProtectedOnChange;i.isProtectedOnChange=!0,i.visible=!0,i.preventVisibility=!0,i.isProtectedOnChange=c}})}this.isReact&&this.renderReactTemplates()}},e.prototype.hide=function(t){var i=this;if(this.element.classList.contains(Ap)&&this.preventVisibility){var n=ne()?{cancel:!1,isInteracted:!!t,element:this.element,container:this.isModal?this.dlgContainer:this.element,event:t}:{cancel:!1,isInteracted:!!t,element:this.element,target:this.target,container:this.isModal?this.dlgContainer:this.element,event:t,closedBy:this.dlgClosedBy};this.closeArgs=n,this.trigger("beforeClose",n,function(s){if(!s.cancel){i.isModal&&(u(i.targetEle)||L([i.targetEle],[Tr,Xn])),i.enableResize&&i.unWireWindowResizeEvent(),document.body.classList.contains(Tr)&&document.body.classList.contains(Xn)&&L([document.body],[Tr,Xn]);var o={name:i.animationSettings.effect==="None"&&dr==="Enable"?"ZoomOut":i.animationSettings.effect+"Out",duration:i.animationSettings.duration,delay:i.animationSettings.delay};i.animationSettings.effect==="None"&&dr==="Enable"?i.popupObj.hide(o):i.animationSettings.effect==="None"?i.popupObj.hide():i.popupObj.hide(o),i.dialogOpen=!1;var a=i.isProtectedOnChange;i.isProtectedOnChange=!0,i.visible=!1,i.preventVisibility=!1,i.isProtectedOnChange=a}i.dlgClosedBy=Lv})}},e.prototype.fullScreen=function(t){var i=this.element.offsetTop,n=this.element.offsetLeft;if(t){this.isModal||(this.element.style.top=document.scrollingElement.scrollTop+"px"),E([this.element],Pp);var s=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=u(this.target)?window.innerHeight+"px":this.targetEle.offsetHeight+"px",this.element.style.display=s,E([document.body],[Tr,Xn]),this.allowDragging&&!u(this.dragObj)&&this.dragObj.destroy()}else L([this.element],Pp),L([document.body],[Tr,Xn]),this.allowDragging&&!u(this.headerContent)&&this.setAllowDragging();return t},e.prototype.getButtons=function(t){return u(t)?this.btnObj:this.btnObj[t]},Ae([b("")],e.prototype,"content",void 0),Ae([b(!0)],e.prototype,"enableHtmlSanitizer",void 0),Ae([b(!1)],e.prototype,"enablePersistence",void 0),Ae([b(!1)],e.prototype,"showCloseIcon",void 0),Ae([b(!1)],e.prototype,"isModal",void 0),Ae([b("")],e.prototype,"header",void 0),Ae([b(!0)],e.prototype,"visible",void 0),Ae([b(!1)],e.prototype,"enableResize",void 0),Ae([b(["South-East"])],e.prototype,"resizeHandles",void 0),Ae([b("auto")],e.prototype,"height",void 0),Ae([b("")],e.prototype,"minHeight",void 0),Ae([b("100%")],e.prototype,"width",void 0),Ae([b("")],e.prototype,"cssClass",void 0),Ae([b(1e3)],e.prototype,"zIndex",void 0),Ae([b(null)],e.prototype,"target",void 0),Ae([b("")],e.prototype,"footerTemplate",void 0),Ae([b(!1)],e.prototype,"allowDragging",void 0),Ae([bn([{}],U4)],e.prototype,"buttons",void 0),Ae([b(!0)],e.prototype,"closeOnEscape",void 0),Ae([we({},H4)],e.prototype,"animationSettings",void 0),Ae([we({X:"center",Y:"center"},fv)],e.prototype,"position",void 0),Ae([R()],e.prototype,"created",void 0),Ae([R()],e.prototype,"open",void 0),Ae([R()],e.prototype,"beforeSanitizeHtml",void 0),Ae([R()],e.prototype,"beforeOpen",void 0),Ae([R()],e.prototype,"close",void 0),Ae([R()],e.prototype,"beforeClose",void 0),Ae([R()],e.prototype,"dragStart",void 0),Ae([R()],e.prototype,"dragStop",void 0),Ae([R()],e.prototype,"drag",void 0),Ae([R()],e.prototype,"overlayClick",void 0),Ae([R()],e.prototype,"resizeStart",void 0),Ae([R()],e.prototype,"resizing",void 0),Ae([R()],e.prototype,"resizeStop",void 0),Ae([R()],e.prototype,"destroyed",void 0),e=Ae([Ee],e),e}(Ve);var gT;(function(r){function e(c){var p,d=B("div",{className:vT});document.body.appendChild(d);var f,m=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}];return typeof c=="string"?f=i({content:c,position:{X:"center",Y:"top"},isModal:!0,header:dT,buttons:m},d):f=i(n(c),d),f.close=function(){c&&c.close&&c.close.apply(f),f.destroy(),f.element.classList.contains("e-dlg-modal")?(f.element.parentElement.remove(),f.target.classList.remove(fT)):f.element.remove()},f}r.alert=e;function t(c){var p,d=B("div",{className:yT});document.body.appendChild(d);var f,m=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},{buttonModel:{content:"Cancel"},click:function(){this.hide()}}];return typeof c=="string"?f=i({position:{X:"center",Y:"top"},content:c,isModal:!0,header:dT,buttons:m},d):f=i(s(c),d),f.close=function(){c&&c.close&&c.close.apply(f),f.destroy(),f.element.classList.contains("e-dlg-modal")?(f.element.parentElement.remove(),f.target.classList.remove(fT)):f.element.remove()},f}r.confirm=t;function i(c,p){var d=new Iv(c);return d.appendTo(p),d}function n(c){var p={};return p.buttons=[],p=o(p,c),p=a(p,c),p}function s(c){var p={};return p.buttons=[],p=o(p,c),p=l(p,c),p}function o(c,p){return c.header=u(p.title)?null:p.title,c.content=u(p.content)?"":p.content,c.isModal=u(p.isModal)?!0:p.isModal,c.showCloseIcon=u(p.showCloseIcon)?!1:p.showCloseIcon,c.allowDragging=u(p.isDraggable)?!1:p.isDraggable,c.closeOnEscape=u(p.closeOnEscape)?!1:p.closeOnEscape,c.position=u(p.position)?{X:"center",Y:"top"}:p.position,c.animationSettings=u(p.animationSettings)?{effect:"Fade",duration:400,delay:0}:p.animationSettings,c.cssClass=u(p.cssClass)?"":p.cssClass,c.zIndex=u(p.zIndex)?1e3:p.zIndex,c.open=u(p.open)?null:p.open,c.width=u(p.width)?"auto":p.width,c.height=u(p.height)?"auto":p.height,c}function a(c,p){var d=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}];return u(p.okButton)?c.buttons=d:c.buttons[0]=h(c.buttons[0],p.okButton,d[0]),c}function l(c,p){var d={buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},f={buttonModel:{content:"Cancel"},click:function(){this.hide()}};return u(p.okButton)?c.buttons[0]=d:c.buttons[0]=h(c.buttons[0],p.okButton,d),u(p.cancelButton)?c.buttons[1]=f:c.buttons[1]=h(c.buttons[1],p.cancelButton,f),c}function h(c,p,d){var f=d;return u(p.text)||(f.buttonModel.content=p.text),u(p.icon)||(f.buttonModel.iconCss=p.icon),u(p.cssClass)||(f.buttonModel.cssClass=p.cssClass),u(p.click)||(f.click=p.click),u(p.isFlat)||(f.isFlat=p.isFlat),f}})(gT||(gT={}));var ET=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ye=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},eP=1500,tP=500,bT=0,OT=8,iP=2,Nr=2,Pv="e-tooltip",CT="e-rtl",nP="e-bigger",ST="e-icons",MT="e-tooltip-close",jv="e-tooltip-wrap",TT="e-tip-content",fl="e-arrow-tip",NT="e-arrow-tip-outer",zp="e-arrow-tip-inner",Oc="e-tip-bottom",zv="e-tip-top",xT="e-tip-left",Rv="e-tip-right",Bv="e-popup",Rp="e-popup-open",Qv="e-popup-close",Bp="e-lib",rP="e-hidden",wT="e-tooltip-popup-container",sP=function(r){ET(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Ye([b({effect:"FadeIn",duration:150,delay:0})],e.prototype,"open",void 0),Ye([b({effect:"FadeOut",duration:150,delay:0})],e.prototype,"close",void 0),e}(de);var xr=function(r){ET(e,r);function e(t,i){var n=r.call(this,t,i)||this;return n.mouseMoveEvent=null,n.mouseMoveTarget=null,n.containerElement=null,n.isBodyContainer=!0,n}return e.prototype.initialize=function(){this.formatPosition(),E([this.element],Pv)},e.prototype.formatPosition=function(){var t,i;this.position.indexOf("Top")===0||this.position.indexOf("Bottom")===0?(t=this.position.split(/(?=[A-Z])/),this.tooltipPositionY=t[0],this.tooltipPositionX=t[1]):(i=this.position.split(/(?=[A-Z])/),this.tooltipPositionX=i[0],this.tooltipPositionY=i[1])},e.prototype.renderArrow=function(){this.setTipClass(this.position);var t=this.createElement("div",{className:fl+" "+this.tipClass});t.appendChild(this.createElement("div",{className:NT+" "+this.tipClass})),t.appendChild(this.createElement("div",{className:zp+" "+this.tipClass})),this.tooltipEle.appendChild(t)},e.prototype.setTipClass=function(t){t.indexOf("Right")===0?this.tipClass=xT:t.indexOf("Bottom")===0?this.tipClass=zv:t.indexOf("Left")===0?this.tipClass=Rv:this.tipClass=Oc},e.prototype.renderPopup=function(t){var i=this.mouseTrail?{top:0,left:0}:this.getTooltipPosition(t);this.tooltipEle.classList.remove(Bp),this.popupObj=new _t(this.tooltipEle,{height:this.height,width:this.width,position:{X:i.left,Y:i.top},enableRtl:this.enableRtl,open:this.openPopupHandler.bind(this),close:this.closePopupHandler.bind(this)})},e.prototype.getScalingFactor=function(t){if(!t)return{x:1,y:1};var i={x:1,y:1},n=t.closest('[style*="transform: scale"]');if(n&&n!=this.tooltipEle&&n.contains(this.tooltipEle)){var s=window.getComputedStyle(n),o=s.getPropertyValue("transform"),a=o.match(/matrix\(([^)]+)\)/)[1].split(",").map(parseFloat);i.x=a[0],i.y=a[3]}return i},e.prototype.getTooltipPosition=function(t){this.tooltipEle.style.display="block";var i=this.element.closest('[style*="zoom"]');i&&(i.contains(this.tooltipEle)||(this.tooltipEle.style.zoom=getComputedStyle(i).zoom));var n=Gt(t,this.tooltipPositionX,this.tooltipPositionY,!this.isBodyContainer,this.isBodyContainer?null:this.containerElement.getBoundingClientRect()),s=this.getScalingFactor(t),o=this.calculateTooltipOffset(this.position,s.x,s.y),a=this.calculateElementPosition(n,o),l=a[0],h=a[1],c=this.collisionFlipFit(t,l,h);return this.isBodyContainer||(c.top-=this.containerElement.getBoundingClientRect().top),c.left=c.left/s.x,c.top=c.top/s.y,this.tooltipEle.style.display="",c},e.prototype.windowResize=function(){this.reposition(this.findTarget())},e.prototype.reposition=function(t){if(this.popupObj&&t){var i=this.getTooltipPosition(t);this.popupObj.position={X:i.left,Y:i.top},this.popupObj.dataBind()}},e.prototype.openPopupHandler=function(){!this.mouseTrail&&this.needTemplateReposition()&&this.reposition(this.findTarget()),this.trigger("afterOpen",this.tooltipEventArgs),this.tooltipEventArgs=null},e.prototype.closePopupHandler=function(){this.isReact&&!(this.opensOn==="Click"&&typeof this.content=="function")&&this.clearTemplate(["content"]),this.clear(),this.trigger("afterClose",this.tooltipEventArgs),this.tooltipEventArgs=null},e.prototype.calculateTooltipOffset=function(t,i,n){i===void 0&&(i=1),n===void 0&&(n=1);var s={top:0,left:0},o,a,l,h,c,p,d,f;if(i!=1||n!=1){var m=this.tooltipEle.getBoundingClientRect(),g=void 0;l=Math.round(m.width),h=Math.round(m.height),c=$("."+fl,this.tooltipEle),c&&(g=c.getBoundingClientRect()),o=c?Math.round(g.width):0,a=c?Math.round(g.height):0,p=this.showTipPointer?bT:OT,d=a/2+Nr+(h-this.tooltipEle.clientHeight*n),f=o/2+Nr+(l-this.tooltipEle.clientWidth*i)}else l=this.tooltipEle.offsetWidth,h=this.tooltipEle.offsetHeight,c=$("."+fl,this.tooltipEle),o=c?c.offsetWidth:0,a=c?c.offsetHeight:0,p=this.showTipPointer?bT:OT,d=a/2+Nr+(this.tooltipEle.offsetHeight-this.tooltipEle.clientHeight),f=o/2+Nr+(this.tooltipEle.offsetWidth-this.tooltipEle.clientWidth);switch(this.mouseTrail&&(p+=iP),t){case"RightTop":s.left+=o+p,s.top-=h-d;break;case"RightCenter":s.left+=o+p,s.top-=h/2;break;case"RightBottom":s.left+=o+p,s.top-=d;break;case"BottomRight":s.top+=a+p,s.left-=f;break;case"BottomCenter":s.top+=a+p,s.left-=l/2;break;case"BottomLeft":s.top+=a+p,s.left-=l-f;break;case"LeftBottom":s.left-=o+l+p,s.top-=d;break;case"LeftCenter":s.left-=o+l+p,s.top-=h/2;break;case"LeftTop":s.left-=o+l+p,s.top-=h-d;break;case"TopLeft":s.top-=h+a+p,s.left-=l-f;break;case"TopRight":s.top-=h+a+p,s.left-=f;break;default:s.top-=h+a+p,s.left-=l/2;break}return s.left+=this.offsetX,s.top+=this.offsetY,s},e.prototype.updateTipPosition=function(t){var i=ge("."+fl+",."+NT+",."+zp,this.tooltipEle),n=[Oc,zv,xT,Rv];L(i,n),this.setTipClass(t),E(i,this.tipClass)},e.prototype.adjustArrow=function(t,i,n,s){var o=$("."+fl,this.tooltipEle);if(!(this.showTipPointer===!1||o===null)){this.updateTipPosition(i);var a,l;this.tooltipEle.style.display="block";var h=this.tooltipEle.clientWidth,c=this.tooltipEle.clientHeight,p=$("."+zp,this.tooltipEle),d=o.offsetWidth,f=o.offsetHeight;if(this.tooltipEle.style.display="",this.tipClass===Oc||this.tipClass===zv){if(this.tipClass===Oc?(l="99.9%",p.style.top="-"+(f-2)+"px"):(l=-(f-1)+"px",p.style.top="-"+(f-6)+"px"),t){var m=n!=="Center"||h>t.offsetWidth||this.mouseTrail;m&&n==="Left"||!m&&this.tipPointerPosition==="End"?a=h-d-Nr+"px":m&&n==="Right"||!m&&this.tipPointerPosition==="Start"?a=Nr+"px":m&&(this.tipPointerPosition==="End"||this.tipPointerPosition==="Start")?a=this.tipPointerPosition==="End"?t.offsetWidth+(this.tooltipEle.offsetWidth-t.offsetWidth)/2-d/2-Nr+"px":(this.tooltipEle.offsetWidth-t.offsetWidth)/2-d/2+Nr+"px":a=h/2-d/2+"px"}}else{this.tipClass===Rv?(a="99.9%",p.style.left="-"+(d-2)+"px"):(a=-(d-1)+"px",p.style.left=-d+(d-2)+"px");var m=s!=="Center"||c>t.offsetHeight||this.mouseTrail;m&&s==="Top"||!m&&this.tipPointerPosition==="End"?l=c-f-Nr+"px":m&&s==="Bottom"||!m&&this.tipPointerPosition==="Start"?l=Nr+"px":l=c/2-f/2+"px"}o.style.top=l,o.style.left=a}},e.prototype.renderContent=function(t){var i=$("."+TT,this.tooltipEle);if(this.cssClass&&E([this.tooltipEle],this.cssClass.split(" ")),t&&!u(t.getAttribute("title"))&&(t.setAttribute("data-content",t.getAttribute("title")),t.removeAttribute("title")),u(this.content))t&&!u(t.getAttribute("data-content"))&&(i.innerHTML=t.getAttribute("data-content"));else if(i.innerHTML="",this.content instanceof HTMLElement)i.appendChild(this.content);else if(typeof this.content=="string")if(this.enableHtmlSanitizer&&this.setProperties({content:pt.sanitize(this.content)},!0),this.enableHtmlParse){var n=Ui(this.content),s=n({},this,"content",this.element.id+"content",void 0,void 0,i,this.root);s&&st(s,i)}else i.textContent=this.content;else{var o=Ui(this.content),s=o({},this,"content",this.element.id+"content",void 0,void 0,i);s&&st(s,i),this.renderReactTemplates()}},e.prototype.renderCloseIcon=function(){if(!this.isSticky){var t=this.tooltipEle.querySelector("."+ST+"."+MT);t&&Rt(t);return}var i=this.createElement("div",{className:ST+" "+MT});this.tooltipEle.appendChild(i),y.add(i,N.touchStartEvent,this.onStickyClose,this)},e.prototype.addDescribedBy=function(t,i){var n=(t.getAttribute("aria-describedby")||"").split(/\s+/);n.indexOf(i)<0&&n.push(i),pe(t,{"aria-describedby":n.join(" ").trim(),"data-tooltip-id":i})},e.prototype.removeDescribedBy=function(t){var i=t.getAttribute("data-tooltip-id"),n=(t.getAttribute("aria-describedby")||"").split(/\s+/),s=n.indexOf(i);s!==-1&&n.splice(s,1),t.removeAttribute("data-tooltip-id");var o=n.join(" ").trim();o?t.setAttribute("aria-describedby",o):t.removeAttribute("aria-describedby")},e.prototype.tapHoldHandler=function(t){clearTimeout(this.autoCloseTimer),this.targetHover(t.originalEvent)},e.prototype.touchEndHandler=function(t){var i=this;if(!this.isSticky){var n=function(){i.close()};this.autoCloseTimer=setTimeout(n,eP)}},e.prototype.targetClick=function(t){var i;this.target?i=S(t.target,this.target):i=this.element,!u(i)&&(i.getAttribute("data-tooltip-id")===null?this.targetHover(t):this.isSticky||this.hideTooltip(this.animation.close,t,i))},e.prototype.targetHover=function(t){var i;if(this.target?i=S(t.target,this.target):i=this.element,!(u(i)||i.getAttribute("data-tooltip-id")!==null&&this.closeDelay===0)){for(var n=[].slice.call(ge('[data-tooltip-id= "'+this.ctrlId+'_content"]',document)),s=0,o=n;s<o.length;s++){var a=o[s];this.restoreElement(a)}this.showTooltip(i,this.animation.open,t)}},e.prototype.mouseMoveBeforeOpen=function(t){this.mouseMoveEvent=t},e.prototype.mouseMoveBeforeRemove=function(){this.mouseMoveTarget&&y.remove(this.mouseMoveTarget,"mousemove touchstart",this.mouseMoveBeforeOpen)},e.prototype.showTooltip=function(t,i,n){var s=this;clearTimeout(this.showTimer),clearTimeout(this.hideTimer),this.openDelay&&this.mouseTrail&&(this.mouseMoveBeforeRemove(),this.mouseMoveTarget=t,y.add(this.mouseMoveTarget,"mousemove touchstart",this.mouseMoveBeforeOpen,this)),this.tooltipEventArgs={type:n?n.type:null,cancel:!1,target:t,event:n||null,element:this.tooltipEle,isInteracted:!u(n)};var o=function(a){s.beforeRenderCallback(a,t,n,i)};this.trigger("beforeRender",this.tooltipEventArgs,o.bind(this))},e.prototype.beforeRenderCallback=function(t,i,n,s){t.cancel?(this.isHidden=!0,this.clear(),this.mouseMoveBeforeRemove()):(this.isHidden=!1,u(this.tooltipEle)?(this.ctrlId=this.element.getAttribute("id")?Fe(this.element.getAttribute("id")):Fe("tooltip"),this.tooltipEle=this.createElement("div",{className:jv+" "+Bv+" "+Bp,attrs:{role:"tooltip","aria-hidden":"false",id:this.ctrlId+"_content"},styles:"width:"+W(this.width)+";height:"+W(this.height)+";position:absolute;"}),this.tooltipBeforeRender(i,this),this.tooltipAfterRender(i,n,s,this)):i&&(this.adjustArrow(i,this.position,this.tooltipPositionX,this.tooltipPositionY),this.addDescribedBy(i,this.ctrlId+"_content"),this.renderContent(i),Xr.stop(this.tooltipEle),this.reposition(i),this.tooltipAfterRender(i,n,s,this)))},e.prototype.appendContainer=function(t){typeof this.container=="string"?this.container==="body"?this.containerElement=document.body:(this.isBodyContainer=!1,this.containerElement=$(this.container,document)):this.container instanceof HTMLElement&&(this.containerElement=this.container,this.isBodyContainer=this.containerElement.tagName==="BODY"),this.isBodyContainer||E([this.containerElement],wT),this.containerElement.appendChild(t.tooltipEle)},e.prototype.tooltipBeforeRender=function(t,i){t&&(N.isDevice&&E([i.tooltipEle],nP),i.width!=="auto"&&(i.tooltipEle.style.maxWidth=W(i.width)),i.tooltipEle.appendChild(i.createElement("div",{className:TT})),this.appendContainer(i),L([i.tooltipEle],rP),i.addDescribedBy(t,i.ctrlId+"_content"),i.renderContent(t),E([i.tooltipEle],Rp),i.showTipPointer&&i.renderArrow(),i.renderCloseIcon(),i.renderPopup(t),i.adjustArrow(t,i.position,i.tooltipPositionX,i.tooltipPositionY),Xr.stop(i.tooltipEle),i.reposition(t))},e.prototype.tooltipAfterRender=function(t,i,n,s){if(t){L([s.tooltipEle],Rp),E([s.tooltipEle],Qv),s.tooltipEventArgs={type:i?i.type:null,cancel:!1,target:t,event:i||null,element:s.tooltipEle,isInteracted:!u(i)},s.needTemplateReposition()&&!s.mouseTrail&&(s.tooltipEle.style.display="none");var o=function(a){s.beforeOpenCallback(a,t,n,i)};s.trigger("beforeOpen",s.tooltipEventArgs,o.bind(s))}},e.prototype.beforeOpenCallback=function(t,i,n,s){var o=this;if(t.cancel)this.isHidden=!0,this.clear(),this.mouseMoveBeforeRemove(),this.restoreElement(i);else{var a={name:n.effect==="None"&&dr==="Enable"?"FadeIn":this.animation.open.effect,duration:n.duration,delay:n.delay,timingFunction:"easeOut"};if(n.effect==="None"&&(a=void 0),this.openDelay>0){var l=function(){o.mouseTrail&&y.add(i,"mousemove touchstart mouseenter",o.onMouseMove,o),o.popupObj&&(o.popupObj.show(a,i),o.mouseMoveEvent&&o.mouseTrail&&o.onMouseMove(o.mouseMoveEvent))};this.showTimer=setTimeout(l,this.openDelay)}else this.popupObj&&this.popupObj.show(a,i)}s&&this.wireMouseEvents(s,i)},e.prototype.needTemplateReposition=function(){var t=this;return!u(t.viewContainerRef)&&typeof t.viewContainerRef!="string"||this.isReact},e.prototype.checkCollision=function(t,i,n){var s={left:i,top:n,position:this.position,horizontal:this.tooltipPositionX,vertical:this.tooltipPositionY},o=as(this.tooltipEle,this.checkCollideTarget(),i,n);return o.length>0&&(s.horizontal=o.indexOf("left")>=0?"Right":o.indexOf("right")>=0?"Left":this.tooltipPositionX,s.vertical=o.indexOf("top")>=0?"Bottom":o.indexOf("bottom")>=0?"Top":this.tooltipPositionY),s},e.prototype.calculateElementPosition=function(t,i){return[this.isBodyContainer?t.left+i.left:t.left-this.containerElement.offsetLeft+i.left+window.pageXOffset+this.containerElement.scrollLeft,this.isBodyContainer?t.top+i.top:t.top-this.containerElement.offsetTop+i.top+window.pageYOffset+this.containerElement.scrollTop]},e.prototype.collisionFlipFit=function(t,i,n){var s=this.checkCollision(t,i,n),o=s.position;if(this.tooltipPositionY!==s.vertical&&(o=this.position.indexOf("Bottom")===0||this.position.indexOf("Top")===0?s.vertical+this.tooltipPositionX:this.tooltipPositionX+s.vertical),this.tooltipPositionX!==s.horizontal&&(o.indexOf("Left")===0&&(s.vertical=o==="LeftTop"||o==="LeftCenter"?"Top":"Bottom",o=s.vertical+"Left"),o.indexOf("Right")===0&&(s.vertical=o==="RightTop"||o==="RightCenter"?"Top":"Bottom",o=s.vertical+"Right"),s.horizontal=this.tooltipPositionX),this.tooltipEventArgs={type:null,cancel:!1,target:t,event:null,element:this.tooltipEle,collidedPosition:o},this.trigger("beforeCollision",this.tooltipEventArgs),this.tooltipEventArgs.cancel)o=this.position;else{var a=s.vertical,l=s.horizontal;if(s.position!==o){var h=Gt(t,l,a,!this.isBodyContainer,this.isBodyContainer?null:this.containerElement.getBoundingClientRect());this.adjustArrow(t,o,l,a);var c=this.getScalingFactor(t),p=this.calculateTooltipOffset(o,c.x,c.y);p.top-=this.getOffSetPosition("TopBottom",o,this.offsetY),p.left-=this.getOffSetPosition("RightLeft",o,this.offsetX),s.position=o;var d=this.calculateElementPosition(h,p);s.left=d[0],s.top=d[1]}else this.adjustArrow(t,o,l,a)}var f={left:s.left,top:s.top},m=Ep(this.tooltipEle,this.checkCollideTarget(),{X:!0,Y:this.windowCollision},f);this.tooltipEle.style.display="block";var g=$("."+fl,this.tooltipEle);if(this.showTipPointer&&g!=null&&(o.indexOf("Bottom")===0||o.indexOf("Top")===0)){var v=parseInt(g.style.left,10)-(m.left-s.left);v<0?v=0:v+g.offsetWidth>this.tooltipEle.clientWidth&&(v=this.tooltipEle.clientWidth-g.offsetWidth),g.style.left=v.toString()+"px"}return this.tooltipEle.style.display="",f.left=m.left,f.top=m.top,f},e.prototype.getOffSetPosition=function(t,i,n){return t.indexOf(this.position.split(/(?=[A-Z])/)[0])!==-1&&t.indexOf(i.split(/(?=[A-Z])/)[0])!==-1?2*n:0},e.prototype.checkCollideTarget=function(){return!this.windowCollision&&this.target?this.element:null},e.prototype.hideTooltip=function(t,i,n){var s=this;if(this.closeDelay>0){clearTimeout(this.hideTimer),clearTimeout(this.showTimer);var o=function(){s.closeDelay&&s.tooltipEle&&s.isTooltipOpen||s.tooltipHide(t,i,n)};this.hideTimer=setTimeout(o,this.closeDelay)}else this.tooltipHide(t,i,n)},e.prototype.tooltipHide=function(t,i,n){var s=this,o;i?o=this.target?n||i.target:this.element:o=$('[data-tooltip-id= "'+this.ctrlId+'_content"]',document),this.tooltipEventArgs={type:i?i.type:null,cancel:!1,target:o,event:i||null,element:this.tooltipEle,isInteracted:!u(i)},this.trigger("beforeClose",this.tooltipEventArgs,function(a){a.cancel?s.isHidden=!1:(s.mouseMoveBeforeRemove(),s.popupHide(t,o,i))}),this.tooltipEventArgs=null},e.prototype.popupHide=function(t,i,n){i&&n&&this.restoreElement(i),this.isHidden=!0;var s={name:t.effect==="None"&&dr==="Enable"?"FadeOut":this.animation.close.effect,duration:t.duration,delay:t.delay,timingFunction:"easeIn"};t.effect==="None"&&(s=void 0),this.popupObj&&this.popupObj.hide(s)},e.prototype.restoreElement=function(t){this.unwireMouseEvents(t),u(t.getAttribute("data-content"))||(t.setAttribute("title",t.getAttribute("data-content")),t.removeAttribute("data-content")),this.removeDescribedBy(t)},e.prototype.clear=function(){var t=this.findTarget();t&&this.restoreElement(t),this.tooltipEle&&(L([this.tooltipEle],Qv),E([this.tooltipEle],Rp)),this.isHidden&&(this.popupObj&&this.popupObj.destroy(),this.tooltipEle&&Rt(this.tooltipEle),this.tooltipEle=null,this.popupObj=null)},e.prototype.tooltipHover=function(t){this.tooltipEle&&(this.isTooltipOpen=!0)},e.prototype.tooltipMouseOut=function(t){this.isTooltipOpen=!1,this.hideTooltip(this.animation.close,t,this.findTarget())},e.prototype.onMouseOut=function(t){var i=t.relatedTarget;if(i&&!this.mouseTrail){var n=S(i,"."+jv+"."+Bp+"."+Bv);n?y.add(n,"mouseleave",this.tooltipElementMouseOut,this):(this.hideTooltip(this.animation.close,t,this.findTarget()),this.closeDelay===0&&this.clear())}else this.hideTooltip(this.animation.close,t,this.findTarget()),this.clear()},e.prototype.tooltipElementMouseOut=function(t){this.hideTooltip(this.animation.close,t,this.findTarget()),y.remove(this.element,"mouseleave",this.tooltipElementMouseOut),this.clear()},e.prototype.onStickyClose=function(t){this.close()},e.prototype.onMouseMove=function(t){var i=0,n=0;t.type.indexOf("touch")>-1?(t.preventDefault(),i=t.touches[0].pageX,n=t.touches[0].pageY):(i=t.pageX,n=t.pageY),Xr.stop(this.tooltipEle),L([this.tooltipEle],Qv),E([this.tooltipEle],Rp),this.adjustArrow(t.target,this.position,this.tooltipPositionX,this.tooltipPositionY);var s=this.getScalingFactor(t.target),o=this.calculateTooltipOffset(this.position,s.x,s.y),a=i+o.left+this.offsetX,l=n+o.top+this.offsetY,h=this.checkCollision(t.target,a,l);if(this.tooltipPositionX!==h.horizontal||this.tooltipPositionY!==h.vertical){var c=this.position.indexOf("Bottom")===0||this.position.indexOf("Top")===0?h.vertical+h.horizontal:h.horizontal+h.vertical;h.position=c,this.adjustArrow(t.target,h.position,h.horizontal,h.vertical);var p=this.calculateTooltipOffset(h.position,s.x,s.y);h.left=i+p.left-this.offsetX,h.top=n+p.top-this.offsetY}this.tooltipEle.style.left=h.left+"px",this.tooltipEle.style.top=h.top+"px"},e.prototype.keyDown=function(t){this.tooltipEle&&t.keyCode===27&&this.close()},e.prototype.touchEnd=function(t){this.tooltipEle&&S(t.target,"."+Pv)===null&&!this.isSticky&&this.close()},e.prototype.scrollHandler=function(t){this.tooltipEle&&!this.isSticky&&!S(t.target,"."+jv+"."+Bp+"."+Bv)&&!this.isSticky&&this.close()},e.prototype.render=function(){this.initialize(),this.wireEvents(this.opensOn),this.renderComplete()},e.prototype.preRender=function(){this.tipClass=Oc,this.tooltipPositionX="Center",this.tooltipPositionY="Top",this.isHidden=!0},e.prototype.wireEvents=function(t){for(var i=this.getTriggerList(t),n=0,s=i;n<s.length;n++){var o=s[n];if(o==="Custom")return;o==="Focus"&&this.wireFocusEvents(),o==="Click"&&y.add(this.element,N.touchStartEvent,this.targetClick,this),o==="Hover"&&(N.isDevice?(this.touchModule=new mr(this.element,{tapHoldThreshold:tP,tapHold:this.tapHoldHandler.bind(this)}),y.add(this.element,N.touchEndEvent,this.touchEndHandler,this)):y.add(this.element,"mouseover",this.targetHover,this))}y.add(document,"touchend",this.touchEnd,this),y.add(document,"scroll wheel",this.scrollHandler,this),y.add(window,"resize",this.windowResize,this),y.add(document,"keydown",this.keyDown,this)},e.prototype.getTriggerList=function(t){return t==="Auto"&&(t=N.isDevice?"Hover":"Hover Focus"),t.split(" ")},e.prototype.wireFocusEvents=function(){if(u(this.target))y.add(this.element,"focusin",this.targetHover,this);else{var t=[].slice.call(ge(this.target,this.element));this.targetsList=t;for(var i=0,n=t;i<n.length;i++){var s=n[i];y.add(s,"focus",this.targetHover,this)}}},e.prototype.wireMouseEvents=function(t,i){this.tooltipEle&&(this.isSticky||(t.type==="focus"&&y.add(i,"blur",this.onMouseOut,this),t.type==="focusin"&&y.add(i,"focusout",this.onMouseOut,this),t.type==="mouseover"&&y.add(i,"mouseleave",this.onMouseOut,this),this.closeDelay&&(y.add(this.tooltipEle,"mouseenter",this.tooltipHover,this),y.add(this.tooltipEle,"mouseleave",this.tooltipMouseOut,this))),this.mouseTrail&&this.openDelay===0&&y.add(i,"mousemove touchstart mouseenter",this.onMouseMove,this))},e.prototype.unwireEvents=function(t){for(var i=this.getTriggerList(t),n=0,s=i;n<s.length;n++){var o=s[n];if(o==="Custom")return;o==="Focus"&&this.unwireFocusEvents(),o==="Click"&&y.remove(this.element,N.touchStartEvent,this.targetClick),o==="Hover"&&(N.isDevice?(this.touchModule&&this.touchModule.destroy(),y.remove(this.element,N.touchEndEvent,this.touchEndHandler)):y.remove(this.element,"mouseover",this.targetHover))}y.remove(document,"touchend",this.touchEnd),y.remove(document,"scroll wheel",this.scrollHandler),y.remove(window,"resize",this.windowResize),y.remove(document,"keydown",this.keyDown)},e.prototype.unwireFocusEvents=function(){if(u(this.target))y.remove(this.element,"focusin",this.targetHover);else for(var t=[].slice.call(ge(this.target,this.element)),i=0,n=t;i<n.length;i++){var s=n[i];y.remove(s,"focus",this.targetHover)}},e.prototype.unwireMouseEvents=function(t){if(!this.isSticky){for(var i=this.getTriggerList(this.opensOn),n=0,s=i;n<s.length;n++){var o=s[n];o==="Focus"&&(y.remove(t,"blur",this.onMouseOut),y.remove(t,"focusout",this.onMouseOut)),o==="Hover"&&!N.isDevice&&y.remove(t,"mouseleave",this.onMouseOut)}this.closeDelay&&(y.remove(t,"mouseenter",this.tooltipHover),y.remove(t,"mouseleave",this.tooltipMouseOut))}this.mouseTrail&&y.remove(t,"mousemove touchstart mouseenter",this.onMouseMove)},e.prototype.findTarget=function(){var t=$('[data-tooltip-id= "'+this.ctrlId+'_content"]',document);return t},e.prototype.getModuleName=function(){return"tooltip"},e.prototype.getPersistData=function(){return this.addOnPersist([])},e.prototype.onPropertyChanged=function(t,i){for(var n=this.findTarget(),s=0,o=Object.keys(t);s<o.length;s++){var a=o[s];switch(a){case"width":this.tooltipEle&&n&&(this.tooltipEle.style.width=this.tooltipEle.style.maxWidth=W(t.width),this.reposition(n));break;case"height":this.tooltipEle&&n&&(this.tooltipEle.style.height=W(t.height),this.reposition(n));break;case"content":this.tooltipEle&&this.renderContent();break;case"opensOn":this.unwireEvents(i.opensOn),this.wireEvents(t.opensOn);break;case"position":if(this.formatPosition(),this.tooltipEle&&n){var l=$("."+zp,this.tooltipEle);l&&(l.style.top=l.style.left=null),this.reposition(n)}break;case"tipPointerPosition":this.tooltipEle&&n&&this.reposition(n);break;case"offsetX":if(this.tooltipEle){var h=t.offsetX-i.offsetX;this.tooltipEle.style.left=(parseInt(this.tooltipEle.style.left,10)+h).toString()+"px"}break;case"offsetY":if(this.tooltipEle){var c=t.offsetY-i.offsetY;this.tooltipEle.style.top=(parseInt(this.tooltipEle.style.top,10)+c).toString()+"px"}break;case"cssClass":this.tooltipEle&&(i.cssClass&&L([this.tooltipEle],i.cssClass.split(" ")),t.cssClass&&E([this.tooltipEle],t.cssClass.split(" ")));break;case"enableRtl":this.tooltipEle&&(this.enableRtl?E([this.tooltipEle],CT):L([this.tooltipEle],CT));break;case"isSticky":this.tooltipEle&&n&&(this.renderCloseIcon(),this.reposition(n));break;case"container":u(this.containerElement)||L([this.containerElement],wT),this.container=t.container,this.tooltipEle&&n&&(this.appendContainer(this),this.reposition(n))}}},e.prototype.open=function(t,i){u(i)&&(i=this.animation.open),u(t)&&(t=this.element),t.style.display!=="none"&&this.showTooltip(t,i)},e.prototype.close=function(t){t||(t=this.animation.close),this.hideTooltip(t)},e.prototype.refresh=function(t){if(this.tooltipEle&&this.renderContent(t),this.popupObj&&t&&this.reposition(t),!u(this.targetsList)&&!u(this.target)){var i=ge(this.target,this.element);i.length!==this.targetsList.length&&(this.unwireEvents(this.opensOn),this.wireEvents(this.opensOn))}},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.tooltipEle&&Rt(this.tooltipEle),this.popupObj&&this.popupObj.destroy(),kp(),L([this.element],Pv),this.unwireEvents(this.opensOn),this.unwireMouseEvents(this.element),this.tooltipEle=null,this.popupObj=null;for(var t=ge('[data-tooltip-id= "'+this.ctrlId+'_content"]',this.element),i=0,n=t;i<n.length;i++){var s=n[i];this.restoreElement(s)}},Ye([b("auto")],e.prototype,"width",void 0),Ye([b("auto")],e.prototype,"height",void 0),Ye([b()],e.prototype,"content",void 0),Ye([b("body")],e.prototype,"container",void 0),Ye([b()],e.prototype,"target",void 0),Ye([b("TopCenter")],e.prototype,"position",void 0),Ye([b(0)],e.prototype,"offsetX",void 0),Ye([b(0)],e.prototype,"offsetY",void 0),Ye([b(!0)],e.prototype,"showTipPointer",void 0),Ye([b(!0)],e.prototype,"enableHtmlParse",void 0),Ye([b(!1)],e.prototype,"windowCollision",void 0),Ye([b("Auto")],e.prototype,"tipPointerPosition",void 0),Ye([b("Auto")],e.prototype,"opensOn",void 0),Ye([b(!1)],e.prototype,"mouseTrail",void 0),Ye([b(!1)],e.prototype,"isSticky",void 0),Ye([we({},sP)],e.prototype,"animation",void 0),Ye([b(0)],e.prototype,"openDelay",void 0),Ye([b(0)],e.prototype,"closeDelay",void 0),Ye([b()],e.prototype,"cssClass",void 0),Ye([b(!0)],e.prototype,"enableHtmlSanitizer",void 0),Ye([b("")],e.prototype,"htmlAttributes",void 0),Ye([R()],e.prototype,"beforeRender",void 0),Ye([R()],e.prototype,"beforeOpen",void 0),Ye([R()],e.prototype,"afterOpen",void 0),Ye([R()],e.prototype,"beforeClose",void 0),Ye([R()],e.prototype,"afterClose",void 0),Ye([R()],e.prototype,"beforeCollision",void 0),Ye([R()],e.prototype,"created",void 0),Ye([R()],e.prototype,"destroyed",void 0),e=Ye([Ee],e),e}(Ve);var ii={},oP=30,aP=30,kT=30,lP=30,hP=30,cP=36,uP=36,Uv="e-spin-show",Qp="e-spin-hide",DT="e-spin-material",LT="e-spin-material3",AT="e-spin-fabric",IT="e-spin-fluent",PT="e-spin-tailwind",pP="e-spin-bootstrap",jT="e-spin-bootstrap4",zT="e-spin-bootstrap5",RT="e-spin-high-contrast",Hv="e-spinner-pane",Vv="e-spinner-inner",Up="e-path-circle",dP="e-path-arc",fP="e-spin-label",_v="e-spin-template",BT=null,mP=null;function Hp(r,e){var t;if(r.target){var i,n=u(e)?B:e,s=zP(r.target,n);if(!u(r.cssClass)){var o=r.cssClass.split(" ").filter(function(c){return c.trim()!==""});(t=s.wrap.classList).add.apply(t,o)}if(!u(r.template)||!u(BT)){var a=u(r.template)?BT:r.template;s.wrap.classList.add(_v),IP(s.wrap,a,mP)}else{var l=u(r.type)?xP(s.wrap):r.type,h=u(r.width)?void 0:r.width;i=PP(h,l),wP(l,s.wrap,i,n),u(r.label)||gP(s.inner_wrap,r.label,n)}s.wrap.classList.add(Qp),s=null}}function gP(r,e,t){var i=t("div",{});return i.classList.add(fP),i.innerHTML=e,r.appendChild(i),i}function vP(r,e,t){var i=cs();ii[""+i]={timeOut:0,type:"Material",radius:e},Fp(r,i,t,DT),Vp(e,r,"Material",DT)}function yP(r,e,t){var i=cs();ii[""+i]={timeOut:0,type:"Material3",radius:e},Fp(r,i,t,LT),Vp(e,r,"Material3",LT)}function bP(r,e,t){var i=cs();ii[""+i]={timeOut:0,type:"Bootstrap4",radius:e},Fp(r,i,t,jT),Vp(e,r,"Bootstrap4",jT)}function OP(r,e,t){var i=cs();ii[""+i]={timeOut:0,type:"Bootstrap5",radius:e},Fp(r,i,t,zT),Vp(e,r,"Bootstrap5",zT)}function CP(r,e,t){var i={},n=0;ii[""+e].timeOut=0,i[""+e]=jP(e,t,0,0);var s={uniqueID:e,container:r,globalInfo:i,timeOutVar:n};QT(s)}function SP(r,e,t){var i=cs();ii[""+i]={timeOut:0,type:"Fabric",radius:e},_p(r,i,AT,t),$p(e,r,AT)}function MP(r,e,t){var i=cs();ii[""+i]={timeOut:0,type:"Fluent",radius:e},_p(r,i,IT,t),$p(e,r,IT)}function TP(r,e,t){var i=cs();ii[""+i]={timeOut:0,type:"Tailwind",radius:e},_p(r,i,PT,t),$p(e,r,PT)}function NP(r,e,t){var i=cs();ii[""+i]={timeOut:0,type:"HighContrast",radius:e},_p(r,i,RT,t),$p(e,r,RT)}function xP(r){var e=window.getComputedStyle(r,":after").getPropertyValue("content");return e.replace(/['"]+/g,"")}function wP(r,e,t,i){var n=e.querySelector("."+Vv),s=n.querySelector("svg");switch(u(s)||n.removeChild(s),r){case"Material":vP(n,t,i);break;case"Material3":yP(n,t,i);break;case"Fabric":SP(n,t,i);break;case"Fluent":MP(n,t,i);break;case"Bootstrap":EP(n,t,i);break;case"HighContrast":NP(n,t,i);break;case"Bootstrap4":bP(n,t,i);break;case"Bootstrap5":OP(n,t,i);break;case"Tailwind":case"Tailwind-dark":TP(n,t,i);break}}function EP(r,e,t){var i=cs();ii[""+i]={timeOut:0,type:"Bootstrap",radius:e},kP(r,i,t),DP(r,e)}function kP(r,e,t){var i=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=64,s=32,o=2;i.setAttribute("id",e),i.setAttribute("class",pP),i.setAttribute("viewBox","0 0 "+n+" "+n),r.insertBefore(i,r.firstChild);for(var a=0;a<=7;a++){var l=document.createElementNS("http://www.w3.org/2000/svg","circle");l.setAttribute("class",Up+"_"+a),l.setAttribute("r",o+""),l.setAttribute("transform","translate("+s+","+s+")"),i.appendChild(l)}}function DP(r,e){var t=r.querySelector("svg.e-spin-bootstrap"),i=0,n=0,s=24;t.style.width=t.style.height=e+"px";for(var o=90,a=0;a<=7;a++){var l=Fv(i,n,s,o),h=t.querySelector("."+Up+"_"+a);h.setAttribute("cx",l.x+""),h.setAttribute("cy",l.y+""),o=o>=360?0:o,o=o+45}}function LP(r,e){var t=[],i=r,n=e,s=!1,o=1;a(i);function a(l){t.push(l),(l!==n||o===1)&&(l<=i&&l>1&&!s?l=parseFloat((l-.2).toFixed(2)):l===1?(l=7,l=parseFloat((l+.2).toFixed(2)),s=!0):l<8&&s?(l=parseFloat((l+.2).toFixed(2)),l===8&&(s=!1)):l<=8&&!s&&(l=parseFloat((l-.2).toFixed(2))),++o,a(l))}return t}function AP(r){for(var e=r.querySelector("svg.e-spin-bootstrap"),t=e.getAttribute("id"),i=1;i<=8;i++){var n=r.getElementsByClassName("e-path-circle_"+(i===8?0:i))[0];s(n,i,i,LP(i,i),t)}function s(o,a,l,h,c){var p=0;d(a);function d(f){ii[""+c].isAnimate&&(++p,o.setAttribute("r",f+""),p>=h.length&&(p=0),ii[c].timeOut=setTimeout(d.bind(null,h[p]),18))}}}function IP(r,e,t){u(t)||r.classList.add(t);var i=r.querySelector(".e-spinner-inner");i.innerHTML=e}function PP(r,e){var t;switch(e){case"Material":t=oP;break;case"Material3":t=aP;break;case"Fabric":t=kT;break;case"Tailwind":case"Tailwind-dark":t=kT;break;case"Fluent":t=lP;break;case"Bootstrap4":t=cP;break;case"Bootstrap5":t=uP;break;default:t=hP}return r=r?parseFloat(r+""):t,e==="Bootstrap"?r:r/2}function jP(r,e,t,i){return{radius:e,count:t,previousId:i}}function cs(){for(var r="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=0;t<5;t++)r+=e.charAt(Math.floor(Math.random()*e.length));return r}function _p(r,e,t,i){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("id",e),n.setAttribute("class",t);var s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("class",Up);var o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("class",dP),r.insertBefore(n,r.firstChild),n.appendChild(s),n.appendChild(o)}function Fp(r,e,t,i){var n=document.createElementNS("http://www.w3.org/2000/svg","svg"),s=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("class",i),n.setAttribute("id",e),s.setAttribute("class",Up),r.insertBefore(n,r.firstChild),n.appendChild(s)}function zP(r,e){var t=e("div",{}),i=e("div",{});return t.classList.add(Hv),i.classList.add(Vv),i.setAttribute("aria-disabled","true"),r.appendChild(t),t.appendChild(i),{wrap:t,inner_wrap:i}}function QT(r){var e=1,t=149,i=1333,n=75;RP(e,t,UP,i,r.globalInfo[r.uniqueID].count,n,r),r.globalInfo[r.uniqueID].count=++r.globalInfo[r.uniqueID].count%4}function RP(r,e,t,i,n,s,o){var a=++o.globalInfo[o.uniqueID].previousId,l=new Date().getTime(),h=e-r,c=BP(o.globalInfo[o.uniqueID].radius*2+""),p=UT(c),d=-90*(o.globalInfo[o.uniqueID].count||0);f(o);function f(g){var v=Math.max(0,Math.min(new Date().getTime()-l,i));m(t(v,r,h,i),g.container),a===g.globalInfo[g.uniqueID].previousId&&v<i?ii[g.uniqueID].timeOut=setTimeout(f.bind(null,g),1):QT(g)}function m(g,v){if(!u(v.querySelector("svg.e-spin-material"))||!u(v.querySelector("svg.e-spin-material3"))){var O=void 0;if(!u(v.querySelector("svg.e-spin-material"))&&!u(v.querySelector("svg.e-spin-material").querySelector("path.e-path-circle"))?O=v.querySelector("svg.e-spin-material"):!u(v.querySelector("svg.e-spin-material3"))&&!u(v.querySelector("svg.e-spin-material3").querySelector("path.e-path-circle"))&&(O=v.querySelector("svg.e-spin-material3")),!u(O)){var C=O.querySelector("path.e-path-circle");C.setAttribute("stroke-dashoffset",HT(c,p,g,s)+""),C.setAttribute("transform","rotate("+d+" "+c/2+" "+c/2+")")}}}}function Vp(r,e,t,i){var n=r*2,s=e.querySelector("svg."+i),o=s.querySelector("path.e-path-circle"),a=UT(n),l=n/2+"px";s.setAttribute("viewBox","0 0 "+n+" "+n),s.style.width=s.style.height=n+"px",s.style.transformOrigin=l+" "+l+" "+l,o.setAttribute("d",QP(n,a)),(t==="Material"||t==="Material3")&&(o.setAttribute("stroke-width",a+""),o.setAttribute("stroke-dasharray",(n-a)*Math.PI*.75+""),o.setAttribute("stroke-dashoffset",HT(n,a,1,75)+""))}function BP(r){var e=parseFloat(r);return e}function QP(r,e){var t=r/2,i=e/2;return"M"+t+","+i+"A"+(t-i)+","+(t-i)+" 0 1 1 "+i+","+t}function UT(r){return 10/100*r}function HT(r,e,t,i){return(r-e)*Math.PI*(3*i/100-t/100)}function UP(r,e,t,i){var n=(r/=i)*r,s=n*r;return e+t*(6*s*n+-15*n*n+10*s)}function $p(r,e,t){var i=r,n=r,s=r*2,o=315,a=45,l=e.querySelector("."+t),h=l.querySelector(".e-path-circle"),c=l.querySelector(".e-path-arc"),p=s/2+"px";h.setAttribute("d",_P(i,n,r)),c.setAttribute("d",HP(i,n,r,o,a)),l.setAttribute("viewBox","0 0 "+s+" "+s),l.style.transformOrigin=p+" "+p+" "+p,l.style.width=l.style.height=s+"px"}function Fv(r,e,t,i){var n=(i-90)*Math.PI/180;return{x:r+t*Math.cos(n),y:e+t*Math.sin(n)}}function HP(r,e,t,i,n){var s=Fv(r,e,t,n),o=Fv(r,e,t,i),a=["M",s.x,s.y,"A",t,t,0,0,0,o.x,o.y].join(" ");return a}function _P(r,e,t){var i=["M",r,e,"m",-t,0,"a",t,t,0,1,0,t*2,0,"a",t,t,0,1,0,-t*2,0].join(" ");return i}function Yp(r){_T(r,!1),r=null}function _T(r,e){var t;if(r)if(r.classList.contains(Hv))t=r;else{var i=r.querySelectorAll("."+Hv);if(N.isIE){for(var n=0;n<i.length;n++)if(i[n].parentElement&&i[n].parentElement===r){t=i[n];break}}else t=Array.from(i).find(function(h){return h.parentElement===r})||null}if(r&&t){var s=t.querySelector("."+Vv),o=void 0;if(o=e?!t.classList.contains(_v)&&!t.classList.contains(Qp):!t.classList.contains(_v)&&!t.classList.contains(Uv),o){var a=t.querySelector("svg");if(u(a))return;var l=a.getAttribute("id");switch(ii[""+l].isAnimate=!e,ii[""+l].type){case"Material":case"Material3":e?clearTimeout(ii[l].timeOut):CP(s,l,ii[l].radius);break;case"Bootstrap":e?clearTimeout(ii[l].timeOut):AP(s);break}}e?Bt(t,[Qp],[Uv]):Bt(t,[Uv],[Qp]),r=null}}function oa(r){_T(r,!0),r=null}var GT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),qe=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},$v="e-vertical",ft="e-toolbar-items",mt="e-toolbar-item",wr="e-rtl",St="e-separator",qp="e-popup-up-icon",Cc="e-popup-down-icon",FT="e-popup-open",VT="e-template",bi="e-overlay",$T="e-toolbar-text",Yv="e-popup-text",Gn="e-overflow-show",Wp="e-overflow-hide",FP="e-tbar-btn",$i="e-hor-nav",YT="e-scroll-nav",VP="e-toolbar-right",$P="e-toolbar-left",qT="e-toolbar-center",Kn="e-tbar-pos",YP="e-hscroll-content",qP="e-vscroll-content",qv="e-hscroll-bar",WP="e-hor-nav",Sc="e-toolbar-pop",ro="e-toolbar-popup",ZP="e-tbar-btn-text",Mc="e-nav-active",Tc="e-ignore",Wv="e-popup-alone",Er="e-hidden",WT="e-toolbar-multirow",ZT="e-multirow-pos",Zv="e-multirow-separator",Xv="e-extended-separator",XT="e-extended-toolbar",Zp="e-toolbar-extended",XP="e-expended-nav",Gv="e-tbar-extended",GP=function(r){GT(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return qe([b("")],e.prototype,"id",void 0),qe([b("")],e.prototype,"text",void 0),qe([b("auto")],e.prototype,"width",void 0),qe([b("")],e.prototype,"cssClass",void 0),qe([b(!1)],e.prototype,"showAlwaysInPopup",void 0),qe([b(!1)],e.prototype,"disabled",void 0),qe([b("")],e.prototype,"prefixIcon",void 0),qe([b("")],e.prototype,"suffixIcon",void 0),qe([b(!0)],e.prototype,"visible",void 0),qe([b("None")],e.prototype,"overflow",void 0),qe([b("")],e.prototype,"template",void 0),qe([b("Button")],e.prototype,"type",void 0),qe([b("Both")],e.prototype,"showTextOn",void 0),qe([b(null)],e.prototype,"htmlAttributes",void 0),qe([b("")],e.prototype,"tooltipText",void 0),qe([b("Left")],e.prototype,"align",void 0),qe([R()],e.prototype,"click",void 0),qe([b(-1)],e.prototype,"tabIndex",void 0),e}(de);var Xp=function(r){GT(e,r);function e(t,i){var n=r.call(this,t,i)||this;return n.resizeContext=n.resize.bind(n),n.orientationChangeContext=n.orientationChange.bind(n),n.keyConfigs={moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow",popupOpen:"enter",popupClose:"escape",tab:"tab",home:"home",end:"end"},n}return e.prototype.destroy=function(){var t=this;(this.isReact||this.isAngular)&&this.clearTemplate();var i=this.element.querySelectorAll(".e-control.e-btn");for([].slice.call(i).forEach(function(n){!u(n)&&!u(n.ej2_instances)&&!u(n.ej2_instances[0])&&!n.ej2_instances[0].isDestroyed&&n.ej2_instances[0].destroy()}),this.unwireEvents(),this.tempId.forEach(function(n){u(t.element.querySelector(n))||(document.body.appendChild(t.element.querySelector(n)).style.display="none")}),this.destroyItems();this.element.lastElementChild;)this.element.removeChild(this.element.lastElementChild);this.trgtEle&&(this.element.appendChild(this.ctrlTem),this.trgtEle=null,this.ctrlTem=null),this.popObj&&(this.popObj.destroy(),w(this.popObj.element)),this.activeEle&&(this.activeEle=null),this.popObj=null,this.tbarAlign=null,this.tbarItemsCol=[],this.remove(this.element,"e-toolpop"),this.cssClass&&L([this.element],this.cssClass.split(" ")),this.element.removeAttribute("style"),["aria-disabled","aria-orientation","role"].forEach(function(n){return t.element.removeAttribute(n)}),r.prototype.destroy.call(this)},e.prototype.preRender=function(){var t={enableCollision:this.enableCollision,scrollStep:this.scrollStep};this.trigger("beforeCreate",t),this.enableCollision=t.enableCollision,this.scrollStep=t.scrollStep,this.scrollModule=null,this.popObj=null,this.tempId=[],this.tbarItemsCol=this.items,this.isVertical=!!this.element.classList.contains($v),this.isExtendedOpen=!1,this.popupPriCount=0,this.enableRtl&&this.add(this.element,wr)},e.prototype.wireEvents=function(){y.add(this.element,"click",this.clickHandler,this),window.addEventListener("resize",this.resizeContext),window.addEventListener("orientationchange",this.orientationChangeContext),this.allowKeyboard&&this.wireKeyboardEvent()},e.prototype.wireKeyboardEvent=function(){this.keyModule=new Gr(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs}),y.add(this.element,"keydown",this.docKeyDown,this),this.updateTabIndex("0")},e.prototype.updateTabIndex=function(t){var i=this.element.querySelector("."+mt+":not(."+bi+" ):not(."+St+" ):not(."+Er+" )");if(!u(i)&&!u(i.firstElementChild)){var n=i.firstElementChild.getAttribute("data-tabindex");n&&n==="-1"&&i.firstElementChild.tagName!=="INPUT"&&i.firstElementChild.setAttribute("tabindex",t)}},e.prototype.unwireKeyboardEvent=function(){this.keyModule&&(y.remove(this.element,"keydown",this.docKeyDown),this.keyModule.destroy(),this.keyModule=null)},e.prototype.docKeyDown=function(t){if(t.target.tagName!=="INPUT"){var i=!u(this.popObj)&&ai(this.popObj.element)&&this.overflowMode!=="Extended";t.keyCode===9&&t.target.classList.contains("e-hor-nav")===!0&&i&&this.popObj.hide({name:"FadeOut",duration:100});var n=t.keyCode===40||t.keyCode===38||t.keyCode===35||t.keyCode===36;n&&t.preventDefault()}},e.prototype.unwireEvents=function(){y.remove(this.element,"click",this.clickHandler),this.destroyScroll(),this.unwireKeyboardEvent(),window.removeEventListener("resize",this.resizeContext),window.removeEventListener("orientationchange",this.orientationChangeContext),y.remove(document,"scroll",this.docEvent),y.remove(document,"click",this.docEvent)},e.prototype.clearProperty=function(){this.tbarEle=[],this.tbarAlgEle={lefts:[],centers:[],rights:[]}},e.prototype.docEvent=function(t){var i=S(t.target,".e-popup");this.popObj&&ai(this.popObj.element)&&!i&&this.overflowMode==="Popup"&&this.popObj.hide({name:"FadeOut",duration:100})},e.prototype.destroyScroll=function(){this.scrollModule&&(this.tbarAlign&&this.add(this.scrollModule.element,Kn),this.scrollModule.destroy(),this.scrollModule=null)},e.prototype.destroyItems=function(){if(this.element&&[].slice.call(this.element.querySelectorAll("."+mt)).forEach(function(i){w(i)}),this.tbarAlign){var t=this.element.querySelector("."+ft);[].slice.call(t.children).forEach(function(i){w(i)}),this.tbarAlign=!1,this.remove(t,Kn)}this.clearProperty()},e.prototype.destroyMode=function(){this.scrollModule&&(this.remove(this.scrollModule.element,wr),this.destroyScroll()),this.remove(this.element,Gv),this.remove(this.element,XT);var t=this.element.querySelector(".e-toolbar-multirow");t&&this.remove(t,WT),this.popObj&&this.popupRefresh(this.popObj.element,!0)},e.prototype.add=function(t,i){t.classList.add(i)},e.prototype.remove=function(t,i){t.classList.remove(i)},e.prototype.elementFocus=function(t){var i=t.firstElementChild;i?(i.focus(),this.activeEleSwitch(t)):t.focus()},e.prototype.clstElement=function(t,i){var n;return t&&this.popObj&&ai(this.popObj.element)?n=this.popObj.element.querySelector("."+mt):this.element===i||t?n=this.element.querySelector("."+mt+":not(."+bi+" ):not(."+St+" ):not(."+Er+" )"):n=S(i,"."+mt),n},e.prototype.keyHandling=function(t,i,n,s,o){var a=this.popObj,l=this.element,h={name:"FadeOut",duration:100},c=i.action==="moveUp"?"previous":"next",p,d;switch(i.action){case"moveRight":if(this.isVertical)return;l===n?this.elementFocus(t):s||this.eleFocus(t,"next");break;case"moveLeft":if(this.isVertical)return;s||this.eleFocus(t,"previous");break;case"home":case"end":if(t){var f=S(t,".e-popup"),m=this.element.querySelector("."+Zp);this.overflowMode==="Extended"&&m&&m.classList.contains("e-popup-open")&&(f=i.action==="end"?m:null),f?ai(this.popObj.element)&&(d=[].slice.call(f.children),i.action==="home"?p=this.focusFirstVisibleEle(d):p=this.focusLastVisibleEle(d)):(d=this.element.querySelectorAll("."+ft+" ."+mt+":not(."+St+")"),i.action==="home"?p=this.focusFirstVisibleEle(d):p=this.focusLastVisibleEle(d)),p&&this.elementFocus(p)}break;case"moveUp":case"moveDown":if(this.isVertical)i.action==="moveUp"?this.eleFocus(t,"previous"):this.eleFocus(t,"next");else if(a&&S(n,".e-popup")){var g=a.element,v=g.firstElementChild;c==="previous"&&v===t?g.lastElementChild.firstChild.focus():c==="next"&&g.lastElementChild===t?v.firstChild.focus():this.eleFocus(t,c)}else i.action==="moveDown"&&a&&ai(a.element)&&this.elementFocus(t);break;case"tab":if(!o&&!s){var O=t.firstElementChild;l===n&&(this.activeEle?this.activeEle.focus():(this.activeEleRemove(O),O.focus()))}break;case"popupClose":a&&this.overflowMode!=="Extended"&&a.hide(h);break;case"popupOpen":if(!s)return;a&&!ai(a.element)?(a.element.style.top=l.offsetHeight+"px",a.show({name:"FadeIn",duration:100})):a.hide(h);break}},e.prototype.keyActionHandler=function(t){var i=t.target;if(!(i.tagName==="INPUT"||i.tagName==="TEXTAREA"||this.element.classList.contains(bi))){t.preventDefault();var n=i.classList.contains($i),s=i.classList.contains(YT),o=this.clstElement(n,i);(o||s)&&this.keyHandling(o,t,i,n,s)}},e.prototype.disable=function(t){var i=this.element;t?i.classList.add(bi):i.classList.remove(bi),this.activeEle&&this.activeEle.setAttribute("tabindex",this.activeEle.getAttribute("data-tabindex")),this.scrollModule&&this.scrollModule.disable(t),this.popObj&&(ai(this.popObj.element)&&this.overflowMode!=="Extended"&&this.popObj.hide(),i.querySelector("#"+i.id+"_nav").setAttribute("tabindex",t?"-1":"0"))},e.prototype.eleContains=function(t){return t.classList.contains(St)||t.classList.contains(bi)||t.getAttribute("disabled")||t.classList.contains(Er)||!ai(t)||!t.classList.contains(mt)},e.prototype.focusFirstVisibleEle=function(t){for(var i,n=0;n<t.length;){var s=t[parseInt(n.toString(),10)];if(!s.classList.contains(Er)&&!s.classList.contains(bi))return s;n++}return i},e.prototype.focusLastVisibleEle=function(t){for(var i,n=t.length-1;n>=0;){var s=t[parseInt(n.toString(),10)];if(!s.classList.contains(Er)&&!s.classList.contains(bi))return s;n--}return i},e.prototype.eleFocus=function(t,i){var n=Object(t)[i+"ElementSibling"];if(n){var s=this.eleContains(n);if(s){this.eleFocus(n,i);return}this.elementFocus(n)}else if(this.tbarAlign){var o=Object(t.parentElement)[i+"ElementSibling"];if(!u(o)&&o.children.length===0&&(o=Object(o)[i+"ElementSibling"]),!u(o)&&o.children.length>0)if(i==="next"){var a=o.querySelector("."+mt);this.eleContains(a)?this.eleFocus(a,i):(a.firstElementChild.focus(),this.activeEleSwitch(a))}else{var a=o.lastElementChild;this.eleContains(a)?this.eleFocus(a,i):this.elementFocus(a)}}else if(!u(t)){var l=this.element.querySelectorAll("."+ft+" ."+mt+":not(."+St+"):not(."+bi+"):not(."+Er+")");i==="next"&&l?this.elementFocus(l[0]):i==="previous"&&l&&this.elementFocus(l[l.length-1])}},e.prototype.clickHandler=function(t){var i=this,n=t.target,s=this.element,o=!u(S(n,"."+Sc)),a=n.classList,l=S(n,"."+$i);l||(l=n),!s.children[0].classList.contains("e-hscroll")&&!s.children[0].classList.contains("e-vscroll")&&a.contains($i)&&(a=n.querySelector(".e-icons").classList),(a.contains(qp)||a.contains(Cc))&&this.popupClickHandler(s,l,wr);var h,c=S(t.target,"."+mt);if(!((u(c)||c.classList.contains(bi))&&!l.classList.contains($i))){if(c){var p=this.items[this.tbarEle.indexOf(c)];h=p}var d={originalEvent:t,item:h};h&&!u(h.click)&&this.trigger("items["+this.tbarEle.indexOf(c)+"].click",d),d.cancel||this.trigger("clicked",d,function(f){!u(i.popObj)&&o&&!f.cancel&&i.overflowMode==="Popup"&&f.item&&f.item.type!=="Input"&&i.popObj.hide({name:"FadeOut",duration:100})})}},e.prototype.popupClickHandler=function(t,i,n){var s=this.popObj;ai(s.element)?(i.classList.remove(Mc),s.hide({name:"FadeOut",duration:100})):(t.classList.contains(n)&&(s.enableRtl=!0,s.position={X:"left",Y:"top"}),s.offsetX===0&&!t.classList.contains(n)&&(s.enableRtl=!1,s.position={X:"right",Y:"top"}),s.dataBind(),s.refreshPosition(),s.element.style.top=this.getElementOffsetY()+"px",this.overflowMode==="Extended"&&(s.element.style.minHeight="0px"),i.classList.add(Mc),s.show({name:"FadeIn",duration:100}))},e.prototype.render=function(){var t=this;this.initialize(),this.renderControl(),this.wireEvents(),this.renderComplete(),this.isReact&&this.portals&&this.portals.length>0&&this.renderReactTemplates(function(){t.refreshOverflow()})},e.prototype.initialize=function(){var t=W(this.width),i=W(this.height);(N.info.name!=="msie"||this.height!=="auto"||this.overflowMode==="MultiRow")&&he(this.element,{height:i}),he(this.element,{width:t});var n={role:"toolbar","aria-disabled":"false","aria-orientation":this.isVertical?"vertical":"horizontal"};pe(this.element,n),this.cssClass&&E([this.element],this.cssClass.split(" "))},e.prototype.renderControl=function(){var t=this.element;this.trgtEle=t.children.length>0?t.querySelector("div"):null,this.tbarAlgEle={lefts:[],centers:[],rights:[]},this.renderItems(),this.renderLayout()},e.prototype.renderLayout=function(){this.renderOverflowMode(),this.tbarAlign&&this.itemPositioning(),this.popObj&&this.popObj.element.childElementCount>1&&this.checkPopupRefresh(this.element,this.popObj.element)&&this.popupRefresh(this.popObj.element,!1),this.separator()},e.prototype.itemsAlign=function(t,i){var n,s;this.tbarEle||(this.tbarEle=[]);for(var o=0;o<t.length;o++)n=this.renderSubComponent(t[parseInt(o.toString(),10)],o),this.tbarEle.indexOf(n)===-1&&this.tbarEle.push(n),this.tbarAlign||this.tbarItemAlign(t[parseInt(o.toString(),10)],i,o),s=i.querySelector(".e-toolbar-"+t[parseInt(o.toString(),10)].align.toLowerCase()),s?(t[parseInt(o.toString(),10)].showAlwaysInPopup&&t[parseInt(o.toString(),10)].overflow!=="Show"||this.tbarAlgEle[(t[parseInt(o.toString(),10)].align+"s").toLowerCase()].push(n),s.appendChild(n)):i.appendChild(n);if(this.isReact){var a="portals";this.notify("render-react-toolbar-template",this[""+a]),this.renderReactTemplates()}},e.prototype.changeOrientation=function(){var t=this.element;this.isVertical?(t.classList.remove($v),this.isVertical=!1,(this.height==="auto"||this.height==="100%")&&(t.style.height=this.height),t.setAttribute("aria-orientation","horizontal")):(t.classList.add($v),this.isVertical=!0,t.setAttribute("aria-orientation","vertical"),he(this.element,{height:W(this.height),width:W(this.width)})),this.destroyMode(),this.refreshOverflow()},e.prototype.initScroll=function(t,i){if(!this.scrollModule&&this.checkOverflow(t,i[0])){this.tbarAlign&&this.element.querySelector("."+ft+" ."+qT).removeAttribute("style"),this.isVertical?this.scrollModule=new EM({scrollStep:this.scrollStep,enableRtl:this.enableRtl},i[0]):this.scrollModule=new CM({scrollStep:this.scrollStep,enableRtl:this.enableRtl},i[0]),this.cssClass&&E([i[0]],this.cssClass.split(" "));var n=this.scrollModule.element.querySelector("."+qv+", .e-vscroll-bar");n&&n.removeAttribute("tabindex"),this.remove(this.scrollModule.element,Kn),he(this.element,{overflow:"hidden"})}},e.prototype.itemWidthCal=function(t){var i=this,n=0,s;return[].slice.call(ge("."+mt,t)).forEach(function(o){ai(o)&&(s=window.getComputedStyle(o),n+=i.isVertical?o.offsetHeight:o.offsetWidth,n+=parseFloat(i.isVertical?s.marginTop:s.marginRight),n+=parseFloat(i.isVertical?s.marginBottom:s.marginLeft))}),n},e.prototype.getScrollCntEle=function(t){var i=this.isVertical?".e-vscroll-content":".e-hscroll-content";return t.querySelector(i)},e.prototype.checkOverflow=function(t,i){if(u(t)||u(i)||!ai(t))return!1;var n=this.isVertical?t.offsetHeight:t.offsetWidth,s=this.isVertical?i.offsetHeight:i.offsetWidth;(this.tbarAlign||this.scrollModule||n===s)&&(s=this.itemWidthCal(this.scrollModule?this.getScrollCntEle(i):i));var o=t.querySelector("."+$i),a=t.querySelector("."+YT),l=0;return o?l=this.isVertical?o.offsetHeight:o.offsetWidth:a&&(l=this.isVertical?a.offsetHeight*2:a.offsetWidth*2),s>n-l},e.prototype.refreshOverflow=function(){this.resize()},e.prototype.toolbarAlign=function(t){this.tbarAlign&&(this.add(t,Kn),this.itemPositioning())},e.prototype.renderOverflowMode=function(){var t=this.element,i=t.querySelector("."+ft),n=this.popupPriCount>0;if(t&&t.children.length>0)switch(this.offsetWid=t.offsetWidth,this.remove(this.element,"e-toolpop"),N.info.name==="msie"&&this.height==="auto"&&(t.style.height=""),this.overflowMode){case"Scrollable":u(this.scrollModule)&&this.initScroll(t,[].slice.call(t.getElementsByClassName(ft)));break;case"Popup":this.add(this.element,"e-toolpop"),this.tbarAlign&&this.removePositioning(),(this.checkOverflow(t,i)||n)&&this.setOverflowAttributes(t),this.toolbarAlign(i);break;case"MultiRow":this.add(i,WT),this.checkOverflow(t,i)&&this.tbarAlign&&(this.removePositioning(),this.add(i,ZT)),t.style.overflow==="hidden"&&(t.style.overflow=""),(N.info.name==="msie"||t.style.height!=="auto")&&(t.style.height="auto");break;case"Extended":this.add(this.element,XT),(this.checkOverflow(t,i)||n)&&(this.tbarAlign&&this.removePositioning(),this.setOverflowAttributes(t)),this.toolbarAlign(i)}},e.prototype.setOverflowAttributes=function(t){this.createPopupEle(t,[].slice.call(ge("."+ft+" ."+mt,t)));var i={tabindex:"0",role:"button","aria-haspopup":"true","aria-label":"overflow"};pe(this.element.querySelector("."+$i),i)},e.prototype.separator=function(){var t=this.element,i=[].slice.call(t.querySelectorAll("."+St)),n=t.querySelector("."+Zv),s=t.querySelector("."+Xv),o=this.overflowMode==="MultiRow"?n:s;o!==null&&(this.overflowMode==="MultiRow"?o.classList.remove(Zv):this.overflowMode==="Extended"&&o.classList.remove(Xv));for(var a=0;a<=i.length-1;a++)i[parseInt(a.toString(),10)].offsetLeft<30&&i[parseInt(a.toString(),10)].offsetLeft!==0&&(this.overflowMode==="MultiRow"?i[parseInt(a.toString(),10)].classList.add(Zv):this.overflowMode==="Extended"&&i[parseInt(a.toString(),10)].classList.add(Xv))},e.prototype.createPopupEle=function(t,i){var n=t.querySelector("."+$i),s=this.isVertical;n||this.createPopupIcon(t),n=t.querySelector("."+$i);var o=s?n.offsetHeight:n.offsetWidth,a=(s?t.offsetHeight:t.offsetWidth)-o;this.element.classList.remove("e-rtl"),he(this.element,{direction:"initial"}),this.checkPriority(t,i,a,!0),this.enableRtl&&this.element.classList.add("e-rtl"),this.element.style.removeProperty("direction"),this.createPopup()},e.prototype.pushingPoppedEle=function(t,i,n,s,o){var a=t.element,l=[].slice.call(ge("."+ro,a.querySelector("."+ft))),h=ge("."+Gn,n),c=0,p=0;l.forEach(function(g,v){h=ge("."+Gn,n),g.classList.contains(Gn)&&h.length>0?t.tbResize&&h.length>v?(n.insertBefore(g,h[parseInt(v.toString(),10)]),++p):(n.insertBefore(g,n.children[h.length]),++p):g.classList.contains(Gn)||t.tbResize&&g.classList.contains(Wp)&&n.children.length>0&&h.length===0?(n.insertBefore(g,n.firstChild),++p):g.classList.contains(Wp)?i.push(g):t.tbResize?(n.insertBefore(g,n.childNodes[c+p]),++c):n.appendChild(g),g.classList.contains(St)?he(g,{display:"",height:o+"px"}):he(g,{display:"",height:s+"px"})}),i.forEach(function(g){n.appendChild(g)});for(var d=ge("."+mt,a.querySelector("."+ft)),f=d.length-1;f>=0;f--){var m=d[parseInt(f.toString(),10)];if(m.classList.contains(St)&&this.overflowMode!=="Extended")he(m,{display:"none"});else break}},e.prototype.createPopup=function(){var t=this.element,i,n;this.overflowMode==="Extended"&&(n=t.querySelector("."+St),i=t.style.height==="auto"||t.style.height===""?null:n&&n.offsetHeight);var s=t.querySelector("."+mt+":not(."+St+"):not(."+ro+")"),o=t.style.height==="auto"||t.style.height===""?null:s&&s.offsetHeight,a,l=[];if($("#"+t.id+"_popup."+Sc,t))a=$("#"+t.id+"_popup."+Sc,t);else{var h=this.createElement("div",{id:t.id+"_popup",className:Sc+" "+Zp}),c=this.createElement("div",{id:t.id+"_popup",className:Sc});a=this.overflowMode==="Extended"?h:c}this.pushingPoppedEle(this,l,a,o,i),this.popupInit(t,a)},e.prototype.getElementOffsetY=function(){return this.overflowMode==="Extended"&&window.getComputedStyle(this.element).getPropertyValue("box-sizing")==="border-box"?this.element.clientHeight:this.element.offsetHeight},e.prototype.popupInit=function(t,i){if(this.popObj){if(this.overflowMode!=="Extended"){var a=this.popObj.element;he(a,{maxHeight:"",display:"block"}),he(a,{maxHeight:a.offsetHeight+"px",display:""})}}else{t.appendChild(i),this.cssClass&&E([i],this.cssClass.split(" ")),he(this.element,{overflow:""});var n=window.getComputedStyle(this.element),s=new _t(null,{relateTo:this.element,offsetY:this.isVertical?0:this.getElementOffsetY(),enableRtl:this.enableRtl,open:this.popupOpen.bind(this),close:this.popupClose.bind(this),collision:{Y:this.enableCollision?"flip":"none"},position:this.enableRtl?{X:"left",Y:"top"}:{X:"right",Y:"top"}});if(this.overflowMode==="Extended"&&(s.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)*2,s.offsetX=0),s.appendTo(i),y.add(document,"scroll",this.docEvent.bind(this)),y.add(document,"click ",this.docEvent.bind(this)),this.overflowMode!=="Extended"&&(s.element.style.maxHeight=s.element.offsetHeight+"px"),this.isVertical&&(s.element.style.visibility="hidden"),this.isExtendedOpen){var o=this.element.querySelector("."+$i);o.classList.add(Mc),Bt(o.firstElementChild,[qp],[Cc]),this.element.querySelector("."+Zp).classList.add(FT)}else s.hide();this.popObj=s}},e.prototype.tbarPopupHandler=function(t){this.overflowMode==="Extended"&&(t?this.add(this.element,Gv):this.remove(this.element,Gv))},e.prototype.popupOpen=function(t){var i=this.popObj;this.isVertical||(i.offsetY=this.getElementOffsetY(),i.dataBind());var n=this.popObj.element,s=this.popObj.element.parentElement,o=s.querySelector("."+$i);o.setAttribute("aria-expanded","true"),this.overflowMode==="Extended"?i.element.style.minHeight="":(he(i.element,{height:"auto",maxHeight:""}),i.element.style.maxHeight=i.element.offsetHeight+"px");var a=n.offsetTop+n.offsetHeight+Gt(s).top,l=o.firstElementChild;o.classList.add(Mc),Bt(l,[qp],[Cc]),this.tbarPopupHandler(!0);var h=u(window.scrollY)?0:window.scrollY;if(!this.isVertical&&window.innerHeight+h<a&&this.element.offsetTop<n.offsetHeight){var c=n.offsetHeight-(a-window.innerHeight-h+5);i.height=c+"px";for(var p=0;p<=n.childElementCount;p++){var d=n.children[parseInt(p.toString(),10)];if(d.offsetTop+d.offsetHeight>c){c=d.offsetTop;break}}this.overflowMode!=="Extended"&&he(i.element,{maxHeight:c+"px"})}else if(this.isVertical&&this.overflowMode!=="Extended"){var f=this.element.getBoundingClientRect();he(i.element,{maxHeight:f.top+this.element.offsetHeight+"px",bottom:0,visibility:""})}if(i){var m=n.getBoundingClientRect();m.right>document.documentElement.clientWidth&&m.width>s.getBoundingClientRect().width&&(i.collision={Y:"none"},i.dataBind()),i.refreshPosition()}},e.prototype.popupClose=function(t){var i=this.element,n=i.querySelector("."+$i);n.setAttribute("aria-expanded","false");var s=n.firstElementChild;n.classList.remove(Mc),Bt(s,[Cc],[qp]),this.tbarPopupHandler(!1)},e.prototype.checkPriority=function(t,i,n,s){for(var o=this.popupPriCount>0,a=i.length,l=n,h,c,p=0,d=0,f=0,m=function(A,j){var U=!1;return j.forEach(function(q){A.classList.contains(q)&&(U=!0)}),U},g=a-1;g>=0;g--){var v=void 0,O=window.getComputedStyle(i[parseInt(g.toString(),10)]);this.isVertical?(v=parseFloat(O.marginTop),v+=parseFloat(O.marginBottom)):(v=parseFloat(O.marginRight),v+=parseFloat(O.marginLeft));var C=i[parseInt(g.toString(),10)]===this.tbarEle[0];C&&(this.tbarEleMrgn=v),h=this.isVertical?i[parseInt(g.toString(),10)].offsetHeight:i[parseInt(g.toString(),10)].offsetWidth;var x=C?h+v:h;if(m(i[parseInt(g.toString(),10)],[Wv])&&o&&(i[parseInt(g.toString(),10)].classList.add(ro),this.isVertical?he(i[parseInt(g.toString(),10)],{display:"none",minHeight:x+"px"}):he(i[parseInt(g.toString(),10)],{display:"none",minWidth:x+"px"}),f++),this.isVertical?c=i[parseInt(g.toString(),10)].offsetTop+i[parseInt(g.toString(),10)].offsetHeight+v>n:c=i[parseInt(g.toString(),10)].offsetLeft+i[parseInt(g.toString(),10)].offsetWidth+v>n,c){if(i[parseInt(g.toString(),10)].classList.contains(St)){if(this.overflowMode==="Extended"){var M=i[parseInt(g.toString(),10)];m(M,[St,Tc])&&(i[parseInt(g.toString(),10)].classList.add(ro),f++),d++}else if(this.overflowMode==="Popup"){if(p>0&&d===f){var M=i[g+d+(p-1)];m(M,[St,Tc])&&he(M,{display:"none"})}p++,d=0,f=0}}else d++;i[parseInt(g.toString(),10)].classList.contains(Gn)&&s?n-=(this.isVertical?i[parseInt(g.toString(),10)].offsetHeight:i[parseInt(g.toString(),10)].offsetWidth)+v:m(i[parseInt(g.toString(),10)],[St,Tc])?n-=(this.isVertical?i[parseInt(g.toString(),10)].offsetHeight:i[parseInt(g.toString(),10)].offsetWidth)+v:(i[parseInt(g.toString(),10)].classList.add(ro),this.isVertical?he(i[parseInt(g.toString(),10)],{display:"none",minHeight:x+"px"}):he(i[parseInt(g.toString(),10)],{display:"none",minWidth:x+"px"}),f++)}}if(s){var k=ge("."+mt+":not(."+ro+")",this.element);this.checkPriority(t,k,l,!1)}},e.prototype.createPopupIcon=function(t){var i=t.id.concat("_nav"),n="e-"+t.id.concat("_nav "+WP);n=this.overflowMode==="Extended"?n+" "+XP:n;var s=this.createElement("div",{id:i,className:n});(N.info.name==="msie"||N.info.name==="edge")&&s.classList.add("e-ie-align");var o=this.createElement("div",{className:Cc+" e-icons"});s.appendChild(o),s.setAttribute("tabindex","0"),s.setAttribute("role","button"),t.appendChild(s)},e.prototype.tbarPriRef=function(t,i,n,s,o,a,l,h,c){var p=h,d=this.popObj.element,f="."+mt+":not(."+St+"):not(."+Gn+")",m=ge("."+ro+":not(."+Gn+")",d).length,g=function(M,k){return M.classList.contains(k)};if(ge(f,t).length===0){var v=t.children[i-(i-n)-1],O=!u(v)&&g(v,Tc);if(!u(v)&&g(v,St)&&!ai(v)||O){v.style.display="unset";var C=v.offsetWidth+parseFloat(window.getComputedStyle(v).marginRight)*2,x=v.previousElementSibling;a+C<l||o?(t.insertBefore(s,t.children[i+p-(i-n)]),u(x)||(x.style.display="")):(he(s,c),x.classList.contains(St)&&(x.style.display="none")),v.style.display=""}else t.insertBefore(s,t.children[i+p-(i-n)])}else t.insertBefore(s,t.children[i+p-m])},e.prototype.popupRefresh=function(t,i){var n=this,s=this.element,o=this.isVertical,a=s.querySelector("."+ft),l=s.querySelector("."+$i);if(!u(l)){a.removeAttribute("style"),t.style.display="block";var h;o?h=s.offsetHeight-(l.offsetHeight+a.offsetHeight):h=s.offsetWidth-(l.offsetWidth+a.offsetWidth);var c=0;[].slice.call(t.children).forEach(function(p){c+=n.popupEleWidth(p),he(p,{position:""})}),h+(o?l.offsetHeight:l.offsetWidth)>c&&this.popupPriCount===0&&(i=!0),this.popupEleRefresh(h,t,i),t.style.display="",t.children.length===0&&l&&this.popObj&&(w(l),l=null,this.popObj.destroy(),w(this.popObj.element),this.popObj=null)}},e.prototype.ignoreEleFetch=function(t,i){var n=[].slice.call(i.querySelectorAll("."+Tc)),s=[],o=0;if(n.length>0)n.forEach(function(a){s.push([].slice.call(i.children).indexOf(a))});else return 0;return s.forEach(function(a){a<=t&&o++}),o},e.prototype.checkPopupRefresh=function(t,i){i.style.display="block";var n=this.popupEleWidth(i.firstElementChild);i.firstElementChild.style.removeProperty("Position");var s=t.offsetWidth-t.querySelector("."+$i).offsetWidth,o=t.querySelector("."+ft).offsetWidth;return i.style.removeProperty("display"),s>n+o},e.prototype.popupEleWidth=function(t){t.style.position="absolute";var i=this.isVertical?t.offsetHeight:t.offsetWidth,n=t.querySelector("."+ZP);if(t.classList.contains("e-tbtn-align")||t.classList.contains(Yv)){var s=t.children[0];!u(n)&&t.classList.contains(Yv)?n.style.display="none":!u(n)&&t.classList.contains($T)&&(n.style.display="block"),s.style.minWidth="0%",i=parseFloat(this.isVertical?t.style.minHeight:t.style.minWidth),s.style.minWidth="",s.style.minHeight="",u(n)||(n.style.display="")}return i},e.prototype.popupEleRefresh=function(t,i,n){for(var s=this.popupPriCount>0,o=this.tbarEle,a,l,h=this.element.querySelector("."+ft),c=0,p=function(C){if(C.classList.contains(Wv)&&s&&!n)return"continue";var x=d.popupEleWidth(C);if(C===d.tbarEle[0]&&(x+=d.tbarEleMrgn),C.style.position="",x<t||n){var M={minWidth:C.style.minWidth,height:C.style.height,minHeight:C.style.minHeight};if(he(C,{minWidth:"",height:"",minHeight:""}),C.classList.contains(Wp)||C.classList.remove(ro),l=d.tbarEle.indexOf(C),d.tbarAlign){var k=d.items[parseInt(l.toString(),10)].align;l=d.tbarAlgEle[(k+"s").toLowerCase()].indexOf(C),o=d.tbarAlgEle[(k+"s").toLowerCase()],h=d.element.querySelector("."+ft+" .e-toolbar-"+k.toLowerCase())}var A=0;d.overflowMode!=="Extended"&&o.slice(0,l).forEach(function(j){(j.classList.contains(Gn)||j.classList.contains(St))&&(j.classList.contains(St)&&(j.style.display="",t-=j.offsetWidth),A++)}),c=d.ignoreEleFetch(l,h),C.classList.contains(Gn)?(d.tbarPriRef(h,l,A,C,n,x,t,c,M),t-=C.offsetWidth):l===0?(h.insertBefore(C,h.firstChild),t-=C.offsetWidth):(a=ge("."+Gn,d.popObj.element).length,h.insertBefore(C,h.children[l+c-a]),t-=C.offsetWidth),C.style.height=""}else return"break"},d=this,f=0,m=[].slice.call(i.children);f<m.length;f++){var g=m[f],v=p(g);if(v==="break")break}var O=this.checkOverflow(this.element,this.element.getElementsByClassName(ft)[0]);O&&!n&&this.renderOverflowMode()},e.prototype.removePositioning=function(){var t=this.element.querySelector("."+ft);if(!(u(t)||!t.classList.contains(Kn))){this.remove(t,Kn);var i=[].slice.call(t.childNodes);i[1].removeAttribute("style"),i[2].removeAttribute("style")}},e.prototype.refreshPositioning=function(){var t=this.element.querySelector("."+ft);this.add(t,Kn),this.itemPositioning()},e.prototype.itemPositioning=function(){var t=this.element.querySelector("."+ft),i;if(!(u(t)||!t.classList.contains(Kn))){var n=this.element.querySelector("."+$i),s;if(this.scrollModule){var o=this.isVertical?qP:YP;s=[].slice.call(t.querySelector("."+o).children)}else s=[].slice.call(t.childNodes);this.isVertical?i=s[0].offsetHeight+s[2].offsetHeight:i=s[0].offsetWidth+s[2].offsetWidth;var a=this.isVertical?this.element.offsetHeight:this.element.offsetWidth;if(n){a-=this.isVertical?n.offsetHeight:n.offsetWidth;var l=(this.isVertical?n.offsetHeight:n.offsetWidth)+"px";s[2].removeAttribute("style"),this.isVertical?this.enableRtl?s[2].style.top=l:s[2].style.bottom=l:this.enableRtl?s[2].style.left=l:s[2].style.right=l}if(!(a<=i)){var h=(a-i-(this.isVertical?s[1].offsetHeight:s[1].offsetWidth))/2;s[1].removeAttribute("style");var c=(this.isVertical?s[0].offsetHeight:s[0].offsetWidth)+h+"px";this.isVertical?this.enableRtl?s[1].style.marginBottom=c:s[1].style.marginTop=c:this.enableRtl?s[1].style.marginRight=c:s[1].style.marginLeft=c}}},e.prototype.tbarItemAlign=function(t,i,n){var s=this;if(!(t.showAlwaysInPopup&&t.overflow!=="Show")){var o=[];if(o.push(this.createElement("div",{className:$P})),o.push(this.createElement("div",{className:qT})),o.push(this.createElement("div",{className:VP})),n===0&&t.align!=="Left")o.forEach(function(h){i.appendChild(h)}),this.tbarAlign=!0,this.add(i,Kn);else if(t.align!=="Left"){var a=i.childNodes,l=o[0];[].slice.call(a).forEach(function(h){s.tbarAlgEle.lefts.push(h),l.appendChild(h)}),i.appendChild(l),i.appendChild(o[1]),i.appendChild(o[2]),this.tbarAlign=!0,this.add(i,Kn)}}},e.prototype.ctrlTemplate=function(){var t=this;this.ctrlTem=this.trgtEle.cloneNode(!0),this.add(this.trgtEle,ft),this.tbarEle=[];var i=[].slice.call(this.trgtEle.children);i.forEach(function(n){n.tagName==="DIV"&&(t.tbarEle.push(n),u(n.firstElementChild)||n.firstElementChild.setAttribute("aria-disabled","false"),t.add(n,mt))})},e.prototype.renderItems=function(){var t=this.element,i=this.items;if(this.trgtEle!=null)this.ctrlTemplate();else if(t&&i.length>0){var n=void 0;t&&t.children.length>0&&(n=t.querySelector("."+ft)),n||(n=this.createElement("div",{className:ft})),this.itemsAlign(i,n),t.appendChild(n)}},e.prototype.setAttr=function(t,i){for(var n=Object.keys(t),s,o=0;o<n.length;o++)s=n[parseInt(o.toString(),10)],s==="class"?this.add(i,t[""+s]):i.setAttribute(s,t[""+s])},e.prototype.enableItems=function(t,i){var n=t,s=n.length,o;u(i)&&(i=!0);var a=function(p,d){p?(d.classList.remove(bi),u(d.firstElementChild)||d.firstElementChild.setAttribute("aria-disabled","false")):(d.classList.add(bi),u(d.firstElementChild)||d.firstElementChild.setAttribute("aria-disabled","true"))};if(!u(s)&&s>=1){for(var l=0,h=[].slice.call(n);l<s;l++){var c=h[parseInt(l.toString(),10)];if(typeof c=="number"){if(o=this.getElementByIndex(c),u(o))return;n[parseInt(l.toString(),10)]=o}else o=c;a(i,o)}i?L(n,bi):E(n,bi)}else{if(typeof n=="number"){if(o=this.getElementByIndex(n),u(o))return}else o=t;a(i,o)}},e.prototype.getElementByIndex=function(t){return this.tbarEle[parseInt(t.toString(),10)]?this.tbarEle[parseInt(t.toString(),10)]:null},e.prototype.addItems=function(t,i){var n;this.extendedOpen();var s=this.element.querySelector("."+ft);if(u(s)){this.itemsRerender(t);return}var o,a="Left";u(i)&&(i=0),t.forEach(function(f){!u(f.align)&&f.align!=="Left"&&a==="Left"&&(a=f.align)});for(var l=0,h=t;l<h.length;l++){var c=h[l];if(u(c.type)&&(c.type="Button"),n=ge("."+mt,this.element),c.align=a,o=this.renderSubComponent(c,i),this.tbarEle.length>=i&&n.length>=0){u(this.scrollModule)&&this.destroyMode();var p=c.align[0]==="L"?0:c.align[0]==="C"?1:2,d=void 0;!this.tbarAlign&&a!=="Left"?(this.tbarItemAlign(c,s,1),this.tbarAlign=!0,d=S(n[0],"."+ft).children[parseInt(p.toString(),10)],d.appendChild(o),this.tbarAlgEle[(c.align+"s").toLowerCase()].push(o),this.refreshPositioning()):this.tbarAlign?(d=S(n[0],"."+ft).children[parseInt(p.toString(),10)],d.insertBefore(o,d.children[parseInt(i.toString(),10)]),this.tbarAlgEle[(c.align+"s").toLowerCase()].splice(i,0,o),this.refreshPositioning()):n.length===0?(n=ge("."+ft,this.element),n[0].appendChild(o)):n[0].parentNode.insertBefore(o,n[parseInt(i.toString(),10)]),this.items.splice(i,0,c),c.template&&this.tbarEle.splice(this.tbarEle.length-1,1),this.tbarEle.splice(i,0,o),i++,this.offsetWid=s.offsetWidth}}s.style.width="",this.renderOverflowMode(),this.isReact&&this.renderReactTemplates()},e.prototype.removeItems=function(t){var i=t,n,s=[].slice.call(ge("."+mt,this.element));if(typeof i=="number")n=parseInt(t.toString(),10),this.removeItemByIndex(n,s);else if(i&&i.length>1)for(var o=0,a=[].slice.call(i);o<a.length;o++){var l=a[o];n=this.tbarEle.indexOf(l),this.removeItemByIndex(n,s),s=ge("."+mt,this.element)}else{var l=i&&i.length&&i.length===1?i[0]:t;n=s.indexOf(l),this.removeItemByIndex(n,s)}this.resize()},e.prototype.removeItemByIndex=function(t,i){if(this.tbarEle[parseInt(t.toString(),10)]&&i[parseInt(t.toString(),10)]){var n=this.tbarEle.indexOf(i[parseInt(t.toString(),10)]);if(this.tbarAlign){var s=this.tbarAlgEle[(this.items[parseInt(n.toString(),10)].align+"s").toLowerCase()].indexOf(this.tbarEle[parseInt(n.toString(),10)]);this.tbarAlgEle[(this.items[parseInt(n.toString(),10)].align+"s").toLowerCase()].splice(parseInt(s.toString(),10),1)}this.isReact&&this.clearToolbarTemplate(i[parseInt(t.toString(),10)]);var o=i[parseInt(t.toString(),10)].querySelector(".e-control.e-btn");!u(o)&&!u(o.ej2_instances[0])&&!o.ej2_instances[0].isDestroyed&&o.ej2_instances[0].destroy(),w(i[parseInt(t.toString(),10)]),this.items.splice(n,1),this.tbarEle.splice(n,1)}},e.prototype.templateRender=function(t,i,n,s){var o=n.type,a=t,l;if(typeof t=="object"&&(l=typeof a.appendTo=="function"),typeof t=="string"||!l){var h=void 0,c=t,p=new RegExp(/<(?=.*? .*?\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\/\1>/i);c=typeof t=="string"?t.trim():t;try{if(typeof t=="object"&&!u(t.tagName))i.appendChild(t);else if(typeof t=="string"&&p.test(c))i.innerHTML=c;else if(document.querySelectorAll(c).length){var d=document.querySelector(c),f=d.outerHTML.trim();i.appendChild(d),d.style.display="",u(f)||this.tempId.push(c)}else h=Ui(c)}catch{h=Ui(c)}var m=void 0;if(!u(h)){var g=this.element.id+s+"_template";m=h({},this,"template",g,this.isStringTemplate,void 0,void 0,this.root)}!u(m)&&m.length>0&&[].slice.call(m).forEach(function(O){u(O.tagName)||(O.style.display=""),i.appendChild(O)})}else if(o==="Input"){var d=this.createElement("input");n.id?d.id=n.id:d.id=Fe("tbr-ipt"),i.appendChild(d),a.appendTo(d)}this.add(i,VT);var v=i.firstElementChild;u(v)||(v.setAttribute("tabindex",u(v.getAttribute("tabIndex"))?"-1":this.getDataTabindex(v)),v.setAttribute("data-tabindex",u(v.getAttribute("tabIndex"))?"-1":this.getDataTabindex(v))),this.tbarEle.push(i)},e.prototype.buttonRendering=function(t,i){var n=this.createElement("button",{className:FP});n.setAttribute("type","button");var s=t.text,o,a;t.id?n.id=t.id:n.id=Fe("e-tbr-btn");var l=this.createElement("span",{className:"e-tbar-btn-text"});s?(l.innerHTML=this.enableHtmlSanitizer?pt.sanitize(s):s,n.appendChild(l),n.classList.add("e-tbtn-txt")):this.add(i,"e-tbtn-align"),(t.prefixIcon||t.suffixIcon)&&(t.prefixIcon&&t.suffixIcon||t.prefixIcon?(o=t.prefixIcon+" e-icons",a="Left"):(o=t.suffixIcon+" e-icons",a="Right"));var h=new Ei({iconCss:o,iconPosition:a});return h.createElement=this.createElement,h.appendTo(n),t.width&&he(n,{width:W(t.width)}),n},e.prototype.renderSubComponent=function(t,i){var n,s=this.createElement("div",{className:mt}),o=this.createElement("div",{innerHTML:this.enableHtmlSanitizer&&!u(t.tooltipText)?pt.sanitize(t.tooltipText):t.tooltipText});if(this.tbarEle||(this.tbarEle=[]),t.htmlAttributes&&this.setAttr(t.htmlAttributes,s),t.tooltipText&&s.setAttribute("title",o.textContent),t.cssClass&&(s.className=s.className+" "+t.cssClass),t.template)this.templateRender(t.template,s,t,i);else switch(t.type){case"Button":n=this.buttonRendering(t,s),n.setAttribute("tabindex",u(t.tabIndex)?"-1":t.tabIndex.toString()),n.setAttribute("data-tabindex",u(t.tabIndex)?"-1":t.tabIndex.toString()),n.setAttribute("aria-label",t.text||t.tooltipText),n.setAttribute("aria-disabled","false"),s.appendChild(n),s.addEventListener("click",this.itemClick.bind(this));break;case"Separator":this.add(s,St);break}if(t.showTextOn){var a=t.showTextOn;a==="Toolbar"?(this.add(s,$T),this.add(s,"e-tbtn-align")):a==="Overflow"&&this.add(s,Yv)}if(t.overflow){var l=t.overflow;l==="Show"?this.add(s,Gn):l==="Hide"&&(s.classList.contains(St)||this.add(s,Wp))}return t.overflow!=="Show"&&t.showAlwaysInPopup&&!s.classList.contains(St)&&(this.add(s,Wv),this.popupPriCount++),t.disabled&&this.add(s,bi),t.visible===!1&&this.add(s,Er),s},e.prototype.getDataTabindex=function(t){return u(t.getAttribute("data-tabindex"))?"-1":t.getAttribute("data-tabindex")},e.prototype.itemClick=function(t){this.activeEleSwitch(t.currentTarget)},e.prototype.activeEleSwitch=function(t){this.activeEleRemove(t.firstElementChild),this.activeEle.focus()},e.prototype.activeEleRemove=function(t){var i=this.element.querySelector("."+mt+":not(."+bi+" ):not(."+St+" ):not(."+Er+" )");if(u(this.activeEle)||(this.activeEle.setAttribute("tabindex",this.getDataTabindex(this.activeEle)),i&&i.removeAttribute("tabindex"),i=this.activeEle),this.activeEle=t,this.getDataTabindex(this.activeEle)==="-1")if(u(this.trgtEle)&&!t.parentElement.classList.contains(VT))!u(this.element.querySelector(".e-hor-nav"))&&this.element.querySelector(".e-hor-nav").classList.contains("e-nav-active")?(this.updateTabIndex("0"),this.getDataTabindex(i)==="-1"?i.setAttribute("tabindex","0"):i.setAttribute("tabindex",this.getDataTabindex(i))):this.updateTabIndex("-1"),t.removeAttribute("tabindex");else{var n=parseInt(this.getDataTabindex(this.activeEle))+1;this.activeEle.setAttribute("tabindex",n.toString())}},e.prototype.getPersistData=function(){return this.addOnPersist([])},e.prototype.getModuleName=function(){return"toolbar"},e.prototype.itemsRerender=function(t){this.items=this.tbarItemsCol,(this.isReact||this.isAngular)&&this.clearTemplate(),this.destroyMode(),this.destroyItems(),this.items=t,this.tbarItemsCol=this.items,this.renderItems(),this.renderOverflowMode(),this.isReact&&this.renderReactTemplates()},e.prototype.resize=function(){var t=this.element;this.tbResize=!0,this.tbarAlign&&this.itemPositioning(),this.popObj&&this.overflowMode==="Popup"&&this.popObj.hide();var i=this.checkOverflow(t,t.getElementsByClassName(ft)[0]);if(!i){this.destroyScroll();var n=t.querySelector("."+ft);u(n)||(this.remove(n,ZT),this.tbarAlign&&this.add(n,Kn))}if(!(i&&this.scrollModule&&this.offsetWid===t.offsetWidth)){if((this.offsetWid>t.offsetWidth||i)&&this.renderOverflowMode(),this.popObj){if(this.overflowMode==="Extended"){var s=window.getComputedStyle(this.element);this.popObj.width=parseFloat(s.width)+parseFloat(s.borderRightWidth)*2}this.tbarAlign&&this.removePositioning(),this.popupRefresh(this.popObj.element,!1),this.tbarAlign&&this.refreshPositioning()}this.element.querySelector("."+qv)&&(this.scrollStep=this.element.querySelector("."+qv).offsetWidth),this.offsetWid=t.offsetWidth,this.tbResize=!1,this.separator()}},e.prototype.orientationChange=function(){var t=this;setTimeout(function(){t.resize()},500)},e.prototype.extendedOpen=function(){var t=this.element.querySelector("."+Zp);this.overflowMode==="Extended"&&t&&(this.isExtendedOpen=t.classList.contains(FT))},e.prototype.updateHideEleTabIndex=function(t,i,n,s,o){n&&(s=o.indexOf(t));for(var a=o[++s];a;){var l=this.eleContains(a);if(!l){var h=a.firstElementChild.getAttribute("data-tabindex");i&&h==="-1"?a.firstElementChild.setAttribute("tabindex","0"):h!==a.firstElementChild.getAttribute("tabindex")&&a.firstElementChild.setAttribute("tabindex",h);break}a=o[++s]}},e.prototype.clearToolbarTemplate=function(t){if(this.registeredTemplate&&this.registeredTemplate.template)for(var i=this.registeredTemplate,n=0;n<i.template.length;n++){var s=i.template[parseInt(n.toString(),10)].rootNodes[0],o=S(s,"."+mt);if(!u(o)&&o===t){this.clearTemplate(["template"],[i.template[parseInt(n.toString(),10)]]);break}}else if(this.portals&&this.portals.length>0)for(var a=this.portals,n=0;n<a.length;n++){var l=a[parseInt(n.toString(),10)],o=S(l.containerInfo,"."+mt);if(!u(o)&&o===t){this.clearTemplate(["template"],n);break}}},e.prototype.onPropertyChanged=function(t,i){var n=this.element,s=n.offsetWidth;this.extendedOpen();for(var o=0,a=Object.keys(t);o<a.length;o++){var l=a[o];switch(l){case"items":if(t.items instanceof Array&&i.items instanceof Array)this.itemsRerender(t.items);else for(var h=Object.keys(t.items),c=0;c<h.length;c++){var p=parseInt(Object.keys(t.items)[parseInt(c.toString(),10)],10),d=Object.keys(t.items[parseInt(p.toString(),10)])[0],f=Object(t.items[parseInt(p.toString(),10)])[""+d];if(this.tbarAlign||d==="align"){this.refresh(),this.trigger("created");break}var m=d==="showAlwaysInPopup"&&!f,g=d==="overflow"&&this.popupPriCount!==0;(m||this.items[parseInt(p.toString(),10)].showAlwaysInPopup&&g)&&--this.popupPriCount,u(this.scrollModule)&&this.destroyMode();var v=[].slice.call(ge("."+ft+" ."+mt,n));this.isReact&&this.items[parseInt(p.toString(),10)].template&&this.clearToolbarTemplate(v[parseInt(p.toString(),10)]),w(v[parseInt(p.toString(),10)]),this.tbarEle.splice(p,1),this.addItems([this.items[parseInt(p.toString(),10)]],p),this.items.splice(p,1),this.items[parseInt(p.toString(),10)].template&&this.tbarEle.splice(this.items.length,1)}break;case"width":he(n,{width:W(t.width)}),this.refreshOverflow();break;case"height":he(this.element,{height:W(t.height)});break;case"overflowMode":this.destroyMode(),this.renderOverflowMode(),this.enableRtl&&this.add(n,wr),this.refreshOverflow();break;case"enableRtl":t.enableRtl?this.add(n,wr):this.remove(n,wr),u(this.scrollModule)||(t.enableRtl?this.add(this.scrollModule.element,wr):this.remove(this.scrollModule.element,wr)),u(this.popObj)||(t.enableRtl?this.add(this.popObj.element,wr):this.remove(this.popObj.element,wr)),this.tbarAlign&&this.itemPositioning();break;case"scrollStep":this.scrollModule&&(this.scrollModule.scrollStep=this.scrollStep);break;case"enableCollision":this.popObj&&(this.popObj.collision={Y:this.enableCollision?"flip":"none"});break;case"cssClass":i.cssClass&&L([this.element],i.cssClass.split(" ")),t.cssClass&&E([this.element],t.cssClass.split(" "));break;case"allowKeyboard":this.unwireKeyboardEvent(),t.allowKeyboard&&this.wireKeyboardEvent();break}}},e.prototype.hideItem=function(t,i){var n=typeof t=="object",s=t,o;if(!(!n&&u(s))){var a=[].slice.call(ge("."+mt,this.element));if(n)o=t;else if(this.tbarEle[parseInt(s.toString(),10)]){var l=[].slice.call(ge("."+mt,this.element));o=l[parseInt(s.toString(),10)]}o&&(i?(o.classList.add(Er),o.classList.contains(St)||(u(o.firstElementChild.getAttribute("tabindex"))||o.firstElementChild.getAttribute("tabindex")!=="-1")&&this.updateHideEleTabIndex(o,i,n,s,a)):(o.classList.remove(Er),o.classList.contains(St)||this.updateHideEleTabIndex(o,i,n,s,a)),this.refreshOverflow())}},qe([bn([],GP)],e.prototype,"items",void 0),qe([b("auto")],e.prototype,"width",void 0),qe([b("auto")],e.prototype,"height",void 0),qe([b("")],e.prototype,"cssClass",void 0),qe([b("Scrollable")],e.prototype,"overflowMode",void 0),qe([b()],e.prototype,"scrollStep",void 0),qe([b(!0)],e.prototype,"enableCollision",void 0),qe([b(!0)],e.prototype,"enableHtmlSanitizer",void 0),qe([b(!0)],e.prototype,"allowKeyboard",void 0),qe([R()],e.prototype,"clicked",void 0),qe([R()],e.prototype,"created",void 0),qe([R()],e.prototype,"destroyed",void 0),qe([R()],e.prototype,"beforeCreate",void 0),e=qe([Ee],e),e}(Ve);var ce={RTL:"e-rtl",DISABLE:"e-disabled",INPUT:"e-input",TEXTAREA:"e-multi-line-input",INPUTGROUP:"e-input-group",FLOATINPUT:"e-float-input",FLOATLINE:"e-float-line",FLOATTEXT:"e-float-text",FLOATTEXTCONTENT:"e-float-text-content",CLEARICON:"e-clear-icon",CLEARICONHIDE:"e-clear-icon-hide",LABELTOP:"e-label-top",LABELBOTTOM:"e-label-bottom",NOFLOATLABEL:"e-no-float-label",INPUTCUSTOMTAG:"e-input-custom-tag",FLOATCUSTOMTAG:"e-float-custom-tag"},Gp=["title","style","class"],Kv="e-input-focus",Se;(function(r){var e={container:null,buttons:[],clearButton:null},t,i=!0;function n(T,I){T.element.__eventHandlers={};var _=u(I)?B:I,X={container:null,buttons:[],clearButton:null};if(t=T.floatLabelType,i=T.bindClearAction,u(T.floatLabelType)||T.floatLabelType==="Never"?(X.container=P(T,ce.INPUTGROUP,ce.INPUTCUSTOMTAG,"span",_),T.element.parentNode.insertBefore(X.container,T.element),E([T.element],ce.INPUT),X.container.appendChild(T.element)):O(T,X,_),l(T),!u(T.properties)&&!u(T.properties.showClearButton)&&T.properties.showClearButton&&(Gi(T.properties.showClearButton,T.element,X,!0,_),X.clearButton.setAttribute("role","button"),X.container.classList.contains(ce.FLOATINPUT)&&E([X.container],ce.INPUTGROUP)),!u(T.buttons))for(var J=0;J<T.buttons.length;J++)X.buttons.push(Bm(T.buttons[J],X.container,_));return!u(T.element)&&T.element.tagName==="TEXTAREA"&&E([X.container],ce.TEXTAREA),K0(X.container,T.element),X=M(T,X),zm(X.container,_),e=X,X}r.createInput=n;function s(T){var I=j(T.element);(I.classList.contains("e-input-group")||I.classList.contains("e-outline")||I.classList.contains("e-filled"))&&I.classList.add("e-input-focus"),T.floatLabelType==="Auto"&&setTimeout(function(){r.calculateWidth(T.element,I)},80)}function o(T){var I=j(T.element);(I.classList.contains("e-input-group")||I.classList.contains("e-outline")||I.classList.contains("e-filled"))&&I.classList.remove("e-input-focus"),T.floatLabelType==="Auto"&&T.element.value===""&&setTimeout(function(){r.calculateWidth(T.element,I)},80)}function a(T){c(T.floatLabelType,T.element)}function l(T){c(T.floatLabelType,T.element);var I=function(){return s(T)},_=function(){return o(T)},X=function(){return a(T)};T.element.addEventListener("focus",I),T.element.addEventListener("blur",_),T.element.addEventListener("input",X),T.element.__eventHandlers.inputFocusHandler={focusHandler:I},T.element.__eventHandlers.inputBlurHandler={blurHandler:_},T.element.__eventHandlers.inputHandler={inputHandler:X}}r.bindInitialEvent=l;function h(T){if(!u(T.element)&&!u(T.element.__eventHandlers)&&!u(T.element.__eventHandlers.inputFocusHandler)&&!u(T.element.__eventHandlers.inputBlurHandler)&&!u(T.element.__eventHandlers.inputHandler)){var I=T.element.__eventHandlers.inputFocusHandler.focusHandler,_=T.element.__eventHandlers.inputBlurHandler.blurHandler,X=T.element.__eventHandlers.inputHandler.inputHandler;T.element.removeEventListener("focus",I),T.element.removeEventListener("blur",_),T.element.removeEventListener("input",X),delete T.element.__eventHandlers.inputFocusHandler,delete T.element.__eventHandlers.inputBlurHandler,delete T.element.__eventHandlers.inputHandler}}function c(T,I){var _=I.value,X=I.parentElement,J=X.parentElement;_!==""&&!u(_)?X&&X.classList.contains("e-input-group")?X.classList.add("e-valid-input"):J&&J.classList.contains("e-input-group")&&J.classList.add("e-valid-input"):T!=="Always"&&(X&&X.classList.contains("e-input-group")?X.classList.remove("e-valid-input"):J&&J.classList.contains("e-input-group")&&J.classList.remove("e-valid-input"))}function p(){var T=j(this).getElementsByClassName("e-float-text")[0];u(T)||(E([T],ce.LABELTOP),T.classList.contains(ce.LABELBOTTOM)&&L([T],ce.LABELBOTTOM))}function d(){var T=j(this);if(T.getElementsByTagName("textarea")[0]?T.getElementsByTagName("textarea")[0].value==="":T.getElementsByTagName("input")[0].value===""){var I=T.getElementsByClassName("e-float-text")[0];u(I)||(I.classList.contains(ce.LABELTOP)&&L([I],ce.LABELTOP),E([I],ce.LABELBOTTOM))}}function f(T){T.addEventListener("focus",p),T.addEventListener("blur",d)}r.wireFloatingEvents=f;function m(T){u(T)||(T.removeEventListener("focus",p),T.removeEventListener("blur",d))}function g(T){Y(T.element,T.floatLabelType)}function v(T){Y(T.element,T.floatLabelType)}function O(T,I,_){var X=u(_)?B:_;T.floatLabelType==="Auto"&&f(T.element),u(I.container)?(I.container=P(T,ce.FLOATINPUT,ce.FLOATCUSTOMTAG,"div",X),I.container.classList.add(ce.INPUTGROUP),T.element.parentNode&&T.element.parentNode.insertBefore(I.container,T.element)):(u(T.customTag)||I.container.classList.add(ce.FLOATCUSTOMTAG),I.container.classList.add(ce.FLOATINPUT));var J=X("span",{className:ce.FLOATLINE}),re=X("label",{className:ce.FLOATTEXT});if(!u(T.element.id)&&T.element.id!==""&&(re.id="label_"+T.element.id.replace(/ /g,"_"),pe(T.element,{"aria-labelledby":re.id})),!u(T.element.placeholder)&&T.element.placeholder!==""&&(re.innerText=V(T.element.placeholder),T.element.removeAttribute("placeholder")),!u(T.properties)&&!u(T.properties.placeholder)&&T.properties.placeholder!==""&&(re.innerText=V(T.properties.placeholder)),re.innerText||I.container.classList.add(ce.NOFLOATLABEL),I.container.classList.contains("e-float-icon-left")){var ze=I.container.querySelector(".e-input-in-wrap");ze.appendChild(T.element),ze.appendChild(J),ze.appendChild(re)}else I.container.appendChild(T.element),I.container.appendChild(J),I.container.appendChild(re);if(A(T.element.value,re),T.floatLabelType==="Always"&&(re.classList.contains(ce.LABELBOTTOM)&&L([re],ce.LABELBOTTOM),E([re],ce.LABELTOP)),T.floatLabelType==="Auto"){var vi=function(){return g(T)},Wt=function(){return v(T)};T.element.addEventListener("input",vi),T.element.addEventListener("blur",Wt),T.element.__eventHandlers.floatInputHandler={inputFloatHandler:vi},T.element.__eventHandlers.floatBlurHandler={blurFloatHandler:Wt}}else C(T);u(T.element.getAttribute("id"))||re.setAttribute("for",T.element.getAttribute("id"))}function C(T){if(!u(T.element)&&!u(T.element.__eventHandlers)&&!u(T.element.__eventHandlers.floatInputHandler)&&!u(T.element.__eventHandlers.floatBlurHandler)){var I=T.element.__eventHandlers.floatInputHandler.inputFloatHandler,_=T.element.__eventHandlers.floatBlurHandler.blurFloatHandler;T.element.removeEventListener("input",I),T.element.removeEventListener("blur",_),delete T.element.__eventHandlers.floatInputHandler,delete T.element.__eventHandlers.floatBlurHandler}}function x(T,I){T==="Always"&&I.classList.contains("e-outline")&&I.classList.add("e-valid-input")}function M(T,I){if(!u(T.properties))for(var _=0,X=Object.keys(T.properties);_<X.length;_++){var J=X[_];switch(J){case"cssClass":te(T.properties.cssClass,[I.container]),x(T.floatLabelType,I.container);break;case"enabled":oi(T.properties.enabled,T.element,T.floatLabelType,I.container);break;case"enableRtl":kt(T.properties.enableRtl,[I.container]);break;case"placeholder":Le(T.properties.placeholder,T.element);break;case"readonly":rt(T.properties.readonly,T.element);break}}return I}function k(T,I,_){u(I)||(T&&!_?L([I],ce.CLEARICONHIDE):E([I],ce.CLEARICONHIDE))}function A(T,I,_){if(_===void 0&&(_=null),T)E([I],ce.LABELTOP),I.classList.contains(ce.LABELBOTTOM)&&L([I],ce.LABELBOTTOM);else{var X=_!=null?_!==document.activeElement:!0;X&&(I.classList.contains(ce.LABELTOP)&&L([I],ce.LABELTOP),E([I],ce.LABELBOTTOM))}}function j(T){var I=u(T.parentNode)?T:T.parentNode;return I&&I.classList.contains("e-input-in-wrap")&&(I=I.parentNode),I}function U(T,I,_,X){var J=u(X)?B:X,re=J("span",{className:ce.CLEARICON}),ze=I.container;if(!u(_))ze.appendChild(re);else{var vi=I.container.classList.contains(ce.FLOATINPUT)?I.container.querySelector("."+ce.FLOATTEXT):T;vi.insertAdjacentElement("afterend",re)}return E([re],ce.CLEARICONHIDE),se(T,re,ze),re.setAttribute("aria-label","close"),re}function q(T,I,_){I.classList.contains(ce.DISABLE)||I.readOnly||(T.preventDefault(),I!==document.activeElement&&I.focus(),I.value="",E([_],ce.CLEARICONHIDE))}function K(T,I){k(T.value,I)}function oe(T,I){k(T.value,I,T.readOnly)}function ie(T,I){setTimeout(function(){u(I)||(E([I],ce.CLEARICONHIDE),I=!u(T)&&T.classList.contains("e-combobox")?null:I)},200)}function se(T,I,_){if(i===void 0||i){var X=function(vi){return q(vi,T,I)};I.addEventListener("click",X),T.__eventHandlers.clearClickHandler={clickHandlerEvent:X}}var J=function(){return K(T,I)},re=function(){return oe(T,I)},ze=function(){return ie(T,I)};T.addEventListener("input",J),T.addEventListener("focus",re),T.addEventListener("blur",ze),T.__eventHandlers.clearInputHandler={inputHandlerEvent:J},T.__eventHandlers.clearFocusHandler={focusHandlerEvent:re},T.__eventHandlers.clearBlurHandler={blurHandlerEvent:ze}}r.wireClearBtnEvents=se;function H(T,I){if(!u(T)&&!u(T.__eventHandlers)){if(!u(T.__eventHandlers.clearClickHandler)){var _=T.__eventHandlers.clearClickHandler.clickHandlerEvent;(i===void 0||i)&&(u(I)||I.removeEventListener("click",_)),delete T.__eventHandlers.clearClickHandler}if(!u(T.__eventHandlers.clearInputHandler)&&!u(T.__eventHandlers.clearFocusHandler)&&!u(T.__eventHandlers.clearBlurHandler)){var X=T.__eventHandlers.clearInputHandler.inputHandlerEvent,J=T.__eventHandlers.clearFocusHandler.focusHandlerEvent,re=T.__eventHandlers.clearBlurHandler.blurHandlerEvent;T.removeEventListener("input",X),T.removeEventListener("focus",J),T.removeEventListener("blur",re),delete T.__eventHandlers.clearInputHandler,delete T.__eventHandlers.clearFocusHandler,delete T.__eventHandlers.clearBlurHandler}}}function z(T,I){I===void 0&&(I=null),h(T),T.floatLabelType==="Auto"&&C(T),T.properties.showClearButton&&H(T.element,I),m(T.element),u(T.element)||delete T.element.__eventHandlers,e=null}r.destroy=z;function Y(T,I){var _=j(T);if(_.classList.contains(ce.FLOATINPUT)&&I==="Auto"){var X=j(T).getElementsByClassName("e-float-text")[0];A(T.value,X,T)}}function P(T,I,_,X,J){var re=u(J)?B:J,ze;return u(T.customTag)?ze=re(X,{className:I}):(ze=re(T.customTag,{className:I}),ze.classList.add(_)),ze.classList.add("e-control-wrapper"),ze}function V(T){var I="";if(!u(T)&&T!==""){var _=document.createElement("span");_.innerHTML='<input  placeholder="'+T+'"/>';var X=_.children[0];I=X.placeholder}return I}function G(T,I,_,X){if(I.value=T,_==="Auto"&&T===""&&xe(I,I.parentElement),!u(_)&&_==="Auto"&&Y(I,_),!u(X)&&X){var J=j(I);if(!u(J)){var re=J.getElementsByClassName(ce.CLEARICON)[0];u(re)||(I.value&&!u(J)&&J.classList.contains("e-input-focus")?L([re],ce.CLEARICONHIDE):E([re],ce.CLEARICONHIDE))}}c(_,I)}r.setValue=G;function te(T,I,_){!u(_)&&_!==""&&L(I,_.split(" ")),!u(T)&&T!==""&&E(I,T.split(" "))}r.setCssClass=te;function xe(T,I,_){var X=_==="multiselect"?T:T.clientWidth-parseInt(getComputedStyle(T,null).getPropertyValue("padding-left"),10);u(I.getElementsByClassName("e-float-text-content")[0])||(I.getElementsByClassName("e-float-text-content")[0].classList.contains("e-float-text-overflow")&&I.getElementsByClassName("e-float-text-content")[0].classList.remove("e-float-text-overflow"),(X<I.getElementsByClassName("e-float-text-content")[0].clientWidth||X===I.getElementsByClassName("e-float-text-content")[0].clientWidth)&&I.getElementsByClassName("e-float-text-content")[0].classList.add("e-float-text-overflow"))}r.calculateWidth=xe;function Me(T,I){typeof T=="number"?I.style.width=W(T):typeof T=="string"&&(I.style.width=T.match(/px|%|em/)?T:W(T)),xe(I.firstChild,I)}r.setWidth=Me;function Le(T,I){T=V(T);var _=j(I);_.classList.contains(ce.FLOATINPUT)?!u(T)&&T!==""?(_.getElementsByClassName("e-float-text-content")[0]?_.getElementsByClassName(ce.FLOATTEXT)[0].children[0].textContent=T:_.getElementsByClassName(ce.FLOATTEXT)[0].textContent=T,_.classList.remove(ce.NOFLOATLABEL),I.removeAttribute("placeholder")):(_.classList.add(ce.NOFLOATLABEL),_.getElementsByClassName("e-float-text-content")[0]?_.getElementsByClassName(ce.FLOATTEXT)[0].children[0].textContent="":_.getElementsByClassName(ce.FLOATTEXT)[0].textContent=""):!u(T)&&T!==""?pe(I,{placeholder:T}):I.removeAttribute("placeholder")}r.setPlaceholder=Le;function rt(T,I,_){T?pe(I,{readonly:""}):I.removeAttribute("readonly"),u(_)||Y(I,_)}r.setReadonly=rt;function kt(T,I){T?E(I,ce.RTL):L(I,ce.RTL)}r.setEnableRtl=kt;function oi(T,I,_,X){var J={disabled:"","aria-disabled":"true"},re=!u(X);T?(I.classList.remove(ce.DISABLE),Bi(J,I),re&&L([X],ce.DISABLE)):(I.classList.add(ce.DISABLE),ct(J,I),re&&E([X],ce.DISABLE)),u(_)||Y(I,_)}r.setEnabled=oi;function Gi(T,I,_,X,J){var re=u(J)?B:J;T?_.clearButton=U(I,_,X,re):(Rt(_.clearButton),_.clearButton=null)}r.setClearButton=Gi;function Bi(T,I){for(var _=0,X=Object.keys(T);_<X.length;_++){var J=X[_],re=j(I);J==="disabled"&&I.classList.remove(ce.DISABLE),J==="disabled"&&re.classList.contains(ce.INPUTGROUP)&&re.classList.remove(ce.DISABLE),J==="placeholder"&&re.classList.contains(ce.FLOATINPUT)?re.getElementsByClassName(ce.FLOATTEXT)[0].textContent="":I.removeAttribute(J)}}r.removeAttributes=Bi;function ct(T,I){for(var _=0,X=Object.keys(T);_<X.length;_++){var J=X[_],re=j(I);J==="disabled"&&I.classList.add(ce.DISABLE),J==="disabled"&&re.classList.contains(ce.INPUTGROUP)&&re.classList.add(ce.DISABLE),J==="placeholder"&&re.classList.contains(ce.FLOATINPUT)?re.getElementsByClassName(ce.FLOATTEXT)[0].textContent=T[""+J]:I.setAttribute(J,T[""+J])}}r.addAttributes=ct;function Yr(T){var I=T.container;if(!u(I)&&I.classList.contains(ce.FLOATINPUT)){var _=I.querySelector("textarea")?I.querySelector("textarea"):I.querySelector("input"),X=I.querySelector("."+ce.FLOATTEXT).textContent,J=I.querySelector(".e-clear-icon")!==null;w(I.querySelector("."+ce.FLOATLINE)),w(I.querySelector("."+ce.FLOATTEXT)),Bt(I,[ce.INPUTGROUP],[ce.FLOATINPUT]),m(_),pe(_,{placeholder:X}),_.classList.add(ce.INPUT),!J&&_.tagName==="INPUT"&&_.removeAttribute("required")}}r.removeFloating=Yr;function Qu(T,I,_,X){var J=u(X)?B:X,re=S(T,"."+ce.INPUTGROUP);t=I;var ze=re.tagName;ze=ze!=="DIV"&&ze!=="SPAN"?ze:null;var vi={element:T,floatLabelType:I,customTag:ze,properties:{placeholder:_}};if(I!=="Never"){var Wt=re.querySelector(".e-clear-icon"),cr={container:re};T.classList.remove(ce.INPUT),O(vi,cr,J),zm(cr.container,J),xe(vi.element,cr.container);var ur=re.classList.contains("e-float-icon-left");if(u(Wt))if(ur){var WA=re.querySelector(".e-input-in-wrap");Wt=WA.querySelector(".e-input-group-icon")}else Wt=re.querySelector(".e-input-group-icon");if(u(Wt))ur&&(Wt=re.querySelector(".e-input-group-icon"));else{var ZA=re.querySelector("."+ce.FLOATLINE),XA=re.querySelector("."+ce.FLOATTEXT),Um=ur?re.querySelector(".e-input-in-wrap"):re;Um.insertBefore(T,Wt),Um.insertBefore(ZA,Wt),Um.insertBefore(XA,Wt)}}else C(vi);x(I,T.parentElement)}r.addFloating=Qu;function zm(T,I){if(T.classList.contains("e-outline")&&T.getElementsByClassName("e-float-text")[0]){var _=I("span",{className:ce.FLOATTEXTCONTENT});_.innerHTML=T.getElementsByClassName("e-float-text")[0].innerHTML,T.getElementsByClassName("e-float-text")[0].innerHTML="",T.getElementsByClassName("e-float-text")[0].appendChild(_)}}r.createSpanElement=zm;function HA(T,I){for(var _=0;_<I.length;_++)Rm(T,I[parseInt(_.toString())].container)}r.setRipple=HA;function Rm(T,I,_){var X=[];X.push(_);var J=u(_)?I.querySelectorAll(".e-input-group-icon"):X;if(T&&J.length>0)for(var re=0;re<J.length;re++)J[parseInt(re.toString())].addEventListener("mousedown",W0,!1),J[parseInt(re.toString())].addEventListener("mouseup",Z0,!1);else if(J.length>0)for(var re=0;re<J.length;re++)J[parseInt(re.toString())].removeEventListener("mousedown",W0,this),J[parseInt(re.toString())].removeEventListener("mouseup",Z0,this)}function _A(T,I){!T.classList.contains("e-disabled")&&!T.querySelector("input").readOnly&&I.classList.add("e-input-btn-ripple")}function W0(){for(var T=this,I=this.parentElement;!I.classList.contains("e-input-group");)I=I.parentElement;_A(I,T)}function Z0(){var T=this;setTimeout(function(){T.classList.remove("e-input-btn-ripple")},500)}function X0(T,I){var _=I("span",{className:T});return _.classList.add("e-input-group-icon"),_}function FA(T,I,_,X,J){var re=typeof I=="string"?I.split(","):I;if(T.toLowerCase()==="append")for(var ze=0,vi=re;ze<vi.length;ze++){var Wt=vi[ze];Bm(Wt,_,J)}else for(var cr=0,ur=re;cr<ur.length;cr++){var Wt=ur[cr];G0(Wt,_,X,J)}_.getElementsByClassName("e-input-group-icon")[0]&&_.getElementsByClassName("e-float-text-overflow")[0]&&_.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon")}r.addIcon=FA;function G0(T,I,_,X){var J=u(X)?B:X,re=X0(T,J);I.classList.add("e-float-icon-left");var ze=I.querySelector(".e-input-in-wrap");if(u(ze)){ze=J("span",{className:"e-input-in-wrap"}),_.parentNode.insertBefore(ze,_);var vi=I.querySelectorAll(_.tagName+" ~ *");ze.appendChild(_);for(var Wt=0;Wt<vi.length;Wt++){var cr=vi[parseInt(Wt.toString())],ur=ze.parentElement;(!cr.classList.contains("e-float-line")||!(ur&&ur.classList.contains("e-filled"))&&ur)&&ze.appendChild(cr)}}return ze.parentNode.insertBefore(re,ze),Rm(!0,I,re),re}r.prependSpan=G0;function Bm(T,I,_){var X=u(_)?B:_,J=X0(T,X),re=I.classList.contains("e-float-icon-left")?I.querySelector(".e-input-in-wrap"):I;return re.appendChild(J),Rm(!0,I,J),J}r.appendSpan=Bm;function K0(T,I){I.type==="hidden"?T.classList.add("e-hidden"):T.classList.contains("e-hidden")&&T.classList.remove("e-hidden")}r.validateInputType=K0;function VA(T,I){if(!u(T))for(var _=0,X=Object.keys(T);_<X.length;_++){var J=X[_];Gp.indexOf(J)<0&&I.setAttribute(J,T[""+J])}}r.updateHTMLAttributesToElement=VA;function $A(T,I,_){te(Qm(T),[_],Qm(I))}r.updateCssClass=$A;function Qm(T){var I=T;return!u(T)&&T!==""&&(I=T.replace(/\s+/g," ").trim()),I}r.getInputValidClassList=Qm;function YA(T,I){if(!u(T))for(var _=0,X=Object.keys(T);_<X.length;_++){var J=X[_];if(Gp.indexOf(J)>-1)if(J==="class"){var re=this.getInputValidClassList(T[""+J]);re!==""&&E([I],re.split(" "))}else if(J==="style"){var ze=I.getAttribute(J);ze=u(ze)?T[""+J]:ze+T[""+J],I.setAttribute(J,ze)}else I.setAttribute(J,T[""+J])}}r.updateHTMLAttributesToWrapper=YA;function qA(T){return!T||/^\s*$/.test(T)}r.isBlank=qA})(Se||(Se={}));var KP=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ot=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},JP="e-control-wrapper e-numeric",Jv="e-input-group-icon",ey="e-spin-up",ej="e-spin-down",ty="e-error",ml="increment",Nc="decrement",tj=new RegExp("^(-)?(\\d*)$"),ij=".",nj="e-numerictextbox",rj="e-control",KT="e-input-focus",sj="e-numeric-hidden",JT=["title","style","class"],eN=0,Jn=function(r){KP(e,r);function e(t,i){var n=r.call(this,t,i)||this;return n.isVue=!1,n.preventChange=!1,n.isAngular=!1,n.isDynamicChange=!1,n.numericOptions=t,n}return e.prototype.preRender=function(){this.isPrevFocused=!1,this.decimalSeparator=".",this.intRegExp=new RegExp("/^(-)?(d*)$/"),this.isCalled=!1;var t=F("ej2_instances",this.element);if(this.cloneElement=this.element.cloneNode(!0),L([this.cloneElement],[rj,nj,"e-lib"]),this.angularTagName=null,this.formEle=S(this.element,"form"),this.element.tagName==="EJS-NUMERICTEXTBOX"){this.angularTagName=this.element.tagName;var i=this.createElement("input"),n=0;for(n;n<this.element.attributes.length;n++){var s=this.element.attributes[n].nodeName;s!=="id"&&s!=="class"?(i.setAttribute(this.element.attributes[n].nodeName,this.element.attributes[n].nodeValue),i.innerHTML=this.element.innerHTML):s==="class"&&i.setAttribute(s,this.element.className.split(" ").filter(function(a){return a.indexOf("ng-")!==0}).join(" "))}this.element.hasAttribute("name")&&this.element.removeAttribute("name"),this.element.classList.remove("e-control","e-numerictextbox"),this.element.appendChild(i),this.element=i,Pe("ej2_instances",t,this.element)}pe(this.element,{role:"spinbutton",tabindex:"0",autocomplete:"off"});var o={incrementTitle:"Increment value",decrementTitle:"Decrement value",placeholder:this.placeholder};this.l10n=new Qi("numerictextbox",o,this.locale),this.l10n.getConstant("placeholder")!==""&&this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.element.hasAttribute("id")||this.element.setAttribute("id",Fe("numerictextbox")),this.isValidState=!0,this.inputStyle=null,this.inputName=null,this.cultureInfo={},this.initCultureInfo(),this.initCultureFunc(),this.prevValue=this.value,this.updateHTMLAttrToElement(),this.checkAttributes(!1),this.formEle&&(this.inputEleValue=this.value),this.validateMinMax(),this.validateStep(),this.placeholder===null&&this.updatePlaceholder()},e.prototype.render=function(){this.element.tagName.toLowerCase()==="input"&&(this.createWrapper(),this.showSpinButton&&this.spinBtnCreation(),this.setElementWidth(this.width),this.container.classList.contains("e-input-group")||this.container.classList.add("e-input-group"),this.changeValue(this.value===null||isNaN(this.value)?null:this.strictMode?this.trimValue(this.value):this.value),this.wireEvents(),this.value!==null&&!isNaN(this.value)&&this.decimals&&this.setProperties({value:this.roundNumber(this.value,this.decimals)},!0),(this.element.getAttribute("value")||this.value)&&(this.element.setAttribute("value",this.element.value),this.hiddenInput.setAttribute("value",this.hiddenInput.value)),this.elementPrevValue=this.element.value,this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false"),!u(S(this.element,"fieldset"))&&S(this.element,"fieldset").disabled&&(this.enabled=!1),this.renderComplete())},e.prototype.checkAttributes=function(t){for(var i=t?u(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["value","min","max","step","disabled","readonly","style","name","placeholder"],n=0,s=i;n<s.length;n++){var o=s[n];if(!u(this.element.getAttribute(o)))switch(o){case"disabled":if(u(this.numericOptions)||this.numericOptions.enabled===void 0||t){var a=!(this.element.getAttribute(o)==="disabled"||this.element.getAttribute(o)===""||this.element.getAttribute(o)==="true");this.setProperties({enabled:a},!t)}break;case"readonly":if(u(this.numericOptions)||this.numericOptions.readonly===void 0||t){var l=this.element.getAttribute(o)==="readonly"||this.element.getAttribute(o)===""||this.element.getAttribute(o)==="true";this.setProperties({readonly:l},!t)}break;case"placeholder":(u(this.numericOptions)||this.numericOptions.placeholder===void 0||t)&&this.setProperties({placeholder:this.element.placeholder},!t);break;case"value":if(u(this.numericOptions)||this.numericOptions.value===void 0||t){var h=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(o));this.setProperties(Pe(o,h,{}),!t)}break;case"min":if(u(this.numericOptions)||this.numericOptions.min===void 0||t){var c=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(o));c!==null&&!isNaN(c)&&this.setProperties(Pe(o,c,{}),!t)}break;case"max":if(u(this.numericOptions)||this.numericOptions.max===void 0||t){var p=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(o));p!==null&&!isNaN(p)&&this.setProperties(Pe(o,p,{}),!t)}break;case"step":if(u(this.numericOptions)||this.numericOptions.step===void 0||t){var d=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(o));d!==null&&!isNaN(d)&&this.setProperties(Pe(o,d,{}),!t)}break;case"style":this.inputStyle=this.element.getAttribute(o);break;case"name":this.inputName=this.element.getAttribute(o);break;default:{var f=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(o));(f!==null&&!isNaN(f)||o==="value")&&this.setProperties(Pe(o,f,{}),!0)}break}}},e.prototype.updatePlaceholder=function(){this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0)},e.prototype.initCultureFunc=function(){this.instance=new jo(this.locale)},e.prototype.initCultureInfo=function(){this.cultureInfo.format=this.format,F("currency",this)!==null&&(Pe("currency",this.currency,this.cultureInfo),this.setProperties({currencyCode:this.currency},!0))},e.prototype.createWrapper=function(){var t=this.cssClass;!u(this.cssClass)&&this.cssClass!==""&&(t=this.getNumericValidClassList(this.cssClass));var i=Se.createInput({element:this.element,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:t,enableRtl:this.enableRtl,showClearButton:this.showClearButton,enabled:this.enabled}},this.createElement);this.inputWrapper=i,this.container=i.container,this.container.setAttribute("class",JP+" "+this.container.getAttribute("class")),this.updateHTMLAttrToWrapper(),this.readonly&&pe(this.element,{"aria-readonly":"true"}),this.hiddenInput=this.createElement("input",{attrs:{type:"text",validateHidden:"true","aria-label":"hidden",class:sj}}),this.inputName=this.inputName!==null?this.inputName:this.element.id,this.element.removeAttribute("name"),this.isAngular&&this.angularTagName==="EJS-NUMERICTEXTBOX"&&this.cloneElement.id.length>0?pe(this.hiddenInput,{name:this.cloneElement.id}):pe(this.hiddenInput,{name:this.inputName}),this.container.insertBefore(this.hiddenInput,this.container.childNodes[1]),this.updateDataAttribute(!1),this.inputStyle!==null&&pe(this.container,{style:this.inputStyle})},e.prototype.updateDataAttribute=function(t){var i={};if(t)i=this.htmlAttributes;else for(var n=0;n<this.element.attributes.length;n++)i[this.element.attributes[n].name]=this.element.getAttribute(this.element.attributes[n].name);for(var s=0,o=Object.keys(i);s<o.length;s++){var a=o[s];a.indexOf("data")===0&&this.hiddenInput.setAttribute(a,i[""+a])}},e.prototype.updateHTMLAttrToElement=function(){if(!u(this.htmlAttributes))for(var t=0,i=Object.keys(this.htmlAttributes);t<i.length;t++){var n=i[t];JT.indexOf(n)<0&&this.element.setAttribute(n,this.htmlAttributes[""+n])}},e.prototype.updateCssClass=function(t,i){Se.setCssClass(this.getNumericValidClassList(t),[this.container],this.getNumericValidClassList(i))},e.prototype.getNumericValidClassList=function(t){var i=t;return!u(t)&&t!==""&&(i=t.replace(/\s+/g," ").trim()),i},e.prototype.updateHTMLAttrToWrapper=function(){if(!u(this.htmlAttributes))for(var t=0,i=Object.keys(this.htmlAttributes);t<i.length;t++){var n=i[t];if(JT.indexOf(n)>-1)if(n==="class"){var s=this.getNumericValidClassList(this.htmlAttributes[""+n]);s!==""&&E([this.container],s.split(" "))}else if(n==="style"){var o=this.container.getAttribute(n);o=u(o)?this.htmlAttributes[""+n]:o+this.htmlAttributes[""+n],this.container.setAttribute(n,o)}else this.container.setAttribute(n,this.htmlAttributes[""+n])}},e.prototype.setElementWidth=function(t){u(t)||(typeof t=="number"?this.container.style.width=W(t):typeof t=="string"&&(this.container.style.width=t.match(/px|%|em/)?t:W(t)))},e.prototype.spinBtnCreation=function(){this.spinDown=Se.appendSpan(Jv+" "+ej,this.container,this.createElement),pe(this.spinDown,{title:this.l10n.getConstant("decrementTitle")}),this.spinUp=Se.appendSpan(Jv+" "+ey,this.container,this.createElement),pe(this.spinUp,{title:this.l10n.getConstant("incrementTitle")}),this.wireSpinBtnEvents()},e.prototype.validateMinMax=function(){typeof this.min=="number"&&!isNaN(this.min)||this.setProperties({min:-Number.MAX_VALUE},!0),typeof this.max=="number"&&!isNaN(this.max)||this.setProperties({max:Number.MAX_VALUE},!0),this.decimals!==null&&(this.min!==-Number.MAX_VALUE&&this.setProperties({min:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.min))},!0),this.max!==Number.MAX_VALUE&&this.setProperties({max:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.max))},!0)),this.setProperties({min:this.min>this.max?this.max:this.min},!0),this.min!==-Number.MAX_VALUE&&pe(this.element,{"aria-valuemin":this.min.toString()}),this.max!==Number.MAX_VALUE&&pe(this.element,{"aria-valuemax":this.max.toString()})},e.prototype.formattedValue=function(t,i){return this.instance.getNumberFormat({maximumFractionDigits:t,minimumFractionDigits:t,useGrouping:!1})(i)},e.prototype.validateStep=function(){this.decimals!==null&&this.setProperties({step:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.step))},!0)},e.prototype.action=function(t,i){this.isInteract=!0;var n=this.isFocused?this.instance.getNumberParser({format:"n"})(this.element.value):this.value;this.changeValue(this.performAction(n,this.step,t)),this.raiseChangeEvent(i)},e.prototype.checkErrorClass=function(){this.isValidState?L([this.container],ty):E([this.container],ty),pe(this.element,{"aria-invalid":this.isValidState?"false":"true"})},e.prototype.bindClearEvent=function(){this.showClearButton&&y.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)},e.prototype.resetHandler=function(t){t.preventDefault(),(!this.inputWrapper.clearButton.classList.contains("e-clear-icon-hide")||this.inputWrapper.container.classList.contains("e-static-clear"))&&this.clear(t),this.isInteract=!0,this.raiseChangeEvent(t)},e.prototype.clear=function(t){this.setProperties({value:null},!0),this.setElementValue(""),this.hiddenInput.value="";var i=S(this.element,"form");if(i){var n=this.element.nextElementSibling,s=document.createEvent("KeyboardEvent");s.initEvent("keyup",!1,!0),n.dispatchEvent(s)}},e.prototype.resetFormHandler=function(){this.element.tagName==="EJS-NUMERICTEXTBOX"?this.updateValue(null):this.updateValue(this.inputEleValue)},e.prototype.setSpinButton=function(){u(this.spinDown)||pe(this.spinDown,{title:this.l10n.getConstant("decrementTitle"),"aria-label":this.l10n.getConstant("decrementTitle")}),u(this.spinUp)||pe(this.spinUp,{title:this.l10n.getConstant("incrementTitle"),"aria-label":this.l10n.getConstant("incrementTitle")})},e.prototype.wireEvents=function(){y.add(this.element,"focus",this.focusHandler,this),y.add(this.element,"blur",this.focusOutHandler,this),y.add(this.element,"keydown",this.keyDownHandler,this),y.add(this.element,"keyup",this.keyUpHandler,this),y.add(this.element,"input",this.inputHandler,this),y.add(this.element,"keypress",this.keyPressHandler,this),y.add(this.element,"change",this.changeHandler,this),y.add(this.element,"paste",this.pasteHandler,this),this.enabled&&(this.bindClearEvent(),this.formEle&&y.add(this.formEle,"reset",this.resetFormHandler,this))},e.prototype.wireSpinBtnEvents=function(){y.add(this.spinUp,N.touchStartEvent,this.mouseDownOnSpinner,this),y.add(this.spinDown,N.touchStartEvent,this.mouseDownOnSpinner,this),y.add(this.spinUp,N.touchEndEvent,this.mouseUpOnSpinner,this),y.add(this.spinDown,N.touchEndEvent,this.mouseUpOnSpinner,this),y.add(this.spinUp,N.touchMoveEvent,this.touchMoveOnSpinner,this),y.add(this.spinDown,N.touchMoveEvent,this.touchMoveOnSpinner,this)},e.prototype.unwireEvents=function(){y.remove(this.element,"focus",this.focusHandler),y.remove(this.element,"blur",this.focusOutHandler),y.remove(this.element,"keyup",this.keyUpHandler),y.remove(this.element,"input",this.inputHandler),y.remove(this.element,"keydown",this.keyDownHandler),y.remove(this.element,"keypress",this.keyPressHandler),y.remove(this.element,"change",this.changeHandler),y.remove(this.element,"paste",this.pasteHandler),this.formEle&&y.remove(this.formEle,"reset",this.resetFormHandler)},e.prototype.unwireSpinBtnEvents=function(){y.remove(this.spinUp,N.touchStartEvent,this.mouseDownOnSpinner),y.remove(this.spinDown,N.touchStartEvent,this.mouseDownOnSpinner),y.remove(this.spinUp,N.touchEndEvent,this.mouseUpOnSpinner),y.remove(this.spinDown,N.touchEndEvent,this.mouseUpOnSpinner),y.remove(this.spinUp,N.touchMoveEvent,this.touchMoveOnSpinner),y.remove(this.spinDown,N.touchMoveEvent,this.touchMoveOnSpinner)},e.prototype.changeHandler=function(t){t.stopPropagation(),this.element.value.length||this.setProperties({value:null},!0);var i=this.instance.getNumberParser({format:"n"})(this.element.value);this.updateValue(i,t)},e.prototype.raiseChangeEvent=function(t){if(this.inputValue=u(this.inputValue)||isNaN(this.inputValue)?null:this.inputValue,this.prevValue!==this.value||this.prevValue!==this.inputValue){var i={};this.changeEventArgs={value:this.value,previousValue:this.prevValue,isInteracted:this.isInteract,isInteraction:this.isInteract,event:t},t&&(this.changeEventArgs.event=t),this.changeEventArgs.event===void 0&&(this.changeEventArgs.isInteracted=!1,this.changeEventArgs.isInteraction=!1),Ki(i,this.changeEventArgs),this.prevValue=this.value,this.isInteract=!1,this.elementPrevValue=this.element.value,this.preventChange=!1,this.trigger("change",i)}},e.prototype.pasteHandler=function(){var t=this;if(!(!this.enabled||this.readonly)){var i=this.element.value;setTimeout(function(){t.numericRegex().test(t.element.value)||t.setElementValue(i)})}},e.prototype.preventHandler=function(){var t=this,i=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);setTimeout(function(){if(t.element.selectionStart>0){var n=t.element.selectionStart,s=t.element.selectionStart-1,o=0,a=t.element.value.split(""),l=Ba(t.locale),h=F("decimal",l),c=h.charCodeAt(0);t.element.value[s]===" "&&t.element.selectionStart>0&&!i?(u(t.prevVal)?t.element.value=t.element.value.trim():s!==0?t.element.value=t.prevVal:s===0&&(t.element.value=t.element.value.trim()),t.element.setSelectionRange(s,s)):isNaN(parseFloat(t.element.value[t.element.selectionStart-1]))&&t.element.value[t.element.selectionStart-1].charCodeAt(0)!==45?(a.indexOf(t.element.value[t.element.selectionStart-1])!==a.lastIndexOf(t.element.value[t.element.selectionStart-1])&&t.element.value[t.element.selectionStart-1].charCodeAt(0)===c||t.element.value[t.element.selectionStart-1].charCodeAt(0)!==c)&&(t.element.value=t.element.value.substring(0,s)+t.element.value.substring(n,t.element.value.length),t.element.setSelectionRange(s,s),isNaN(parseFloat(t.element.value[t.element.selectionStart-1]))&&t.element.selectionStart>0&&t.element.value.length&&t.preventHandler()):isNaN(parseFloat(t.element.value[t.element.selectionStart-2]))&&t.element.selectionStart>1&&t.element.value[t.element.selectionStart-2].charCodeAt(0)!==45&&(a.indexOf(t.element.value[t.element.selectionStart-2])!==a.lastIndexOf(t.element.value[t.element.selectionStart-2])&&t.element.value[t.element.selectionStart-2].charCodeAt(0)===c||t.element.value[t.element.selectionStart-2].charCodeAt(0)!==c)&&(t.element.setSelectionRange(s,s),t.nextEle=t.element.value[t.element.selectionStart],t.cursorPosChanged=!0,t.preventHandler()),t.cursorPosChanged===!0&&t.element.value[t.element.selectionStart]===t.nextEle&&isNaN(parseFloat(t.element.value[t.element.selectionStart-1]))&&(t.element.setSelectionRange(t.element.selectionStart+1,t.element.selectionStart+1),t.cursorPosChanged=!1,t.nextEle=null),t.element.value.trim()===""&&t.element.setSelectionRange(o,o),t.element.selectionStart>0&&(t.element.value[t.element.selectionStart-1].charCodeAt(0)===45&&t.element.selectionStart>1&&(u(t.prevVal)?t.element.value=t.element.value:t.element.value=t.prevVal,t.element.setSelectionRange(t.element.selectionStart,t.element.selectionStart)),t.element.value[t.element.selectionStart-1]===h&&t.decimals===0&&t.validateDecimalOnType&&(t.element.value=t.element.value.substring(0,s)+t.element.value.substring(n,t.element.value.length))),t.prevVal=t.element.value}})},e.prototype.keyUpHandler=function(){if(!(!this.enabled||this.readonly)){var t=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);!t&&N.isDevice&&this.preventHandler();var i=this.instance.getNumberParser({format:"n"})(this.element.value);i=i===null||isNaN(i)?null:i,this.hiddenInput.value=i||i===0?i.toString():null;var n=S(this.element,"form");if(n){var s=this.element.nextElementSibling,o=document.createEvent("KeyboardEvent");o.initEvent("keyup",!1,!0),s.dispatchEvent(o)}}},e.prototype.inputHandler=function(t){var i=this;if(!(!this.enabled||this.readonly)){var n=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),s=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;if((s||n)&&N.isDevice&&this.preventHandler(),this.isAngular&&this.element.value!==F("decimal",Ba(this.locale))&&this.element.value!==F("minusSign",Ba(this.locale))){var o=this.instance.getNumberParser({format:"n"})(this.element.value);o=isNaN(o)?null:o,i.localChange({value:o}),this.preventChange=!0}if(this.isVue){var a=this.instance.getNumberParser({format:"n"})(this.element.value),l=this.instance.getNumberParser({format:"n"})(this.elementPrevValue),h=new RegExp("[^0-9]+$");(h.test(this.element.value)||(this.elementPrevValue.indexOf(".")!==-1||this.elementPrevValue.indexOf("-")!==-1)&&this.element.value[this.element.value.length-1]==="0")&&(a=this.value);var c={event:t,value:a===null||isNaN(a)?null:a,previousValue:l===null||isNaN(l)?null:l};this.preventChange=!0,this.elementPrevValue=this.element.value,this.trigger("input",c)}}},e.prototype.keyDownHandler=function(t){if(!this.readonly)switch(t.keyCode){case 38:t.preventDefault(),this.action(ml,t);break;case 40:t.preventDefault(),this.action(Nc,t);break;default:break}},e.prototype.performAction=function(t,i,n){(t===null||isNaN(t))&&(t=0);var s=n===ml?t+i:t-i;return s=this.correctRounding(t,i,s),this.strictMode?this.trimValue(s):s},e.prototype.correctRounding=function(t,i,n){var s=new RegExp("[,.](.*)"),o=s.test(t.toString()),a=s.test(i.toString());if(o||a){var l=o?s.exec(t.toString())[0].length:0,h=a?s.exec(i.toString())[0].length:0,c=Math.max(l,h);return t=this.roundValue(n,c)}return n},e.prototype.roundValue=function(t,i){i=i||0;var n=Math.pow(10,i);return t*=n,t=Math.round(t)/n},e.prototype.updateValue=function(t,i){i&&(this.isInteract=!0),t!==null&&!isNaN(t)&&this.decimals&&(t=this.roundNumber(t,this.decimals)),this.inputValue=t,this.changeValue(t===null||isNaN(t)?null:this.strictMode?this.trimValue(t):t),this.isDynamicChange||this.raiseChangeEvent(i)},e.prototype.updateCurrency=function(t,i){Pe(t,i,this.cultureInfo),this.updateValue(this.value)},e.prototype.changeValue=function(t){if(!(t||t===0))t=null,this.setProperties({value:t},!0);else{var i=this.getNumberOfDecimals(t);this.setProperties({value:this.roundNumber(t,i)},!0)}this.modifyText(),this.strictMode||this.validateState()},e.prototype.modifyText=function(){if(this.value||this.value===0){var t=this.formatNumber(),i=this.isFocused?t:this.instance.getNumberFormat(this.cultureInfo)(this.value);this.setElementValue(i),pe(this.element,{"aria-valuenow":t}),this.hiddenInput.value=this.value.toString(),this.value!==null&&this.serverDecimalSeparator&&(this.hiddenInput.value=this.hiddenInput.value.replace(".",this.serverDecimalSeparator))}else this.setElementValue(""),this.element.removeAttribute("aria-valuenow"),this.hiddenInput.value=null},e.prototype.setElementValue=function(t,i){Se.setValue(t,i||this.element,this.floatLabelType,this.showClearButton)},e.prototype.validateState=function(){this.isValidState=!0,(this.value||this.value===0)&&(this.isValidState=!(this.value>this.max||this.value<this.min)),this.checkErrorClass()},e.prototype.getNumberOfDecimals=function(t){var i,n=new RegExp("[eE][-+]?([0-9]+)"),s=t.toString();if(n.test(s)){var o=n.exec(s);u(o)||(s=t.toFixed(Math.min(parseInt(o[1],10),20)))}var a=s.split(".")[1];return i=!a||!a.length?0:a.length,this.decimals!==null&&(i=i<this.decimals?i:this.decimals),i},e.prototype.formatNumber=function(){var t=this.getNumberOfDecimals(this.value);return this.instance.getNumberFormat({maximumFractionDigits:t,minimumFractionDigits:t,useGrouping:!1})(this.value)},e.prototype.trimValue=function(t){return t>this.max?this.max:t<this.min?this.min:t},e.prototype.roundNumber=function(t,i){var n=t,s=i||0,o=n.toString().split("e");n=Math.round(+(o[0]+"e"+(o[1]?Number(o[1])+s:s)));var a=n.toString().split("e");return n=+(a[0]+"e"+(a[1]?Number(a[1])-s:-s)),Number(n.toFixed(s))},e.prototype.cancelEvent=function(t){return t.preventDefault(),!1},e.prototype.keyPressHandler=function(t){if(!this.enabled||this.readonly)return!0;if(!N.isDevice&&N.info.version==="11.0"&&t.keyCode===13){var i=this.instance.getNumberParser({format:"n"})(this.element.value);return this.updateValue(i,t),!0}if(t.which===0||t.metaKey||t.ctrlKey||t.keyCode===8||t.keyCode===13)return!0;var n=String.fromCharCode(t.which),s=F("decimal",Ba(this.locale)),o=t.code==="NumpadDecimal"&&n!==s;o&&(n=s);var a=this.element.value;if(a=a.substring(0,this.element.selectionStart)+n+a.substring(this.element.selectionEnd),this.numericRegex().test(a)){if(o){var l=this.element.selectionStart+1;this.element.value=a,this.element.setSelectionRange(l,l),t.preventDefault(),t.stopPropagation()}return!0}else return t.preventDefault(),t.stopPropagation(),!1},e.prototype.numericRegex=function(){var t=Ba(this.locale),i=F("decimal",t),n="*";return i===ij&&(i="\\"+i),this.decimals===0&&this.validateDecimalOnType?tj:(this.decimals&&this.validateDecimalOnType&&(n="{0,"+this.decimals+"}"),new RegExp("^(-)?(((\\d+("+i+"\\d"+n+")?)|("+i+"\\d"+n+")))?$"))},e.prototype.mouseWheel=function(t){t.preventDefault();var i,n=t;n.wheelDelta?i=n.wheelDelta/120:n.detail&&(i=-n.detail/3),i>0?this.action(ml,t):i<0&&this.action(Nc,t),this.cancelEvent(t)},e.prototype.focusHandler=function(t){var i=this;if(clearTimeout(eN),this.focusEventArgs={event:t,value:this.value,container:this.container},this.trigger("focus",this.focusEventArgs),!(!this.enabled||this.readonly)){if(this.isFocused=!0,L([this.container],ty),this.prevValue=this.value,this.value||this.value===0){var n=this.formatNumber();if(this.setElementValue(n),!this.isPrevFocused)if(!N.isDevice&&N.info.version==="11.0")this.element.setSelectionRange(0,n.length);else{var s=N.isDevice&&N.isIos?600:0;eN=setTimeout(function(){i.element.setSelectionRange(0,n.length)},s)}}N.isDevice||y.add(this.element,"mousewheel DOMMouseScroll",this.mouseWheel,this)}},e.prototype.focusOutHandler=function(t){var i=this;if(this.blurEventArgs={event:t,value:this.value,container:this.container},this.trigger("blur",this.blurEventArgs),!(!this.enabled||this.readonly)){if(this.isPrevFocused){if(t.preventDefault(),N.isDevice){var n=this.element.value;this.element.focus(),this.isPrevFocused=!1;var s=this.element;setTimeout(function(){i.setElementValue(n,s)},200)}}else{this.isFocused=!1,this.element.value.length||this.setProperties({value:null},!0);var o=this.instance.getNumberParser({format:"n"})(this.element.value);this.updateValue(o),N.isDevice||y.remove(this.element,"mousewheel DOMMouseScroll",this.mouseWheel)}var a=S(this.element,"form");if(a){var l=this.element.nextElementSibling,h=document.createEvent("FocusEvent");h.initEvent("focusout",!1,!0),l.dispatchEvent(h)}}},e.prototype.mouseDownOnSpinner=function(t){var i=this;if(this.isFocused&&(this.isPrevFocused=!0,t.preventDefault()),!!this.getElementData(t)){var n=this.getElementData(t),s=t.currentTarget,o=s.classList.contains(ey)?ml:Nc;y.add(s,"mouseleave",this.mouseUpClick,this),this.timeOut=setInterval(function(){i.isCalled=!0,i.action(o,t)},150),y.add(document,"mouseup",this.mouseUpClick,this)}},e.prototype.touchMoveOnSpinner=function(t){var i;if(t.type==="touchmove"){var n=t.touches;i=n.length&&document.elementFromPoint(n[0].pageX,n[0].pageY)}else i=document.elementFromPoint(t.clientX,t.clientY);i.classList.contains(Jv)||clearInterval(this.timeOut)},e.prototype.mouseUpOnSpinner=function(t){if(this.prevValue=this.value,this.isPrevFocused&&(this.element.focus(),N.isDevice||(this.isPrevFocused=!1)),N.isDevice||t.preventDefault(),!!this.getElementData(t)){var i=t.currentTarget,n=i.classList.contains(ey)?ml:Nc;y.remove(i,"mouseleave",this.mouseUpClick),this.isCalled||this.action(n,t),this.isCalled=!1,y.remove(document,"mouseup",this.mouseUpClick);var s=S(this.element,"form");if(s){var o=this.element.nextElementSibling,a=document.createEvent("KeyboardEvent");a.initEvent("keyup",!1,!0),o.dispatchEvent(a)}}},e.prototype.getElementData=function(t){return t.which&&t.which===3||t.button&&t.button===2||!this.enabled||this.readonly?!1:(clearInterval(this.timeOut),!0)},e.prototype.floatLabelTypeUpdate=function(){Se.removeFloating(this.inputWrapper);var t=this.hiddenInput;this.hiddenInput.remove(),Se.addFloating(this.element,this.floatLabelType,this.placeholder,this.createElement),this.container.insertBefore(t,this.container.childNodes[1])},e.prototype.mouseUpClick=function(t){t.stopPropagation(),clearInterval(this.timeOut),this.isCalled=!1,this.spinUp&&y.remove(this.spinUp,"mouseleave",this.mouseUpClick),this.spinDown&&y.remove(this.spinDown,"mouseleave",this.mouseUpClick)},e.prototype.increment=function(t){t===void 0&&(t=this.step),this.isInteract=!1,this.changeValue(this.performAction(this.value,t,ml)),this.raiseChangeEvent()},e.prototype.decrement=function(t){t===void 0&&(t=this.step),this.isInteract=!1,this.changeValue(this.performAction(this.value,t,Nc)),this.raiseChangeEvent()},e.prototype.destroy=function(){this.unwireEvents(),this.showClearButton&&(this.clearButton=document.getElementsByClassName("e-clear-icon")[0]),w(this.hiddenInput),this.showSpinButton&&(this.unwireSpinBtnEvents(),w(this.spinUp),w(this.spinDown));for(var t=["aria-labelledby","role","autocomplete","aria-readonly","aria-disabled","autocapitalize","spellcheck","aria-autocomplete","tabindex","aria-valuemin","aria-valuemax","aria-valuenow","aria-invalid"],i=0;i<t.length;i++)this.element.removeAttribute(t[i]);this.element.classList.remove("e-input"),this.container.insertAdjacentElement("afterend",this.element),w(this.container),this.spinUp=null,this.spinDown=null,this.container=null,this.hiddenInput=null,this.changeEventArgs=null,this.blurEventArgs=null,this.focusEventArgs=null,this.inputWrapper=null,Se.destroy({element:this.element,floatLabelType:this.floatLabelType,properties:this.properties},this.clearButton),r.prototype.destroy.call(this)},e.prototype.getText=function(){return this.element.value},e.prototype.focusIn=function(){document.activeElement!==this.element&&this.enabled&&(this.element.focus(),E([this.container],[KT]))},e.prototype.focusOut=function(){document.activeElement===this.element&&this.enabled&&(this.element.blur(),L([this.container],[KT]))},e.prototype.getPersistData=function(){var t=["value"];return this.addOnPersist(t)},e.prototype.onPropertyChanged=function(t,i){for(var n=0,s=Object.keys(t);n<s.length;n++){var o=s[n];switch(o){case"width":this.setElementWidth(t.width),Se.calculateWidth(this.element,this.container);break;case"cssClass":this.updateCssClass(t.cssClass,i.cssClass);break;case"enabled":Se.setEnabled(t.enabled,this.element),this.bindClearEvent();break;case"enableRtl":Se.setEnableRtl(t.enableRtl,[this.container]);break;case"readonly":Se.setReadonly(t.readonly,this.element),this.readonly?pe(this.element,{"aria-readonly":"true"}):this.element.removeAttribute("aria-readonly");break;case"htmlAttributes":this.updateHTMLAttrToElement(),this.updateHTMLAttrToWrapper(),this.updateDataAttribute(!0),this.checkAttributes(!0),Se.validateInputType(this.container,this.element);break;case"placeholder":Se.setPlaceholder(t.placeholder,this.element),Se.calculateWidth(this.element,this.container);break;case"step":this.step=t.step,this.validateStep();break;case"showSpinButton":this.updateSpinButton(t);break;case"showClearButton":this.updateClearButton(t);break;case"floatLabelType":this.floatLabelType=t.floatLabelType,this.floatLabelTypeUpdate();break;case"value":this.isDynamicChange=(this.isAngular||this.isVue)&&this.preventChange,this.updateValue(t.value),this.isDynamicChange&&(this.preventChange=!1,this.isDynamicChange=!1);break;case"min":case"max":Pe(o,F(o,t),this),this.validateMinMax(),this.updateValue(this.value);break;case"strictMode":this.strictMode=t.strictMode,this.updateValue(this.value),this.validateState();break;case"locale":this.initCultureFunc(),this.l10n.setLocale(this.locale),this.setSpinButton(),this.updatePlaceholder(),Se.setPlaceholder(this.placeholder,this.element),this.updateValue(this.value);break;case"currency":{var a=F(o,t);this.setProperties({currencyCode:a},!0),this.updateCurrency(o,a)}break;case"currencyCode":{var l=F(o,t);this.setProperties({currency:l},!0),this.updateCurrency("currency",l)}break;case"format":Pe(o,F(o,t),this),this.initCultureInfo(),this.updateValue(this.value);break;case"decimals":this.decimals=t.decimals,this.updateValue(this.value)}}},e.prototype.updateClearButton=function(t){Se.setClearButton(t.showClearButton,this.element,this.inputWrapper,void 0,this.createElement),this.bindClearEvent()},e.prototype.updateSpinButton=function(t){t.showSpinButton?this.spinBtnCreation():(w(this.spinUp),w(this.spinDown))},e.prototype.getModuleName=function(){return"numerictextbox"},Ot([b("")],e.prototype,"cssClass",void 0),Ot([b(null)],e.prototype,"value",void 0),Ot([b(-Number.MAX_VALUE)],e.prototype,"min",void 0),Ot([b(Number.MAX_VALUE)],e.prototype,"max",void 0),Ot([b(1)],e.prototype,"step",void 0),Ot([b(null)],e.prototype,"width",void 0),Ot([b(null)],e.prototype,"placeholder",void 0),Ot([b({})],e.prototype,"htmlAttributes",void 0),Ot([b(!0)],e.prototype,"showSpinButton",void 0),Ot([b(!1)],e.prototype,"readonly",void 0),Ot([b(!0)],e.prototype,"enabled",void 0),Ot([b(!1)],e.prototype,"showClearButton",void 0),Ot([b(!1)],e.prototype,"enablePersistence",void 0),Ot([b("n2")],e.prototype,"format",void 0),Ot([b(null)],e.prototype,"decimals",void 0),Ot([b(null)],e.prototype,"currency",void 0),Ot([b(null)],e.prototype,"currencyCode",void 0),Ot([b(!0)],e.prototype,"strictMode",void 0),Ot([b(!1)],e.prototype,"validateDecimalOnType",void 0),Ot([b("Never")],e.prototype,"floatLabelType",void 0),Ot([R()],e.prototype,"created",void 0),Ot([R()],e.prototype,"destroyed",void 0),Ot([R()],e.prototype,"change",void 0),Ot([R()],e.prototype,"focus",void 0),Ot([R()],e.prototype,"blur",void 0),e=Ot([Ee],e),e}(Ve);var xc=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ke=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},oj=function(r){xc(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return ke([b("None")],e.prototype,"placement",void 0),ke([b(10)],e.prototype,"largeStep",void 0),ke([b(1)],e.prototype,"smallStep",void 0),ke([b(!1)],e.prototype,"showSmallTicks",void 0),ke([b(null)],e.prototype,"format",void 0),e}(de);var aj=function(r){xc(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return ke([b(null)],e.prototype,"color",void 0),ke([b(null)],e.prototype,"start",void 0),ke([b(null)],e.prototype,"end",void 0),e}(de);var lj=function(r){xc(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return ke([b(!1)],e.prototype,"enabled",void 0),ke([b(null)],e.prototype,"minStart",void 0),ke([b(null)],e.prototype,"minEnd",void 0),ke([b(null)],e.prototype,"maxStart",void 0),ke([b(null)],e.prototype,"maxEnd",void 0),ke([b(!1)],e.prototype,"startHandleFixed",void 0),ke([b(!1)],e.prototype,"endHandleFixed",void 0),e}(de);var hj=function(r){xc(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return ke([b("")],e.prototype,"cssClass",void 0),ke([b("Before")],e.prototype,"placement",void 0),ke([b("Focus")],e.prototype,"showOn",void 0),ke([b(!1)],e.prototype,"isVisible",void 0),ke([b(null)],e.prototype,"format",void 0),e}(de);var cj=6,uj=3,Q={root:"e-slider",rtl:"e-rtl",sliderHiddenInput:"e-slider-input",controlWrapper:"e-control-wrapper",sliderHandle:"e-handle",rangeBar:"e-range",sliderButton:"e-slider-button",firstButton:"e-first-button",secondButton:"e-second-button",scale:"e-scale",tick:"e-tick",large:"e-large",tickValue:"e-tick-value",sliderTooltip:"e-slider-tooltip",sliderHover:"e-slider-hover",sliderFirstHandle:"e-handle-first",sliderSecondHandle:"e-handle-second",sliderDisabled:"e-disabled",sliderContainer:"e-slider-container",horizontalTooltipBefore:"e-slider-horizontal-before",horizontalTooltipAfter:"e-slider-horizontal-after",verticalTooltipBefore:"e-slider-vertical-before",verticalTooltipAfter:"e-slider-vertical-after",materialTooltip:"e-material-tooltip",materialTooltipOpen:"e-material-tooltip-open",materialTooltipActive:"e-tooltip-active",materialSlider:"e-material-slider",sliderTrack:"e-slider-track",sliderHorizantalColor:"e-slider-horizantal-color",sliderVerticalColor:"e-slider-vertical-color",sliderHandleFocused:"e-handle-focused",verticalSlider:"e-vertical",horizontalSlider:"e-horizontal",sliderHandleStart:"e-handle-start",sliderTooltipStart:"e-material-tooltip-start",sliderTabHandle:"e-tab-handle",sliderButtonIcon:"e-button-icon",sliderSmallSize:"e-small-size",sliderTickPosition:"e-tick-pos",sliderFirstTick:"e-first-tick",sliderLastTick:"e-last-tick",sliderButtonClass:"e-slider-btn",sliderTooltipWrapper:"e-tooltip-wrap",sliderTabTrack:"e-tab-track",sliderTabRange:"e-tab-range",sliderActiveHandle:"e-handle-active",sliderMaterialHandle:"e-material-handle",sliderMaterialRange:"e-material-range",sliderMaterialDefault:"e-material-default",materialTooltipShow:"e-material-tooltip-show",materialTooltipHide:"e-material-tooltip-hide",readonly:"e-read-only",limits:"e-limits",limitBarDefault:"e-limit-bar",limitBarFirst:"e-limit-first",limitBarSecond:"e-limit-second",dragHorizontal:"e-drag-horizontal",dragVertical:"e-drag-vertical"},iy=function(r){xc(e,r);function e(t,i){var n=r.call(this,t,i)||this;return n.horDir="left",n.verDir="bottom",n.transition={handle:"left .4s cubic-bezier(.25, .8, .25, 1), right .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1) , bottom .4s cubic-bezier(.25, .8, .25, 1)",rangeBar:"all .4s cubic-bezier(.25, .8, .25, 1)"},n.transitionOnMaterialTooltip={handle:"left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, top 1ms ease-out",rangeBar:"left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, width 1ms ease-out, height 1ms ease-out"},n.scaleTransform="transform .4s cubic-bezier(.25, .8, .25, 1)",n.customAriaText=null,n.drag=!0,n.isDragComplete=!1,n.initialTooltip=!0,n}return e.prototype.preRender=function(){var t={incrementTitle:"Increase",decrementTitle:"Decrease"};this.l10n=new Qi("slider",t,this.locale),this.isElementFocused=!1,this.tickElementCollection=[],this.tooltipFormatInfo={},this.ticksFormatInfo={},this.initCultureInfo(),this.initCultureFunc(),this.formChecker()},e.prototype.formChecker=function(){var t=S(this.element,"form");t?(this.isForm=!0,u(this.formResetValue)||this.setProperties({value:this.formResetValue},!0),this.formResetValue=this.value,this.type==="Range"&&(u(this.formResetValue)||typeof this.formResetValue!="object")?this.formResetValue=[parseFloat(W(this.min)),parseFloat(W(this.max))]:u(this.formResetValue)&&(this.formResetValue=parseFloat(W(this.min))),this.formElement=t):this.isForm=!1},e.prototype.initCultureFunc=function(){this.internationalization=new jo(this.locale)},e.prototype.initCultureInfo=function(){this.tooltipFormatInfo.format=u(this.tooltip.format)?null:this.tooltip.format,this.ticksFormatInfo.format=u(this.ticks.format)?null:this.ticks.format},e.prototype.formatString=function(t,i){var n=null,s=null;if(t||t===0){n=this.formatNumber(t);var o=this.numberOfDecimals(t);s=this.internationalization.getNumberFormat(i)(this.makeRoundNumber(t,o))}return{elementVal:n,formatString:s}},e.prototype.formatNumber=function(t){var i=this.numberOfDecimals(t);return this.internationalization.getNumberFormat({maximumFractionDigits:i,minimumFractionDigits:i,useGrouping:!1})(t)},e.prototype.numberOfDecimals=function(t){var i=t.toString().split(".")[1],n=!i||!i.length?0:i.length;return n},e.prototype.makeRoundNumber=function(t,i){var n=i||0;return Number(t.toFixed(n))},e.prototype.fractionalToInteger=function(t){t=this.numberOfDecimals(t)===0?Number(t).toFixed(this.noOfDecimals):t;for(var i=1,n=0;n<this.noOfDecimals;n++)i*=10;return t=Number((t*i).toFixed(0)),t},e.prototype.render=function(){var t=this;this.initialize(),this.initRender(),this.wireEvents(),this.setZindex(),this.renderComplete(),this.element.tagName==="EJS-SLIDER"&&this.getTheme(this.sliderContainer)=="none"&&setTimeout(function(){t.refresh()},0)},e.prototype.initialize=function(){E([this.element],Q.root),this.setCSSClass()},e.prototype.setElementWidth=function(t){!u(t)&&!u(this.sliderContainer)&&(typeof t=="number"?this.sliderContainer.style.width=W(t):typeof t=="string"&&(this.sliderContainer.style.width=t.match(/px|%|em/)?t:W(t)))},e.prototype.setCSSClass=function(t){t&&L([this.element],t.split(" ")),this.cssClass&&E([this.element],this.cssClass.split(" "))},e.prototype.setEnabled=function(){this.enabled?(L([this.sliderContainer],[Q.sliderDisabled]),this.tooltip.isVisible&&this.tooltipElement&&this.tooltip.showOn==="Always"&&this.tooltipElement.classList.remove(Q.sliderDisabled),this.wireEvents()):(E([this.sliderContainer],[Q.sliderDisabled]),this.tooltip.isVisible&&this.tooltipElement&&this.tooltip.showOn==="Always"&&this.tooltipElement.classList.add(Q.sliderDisabled),this.unwireEvents())},e.prototype.getTheme=function(t){var i=window.getComputedStyle(t,":after").getPropertyValue("content");return i.replace(/['"]+/g,"")},e.prototype.initRender=function(){this.sliderContainer=this.createElement("div",{className:Q.sliderContainer+" "+Q.controlWrapper}),this.element.parentNode.insertBefore(this.sliderContainer,this.element),this.sliderContainer.appendChild(this.element),this.sliderTrack=this.createElement("div",{className:Q.sliderTrack}),this.element.appendChild(this.sliderTrack),this.setElementWidth(this.width),this.element.tabIndex=-1,this.getThemeInitialization(),this.setHandler(),this.createRangeBar(),this.limits.enabled&&this.createLimitBar(),this.setOrientClass(),this.hiddenInput=this.createElement("input",{attrs:{type:"hidden",value:u(this.value)?this.min.toString():this.value.toString(),name:this.element.getAttribute("name")||this.element.getAttribute("id")||"_"+(Math.random()*1e3).toFixed(0)+"slider",class:Q.sliderHiddenInput}}),this.hiddenInput.tabIndex=-1,this.sliderContainer.appendChild(this.hiddenInput),this.showButtons&&this.setButtons(),this.setEnableRTL(),this.type==="Range"?this.rangeValueUpdate():this.value=u(this.value)?parseFloat(W(this.min.toString())):this.value,this.previousVal=this.type!=="Range"?this.checkHandleValue(parseFloat(W(this.value.toString()))):[this.checkHandleValue(parseFloat(W(this.value[0].toString()))),this.checkHandleValue(parseFloat(W(this.value[1].toString())))],this.previousChanged=this.previousVal,u(this.element.hasAttribute("name"))||this.element.removeAttribute("name"),this.setValue(),this.limits.enabled&&this.setLimitBar(),this.ticks.placement!=="None"&&this.renderScale(),this.tooltip.isVisible&&this.renderTooltip(),this.enabled?L([this.sliderContainer],[Q.sliderDisabled]):E([this.sliderContainer],[Q.sliderDisabled]),this.readonly?E([this.sliderContainer],[Q.readonly]):L([this.sliderContainer],[Q.readonly])},e.prototype.getThemeInitialization=function(){this.isMaterial=this.getTheme(this.sliderContainer)==="material"||this.getTheme(this.sliderContainer)==="material-dark",this.isMaterial3=this.getTheme(this.sliderContainer)==="Material3"||this.getTheme(this.sliderContainer)==="Material3-dark",this.isBootstrap=this.getTheme(this.sliderContainer)==="bootstrap"||this.getTheme(this.sliderContainer)==="bootstrap-dark",this.isBootstrap4=this.getTheme(this.sliderContainer)==="bootstrap4",this.isTailwind=this.getTheme(this.sliderContainer)==="tailwind"||this.getTheme(this.sliderContainer)==="tailwind-dark",this.isBootstrap5=this.getTheme(this.sliderContainer)==="bootstrap5",this.isFluent=this.getTheme(this.sliderContainer)==="FluentUI",this.isMaterialTooltip=(this.isMaterial||this.isMaterial3)&&this.type!=="Range"&&this.tooltip.isVisible},e.prototype.createRangeBar=function(){this.type!=="Default"&&(this.rangeBar=this.createElement("div",{attrs:{class:Q.rangeBar}}),this.element.appendChild(this.rangeBar),this.drag&&this.type==="Range"&&(this.orientation==="Horizontal"?this.rangeBar.classList.add(Q.dragHorizontal):this.rangeBar.classList.add(Q.dragVertical)))},e.prototype.createLimitBar=function(){var t=this.type!=="Range"?Q.limitBarDefault:Q.limitBarFirst;t+=" "+Q.limits,this.limitBarFirst=this.createElement("div",{attrs:{class:t}}),this.element.appendChild(this.limitBarFirst),this.type==="Range"&&(this.limitBarSecond=this.createElement("div",{attrs:{class:Q.limitBarSecond+" "+Q.limits}}),this.element.appendChild(this.limitBarSecond))},e.prototype.setOrientClass=function(){this.orientation!=="Vertical"?(this.sliderContainer.classList.remove(Q.verticalSlider),this.sliderContainer.classList.add(Q.horizontalSlider),this.firstHandle.setAttribute("aria-orientation","horizontal"),this.type==="Range"&&this.secondHandle.setAttribute("aria-orientation","horizontal")):(this.sliderContainer.classList.remove(Q.horizontalSlider),this.sliderContainer.classList.add(Q.verticalSlider),this.firstHandle.setAttribute("aria-orientation","vertical"),this.type==="Range"&&this.secondHandle.setAttribute("aria-orientation","vertical"))},e.prototype.setAriaAttributes=function(t){var i=this,n=this.min,s=this.max;if(!u(this.customValues)&&this.customValues.length>0&&(n=this.customValues[0],s=this.customValues[this.customValues.length-1]),this.type!=="Range")pe(t,{"aria-valuemin":n.toString(),"aria-valuemax":s.toString()});else{var o=!u(this.customValues)&&this.customValues.length>0?[[n.toString(),this.customValues[this.value[1]].toString()],[this.customValues[this.value[0]].toString(),s.toString()]]:[[n.toString(),this.value[1].toString()],[this.value[0].toString(),s.toString()]];o.forEach(function(a,l){var h=l===0?i.firstHandle:i.secondHandle;h&&pe(h,{"aria-valuemin":a[0],"aria-valuemax":a[1]})})}},e.prototype.createSecondHandle=function(){this.secondHandle=this.createElement("div",{attrs:{class:Q.sliderHandle,role:"slider",tabIndex:"0","aria-label":"slider"}}),this.secondHandle.classList.add(Q.sliderSecondHandle),this.element.appendChild(this.secondHandle)},e.prototype.createFirstHandle=function(){this.firstHandle=this.createElement("div",{attrs:{class:Q.sliderHandle,role:"slider",tabIndex:"0","aria-label":"slider"}}),this.firstHandle.classList.add(Q.sliderFirstHandle),this.element.appendChild(this.firstHandle),this.isMaterialTooltip&&(this.materialHandle=this.createElement("div",{attrs:{class:Q.sliderHandle+" "+Q.sliderMaterialHandle}}),this.element.appendChild(this.materialHandle))},e.prototype.wireFirstHandleEvt=function(t){t?(y.remove(this.firstHandle,"mousedown touchstart",this.handleFocus),y.remove(this.firstHandle,"transitionend",this.transitionEnd),y.remove(this.firstHandle,"mouseenter touchenter",this.handleOver),y.remove(this.firstHandle,"mouseleave touchend",this.handleLeave)):(y.add(this.firstHandle,"mousedown touchstart",this.handleFocus,this),y.add(this.firstHandle,"transitionend",this.transitionEnd,this),y.add(this.firstHandle,"mouseenter touchenter",this.handleOver,this),y.add(this.firstHandle,"mouseleave touchend",this.handleLeave,this))},e.prototype.wireSecondHandleEvt=function(t){t?(y.remove(this.secondHandle,"mousedown touchstart",this.handleFocus),y.remove(this.secondHandle,"transitionend",this.transitionEnd),y.remove(this.secondHandle,"mouseenter touchenter",this.handleOver),y.remove(this.secondHandle,"mouseleave touchend",this.handleLeave)):(y.add(this.secondHandle,"mousedown touchstart",this.handleFocus,this),y.add(this.secondHandle,"transitionend",this.transitionEnd,this),y.add(this.secondHandle,"mouseenter touchenter",this.handleOver,this),y.add(this.secondHandle,"mouseleave touchend",this.handleLeave,this))},e.prototype.handleStart=function(){this.type!=="Range"&&(this.firstHandle.classList[this.handlePos1===0?"add":"remove"](Q.sliderHandleStart),this.isMaterialTooltip&&(this.materialHandle.classList[this.handlePos1===0?"add":"remove"](Q.sliderHandleStart),this.tooltipElement&&this.tooltipElement.classList[this.handlePos1===0?"add":"remove"](Q.sliderTooltipStart)))},e.prototype.transitionEnd=function(t){t.propertyName!=="transform"&&(this.handleStart(),this.enableAnimation||(this.getHandle().style.transition="none"),this.type!=="Default"&&(this.rangeBar.style.transition="none"),(this.isMaterial||this.isMaterial3)&&this.tooltip.isVisible&&this.type==="Default"&&(this.tooltipElement.style.transition=this.transition.handle),this.tooltipToggle(this.getHandle()),this.closeTooltip())},e.prototype.handleFocusOut=function(){this.firstHandle.classList.contains(Q.sliderHandleFocused)&&this.firstHandle.classList.remove(Q.sliderHandleFocused),this.type==="Range"&&this.secondHandle.classList.contains(Q.sliderHandleFocused)&&this.secondHandle.classList.remove(Q.sliderHandleFocused)},e.prototype.handleFocus=function(t){this.focusSliderElement(),this.sliderBarClick(t),t.currentTarget===this.firstHandle?(this.firstHandle.classList.add(Q.sliderHandleFocused),this.firstHandle.classList.add(Q.sliderTabHandle)):(this.secondHandle.classList.add(Q.sliderHandleFocused),this.secondHandle.classList.add(Q.sliderTabHandle)),y.add(document,"mousemove touchmove",this.sliderBarMove,this),y.add(document,"mouseup touchend",this.sliderBarUp,this)},e.prototype.handleOver=function(t){this.tooltip.isVisible&&this.tooltip.showOn==="Hover"&&this.tooltipToggle(t.currentTarget),this.type==="Default"&&this.tooltipToggle(this.getHandle())},e.prototype.handleLeave=function(t){this.tooltip.isVisible&&this.tooltip.showOn==="Hover"&&!t.currentTarget.classList.contains(Q.sliderHandleFocused)&&!t.currentTarget.classList.contains(Q.sliderTabHandle)&&this.closeTooltip()},e.prototype.setHandler=function(){this.createFirstHandle(),this.type==="Range"&&this.createSecondHandle()},e.prototype.setEnableRTL=function(){this.enableRtl&&this.orientation!=="Vertical"?E([this.sliderContainer],Q.rtl):L([this.sliderContainer],Q.rtl);var t=this.orientation!=="Vertical"?this.horDir:this.verDir;this.enableRtl?(this.horDir="right",this.verDir="bottom"):(this.horDir="left",this.verDir="bottom");var i=this.orientation!=="Vertical"?this.horDir:this.verDir;t!==i&&this.orientation==="Horizontal"&&(he(this.firstHandle,{right:"",left:"auto"}),this.type==="Range"&&he(this.secondHandle,{top:"",left:"auto"})),this.setBarColor()},e.prototype.tooltipValue=function(){var t=this,i,n={value:this.value,text:""};this.initialTooltip&&(this.initialTooltip=!1,this.setTooltipContent(),n.text=i=typeof this.tooltipObj.content=="function"?this.tooltipObj.content():this.tooltipObj.content,this.trigger("tooltipChange",n,function(s){if(t.addTooltipClass(s.text),i!==s.text){t.customAriaText=s.text,t.enableHtmlSanitizer?s.text=pt.sanitize(s.text.toString()):s.text=s.text.toString();var o=function(){return s.text};t.tooltipObj.content=uh(o),t.setAriaAttrValue(t.firstHandle),t.type==="Range"&&t.setAriaAttrValue(t.secondHandle)}}),this.isMaterialTooltip&&this.setPreviousVal("change",this.value))},e.prototype.setTooltipContent=function(){var t;t=this.formatContent(this.tooltipFormatInfo,!1);var i=function(){return t};this.tooltipObj.content=uh(i)},e.prototype.formatContent=function(t,i){var n="",s=this.handleVal1,o=this.handleVal2;return!u(this.customValues)&&this.customValues.length>0&&(s=this.customValues[this.handleVal1],o=this.customValues[this.handleVal2]),i?(this.type==="Range"?this.enableRtl&&this.orientation!=="Vertical"?n=!u(this.tooltip)&&!u(this.tooltip.format)?this.formatString(o,t).elementVal+" - "+this.formatString(s,t).elementVal:o.toString()+" - "+s.toString():n=!u(this.tooltip)&&!u(this.tooltip.format)?this.formatString(s,t).elementVal+" - "+this.formatString(o,t).elementVal:s.toString()+" - "+o.toString():u(s)||(n=!u(this.tooltip)&&!u(this.tooltip.format)?this.formatString(s,t).elementVal:s.toString()),n):(this.type==="Range"?this.enableRtl&&this.orientation!=="Vertical"?n=u(t.format)?o.toString()+" - "+s.toString():this.formatString(o,t).formatString+" - "+this.formatString(s,t).formatString:n=u(t.format)?s.toString()+" - "+o.toString():this.formatString(s,t).formatString+" - "+this.formatString(o,t).formatString:u(s)||(n=u(t.format)?s.toString():this.formatString(s,t).formatString),n)},e.prototype.addTooltipClass=function(t){if(this.isMaterialTooltip){var i=t.toString().length;if(this.tooltipElement){var n=i>4?{oldCss:Q.sliderMaterialDefault,newCss:Q.sliderMaterialRange}:{oldCss:Q.sliderMaterialRange,newCss:Q.sliderMaterialDefault};this.tooltipElement.classList.remove(n.oldCss),this.tooltipElement.classList.contains(n.newCss)||(this.tooltipElement.classList.add(n.newCss),this.tooltipElement.style.transform=i>4?"scale(1)":this.getTooltipTransformProperties(this.previousTooltipClass).rotate)}else{var n=i>4?Q.sliderMaterialRange:Q.sliderMaterialDefault;this.tooltipObj.cssClass=Q.sliderTooltip+" "+n}}},e.prototype.tooltipPlacement=function(){return this.orientation==="Horizontal"?this.tooltip.placement==="Before"?"TopCenter":"BottomCenter":this.tooltip.placement==="Before"?"LeftCenter":"RightCenter"},e.prototype.tooltipBeforeOpen=function(t){this.tooltipElement=t.element,this.tooltip.cssClass&&E([this.tooltipElement],this.tooltip.cssClass.split(" ").filter(function(i){return i})),t.target.removeAttribute("aria-describedby"),this.isMaterialTooltip&&(this.tooltipElement.firstElementChild.classList.add(Q.materialTooltipHide),this.handleStart(),this.setTooltipTransform())},e.prototype.tooltipCollision=function(t){if(this.isBootstrap||this.isBootstrap4||(this.isMaterial||this.isMaterial3)&&!this.isMaterialTooltip){var i=this.isBootstrap4?uj:cj;switch(t){case"TopCenter":this.tooltipObj.setProperties({offsetY:-i},!1);break;case"BottomCenter":this.tooltipObj.setProperties({offsetY:i},!1);break;case"LeftCenter":this.tooltipObj.setProperties({offsetX:-i},!1);break;case"RightCenter":this.tooltipObj.setProperties({offsetX:i},!1);break}}},e.prototype.materialTooltipEventCallBack=function(t){this.sliderBarClick(t),y.add(document,"mousemove touchmove",this.sliderBarMove,this),y.add(document,"mouseup touchend",this.sliderBarUp,this)},e.prototype.wireMaterialTooltipEvent=function(t){this.isMaterialTooltip&&(t?y.remove(this.tooltipElement,"mousedown touchstart",this.materialTooltipEventCallBack):y.add(this.tooltipElement,"mousedown touchstart",this.materialTooltipEventCallBack,this))},e.prototype.tooltipPositionCalculation=function(t){var i;switch(t){case"TopCenter":i=Q.horizontalTooltipBefore;break;case"BottomCenter":i=Q.horizontalTooltipAfter;break;case"LeftCenter":i=Q.verticalTooltipBefore;break;case"RightCenter":i=Q.verticalTooltipAfter;break}return i},e.prototype.getTooltipTransformProperties=function(t){var i;if(this.tooltipElement){var n=this.orientation==="Horizontal"?this.tooltipElement.clientHeight+14-this.tooltipElement.clientHeight/2:this.tooltipElement.clientWidth+14-this.tooltipElement.clientWidth/2;i=this.orientation==="Horizontal"?t===Q.horizontalTooltipBefore?{rotate:"rotate(45deg)",translate:"translateY("+n+"px)"}:{rotate:"rotate(225deg)",translate:"translateY("+-n+"px)"}:t===Q.verticalTooltipBefore?{rotate:"rotate(-45deg)",translate:"translateX("+n+"px)"}:{rotate:"rotate(-225deg)",translate:"translateX("+-n+"px)"}}return i},e.prototype.openMaterialTooltip=function(){var t=this;if(this.isMaterialTooltip){this.refreshTooltip(this.firstHandle);var i=this.tooltipElement.firstElementChild;i.classList.remove(Q.materialTooltipHide),i.classList.add(Q.materialTooltipShow),this.firstHandle.style.cursor="default",this.tooltipElement.style.transition=this.scaleTransform,this.tooltipElement.classList.add(Q.materialTooltipOpen),this.materialHandle.style.transform="scale(0)",i.innerText.length>4?this.tooltipElement.style.transform="scale(1)":this.tooltipElement.style.transform=this.getTooltipTransformProperties(this.previousTooltipClass).rotate,this.type==="Default"?setTimeout(function(){t.tooltipElement&&(t.tooltipElement.style.transition=t.transition.handle)},2500):setTimeout(function(){t.tooltipElement&&(t.tooltipElement.style.transition="none")},2500)}},e.prototype.closeMaterialTooltip=function(){var t=this;if(this.isMaterialTooltip){var i=this.tooltipElement.firstElementChild;this.tooltipElement.style.transition=this.scaleTransform,i.classList.remove(Q.materialTooltipShow),i.classList.add(Q.materialTooltipHide),this.firstHandle.style.cursor="-webkit-grab",this.firstHandle.style.cursor="grab",this.materialHandle&&(this.materialHandle.style.transform="scale(1)"),this.tooltipElement.classList.remove(Q.materialTooltipOpen),this.setTooltipTransform(),this.tooltipTarget=void 0,setTimeout(function(){t.tooltipElement&&(t.tooltipElement.style.transition="none")},2500)}},e.prototype.checkTooltipPosition=function(t){var i=this.tooltipPositionCalculation(t.collidedPosition);(this.tooltipCollidedPosition===void 0||this.tooltipCollidedPosition!==t.collidedPosition||!t.element.classList.contains(i))&&(this.isMaterialTooltip&&(i!==void 0&&(t.element.classList.remove(this.previousTooltipClass),t.element.classList.add(i),this.previousTooltipClass=i),t.element.style.transform&&t.element.classList.contains(Q.materialTooltipOpen)&&t.element.firstElementChild.innerText.length<=4&&(t.element.style.transform=this.getTooltipTransformProperties(this.previousTooltipClass).rotate)),this.tooltipCollidedPosition=t.collidedPosition),this.isMaterialTooltip&&this.tooltipElement&&this.tooltipElement.style.transform.indexOf("translate")!==-1&&this.setTooltipTransform()},e.prototype.setTooltipTransform=function(){var t=this.getTooltipTransformProperties(this.previousTooltipClass);u(this.tooltipElement)||(this.tooltipElement.firstElementChild.innerText.length>4?this.tooltipElement.style.transform=t.translate+" scale(0.01)":this.tooltipElement.style.transform=t.translate+" "+t.rotate+" scale(0.01)")},e.prototype.renderTooltip=function(){this.tooltipObj=new xr({showTipPointer:this.isBootstrap||this.isMaterial||this.isMaterial3||this.isBootstrap4||this.isTailwind||this.isBootstrap5||this.isFluent,cssClass:Q.sliderTooltip,height:this.isMaterial||this.isMaterial3?30:"auto",animation:{open:{effect:"None"},close:{effect:"FadeOut",duration:500}},opensOn:"Custom",beforeOpen:this.tooltipBeforeOpen.bind(this),beforeCollision:this.checkTooltipPosition.bind(this),beforeClose:this.tooltipBeforeClose.bind(this),enableHtmlSanitizer:this.enableHtmlSanitizer}),this.tooltipObj.appendTo(this.firstHandle),this.initializeTooltipProps()},e.prototype.initializeTooltipProps=function(){var t=this.tooltip.showOn==="Auto"?"Hover":this.tooltip.showOn;this.setProperties({tooltip:{showOn:t}},!0),this.tooltipObj.position=this.tooltipPlacement(),this.tooltipCollision(this.tooltipObj.position),[this.firstHandle,this.rangeBar,this.secondHandle].forEach(function(i){u(i)||(i.style.transition="none")}),this.isMaterialTooltip&&(this.sliderContainer.classList.add(Q.materialSlider),this.tooltipValue(),this.tooltipObj.animation.close.effect="None",this.tooltipObj.open(this.firstHandle))},e.prototype.tooltipBeforeClose=function(){this.tooltipElement=void 0,this.tooltipCollidedPosition=void 0},e.prototype.setButtons=function(){this.firstBtn=this.createElement("div",{className:Q.sliderButton+" "+Q.firstButton}),this.firstBtn.appendChild(this.createElement("span",{className:Q.sliderButtonIcon})),this.isTailwind&&this.firstBtn.querySelector("span").classList.add("e-icons"),this.firstBtn.tabIndex=-1,this.secondBtn=this.createElement("div",{className:Q.sliderButton+" "+Q.secondButton}),this.secondBtn.appendChild(this.createElement("span",{className:Q.sliderButtonIcon})),this.isTailwind&&this.secondBtn.querySelector("span").classList.add("e-icons"),this.secondBtn.tabIndex=-1,this.sliderContainer.classList.add(Q.sliderButtonClass),this.sliderContainer.appendChild(this.firstBtn),this.sliderContainer.appendChild(this.secondBtn),this.sliderContainer.appendChild(this.element),this.buttonTitle()},e.prototype.buttonTitle=function(){var t=this.enableRtl&&this.orientation!=="Vertical";this.l10n.setLocale(this.locale);var i=this.l10n.getConstant("decrementTitle"),n=this.l10n.getConstant("incrementTitle");pe(t?this.secondBtn:this.firstBtn,{"aria-label":i,title:i}),pe(t?this.firstBtn:this.secondBtn,{"aria-label":n,title:n})},e.prototype.buttonFocusOut=function(){(this.isMaterial||this.isMaterial3)&&this.getHandle().classList.remove("e-large-thumb-size")},e.prototype.repeatButton=function(t){var i=this.handleValueUpdate(),n=this.enableRtl&&this.orientation!=="Vertical",s;t.target.parentElement.classList.contains(Q.firstButton)||t.target.classList.contains(Q.firstButton)?n?s=this.add(i,parseFloat(this.step.toString()),!0):s=this.add(i,parseFloat(this.step.toString()),!1):(t.target.parentElement.classList.contains(Q.secondButton)||t.target.classList.contains(Q.secondButton))&&(n?s=this.add(i,parseFloat(this.step.toString()),!1):s=this.add(i,parseFloat(this.step.toString()),!0)),this.limits.enabled&&(s=this.getLimitCorrectedValues(s)),s>=this.min&&s<=this.max&&(this.changeHandleValue(s),this.tooltipToggle(this.getHandle()))},e.prototype.repeatHandlerMouse=function(t){t.preventDefault(),(t.type==="mousedown"||t.type==="touchstart")&&(this.buttonClick(t),this.repeatInterval=setInterval(this.repeatButton.bind(this),180,t))},e.prototype.materialChange=function(){this.getHandle().classList.contains("e-large-thumb-size")||this.getHandle().classList.add("e-large-thumb-size")},e.prototype.focusHandle=function(){this.getHandle().classList.contains(Q.sliderTabHandle)||this.getHandle().classList.add(Q.sliderTabHandle)},e.prototype.repeatHandlerUp=function(t){this.changeEvent("changed",t),this.closeTooltip(),clearInterval(this.repeatInterval),this.getHandle().focus()},e.prototype.customTickCounter=function(t){var i=4;return!u(this.customValues)&&this.customValues.length>0&&(t>4&&(i=3),t>7&&(i=2),t>14&&(i=1),t>28&&(i=0)),i},e.prototype.renderScale=function(){var t=0,i=this.orientation==="Vertical"?"v":"h",n;this.noOfDecimals=this.numberOfDecimals(this.step),this.ul=this.createElement("ul",{className:Q.scale+" e-"+i+"-scale "+Q.tick+"-"+this.ticks.placement.toLowerCase(),attrs:{role:"presentation",tabIndex:"-1","aria-hidden":"true"}}),this.ul.style.zIndex="-1",N.isAndroid&&i==="h"&&this.ul.classList.add(Q.sliderTickPosition);var s=this.ticks.smallStep;this.ticks.showSmallTicks?s<=0&&(s=parseFloat(W(this.step))):this.ticks.largeStep>0?s=this.ticks.largeStep:s=parseFloat(W(this.max))-parseFloat(W(this.min));var o=this.fractionalToInteger(this.min),a=this.fractionalToInteger(this.max),l=this.fractionalToInteger(s),h=!u(this.customValues)&&this.customValues.length>0&&this.customValues.length-1,c=this.customTickCounter(h),p=!u(this.customValues)&&this.customValues.length>0?h*c+h:Math.abs((a-o)/l);this.element.appendChild(this.ul);var d,f=parseFloat(this.min.toString());i==="v"&&(f=parseFloat(this.max.toString()));var m=0,g,v=100/p;v===1/0&&(v=5);for(var O=0,C=!u(this.customValues)&&this.customValues.length>0?this.customValues.length-1:0,x=0;O<=p;O++){if(d=this.createElement("li",{attrs:{class:Q.tick,role:"presentation",tabIndex:"-1","aria-hidden":"true"}}),!u(this.customValues)&&this.customValues.length>0)g=O%(c+1)===0,g&&(i==="h"?(f=this.customValues[x],x++):(f=this.customValues[C],C--),d.setAttribute("title",f.toString()));else if(d.setAttribute("title",f.toString()),this.numberOfDecimals(this.max)===0&&this.numberOfDecimals(this.min)===0&&this.numberOfDecimals(this.step)===0)i==="h"?g=(f-parseFloat(this.min.toString()))%this.ticks.largeStep===0:g=Math.abs(f-parseFloat(this.max.toString()))%this.ticks.largeStep===0;else{var M=this.fractionalToInteger(this.ticks.largeStep),k=this.fractionalToInteger(f);i==="h"?g=(k-o)%M===0:g=Math.abs(k-parseFloat(a.toString()))%M===0}g&&d.classList.add(Q.large),i==="h"?d.style.width=v+"%":d.style.height=v+"%";var A=g?this.ticks.placement==="Both"?2:1:0;if(g)for(var j=0;j<A;j++)this.createTick(d,f,v);else u(this.customValues)&&this.formatTicksValue(d,f);this.ul.appendChild(d),this.tickElementCollection.push(d);var U=void 0;u(this.customValues)&&(this.numberOfDecimals(s)>this.numberOfDecimals(f)?U=this.numberOfDecimals(s):U=this.numberOfDecimals(f),i==="h"?f=this.makeRoundNumber(f+s,U):this.min>this.max?f=this.makeRoundNumber(f+s,U):f=this.makeRoundNumber(f-s,U),m=this.makeRoundNumber(m+s,U))}this.ticksAlignment(i,v)},e.prototype.ticksAlignment=function(t,i,n){n===void 0&&(n=!0),this.firstChild=this.ul.firstElementChild,this.lastChild=this.ul.lastElementChild,this.firstChild.classList.add(Q.sliderFirstTick),this.lastChild.classList.add(Q.sliderLastTick),this.sliderContainer.classList.add(Q.scale+"-"+this.ticks.placement.toLowerCase()),t==="h"?(this.firstChild.style.width=i/2+"%",this.lastChild.style.width=i/2+"%"):(this.firstChild.style.height=i/2+"%",this.lastChild.style.height=i/2+"%");var s={ticksWrapper:this.ul,tickElements:this.tickElementCollection};n&&this.trigger("renderedTicks",s),this.scaleAlignment()},e.prototype.createTick=function(t,i,n){var s=this.createElement("span",{className:Q.tickValue+" "+Q.tick+"-"+this.ticks.placement.toLowerCase(),attrs:{role:"presentation",tabIndex:"-1","aria-hidden":"true"}});t.appendChild(s),u(this.customValues)?this.formatTicksValue(t,i,s,n):this.enableHtmlSanitizer?s.innerHTML=pt.sanitize(i.toString()):s.innerHTML=i.toString()},e.prototype.formatTicksValue=function(t,i,n,s){var o=this,a=this.formatNumber(i),l=!u(this.ticks)&&!u(this.ticks.format)?this.formatString(i,this.ticksFormatInfo).formatString:a,h={value:i,text:l,tickElement:t};this.trigger("renderingTicks",h,function(c){t.setAttribute("title",c.text.toString()),n&&(o.enableHtmlSanitizer?n.innerHTML=pt.sanitize(c.text.toString()):n.innerHTML=c.text.toString())})},e.prototype.scaleAlignment=function(){this.tickValuePosition();var t=12,i=20,n=i/2,s=this.orientation==="Vertical"?"v":"h";this.orientation==="Vertical"?this.element.getBoundingClientRect().width<=15?this.sliderContainer.classList.add(Q.sliderSmallSize):this.sliderContainer.classList.remove(Q.sliderSmallSize):this.element.getBoundingClientRect().height<=15?this.sliderContainer.classList.add(Q.sliderSmallSize):this.sliderContainer.classList.remove(Q.sliderSmallSize)},e.prototype.tickValuePosition=function(){this.firstChild=this.element.querySelector("ul").children[0];var t=this.firstChild.getBoundingClientRect(),i,n,s=this.ticks.smallStep,o=Math.abs(parseFloat(W(this.max))-parseFloat(W(this.min)))/s;this.firstChild.children.length>0&&(i=this.firstChild.children[0].getBoundingClientRect());var a=[this.sliderContainer.querySelectorAll("."+Q.tick+"."+Q.large+" ."+Q.tickValue)],l;this.ticks.placement==="Both"?l=[].slice.call(a[0],2):l=[].slice.call(a[0],1);for(var h=this.orientation==="Vertical"?t.height*2:t.width*2,c=0;c<this.firstChild.children.length;c++)this.orientation==="Vertical"?this.firstChild.children[c].style.top=-(i.height/2)+"px":this.enableRtl?this.firstChild.children[c].style.left=(h-this.firstChild.children[c].getBoundingClientRect().width)/2+"px":this.firstChild.children[c].style.left=-(i.width/2)+"px";for(var c=0;c<l.length;c++)n=l[c].getBoundingClientRect(),this.orientation==="Vertical"?he(l[c],{top:(h-n.height)/2+"px"}):he(l[c],{left:(h-n.width)/2+"px"});this.enableRtl&&this.lastChild.children.length&&o!==0&&(this.lastChild.children[0].style.left=-(this.lastChild.getBoundingClientRect().width/2)+"px",this.ticks.placement==="Both"&&(this.lastChild.children[1].style.left=-(this.lastChild.getBoundingClientRect().width/2)+"px")),o===0&&(this.orientation==="Horizontal"&&(this.enableRtl?(this.firstChild.classList.remove(Q.sliderLastTick),this.firstChild.style.right=this.firstHandle.style.right,this.firstChild.children[0].style.left=this.firstChild.getBoundingClientRect().width/2+2+"px",this.ticks.placement==="Both"&&(this.firstChild.children[1].style.left=this.firstChild.getBoundingClientRect().width/2+2+"px")):(this.firstChild.classList.remove(Q.sliderLastTick),this.firstChild.style.left=this.firstHandle.style.left)),this.orientation==="Vertical"&&this.firstChild.classList.remove(Q.sliderLastTick))},e.prototype.setAriaAttrValue=function(t){var i,n=!u(this.ticks)&&!u(this.ticks.format),s=n?this.formatContent(this.tooltipFormatInfo,!1):this.formatContent(this.ticksFormatInfo,!1),o=n?this.formatContent(this.ticksFormatInfo,!0):this.formatContent(this.tooltipFormatInfo,!0);s=this.customAriaText?this.customAriaText:s,s.split(" - ").length===2?i=s.split(" - "):i=[s,s],this.setAriaAttributes(t),this.type!=="Range"?pe(t,{"aria-valuenow":o,"aria-valuetext":s}):this.enableRtl?t===this.firstHandle?pe(t,{"aria-valuenow":o.split(" - ")[1],"aria-valuetext":i[1]}):pe(t,{"aria-valuenow":o.split(" - ")[0],"aria-valuetext":i[0]}):t===this.firstHandle?pe(t,{"aria-valuenow":o.split(" - ")[0],"aria-valuetext":i[0]}):pe(t,{"aria-valuenow":o.split(" - ")[1],"aria-valuetext":i[1]})},e.prototype.handleValueUpdate=function(){var t;return this.type==="Range"?this.activeHandle===1?t=this.handleVal1:t=this.handleVal2:t=this.handleVal1,t},e.prototype.getLimitCorrectedValues=function(t){return this.type==="MinRange"||this.type==="Default"?t=this.getLimitValueAndPosition(t,this.limits.minStart,this.limits.minEnd)[0]:this.activeHandle===1?t=this.getLimitValueAndPosition(t,this.limits.minStart,this.limits.minEnd)[0]:t=this.getLimitValueAndPosition(t,this.limits.maxStart,this.limits.maxEnd)[0],t},e.prototype.focusSliderElement=function(){this.isElementFocused||(this.element.focus(),this.isElementFocused=!0)},e.prototype.buttonClick=function(t){this.focusSliderElement();var i,n=this.enableRtl&&this.orientation!=="Vertical",s=this.handleValueUpdate();t.keyCode===40||t.keyCode===37||t.currentTarget.classList.contains(Q.firstButton)?n?i=this.add(s,parseFloat(this.step.toString()),!0):i=this.add(s,parseFloat(this.step.toString()),!1):t.keyCode===38||t.keyCode===39||t.currentTarget.classList.contains(Q.secondButton)?n?i=this.add(s,parseFloat(this.step.toString()),!1):i=this.add(s,parseFloat(this.step.toString()),!0):t.keyCode===33||t.currentTarget.classList.contains(Q.firstButton)?n?i=this.add(s,parseFloat(this.ticks.largeStep.toString()),!1):i=this.add(s,parseFloat(this.ticks.largeStep.toString()),!0):t.keyCode===34||t.currentTarget.classList.contains(Q.secondButton)?n?i=this.add(s,parseFloat(this.ticks.largeStep.toString()),!0):i=this.add(s,parseFloat(this.ticks.largeStep.toString()),!1):t.keyCode===36?i=parseFloat(this.min<this.max?this.min.toString():this.max.toString()):t.keyCode===35&&(i=parseFloat(this.min<this.max?this.max.toString():this.min.toString())),this.limits.enabled&&(i=this.getLimitCorrectedValues(i)),this.changeHandleValue(i),(this.isMaterial||this.isMaterial3)&&!this.tooltip.isVisible&&!this.getHandle().classList.contains(Q.sliderTabHandle)&&this.materialChange(),this.tooltipToggle(this.getHandle()),this.getHandle().focus(),this.focusHandle(),t.currentTarget.classList.contains(Q.firstButton)&&y.add(this.firstBtn,"mouseup touchend",this.buttonUp,this),t.currentTarget.classList.contains(Q.secondButton)&&y.add(this.secondBtn,"mouseup touchend",this.buttonUp,this)},e.prototype.tooltipToggle=function(t){this.isMaterialTooltip?this.tooltipElement.classList.contains(Q.materialTooltipOpen)?this.refreshTooltip(this.firstHandle):this.openMaterialTooltip():this.tooltipElement?this.refreshTooltip(t):this.openTooltip(t)},e.prototype.buttonUp=function(t){t.currentTarget.classList.contains(Q.firstButton)&&y.remove(this.firstBtn,"mouseup touchend",this.buttonUp),t.currentTarget.classList.contains(Q.secondButton)&&y.remove(this.secondBtn,"mouseup touchend",this.buttonUp)},e.prototype.setRangeBar=function(){this.orientation==="Horizontal"&&!u(this.rangeBar)?this.type==="MinRange"?(this.enableRtl?this.rangeBar.style.right="0px":this.rangeBar.style.left="0px",he(this.rangeBar,{width:u(this.handlePos1)?0:this.handlePos1+"px"})):(this.enableRtl?this.rangeBar.style.right=this.handlePos1+"px":this.rangeBar.style.left=this.handlePos1+"px",he(this.rangeBar,{width:this.handlePos2-this.handlePos1+"px"})):u(this.rangeBar)||(this.type==="MinRange"?(this.rangeBar.style.bottom=this.min>this.max?this.handlePos1+"px":"0px",he(this.rangeBar,{height:u(this.handlePos1)?0:this.min>this.max?this.element.clientHeight-this.handlePos1+"px":this.handlePos1+"px"})):(this.rangeBar.style.bottom=this.min>this.max?this.handlePos2+"px":this.handlePos1+"px",he(this.rangeBar,{height:this.min>this.max?this.handlePos1-this.handlePos2+"px":this.handlePos2-this.handlePos1+"px"})))},e.prototype.checkValidValueAndPos=function(t){return t=this.checkHandleValue(t),t=this.checkHandlePosition(t),t},e.prototype.setLimitBarPositions=function(t,i,n,s){this.orientation==="Horizontal"?this.enableRtl?(this.limitBarFirst.style.right=t+"px",this.limitBarFirst.style.width=i-t+"px"):(this.limitBarFirst.style.left=t+"px",this.limitBarFirst.style.width=i-t+"px"):(this.limitBarFirst.style.bottom=(this.min<this.max?t:i)+"px",this.limitBarFirst.style.height=(this.min<this.max?i-t:t-i)+"px"),this.type==="Range"&&(this.orientation==="Horizontal"?this.enableRtl?(this.limitBarSecond.style.right=n+"px",this.limitBarSecond.style.width=s-n+"px"):(this.limitBarSecond.style.left=n+"px",this.limitBarSecond.style.width=s-n+"px"):(this.limitBarSecond.style.bottom=(this.min<this.max?n:s)+"px",this.limitBarSecond.style.height=(this.min<this.max?s-n:n-s)+"px"))},e.prototype.setLimitBar=function(){if(this.type==="Default"||this.type==="MinRange"){var t=this.getLimitValueAndPosition(this.limits.minStart,this.limits.minStart,this.limits.minEnd,!0)[0];t=this.checkValidValueAndPos(t);var i=this.getLimitValueAndPosition(this.limits.minEnd,this.limits.minStart,this.limits.minEnd,!0)[0];i=this.checkValidValueAndPos(i),this.setLimitBarPositions(t,i)}else if(this.type==="Range"){var n=this.getLimitValueAndPosition(this.limits.minStart,this.limits.minStart,this.limits.minEnd,!0)[0];n=this.checkValidValueAndPos(n);var s=this.getLimitValueAndPosition(this.limits.minEnd,this.limits.minStart,this.limits.minEnd,!0)[0];s=this.checkValidValueAndPos(s);var o=this.getLimitValueAndPosition(this.limits.maxStart,this.limits.maxStart,this.limits.maxEnd,!0)[0];o=this.checkValidValueAndPos(o);var a=this.getLimitValueAndPosition(this.limits.maxEnd,this.limits.maxStart,this.limits.maxEnd,!0)[0];a=this.checkValidValueAndPos(a),this.setLimitBarPositions(n,s,o,a)}},e.prototype.getLimitValueAndPosition=function(t,i,n,s){return u(i)&&(i=this.min<this.max?this.min:this.max,u(t)&&s&&(t=i)),u(n)&&(n=this.min<this.max?this.max:this.min,u(t)&&s&&(t=n)),t<i&&(t=i),t>n&&(t=n),[t,this.checkHandlePosition(t)]},e.prototype.setValue=function(){if(!u(this.customValues)&&this.customValues.length>0&&(this.min=0,this.max=this.customValues.length-1,this.setBarColor()),this.setAriaAttributes(this.firstHandle),this.handleVal1=u(this.value)?this.checkHandleValue(parseFloat(this.min.toString())):this.checkHandleValue(parseFloat(this.value.toString())),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.preHandlePos1=this.handlePos1,u(this.activeHandle)?this.type==="Range"?this.activeHandle=2:this.activeHandle=1:this.activeHandle=this.activeHandle,this.type==="Default"||this.type==="MinRange"){if(this.limits.enabled){var t=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=t[0],this.handlePos1=t[1],this.preHandlePos1=this.handlePos1}this.setHandlePosition(null),this.handleStart(),this.value=this.handleVal1,this.setAriaAttrValue(this.firstHandle),this.changeEvent("changed",null)}else this.validateRangeValue();this.type!=="Default"&&this.setRangeBar(),this.limits.enabled&&this.setLimitBar()},e.prototype.rangeValueUpdate=function(){(this.value===null||typeof this.value!="object")&&(this.value=[parseFloat(W(this.min)),parseFloat(W(this.max))])},e.prototype.validateRangeValue=function(){this.rangeValueUpdate(),this.setRangeValue()},e.prototype.modifyZindex=function(){this.type==="Range"&&!u(this.firstHandle)&&!u(this.secondHandle)?this.activeHandle===1?(this.firstHandle.style.zIndex=this.zIndex+4+"",this.secondHandle.style.zIndex=this.zIndex+3+""):(this.firstHandle.style.zIndex=this.zIndex+3+"",this.secondHandle.style.zIndex=this.zIndex+4+""):this.isMaterialTooltip&&this.tooltipElement&&(this.tooltipElement.style.zIndex=ls(this.element)+"")},e.prototype.setHandlePosition=function(t){var i=this,n,s=this.activeHandle===1?this.handlePos1:this.handlePos2;this.isMaterialTooltip?n=[this.firstHandle,this.materialHandle]:n=[this.getHandle()],this.handleStart(),n.forEach(function(o){i.orientation==="Horizontal"?i.enableRtl?o.style.right=s+"px":o.style.left=s+"px":o.style.bottom=s+"px"}),this.changeEvent("change",t)},e.prototype.getHandle=function(){return this.activeHandle===1?this.firstHandle:this.secondHandle},e.prototype.setRangeValue=function(){this.updateRangeValue(),this.activeHandle=1,this.setHandlePosition(null),this.activeHandle=2,this.setHandlePosition(null),this.activeHandle=1},e.prototype.changeEvent=function(t,i){var n=t==="change"?this.previousVal:this.previousChanged;if(this.type!=="Range")this.setProperties({value:this.handleVal1},!0),n!==this.value&&(!this.isMaterialTooltip||!this.initialTooltip)&&(this.trigger(t,this.changeEventArgs(t,i)),this.initialTooltip=!0,this.setPreviousVal(t,this.value)),this.setAriaAttrValue(this.firstHandle);else{var s=this.value=[this.handleVal1,this.handleVal2];this.setProperties({value:s},!0),(n.length===this.value.length&&this.value[0]!==n[0]||this.value[1]!==n[1])&&(this.initialTooltip=!1,this.trigger(t,this.changeEventArgs(t,i)),this.initialTooltip=!0,this.setPreviousVal(t,this.value)),this.setAriaAttrValue(this.getHandle())}this.hiddenInput.value=this.value.toString()},e.prototype.changeEventArgs=function(t,i){var n;return this.tooltip.isVisible&&this.tooltipObj&&this.initialTooltip?(this.tooltipValue(),n={value:this.value,previousValue:t==="change"?this.previousVal:this.previousChanged,action:t,text:typeof this.tooltipObj.content=="function"?this.tooltipObj.content():this.tooltipObj.content,isInteracted:!u(i)}):n={value:this.value,previousValue:t==="change"?this.previousVal:this.previousChanged,action:t,text:u(this.ticksFormatInfo.format)?this.value.toString():this.type!=="Range"?this.formatString(this.value,this.ticksFormatInfo).formatString:this.formatString(this.value[0],this.ticksFormatInfo).formatString+" - "+this.formatString(this.value[1],this.ticksFormatInfo).formatString,isInteracted:!u(i)},n},e.prototype.setPreviousVal=function(t,i){t==="change"?this.previousVal=i:this.previousChanged=i},e.prototype.updateRangeValue=function(){var t=this.value.toString().split(",").map(Number);if(this.enableRtl&&this.orientation!=="Vertical"||this.rtl?this.value=[t[1],t[0]]:this.value=[t[0],t[1]],this.enableRtl&&this.orientation!=="Vertical"?(this.handleVal1=this.checkHandleValue(this.value[1]),this.handleVal2=this.checkHandleValue(this.value[0])):(this.handleVal1=this.checkHandleValue(this.value[0]),this.handleVal2=this.checkHandleValue(this.value[1])),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handlePos2=this.checkHandlePosition(this.handleVal2),this.min<this.max&&this.handlePos1>this.handlePos2&&(this.handlePos1=this.handlePos2,this.handleVal1=this.handleVal2),this.min>this.max&&this.handlePos1<this.handlePos2&&(this.handlePos2=this.handlePos1,this.handleVal2=this.handleVal1),this.preHandlePos1=this.handlePos1,this.preHandlePos2=this.handlePos2,this.limits.enabled){this.activeHandle=1;var i=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=i[0],this.handlePos1=i[1],this.preHandlePos1=this.handlePos1,this.activeHandle=2,i=this.getLimitValueAndPosition(this.handleVal2,this.limits.maxStart,this.limits.maxEnd),this.handleVal2=i[0],this.handlePos2=i[1],this.preHandlePos2=this.handlePos2}},e.prototype.checkHandlePosition=function(t){var i;return t=100*(t-parseFloat(W(this.min)))/(parseFloat(W(this.max))-parseFloat(W(this.min))),this.orientation==="Horizontal"?i=this.element.getBoundingClientRect().width*(t/100):i=this.element.getBoundingClientRect().height*(t/100),parseFloat(W(this.max))===parseFloat(W(this.min))&&(this.orientation==="Horizontal"?i=this.element.getBoundingClientRect().width:i=this.element.getBoundingClientRect().height),i},e.prototype.checkHandleValue=function(t){if(this.min===this.max)return parseFloat(W(this.max));var i=this.tempStartEnd();return t<i.start?t=i.start:t>i.end&&(t=i.end),t},e.prototype.reposition=function(){var t=this;u(this.firstHandle)||(this.firstHandle.style.transition="none"),this.type!=="Default"&&!u(this.rangeBar)&&(this.rangeBar.style.transition="none"),this.type==="Range"&&!u(this.secondHandle)&&(this.secondHandle.style.transition="none"),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handleVal2&&(this.handlePos2=this.checkHandlePosition(this.handleVal2)),this.orientation==="Horizontal"?(this.enableRtl?this.firstHandle.style.right=this.handlePos1+"px":this.firstHandle.style.left=this.handlePos1+"px",this.isMaterialTooltip&&!u(this.materialHandle)&&(this.enableRtl?this.materialHandle.style.right=this.handlePos1+"px":this.materialHandle.style.left=this.handlePos1+"px"),this.type==="MinRange"&&!u(this.rangeBar)?(this.enableRtl?this.rangeBar.style.right="0px":this.rangeBar.style.left="0px",he(this.rangeBar,{width:u(this.handlePos1)?0:this.handlePos1+"px"})):this.type==="Range"&&!u(this.secondHandle)&&!u(this.rangeBar)&&(this.enableRtl?this.secondHandle.style.right=this.handlePos2+"px":this.secondHandle.style.left=this.handlePos2+"px",this.enableRtl?this.rangeBar.style.right=this.handlePos1+"px":this.rangeBar.style.left=this.handlePos1+"px",he(this.rangeBar,{width:this.handlePos2-this.handlePos1+"px"}))):(this.firstHandle.style.bottom=this.handlePos1+"px",this.isMaterialTooltip&&(this.materialHandle.style.bottom=this.handlePos1+"px"),this.type==="MinRange"?(this.rangeBar.style.bottom=this.min>this.max?this.handlePos1+"px":"0px",he(this.rangeBar,{height:u(this.handlePos1)?0:this.min>this.max?this.element.clientHeight-this.handlePos1+"px":this.handlePos1+"px"})):this.type==="Range"&&(this.secondHandle.style.bottom=this.handlePos2+"px",this.rangeBar.style.bottom=this.min>this.max?this.handlePos2+"px":this.handlePos1+"px",he(this.rangeBar,{height:this.min>this.max?this.handlePos1-this.handlePos2+"px":this.handlePos2-this.handlePos1+"px"}))),this.limits.enabled&&this.setLimitBar(),this.ticks.placement!=="None"&&this.ul&&(this.removeElement(this.ul),this.ul=void 0,this.renderScale()),this.handleStart(),this.tooltip.isVisible||setTimeout(function(){u(t.firstHandle)||(t.firstHandle.style.transition=t.scaleTransform),t.type==="Range"&&!u(t.secondHandle)&&(t.secondHandle.style.transition=t.scaleTransform)}),this.refreshTooltip(this.tooltipTarget),this.setBarColor()},e.prototype.changeHandleValue=function(t){var i=null;this.activeHandle===1?(this.limits.enabled&&this.limits.startHandleFixed||(this.handleVal1=this.checkHandleValue(t),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.type==="Range"&&(this.handlePos1>this.handlePos2&&this.min<this.max||this.handlePos1<this.handlePos2&&this.min>this.max)&&(this.handlePos1=this.handlePos2,this.handleVal1=this.handleVal2),this.handlePos1!==this.preHandlePos1&&(i=this.preHandlePos1=this.handlePos1)),this.modifyZindex()):(this.limits.enabled&&this.limits.endHandleFixed||(this.handleVal2=this.checkHandleValue(t),this.handlePos2=this.checkHandlePosition(this.handleVal2),this.type==="Range"&&(this.handlePos2<this.handlePos1&&this.min<this.max||this.handlePos2>this.handlePos1&&this.min>this.max)&&(this.handlePos2=this.handlePos1,this.handleVal2=this.handleVal1),this.handlePos2!==this.preHandlePos2&&(i=this.preHandlePos2=this.handlePos2)),this.modifyZindex()),i!==null&&(this.type!=="Default"&&this.setRangeBar(),this.setHandlePosition(null))},e.prototype.tempStartEnd=function(){return this.min>this.max?{start:this.max,end:this.min}:{start:this.min,end:this.max}},e.prototype.xyToPosition=function(t){var i;if(this.min===this.max)return 100;if(this.orientation==="Horizontal"){var n=t.x-this.element.getBoundingClientRect().left,s=this.element.offsetWidth/100;this.val=n/s}else{var o=t.y-this.element.getBoundingClientRect().top,s=this.element.offsetHeight/100;this.val=100-o/s}var a=this.stepValueCalculation(this.val);return a<0?a=0:a>100&&(a=100),this.enableRtl&&this.orientation!=="Vertical"&&(a=100-a),this.orientation==="Horizontal"?i=this.element.getBoundingClientRect().width*(a/100):i=this.element.getBoundingClientRect().height*(a/100),i},e.prototype.stepValueCalculation=function(t){this.step===0&&(this.step=1);var i=parseFloat(W(this.step))/((parseFloat(W(this.max))-parseFloat(W(this.min)))/100),n=t%Math.abs(i);return n!==0&&(i/2>n?t-=n:t+=Math.abs(i)-n),t},e.prototype.add=function(t,i,n){var s,o=Math.pow(10,s||3),a;return n?a=(Math.round(t*o)+Math.round(i*o))/o:a=(Math.round(t*o)-Math.round(i*o))/o,a},e.prototype.positionToValue=function(t){var i,n=parseFloat(W(this.max))-parseFloat(W(this.min));this.orientation==="Horizontal"?i=t/this.element.getBoundingClientRect().width*n:i=t/this.element.getBoundingClientRect().height*n;var s=this.add(i,parseFloat(this.min.toString()),!0);return s},e.prototype.sliderBarClick=function(t){t.preventDefault();var i;t.type==="mousedown"||t.type==="mouseup"||t.type==="click"?i={x:t.clientX,y:t.clientY}:(t.type==="touchend"||t.type==="touchstart")&&(i={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY});var n=this.xyToPosition(i),s=this.positionToValue(n);if(this.type==="Range"&&(this.min<this.max&&this.handlePos2-n<n-this.handlePos1||this.min>this.max&&this.handlePos1-n>n-this.handlePos2)){if(this.activeHandle=2,!(this.limits.enabled&&this.limits.endHandleFixed)){if(this.limits.enabled){var o=this.getLimitValueAndPosition(s,this.limits.maxStart,this.limits.maxEnd);s=o[0],n=o[1]}this.secondHandle.classList.add(Q.sliderActiveHandle),this.handlePos2=this.preHandlePos2=n,this.handleVal2=s}this.modifyZindex(),this.secondHandle.focus()}else{if(this.activeHandle=1,!(this.limits.enabled&&this.limits.startHandleFixed)){if(this.limits.enabled){var o=this.getLimitValueAndPosition(s,this.limits.minStart,this.limits.minEnd);s=o[0],n=o[1]}this.firstHandle.classList.add(Q.sliderActiveHandle),this.handlePos1=this.preHandlePos1=n,this.handleVal1=s}this.modifyZindex(),this.firstHandle.focus()}this.isMaterialTooltip&&this.tooltipElement.classList.add(Q.materialTooltipActive);var a=this.element.querySelector("."+Q.sliderTabHandle);a&&this.getHandle()!==a&&a.classList.remove(Q.sliderTabHandle);var l=this.activeHandle===1?this.firstHandle:this.secondHandle,h;if((t.type==="click"||t.type==="mousedown")&&t.target===l){var c=t.clientX,p=t.clientY;h=document.elementFromPoint(c,p)}if(t.target===l&&h!=l){(this.isMaterial||this.isMaterial3)&&!this.tooltip.isVisible&&!this.getHandle().classList.contains(Q.sliderTabHandle)&&this.materialChange(),this.sliderBarUp(t),this.tooltipToggle(this.getHandle());return}if(this.checkRepeatedValue(s)){var d=(this.isMaterial||this.isMaterial3)&&this.tooltip.isVisible?this.transitionOnMaterialTooltip:this.transition;this.getHandle().style.transition=d.handle,this.type!=="Default"&&(this.rangeBar.style.transition=d.rangeBar),this.setHandlePosition(t),this.isMaterialTooltip&&(this.initialTooltip=!1),t.target!=l&&this.changeEvent("changed",t),this.type!=="Default"&&this.setRangeBar()}},e.prototype.handleValueAdjust=function(t,i,n){n===1?(this.handleVal1=i,this.handleVal2=this.handleVal1+this.minDiff):n===2&&(this.handleVal2=i,this.handleVal1=this.handleVal2-this.minDiff),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handlePos2=this.checkHandlePosition(this.handleVal2)},e.prototype.dragRangeBarMove=function(t){var i,n;t.type!=="touchmove"&&t.preventDefault(),this.rangeBarDragged=!0;var s;this.rangeBar.style.transition="none",this.firstHandle.style.transition="none",this.secondHandle.style.transition="none";var o,a;if(t.type==="mousemove"?(i=[t.clientX,t.clientY],o=i[0],a=i[1]):(n=[t.changedTouches[0].clientX,t.changedTouches[0].clientY],o=n[0],a=n[1]),!(this.limits.enabled&&this.limits.startHandleFixed)&&!(this.limits.enabled&&this.limits.endHandleFixed)){if(this.enableRtl?s={x:o+this.secondPartRemain,y:a+this.secondPartRemain}:s={x:o-this.firstPartRemain,y:a+this.secondPartRemain},this.min>this.max?(this.handlePos2=this.xyToPosition(s),this.handleVal2=this.positionToValue(this.handlePos2)):(this.handlePos1=this.xyToPosition(s),this.handleVal1=this.positionToValue(this.handlePos1)),this.enableRtl?s={x:o-this.firstPartRemain,y:a-this.firstPartRemain}:s={x:o+this.secondPartRemain,y:a-this.firstPartRemain},this.min>this.max?(this.handlePos1=this.xyToPosition(s),this.handleVal1=this.positionToValue(this.handlePos1)):(this.handlePos2=this.xyToPosition(s),this.handleVal2=this.positionToValue(this.handlePos2)),this.limits.enabled){var l=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=l[0],this.handlePos1=l[1],this.handleVal1===this.limits.minEnd&&this.handleValueAdjust(this.handleVal1,this.limits.minEnd,1),this.handleVal1===this.limits.minStart&&this.handleValueAdjust(this.handleVal1,this.limits.minStart,1),l=this.getLimitValueAndPosition(this.handleVal2,this.limits.maxStart,this.limits.maxEnd),this.handleVal2=l[0],this.handlePos2=l[1],this.handleVal2===this.limits.maxStart&&this.handleValueAdjust(this.handleVal2,this.limits.maxStart,2),this.handleVal2===this.limits.maxEnd&&this.handleValueAdjust(this.handleVal2,this.limits.maxEnd,2)}this.handleVal2===(this.min>this.max?this.min:this.max)&&this.handleValueAdjust(this.handleVal2,this.min>this.max?this.min:this.max,2),this.handleVal1===(this.min>this.max?this.max:this.min)&&this.handleValueAdjust(this.handleVal1,this.min>this.max?this.max:this.min,1)}this.activeHandle=1,this.setHandlePosition(t),this.activeHandle=2,this.setHandlePosition(t),this.tooltipToggle(this.rangeBar),this.setRangeBar()},e.prototype.sliderBarUp=function(t){this.changeEvent("changed",t),this.handleFocusOut(),this.firstHandle.classList.remove(Q.sliderActiveHandle),this.type==="Range"&&(this.initialTooltip=!1,this.secondHandle.classList.remove(Q.sliderActiveHandle)),this.closeTooltip(),(this.isMaterial||this.isMaterial3)&&(this.getHandle().classList.remove("e-large-thumb-size"),this.isMaterialTooltip&&this.tooltipElement.classList.remove(Q.materialTooltipActive)),y.remove(document,"mousemove touchmove",this.sliderBarMove),y.remove(document,"mouseup touchend",this.sliderBarUp)},e.prototype.sliderBarMove=function(t){t.type!=="touchmove"&&t.preventDefault();var i;t.type==="mousemove"?i={x:t.clientX,y:t.clientY}:i={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY};var n=this.xyToPosition(i),s=this.positionToValue(n);if(n=Math.round(n),this.type!=="Range"&&this.activeHandle===1){if(!(this.limits.enabled&&this.limits.startHandleFixed)){if(this.limits.enabled){var o=this.getLimitValueAndPosition(s,this.limits.minStart,this.limits.minEnd);n=o[1],s=o[0]}this.handlePos1=n,this.handleVal1=s}this.firstHandle.classList.add(Q.sliderActiveHandle)}if(this.type==="Range"){if(this.activeHandle===1){if(this.firstHandle.classList.add(Q.sliderActiveHandle),!(this.limits.enabled&&this.limits.startHandleFixed)&&((this.min<this.max&&n>this.handlePos2||this.min>this.max&&n<this.handlePos2)&&(n=this.handlePos2,s=this.handleVal2),n!==this.preHandlePos1)){if(this.limits.enabled){var a=this.getLimitValueAndPosition(s,this.limits.minStart,this.limits.minEnd);s=a[0],n=a[1]}this.handlePos1=this.preHandlePos1=n,this.handleVal1=s,this.activeHandle=1}}else if(this.activeHandle===2&&(this.secondHandle.classList.add(Q.sliderActiveHandle),!(this.limits.enabled&&this.limits.endHandleFixed)&&((this.min<this.max&&n<this.handlePos1||this.min>this.max&&n>this.handlePos1)&&(n=this.handlePos1,s=this.handleVal1),n!==this.preHandlePos2))){if(this.limits.enabled){var a=this.getLimitValueAndPosition(s,this.limits.maxStart,this.limits.maxEnd);s=a[0],n=a[1]}this.handlePos2=this.preHandlePos2=n,this.handleVal2=s,this.activeHandle=2}}this.checkRepeatedValue(s)&&(this.getHandle().style.transition=this.scaleTransform,this.type!=="Default"&&(this.rangeBar.style.transition="none"),this.setHandlePosition(t),(this.isMaterial||this.isMaterial3)&&!this.tooltip.isVisible&&!this.getHandle().classList.contains(Q.sliderTabHandle)&&this.materialChange(),this.tooltipToggle(this.getHandle()),this.type!=="Default"&&this.setRangeBar())},e.prototype.dragRangeBarUp=function(t){this.rangeBarDragged?this.isDragComplete=!0:(this.focusSliderElement(),this.sliderBarClick(t)),this.changeEvent("changed",t),this.closeTooltip(),y.remove(document,"mousemove touchmove",this.dragRangeBarMove),y.remove(document,"mouseup touchend",this.dragRangeBarUp),this.rangeBarDragged=!1},e.prototype.checkRepeatedValue=function(t){if(this.type==="Range"){var i=this.enableRtl&&this.orientation!=="Vertical"?this.activeHandle===1?this.previousVal[1]:this.previousVal[0]:this.activeHandle===1?this.previousVal[0]:this.previousVal[1];if(t===i)return 0}else if(t===this.previousVal)return 0;return 1},e.prototype.refreshTooltip=function(t){this.tooltip.isVisible&&this.tooltipObj&&(this.tooltipValue(),t&&(this.tooltipObj.refresh(t),this.tooltipTarget=t))},e.prototype.openTooltip=function(t){this.tooltip.isVisible&&this.tooltipObj&&!this.isMaterialTooltip&&(this.tooltipValue(),this.tooltipObj.open(t),this.tooltipTarget=t)},e.prototype.closeTooltip=function(){this.tooltip.isVisible&&this.tooltipObj&&this.tooltip.showOn!=="Always"&&!this.isMaterialTooltip&&(this.tooltipValue(),this.tooltipObj.close(),this.tooltipTarget=void 0)},e.prototype.keyDown=function(t){switch(t.keyCode){case 37:case 38:case 39:case 40:case 33:case 34:case 36:case 35:t.preventDefault(),this.buttonClick(t);break}},e.prototype.wireButtonEvt=function(t){t?(y.remove(this.firstBtn,"mouseleave touchleave",this.buttonFocusOut),y.remove(this.secondBtn,"mouseleave touchleave",this.buttonFocusOut),y.remove(this.firstBtn,"mousedown touchstart",this.repeatHandlerMouse),y.remove(this.firstBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp),y.remove(this.secondBtn,"mousedown touchstart",this.repeatHandlerMouse),y.remove(this.secondBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp),y.remove(this.firstBtn,"focusout",this.sliderFocusOut),y.remove(this.secondBtn,"focusout",this.sliderFocusOut)):(y.add(this.firstBtn,"mouseleave touchleave",this.buttonFocusOut,this),y.add(this.secondBtn,"mouseleave touchleave",this.buttonFocusOut,this),y.add(this.firstBtn,"mousedown touchstart",this.repeatHandlerMouse,this),y.add(this.firstBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp,this),y.add(this.secondBtn,"mousedown touchstart",this.repeatHandlerMouse,this),y.add(this.secondBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp,this),y.add(this.firstBtn,"focusout",this.sliderFocusOut,this),y.add(this.secondBtn,"focusout",this.sliderFocusOut,this))},e.prototype.rangeBarMousedown=function(t){var i,n;if(t.preventDefault(),this.focusSliderElement(),this.type==="Range"&&this.drag&&t.target===this.rangeBar){var s=void 0,o=void 0;t.type==="mousedown"?(i=[t.clientX,t.clientY],s=i[0],o=i[1]):t.type==="touchstart"&&(n=[t.changedTouches[0].clientX,t.changedTouches[0].clientY],s=n[0],o=n[1]),this.orientation==="Horizontal"?(this.firstPartRemain=s-this.rangeBar.getBoundingClientRect().left,this.secondPartRemain=this.rangeBar.getBoundingClientRect().right-s):(this.firstPartRemain=o-this.rangeBar.getBoundingClientRect().top,this.secondPartRemain=this.rangeBar.getBoundingClientRect().bottom-o),this.minDiff=this.handleVal2-this.handleVal1,this.tooltipToggle(this.rangeBar);var a=this.element.querySelector("."+Q.sliderTabHandle);a&&a.classList.remove(Q.sliderTabHandle),y.add(document,"mousemove touchmove",this.dragRangeBarMove,this),y.add(document,"mouseup touchend",this.dragRangeBarUp,this)}},e.prototype.elementClick=function(t){if(this.isDragComplete){this.isDragComplete=!1;return}t.preventDefault(),this.focusSliderElement(),this.sliderBarClick(t),this.focusHandle()},e.prototype.wireEvents=function(){this.onresize=this.reposition.bind(this),window.addEventListener("resize",this.onresize),this.enabled&&!this.readonly&&(y.add(this.element,"click",this.elementClick,this),this.type==="Range"&&this.drag&&y.add(this.rangeBar,"mousedown touchstart",this.rangeBarMousedown,this),y.add(this.sliderContainer,"keydown",this.keyDown,this),y.add(this.sliderContainer,"keyup",this.keyUp,this),y.add(this.element,"focusout",this.sliderFocusOut,this),y.add(this.sliderContainer,"mouseover mouseout touchstart touchend",this.hover,this),this.wireFirstHandleEvt(!1),this.type==="Range"&&this.wireSecondHandleEvt(!1),this.showButtons&&this.wireButtonEvt(!1),this.wireMaterialTooltipEvent(!1),this.isForm&&y.add(this.formElement,"reset",this.formResetHandler,this))},e.prototype.unwireEvents=function(){y.remove(this.element,"click",this.elementClick),this.type==="Range"&&this.drag&&y.remove(this.rangeBar,"mousedown touchstart",this.rangeBarMousedown),y.remove(this.sliderContainer,"keydown",this.keyDown),y.remove(this.sliderContainer,"keyup",this.keyUp),y.remove(this.element,"focusout",this.sliderFocusOut),y.remove(this.sliderContainer,"mouseover mouseout touchstart touchend",this.hover),this.wireFirstHandleEvt(!0),this.type==="Range"&&this.wireSecondHandleEvt(!0),this.showButtons&&this.wireButtonEvt(!0),this.wireMaterialTooltipEvent(!0),y.remove(this.element,"reset",this.formResetHandler)},e.prototype.formResetHandler=function(){this.setProperties({value:this.formResetValue},!0),this.setValue()},e.prototype.keyUp=function(t){if(t.keyCode===9&&t.target.classList.contains(Q.sliderHandle)&&(this.focusSliderElement(),!t.target.classList.contains(Q.sliderTabHandle))){this.element.querySelector("."+Q.sliderTabHandle)&&this.element.querySelector("."+Q.sliderTabHandle).classList.remove(Q.sliderTabHandle),t.target.classList.add(Q.sliderTabHandle);var i=t.target.parentElement;i===this.element&&(i.querySelector("."+Q.sliderTrack).classList.add(Q.sliderTabTrack),(this.type==="Range"||this.type==="MinRange")&&i.querySelector("."+Q.rangeBar).classList.add(Q.sliderTabRange)),this.type==="Range"&&(t.target.previousSibling.classList.contains(Q.sliderHandle)?this.activeHandle=2:this.activeHandle=1),this.getHandle().focus(),this.tooltipToggle(this.getHandle())}this.closeTooltip(),this.changeEvent("changed",t)},e.prototype.hover=function(t){if(!u(t))if(t.type==="mouseover"||t.type==="touchmove"||t.type==="mousemove"||t.type==="pointermove"||t.type==="touchstart")this.sliderContainer.classList.add(Q.sliderHover);else{this.sliderContainer.classList.remove(Q.sliderHover);var i=t.currentTarget;this.tooltip.isVisible&&this.tooltip.showOn!=="Always"&&this.tooltipObj&&this.isMaterialTooltip&&!i.classList.contains(Q.sliderHandleFocused)&&!i.classList.contains(Q.sliderTabHandle)&&this.closeMaterialTooltip()}},e.prototype.sliderFocusOut=function(t){t.relatedTarget!==this.secondHandle&&t.relatedTarget!==this.firstHandle&&t.relatedTarget!==this.element&&t.relatedTarget!==this.firstBtn&&t.relatedTarget!==this.secondBtn&&(this.closeMaterialTooltip(),this.closeTooltip(),this.element.querySelector("."+Q.sliderTabHandle)&&this.element.querySelector("."+Q.sliderTabHandle).classList.remove(Q.sliderTabHandle),this.element.querySelector("."+Q.sliderTabTrack)&&(this.element.querySelector("."+Q.sliderTabTrack).classList.remove(Q.sliderTabTrack),(this.type==="Range"||this.type==="MinRange")&&this.element.querySelector("."+Q.sliderTabRange)&&this.element.querySelector("."+Q.sliderTabRange).classList.remove(Q.sliderTabRange)),this.hiddenInput.focus(),this.hiddenInput.blur(),this.isElementFocused=!1)},e.prototype.removeElement=function(t){t.parentNode&&t.parentNode.removeChild(t)},e.prototype.changeSliderType=function(t,i){this.isMaterialTooltip&&this.materialHandle&&(this.sliderContainer.classList.remove(Q.materialSlider),this.removeElement(this.materialHandle),this.materialHandle=void 0),this.removeElement(this.firstHandle),this.firstHandle=void 0,t!=="Default"&&(t==="Range"&&(this.removeElement(this.secondHandle),this.secondHandle=void 0),this.removeElement(this.rangeBar),this.rangeBar=void 0),this.tooltip.isVisible&&!u(this.tooltipObj)&&(this.tooltipObj.destroy(),this.tooltipElement=void 0,this.tooltipCollidedPosition=void 0),this.limits.enabled&&(t==="MinRange"||t==="Default"?u(this.limitBarFirst)||(this.removeElement(this.limitBarFirst),this.limitBarFirst=void 0):u(this.limitBarSecond)||(this.removeElement(this.limitBarSecond),this.limitBarSecond=void 0)),this.activeHandle=1,this.getThemeInitialization(),this.type==="Range"&&this.rangeValueUpdate(),this.createRangeBar(),this.limits.enabled&&this.createLimitBar(),this.setHandler(),this.setOrientClass(),this.wireFirstHandleEvt(!1),this.type==="Range"&&this.wireSecondHandleEvt(!1),this.setValue(),this.tooltip.isVisible&&(this.renderTooltip(),this.wireMaterialTooltipEvent(!1)),this.setBarColor(),i!=="tooltip"&&this.updateConfig()},e.prototype.changeRtl=function(){if(!this.enableRtl&&this.type==="Range"&&(this.value=[this.handleVal2,this.handleVal1]),this.updateConfig(),this.tooltip.isVisible&&this.tooltipObj.refresh(this.firstHandle),this.showButtons){var t=this.enableRtl&&this.orientation!=="Vertical";pe(t?this.secondBtn:this.firstBtn,{"aria-label":"Decrease",title:"Decrease"}),pe(t?this.firstBtn:this.secondBtn,{"aria-label":"Increase",title:"Increase"})}},e.prototype.changeOrientation=function(){this.changeSliderType(this.type,"null")},e.prototype.updateConfig=function(){this.setEnableRTL(),this.setValue(),this.tooltip.isVisible&&this.refreshTooltip(this.tooltipTarget),this.ticks.placement!=="None"&&this.ul&&(this.removeElement(this.ul),this.ul=void 0,this.renderScale()),this.limitsPropertyChange()},e.prototype.limitsPropertyChange=function(){this.limits.enabled?(u(this.limitBarFirst)&&this.type!=="Range"&&this.createLimitBar(),u(this.limitBarFirst)&&u(this.limitBarSecond)&&this.type==="Range"&&this.createLimitBar(),this.setLimitBar(),this.setValue()):(u(this.limitBarFirst)||w(this.limitBarFirst),u(this.limitBarSecond)||w(this.limitBarSecond))},e.prototype.getPersistData=function(){var t=["value"];return this.addOnPersist(t)},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.unwireEvents(),window.removeEventListener("resize",this.onresize),L([this.sliderContainer],[Q.sliderDisabled]),this.firstHandle.removeAttribute("aria-orientation"),this.type==="Range"&&this.secondHandle.removeAttribute("aria-orientation"),this.sliderContainer.parentNode.insertBefore(this.element,this.sliderContainer),w(this.sliderContainer),this.tooltip.isVisible&&this.tooltipObj.destroy(),this.element.innerHTML="",this.hiddenInput=null,this.sliderContainer=null,this.sliderTrack=null,this.rangeBar=null,this.firstHandle=null,this.secondHandle=null,this.tickElementCollection=null,this.ul=null,this.firstBtn=null,this.secondBtn=null,this.materialHandle=null,this.tooltipObj=null,this.tooltipTarget=null,this.limitBarFirst=null,this.limitBarSecond=null,this.firstChild=null,this.lastChild=null,this.tooltipElement=null},e.prototype.onPropertyChanged=function(t,i){for(var n=this,s=0,o=Object.keys(t);s<o.length;s++){var a=o[s];switch(a){case"cssClass":this.setCSSClass(i.cssClass);break;case"value":if(t&&i){var l=u(t.value)?this.type==="Range"?[this.min,this.max]:this.min:t.value;this.setProperties({value:l},!0),!u(i.value)&&i.value.toString()!==l.toString()&&(this.setValue(),this.refreshTooltip(this.tooltipTarget),this.type==="Range"&&(u(t.value)||i.value[1]===l[1]?this.activeHandle=1:this.activeHandle=2))}break;case"min":case"step":case"max":this.setMinMaxValue();break;case"tooltip":!u(t.tooltip)&&!u(i.tooltip)&&(this.setTooltip(a),this.showButtons||this.wireEvents());break;case"type":!u(i)&&Object.keys(i).length&&!u(i.type)&&(this.changeSliderType(i.type,a),this.setZindex());break;case"enableRtl":i.enableRtl!==t.enableRtl&&this.orientation!=="Vertical"&&(this.rtl=i.enableRtl,this.changeRtl());break;case"limits":this.limitsPropertyChange();break;case"orientation":this.changeOrientation();break;case"ticks":u(this.sliderContainer.querySelector("."+Q.scale))||(w(this.ul),Array.prototype.forEach.call(this.sliderContainer.classList,function(h){h.match(/e-scale-/)&&n.sliderContainer.classList.remove(h)})),this.ticks.placement!=="None"&&(this.renderScale(),this.setZindex());break;case"locale":this.showButtons&&this.buttonTitle();break;case"showButtons":t.showButtons?(this.setButtons(),this.reposition(),this.enabled&&!this.readonly&&this.wireButtonEvt(!1)):this.firstBtn&&this.secondBtn&&(this.sliderContainer.removeChild(this.firstBtn),this.sliderContainer.removeChild(this.secondBtn),this.sliderContainer.classList.remove(Q.sliderButtonClass),this.firstBtn=void 0,this.secondBtn=void 0,this.reposition());break;case"enabled":this.setEnabled();break;case"readonly":this.setReadOnly();break;case"customValues":this.setValue(),this.reposition();break;case"colorRange":this.reposition();break;case"width":this.setElementWidth(t.width),this.setMinMaxValue(),this.limits&&this.limitsPropertyChange();break}}},e.prototype.setReadOnly=function(){this.readonly?(this.unwireEvents(),this.sliderContainer.classList.add(Q.readonly)):(this.wireEvents(),this.sliderContainer.classList.remove(Q.readonly))},e.prototype.setMinMaxValue=function(){var t=this;this.setValue(),this.refreshTooltip(this.tooltipTarget),u(this.sliderContainer.querySelector("."+Q.scale))||this.ul&&(w(this.ul),Array.prototype.forEach.call(this.sliderContainer.classList,function(i){i.match(/e-scale-/)&&t.sliderContainer.classList.remove(i)})),this.ticks.placement!=="None"&&(this.renderScale(),this.setZindex())},e.prototype.setZindex=function(){this.zIndex=6,!u(this.ticks)&&this.ticks.placement!=="None"&&!u(this.ul)&&!u(this.element)&&(this.ul.style.zIndex=this.zIndex+-7+"",this.element.style.zIndex=this.zIndex+2+""),!this.isMaterial&&!this.isMaterial3&&!u(this.ticks)&&this.ticks.placement==="Both"&&(this.element.style.zIndex=this.zIndex+2+""),u(this.firstHandle)||(this.firstHandle.style.zIndex=this.zIndex+3+""),this.type==="Range"&&!u(this.secondHandle)&&(this.secondHandle.style.zIndex=this.zIndex+4+"")},e.prototype.setTooltip=function(t){this.changeSliderType(this.type,t)},e.prototype.setBarColor=function(){for(var t,i,n=this.sliderTrack.lastElementChild;n;)this.sliderTrack.removeChild(n),n=this.sliderTrack.lastElementChild;for(var s=0;s<this.colorRange.length;s++)if(!u(this.colorRange[s].start)&&!u(this.colorRange[s].end)&&this.colorRange[s].end>this.colorRange[s].start){this.colorRange[s].start<this.min&&(this.colorRange[s].start=this.min),this.colorRange[s].end>this.max&&(this.colorRange[s].end=this.max);var o=this.checkHandlePosition(this.colorRange[s].start),a=this.checkHandlePosition(this.colorRange[s].end),l=this.createElement("div");l.style.backgroundColor=this.colorRange[s].color,l.style.border="1px solid "+this.colorRange[s].color,this.orientation==="Horizontal"?(i=Q.sliderHorizantalColor,this.enableRtl?u(this.customValues)?t=this.checkHandlePosition(this.max)-this.checkHandlePosition(this.colorRange[s].end):t=this.checkHandlePosition(this.customValues.length-this.colorRange[s].end-1):t=this.checkHandlePosition(this.colorRange[s].start),l.style.width=a-o+"px",l.style.left=t+"px"):(i=Q.sliderVerticalColor,t=this.checkHandlePosition(this.colorRange[s].start),l.style.height=a-o+"px",l.style.bottom=t+"px"),l.classList.add(i),this.sliderTrack.appendChild(l)}},e.prototype.getModuleName=function(){return"slider"},ke([b(null)],e.prototype,"value",void 0),ke([b(null)],e.prototype,"customValues",void 0),ke([b(1)],e.prototype,"step",void 0),ke([b(null)],e.prototype,"width",void 0),ke([b(0)],e.prototype,"min",void 0),ke([b(100)],e.prototype,"max",void 0),ke([b(!1)],e.prototype,"readonly",void 0),ke([b("Default")],e.prototype,"type",void 0),ke([bn([{}],aj)],e.prototype,"colorRange",void 0),ke([we({},oj)],e.prototype,"ticks",void 0),ke([we({},lj)],e.prototype,"limits",void 0),ke([b(!0)],e.prototype,"enabled",void 0),ke([we({},hj)],e.prototype,"tooltip",void 0),ke([b(!1)],e.prototype,"showButtons",void 0),ke([b(!0)],e.prototype,"enableAnimation",void 0),ke([b("Horizontal")],e.prototype,"orientation",void 0),ke([b("")],e.prototype,"cssClass",void 0),ke([b(!0)],e.prototype,"enableHtmlSanitizer",void 0),ke([R()],e.prototype,"created",void 0),ke([R()],e.prototype,"change",void 0),ke([R()],e.prototype,"changed",void 0),ke([R()],e.prototype,"renderingTicks",void 0),ke([R()],e.prototype,"renderedTicks",void 0),ke([R()],e.prototype,"tooltipChange",void 0),e=ke([Ee],e),e}(Ve);var ed=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ne=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},pj="e-upload e-control-wrapper",tN="e-file-select",ny="e-file-drop",dj="e-file-select-wrap",iN="e-upload-files",Kp="e-upload-file-list",It="e-file-status",fj="e-upload-actions",mj="e-file-upload-btn e-css e-btn e-flat e-primary",gj="e-file-clear-btn e-css e-btn e-flat",nN="e-file-name",rN="e-file-type",sN="e-file-size",ni="e-file-remove-btn",En="e-file-delete-btn",oN="e-spinner-pane",Dt="e-file-abort-btn",kr="e-file-reload-btn",ry="e-upload-drag-hover",aa="e-upload-progress-wrap",Jp="e-upload-progress-bar",sy="e-progress-bar-text",kn="e-upload-progress",er="e-upload-success",Dn="e-upload-fails",oy="e-file-container",aN="e-validation-fails",lN="e-rtl",ay="e-disabled",hN="e-rtl-container",ly="e-clear-icon-focus",vj="e-progress-inner-wrap",Oi="e-file-pause-btn",la="e-file-play-btn",wc="e-restrict-retry",cN=["title","style","class"],uN="e-form-upload",yj="e-hidden-file-input",Ec="e-file-invalid",bj="e-file-information",Oj=function(r){ed(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Ne([b("")],e.prototype,"name",void 0),Ne([b(null)],e.prototype,"size",void 0),Ne([b("")],e.prototype,"type",void 0),e}(de);var Cj=function(r){ed(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Ne([b("Browse...")],e.prototype,"browse",void 0),Ne([b("Upload")],e.prototype,"upload",void 0),Ne([b("Clear")],e.prototype,"clear",void 0),e}(de);var Sj=function(r){ed(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Ne([b("")],e.prototype,"saveUrl",void 0),Ne([b("")],e.prototype,"removeUrl",void 0),Ne([b(0)],e.prototype,"chunkSize",void 0),Ne([b(3)],e.prototype,"retryCount",void 0),Ne([b(500)],e.prototype,"retryAfterDelay",void 0),e}(de);var kc=function(r){ed(e,r);function e(t,i){var n=r.call(this,t,i)||this;return n.initialAttr={accept:null,multiple:!1,disabled:!1},n.uploadedFilesData=[],n.base64String=[],n.isForm=!1,n.allTypes=!1,n.pausedData=[],n.uploadMetaData=[],n.tabIndex="0",n.btnTabIndex="0",n.disableKeyboardNavigation=!1,n.count=-1,n.actionCompleteCount=0,n.flag=!0,n.selectedFiles=[],n.uploaderName="UploadFiles",n.fileStreams=[],n.newFileRef=0,n.isFirstFileOnSelection=!1,n.dragCounter=0,n.isAngular=!1,n.fileList=[],n.filesData=[],n.uploaderOptions=t,n}return e.prototype.onPropertyChanged=function(t,i){for(var n=0,s=Object.keys(t);n<s.length;n++){var o=s[n];switch(o){case"allowedExtensions":this.setExtensions(this.allowedExtensions),this.clearAll();break;case"enabled":this.setControlStatus();break;case"multiple":this.setMultipleSelection();break;case"enableRtl":this.setRTL(),this.reRenderFileList();break;case"buttons":this.buttons.browse=u(this.buttons.browse)?"":this.buttons.browse,this.buttons.clear=u(this.buttons.clear)?"":this.buttons.clear,this.buttons.upload=u(this.buttons.upload)?"":this.buttons.upload,this.renderButtonTemplates();break;case"dropArea":this.unBindDropEvents(),this.updateDropArea();break;case"htmlAttributes":this.updateHTMLAttrToElement(),this.updateHTMLAttrToWrapper(),this.checkHTMLAttributes(!0);break;case"files":this.renderPreLoadFiles();break;case"directoryUpload":this.updateDirectoryAttributes();break;case"template":var a=F("ej2_instances",this.element);a[0].isReact?this.reRenderFileList():this.clearAll();break;case"minFileSize":case"maxFileSize":case"autoUpload":this.clearAll();break;case"sequentialUpload":this.clearAll();break;case"locale":this.l10n.setLocale(this.locale),this.setLocalizedTexts(),this.preLocaleObj=F("currentLocale",this.l10n);break;case"cssClass":this.setCSSClass(i.cssClass);break}}},e.prototype.setLocalizedTexts=function(){u(this.template)&&(typeof this.buttons.browse=="string"&&(this.browseButton.innerText=this.buttons.browse==="Browse..."?this.localizedTexts("Browse"):this.buttons.browse,this.browseButton.setAttribute("title",this.browseButton.innerText),this.uploadWrapper&&!u(this.uploadWrapper.querySelector("."+ny))&&(this.uploadWrapper.querySelector("."+ny).innerHTML=this.localizedTexts("dropFilesHint"))),this.updateFileList())},e.prototype.getKeyValue=function(t){for(var i,n=0,s=Object.keys(this.preLocaleObj);n<s.length;n++){var o=s[n];this.preLocaleObj[""+o]===t&&(i=o)}return i},e.prototype.updateFileList=function(){var t;if(this.fileList.length>0&&!u(this.uploadWrapper.querySelector("."+iN)))for(var i=0;i<this.fileList.length;i++)t=this.fileList[i].querySelector(".e-file-status"),t.innerHTML=this.localizedTexts(this.getKeyValue(this.filesData[i].status)),this.filesData[i].status=this.localizedTexts(this.getKeyValue(this.filesData[i].status)),this.fileList[i].classList.contains(er)&&this.fileList[i].querySelector(".e-icons").setAttribute("title",this.localizedTexts("delete")),this.fileList[i].querySelector(".e-file-play-btn")&&this.fileList[i].querySelector(".e-icons").setAttribute("title",this.localizedTexts("resume")),this.fileList[i].querySelector(".e-file-remove-btn")&&this.fileList[i].querySelector(".e-icons").setAttribute("title",this.localizedTexts("remove")),this.fileList[i].querySelector(".e-file-reload-btn")&&this.fileList[i].querySelector(".e-icons").setAttribute("title",this.localizedTexts("retry")),this.autoUpload||(this.uploadButton.innerText=this.buttons.upload==="Upload"?this.localizedTexts("Upload"):this.buttons.upload,this.uploadButton.setAttribute("title",this.localizedTexts("Upload")),this.clearButton.innerText=this.buttons.clear==="Clear"?this.localizedTexts("Clear"):this.buttons.clear,this.clearButton.setAttribute("title",this.localizedTexts("Clear")))},e.prototype.reRenderFileList=function(){this.listParent&&(w(this.listParent),this.listParent=null,this.fileList=[],this.internalCreateFileList(this.filesData),this.actionButtons&&(this.removeActionButtons(),this.renderActionButtons(),this.checkActionButtonStatus()))},e.prototype.preRender=function(){this.localeText={Browse:"Browse...",Clear:"Clear",Upload:"Upload",invalidFileName:"File Name is not allowed",dropFilesHint:"Or drop files here",invalidMaxFileSize:"File size is too large",invalidMinFileSize:"File size is too small",invalidFileType:"File type is not allowed",uploadFailedMessage:"File failed to upload",uploadSuccessMessage:"File uploaded successfully",removedSuccessMessage:"File removed successfully",removedFailedMessage:"Unable to remove file",inProgress:"Uploading",readyToUploadMessage:"Ready to upload",abort:"Abort",remove:"Remove",cancel:"Cancel",delete:"Delete file",pauseUpload:"File upload paused",pause:"Pause",resume:"Resume",retry:"Retry",fileUploadCancel:"File upload canceled",invalidFileSelection:"Invalid files selected",totalFiles:"Total files",size:"Size"},this.l10n=new Qi("uploader",this.localeText,this.locale),this.preLocaleObj=F("currentLocale",this.l10n),this.formRendered(),this.updateHTMLAttrToElement(),this.checkHTMLAttributes(!1);var t=F("ej2_instances",this.element);if(this.element.tagName==="EJS-UPLOADER"){var i=this.createElement("input",{attrs:{type:"file"}}),n=0;for(n;n<this.element.attributes.length;n++)this.element.attributes[n].nodeName!=="id"?i.setAttribute(this.element.attributes[n].nodeName,this.element.attributes[n].nodeValue):this.element.attributes[n].nodeName==="id"&&i.setAttribute(this.element.attributes[n].nodeName,Fe("uploader")),i.innerHTML=this.element.innerHTML;i.hasAttribute("name")||i.setAttribute("name","UploadFiles"),this.element.appendChild(i),this.element=i,Pe("ej2_instances",t,this.element)}t[0].isPureReactComponent&&(u(t[0].props.name)?!u(t[0].props.id)&&u(t[0].props.name)?this.element.setAttribute("name",t[0].props.id):this.element.setAttribute("name","UploadFiles"):this.element.setAttribute("name",t[0].props.name)),u(this.element.getAttribute("name"))&&this.element.setAttribute("name",this.element.getAttribute("id")),this.element.hasAttribute("type")||this.element.setAttribute("type","file"),this.updateDirectoryAttributes(),this.keyConfigs={enter:"enter"},this.element.hasAttribute("tabindex")&&(this.tabIndex=this.element.getAttribute("tabindex")),this.browserName=N.info.name,this.uploaderName=this.element.getAttribute("name")},e.prototype.formRendered=function(){var t=S(this.element,"form");if(!u(t))for(;t&&t!==document.documentElement;t=t.parentElement)t.tagName==="FORM"&&(this.isForm=!0,this.formElement=t,t.setAttribute("enctype","multipart/form-data"),t.setAttribute("encoding","multipart/form-data"))},e.prototype.getPersistData=function(){return this.addOnPersist(["filesData"])},e.prototype.getModuleName=function(){return"uploader"},e.prototype.updateDirectoryAttributes=function(){this.directoryUpload?(this.element.setAttribute("directory","true"),this.element.setAttribute("webkitdirectory","true")):(this.element.removeAttribute("directory"),this.element.removeAttribute("webkitdirectory"))},e.prototype.render=function(){this.renderBrowseButton(),this.initializeUpload(),this.updateHTMLAttrToWrapper(),this.wireEvents(),this.setMultipleSelection(),this.setExtensions(this.allowedExtensions),this.setRTL(),this.renderPreLoadFiles(),this.setControlStatus(),this.setCSSClass()},e.prototype.renderBrowseButton=function(){this.browseButton=this.createElement("button",{className:"e-css e-btn",attrs:{type:"button"}}),this.browseButton.setAttribute("tabindex",this.tabIndex),typeof this.buttons.browse=="string"?(this.browseButton.textContent=this.buttons.browse==="Browse..."?this.localizedTexts("Browse"):this.buttons.browse,this.browseButton.setAttribute("title",this.browseButton.innerText)):this.browseButton.appendChild(this.buttons.browse),this.element.setAttribute("aria-label","Uploader")},e.prototype.renderActionButtons=function(){this.element.setAttribute("tabindex","-1"),this.actionButtons=this.createElement("div",{className:fj}),this.uploadButton=this.createElement("button",{className:mj,attrs:{type:"button",tabindex:this.btnTabIndex}}),this.clearButton=this.createElement("button",{className:gj,attrs:{type:"button",tabindex:this.btnTabIndex}}),this.actionButtons.appendChild(this.clearButton),this.actionButtons.appendChild(this.uploadButton),this.renderButtonTemplates(),this.uploadWrapper.appendChild(this.actionButtons),this.browseButton.blur(),this.isPreloadFiles||this.uploadButton.focus(),this.wireActionButtonEvents()},e.prototype.serverActionButtonsEventBind=function(t){t&&!this.isForm&&(this.browseButton.blur(),this.actionButtons=t,this.uploadButton=this.actionButtons.querySelector(".e-file-upload-btn"),this.clearButton=this.actionButtons.querySelector(".e-file-clear-btn"),this.uploadButton.focus(),this.unwireActionButtonEvents(),this.wireActionButtonEvents(),this.checkActionButtonStatus())},e.prototype.wireActionButtonEvents=function(){y.add(this.uploadButton,"click",this.uploadButtonClick,this),y.add(this.clearButton,"click",this.clearButtonClick,this)},e.prototype.unwireActionButtonEvents=function(){y.remove(this.uploadButton,"click",this.uploadButtonClick),y.remove(this.clearButton,"click",this.clearButtonClick)},e.prototype.removeActionButtons=function(){this.actionButtons&&(this.unwireActionButtonEvents(),w(this.actionButtons),this.actionButtons=null)},e.prototype.renderButtonTemplates=function(){if(typeof this.buttons.browse=="string"?(this.browseButton.textContent=this.buttons.browse==="Browse..."?this.localizedTexts("Browse"):this.buttons.browse,this.browseButton.setAttribute("title",this.browseButton.textContent)):(this.browseButton.innerHTML="",this.browseButton.appendChild(this.buttons.browse)),this.uploadButton){var t=u(this.buttons.upload)?"Upload":this.buttons.upload;this.buttons.upload=t,typeof this.buttons.upload=="string"?(this.uploadButton.textContent=this.buttons.upload==="Upload"?this.localizedTexts("Upload"):this.buttons.upload,this.uploadButton.setAttribute("title",this.uploadButton.textContent)):(this.uploadButton.innerHTML="",this.uploadButton.appendChild(this.buttons.upload))}if(this.clearButton){var i=u(this.buttons.clear)?"Clear":this.buttons.clear;this.buttons.clear=i,typeof this.buttons.clear=="string"?(this.clearButton.textContent=this.buttons.clear==="Clear"?this.localizedTexts("Clear"):this.buttons.clear,this.clearButton.setAttribute("title",this.clearButton.textContent)):(this.clearButton.innerHTML="",this.clearButton.appendChild(this.buttons.clear))}},e.prototype.initializeUpload=function(){this.element.setAttribute("tabindex","-1");var t=this.createElement("span",{className:tN});this.element.parentElement.insertBefore(t,this.element),this.dropAreaWrapper=this.createElement("div",{className:dj}),this.element.parentElement.insertBefore(this.dropAreaWrapper,this.element),t.appendChild(this.element),this.dropAreaWrapper.appendChild(this.browseButton),this.dropAreaWrapper.appendChild(t),this.uploadWrapper=this.createElement("div",{className:pj}),this.dropAreaWrapper.parentElement.insertBefore(this.uploadWrapper,this.dropAreaWrapper),this.uploadWrapper.appendChild(this.dropAreaWrapper),this.setDropArea()},e.prototype.renderPreLoadFiles=function(){if(this.files.length){if(this.enablePersistence&&this.filesData.length){this.internalCreateFileList(this.filesData);return}if(u(this.files[0].size))return;this.isPreloadFiles=!0;var t=[].slice.call(this.files),i=[];this.multiple||(this.clearData(),t=[t[0]]);for(var n=0,s=t;n<s.length;n++){var o=s[n],a={name:o.name+"."+o.type.split(".")[o.type.split(".").length-1],rawFile:"",size:o.size,status:this.localizedTexts("uploadSuccessMessage"),type:o.type,validationMessages:{minSize:"",maxSize:""},statusCode:"2"};i.push(a),this.filesData.push(a)}this.internalCreateFileList(i),!this.autoUpload&&this.listParent&&!this.actionButtons&&(!this.isForm||this.allowUpload())&&this.showFileList&&this.renderActionButtons(),this.checkActionButtonStatus(),this.sequentialUpload&&(this.count=this.filesData.length-1),this.isPreloadFiles=!1}},e.prototype.checkActionButtonStatus=function(){if(this.actionButtons){var t=this.uploadWrapper.querySelectorAll("."+aN).length+this.uploadWrapper.querySelectorAll(".e-upload-fails:not(.e-upload-progress)").length+this.uploadWrapper.querySelectorAll("span."+er).length+this.uploadWrapper.querySelectorAll("span."+kn).length;t>0&&t===this.uploadWrapper.querySelectorAll("li").length?this.uploadButton.setAttribute("disabled","disabled"):this.uploadButton.removeAttribute("disabled")}},e.prototype.setDropArea=function(){var t=this.dropAreaWrapper.querySelector(".e-file-drop");if(this.dropArea){this.dropZoneElement=typeof this.dropArea!="string"?this.dropArea:$(this.dropArea,document);for(var i=this.element,n=!1;i.parentNode;)i=i.parentNode,i===this.dropZoneElement&&(n=!0,t?t.innerHTML=this.localizedTexts("dropFilesHint"):this.createDropTextHint());!n&&t&&Rt(t)}else!u(this.uploaderOptions)&&this.uploaderOptions.dropArea===void 0&&(this.createDropTextHint(),this.dropZoneElement=this.uploadWrapper,this.setProperties({dropArea:this.uploadWrapper},!0));this.bindDropEvents()},e.prototype.updateDropArea=function(){if(this.dropArea)this.setDropArea();else{this.dropZoneElement=null;var t=this.dropAreaWrapper.querySelector(".e-file-drop");t&&Rt(t)}},e.prototype.createDropTextHint=function(){var t=this.createElement("span",{className:ny});t.innerHTML=this.localizedTexts("dropFilesHint"),this.dropAreaWrapper.appendChild(t)},e.prototype.updateHTMLAttrToElement=function(){if(!u(this.htmlAttributes))for(var t=0,i=Object.keys(this.htmlAttributes);t<i.length;t++){var n=i[t];cN.indexOf(n)<0&&this.element.setAttribute(n,this.htmlAttributes[""+n])}},e.prototype.updateHTMLAttrToWrapper=function(){if(!u(this.htmlAttributes))for(var t=0,i=Object.keys(this.htmlAttributes);t<i.length;t++){var n=i[t];if(cN.indexOf(n)>-1)if(n==="class"){var s=this.htmlAttributes[""+n].replace(/\s+/g," ").trim();s!==""&&E([this.uploadWrapper],s.split(" "))}else if(n==="style"){var o=this.uploadWrapper.getAttribute(n);o=u(o)?this.htmlAttributes[""+n]:o+this.htmlAttributes[""+n],this.uploadWrapper.setAttribute(n,o)}else this.uploadWrapper.setAttribute(n,this.htmlAttributes[""+n])}},e.prototype.setMultipleSelection=function(){if(this.multiple&&!this.element.hasAttribute("multiple")){var t=document.createAttribute("multiple");t.value="multiple",this.element.setAttributeNode(t)}else this.multiple||this.element.removeAttribute("multiple")},e.prototype.checkAutoUpload=function(t){this.autoUpload?(this.sequentialUpload?this.sequenceUpload(t):this.upload(t),this.removeActionButtons()):this.actionButtons||this.renderActionButtons(),this.checkActionButtonStatus()},e.prototype.sequenceUpload=function(t){if(this.filesData.length-t.length===0||this.filesData[this.filesData.length-t.length-1].statusCode!=="1"){(this.multiple||this.count<0)&&++this.count;var i=!this.showFileList;typeof this.filesData[this.count]=="object"?(this.isFirstFileOnSelection=!1,this.upload(this.filesData[this.count],i),this.filesData[this.count].statusCode==="0"&&this.sequenceUpload(t)):--this.count}},e.prototype.setCSSClass=function(t){var i=t;u(t)||(i=t.replace(/\s+/g," ").trim()),!u(t)&&i!==""&&L([this.uploadWrapper],i.split(" "));var n=this.cssClass;!u(this.cssClass)&&this.cssClass!==""&&(n=this.cssClass.replace(/\s+/g," ").trim()),!u(this.cssClass)&&n!==""&&E([this.uploadWrapper],n.split(n.indexOf(",")>-1?",":" "))},e.prototype.wireEvents=function(){y.add(this.browseButton,"click",this.browseButtonClick,this),y.add(this.element,"change",this.onSelectFiles,this),y.add(document,"click",this.removeFocus,this),this.keyboardModule=new Gr(this.uploadWrapper,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}),this.isForm&&y.add(this.formElement,"reset",this.resetForm,this)},e.prototype.unWireEvents=function(){y.remove(this.browseButton,"click",this.browseButtonClick),y.remove(this.element,"change",this.onSelectFiles),y.remove(document,"click",this.removeFocus),this.isForm&&y.remove(this.formElement,"reset",this.resetForm),this.keyboardModule&&this.keyboardModule.destroy()},e.prototype.resetForm=function(){this.clearAll()},e.prototype.keyActionHandler=function(t){var i=t.target;switch(t.action){case"enter":if(t.target===this.clearButton)this.clearButtonClick();else if(t.target===this.uploadButton)this.uploadButtonClick();else if(t.target===this.browseButton)this.browseButtonClick();else if(i.classList.contains(Oi)){var n=this.getCurrentMetaData(null,t);n.file.statusCode="4",n.file.status=this.localizedTexts("pauseUpload"),this.abortUpload(n,!1)}else if(i.classList.contains(la))this.resumeUpload(this.getCurrentMetaData(null,t),t);else if(i.classList.contains(kr)){var n=this.getCurrentMetaData(null,t);if(!u(n))n.file.statusCode="1",n.file.status=this.localizedTexts("readyToUploadMessage"),this.chunkUpload(n.file);else{var s=t.target.parentElement,o=this.filesData[this.fileList.indexOf(s)];this.retry(o)}}else this.removeFiles(t),i.classList.contains(Dt)||this.browseButton.focus();t.preventDefault(),t.stopPropagation();break}},e.prototype.getCurrentMetaData=function(t,i){var n,s;if(u(t)){var o=i.target.parentElement;n=this.filesData[this.fileList.indexOf(o)]}else n=t;for(var a=0;a<this.uploadMetaData.length;a++)this.uploadMetaData[a].file.name===n.name&&(s=this.uploadMetaData[a]);return s},e.prototype.removeFocus=function(){this.uploadWrapper&&this.listParent&&this.listParent.querySelector("."+ly)&&(document.activeElement.blur(),this.listParent.querySelector("."+ly).classList.remove(ly))},e.prototype.browseButtonClick=function(){this.element.click()},e.prototype.uploadButtonClick=function(){this.sequentialUpload?this.sequenceUpload(this.filesData):this.upload(this.filesData)},e.prototype.clearButtonClick=function(){this.clearAll(),this.sequentialUpload&&(this.count=-1),this.actionCompleteCount=0},e.prototype.bindDropEvents=function(){this.dropZoneElement&&(y.add(this.dropZoneElement,"drop",this.dropElement,this),y.add(this.dropZoneElement,"dragover",this.dragHover,this),y.add(this.dropZoneElement,"dragleave",this.onDragLeave,this),y.add(this.dropZoneElement,"paste",this.onPasteFile,this),y.add(this.dropZoneElement,"dragenter",this.onDragEnter,this))},e.prototype.unBindDropEvents=function(){this.dropZoneElement&&(y.remove(this.dropZoneElement,"drop",this.dropElement),y.remove(this.dropZoneElement,"dragover",this.dragHover),y.remove(this.dropZoneElement,"dragleave",this.onDragLeave),y.remove(this.dropZoneElement,"dragenter",this.onDragEnter))},e.prototype.onDragEnter=function(t){this.enabled&&(this.dropZoneElement.classList.add(ry),this.dragCounter=this.dragCounter+1,t.preventDefault(),t.stopPropagation())},e.prototype.onDragLeave=function(){this.enabled&&(this.dragCounter=this.dragCounter-1,this.dragCounter||this.dropZoneElement.classList.remove(ry))},e.prototype.dragHover=function(t){this.enabled&&(this.dropEffect!=="Default"&&(t.dataTransfer.dropEffect=this.dropEffect.toLowerCase()),t.preventDefault(),t.stopPropagation())},e.prototype.dropElement=function(t){this.dragCounter=0,this.dropZoneElement.classList.remove(ry),this.onSelectFiles(t),t.preventDefault(),t.stopPropagation()},e.prototype.onPasteFile=function(t){var i=t.clipboardData.items;if(t.type==="paste"&&this.browserName!=="msie"&&this.browserName!=="edge"&&this.browserName!=="safari"&&(this.element.files=t.clipboardData.files),!(i.length!==1&&!this.multiple))for(var n=0;n<i.length;n++){var s=[].slice.call(i)[n];(s.kind==="file"||s.type.match("^image/"))&&this.renderSelectedFiles(t,[s.getAsFile()],!1,!0)}},e.prototype.getSelectedFiles=function(t){for(var i=[],n=this.fileList[t],s=this.getFilesData(),o=+n.getAttribute("data-files-count"),a=0,l=0;l<t;l++)a+=+this.fileList[l].getAttribute("data-files-count");for(var h=a;h<a+o;h++)i.push(s[h]);return i},e.prototype.removeFiles=function(t){if(this.enabled){var i=t.target.parentElement,n=this.fileList.indexOf(i),s=this.fileList[n],o=this.isFormUpload(),a=o?this.getSelectedFiles(n):this.getFilesInArray(this.filesData[n]);if(!u(a)){if(t.target.classList.contains(Dt)&&!o){if(a[0].statusCode="5",!u(s)){var l=s.querySelector("."+Dt);Hp({target:l,width:"20px"}),Yp(l)}this.sequentialUpload&&this.uploadSequential(),s.classList.contains(wc)||this.checkActionComplete(!0)}else S(t.target,"."+oN)||this.remove(a,!1,!1,!0,t);this.checkActionButtonStatus()}}},e.prototype.removeFilesData=function(t,i){var n;if(i){this.showFileList||(n=this.filesData.indexOf(t),this.filesData.splice(n,1));return}var s=this.getLiElement(t);u(s)||(this.element.value="",w(s),n=this.fileList.indexOf(s),this.fileList.splice(n,1),this.filesData.splice(n,1),this.fileList.length===0&&!u(this.listParent)&&(w(this.listParent),this.listParent=null,this.removeActionButtons()),this.sequentialUpload&&n<=this.count&&--this.count)},e.prototype.removeUploadedFile=function(t,i,n,s){var o=this,a=t,l=new pr(this.asyncSettings.removeUrl,"POST",!0,null);l.emitError=!1;var h=new FormData;l.beforeSend=function(c){i.currentRequest=l.httpRequest,n?o.removingEventCallback(i,h,a,t):o.trigger("removing",i,function(p){p.cancel?c.cancel=!0:o.removingEventCallback(p,h,a,t)})},l.onLoad=function(c){return o.removeCompleted(c,a,s),{}},l.onError=function(c){return o.removeFailed(c,a,s),{}},l.send(h)},e.prototype.removingEventCallback=function(t,i,n,s){var o=this.element.getAttribute("name"),a=this.getLiElement(s);if(!u(a)&&(!u(a.querySelector("."+En))||!u(a.querySelector("."+ni)))){var l=a.querySelector("."+En)?a.querySelector("."+En):a.querySelector("."+ni);Hp({target:l,width:"20px"}),Yp(l)}t.postRawFile&&!u(n.rawFile)&&n.rawFile!==""?i.append(o,n.rawFile,n.name):i.append(o,n.name),this.updateFormData(i,t.customFormData)},e.prototype.updateFormData=function(t,i){if(i.length>0&&i[0])for(var n=function(o){var a=i[o],l=Object.keys(a).map(function(h){return a[""+h]});t.append(Object.keys(a)[0],l)},s=0;s<i.length;s++)n(s)},e.prototype.updateCustomheader=function(t,i){if(i.length>0&&i[0])for(var n=function(o){var a=i[o],l=Object.keys(a).map(function(h){return a[""+h]});t.setRequestHeader(Object.keys(a)[0],l)},s=0;s<i.length;s++)n(s)},e.prototype.removeCompleted=function(t,i,n){var s=t&&t.currentTarget?this.getResponse(t):null,o=t.target;if(o.readyState===4&&o.status>=200&&o.status<=299){var a={e:t,response:s,operation:"remove",file:this.updateStatus(i,this.localizedTexts("removedSuccessMessage"),"2")};this.trigger("success",a),this.removeFilesData(i,n);var l=this.uploadedFilesData.indexOf(i);this.uploadedFilesData.splice(l,1),this.trigger("change",{files:this.uploadedFilesData})}else this.removeFailed(t,i,n)},e.prototype.removeFailed=function(t,i,n){var s=t&&t.currentTarget?this.getResponse(t):null,o={e:t,response:s,operation:"remove",file:this.updateStatus(i,this.localizedTexts("removedFailedMessage"),"0")};if(!n){var a=this.filesData.indexOf(i),l=this.fileList[a];if(l){l.classList.remove(er),l.classList.add(Dn);var h=l.querySelector("."+It);h&&(h.classList.remove(er),h.classList.add(Dn))}this.checkActionButtonStatus()}this.trigger("failure",o);var c=this.getLiElement(i);if(!u(c)&&!u(c.querySelector("."+En))){var p=c.querySelector("."+En);oa(p),w(c.querySelector(".e-spinner-pane"))}},e.prototype.getFilesFromFolder=function(t){this.filesEntries=[];var i=this.multiple?t.dataTransfer.items:[t.dataTransfer.items[0]],n=this.checkDirectoryUpload(i);if(n)for(var s=function(l){var h=i[l].webkitGetAsEntry();if(h.isFile){var c=[];h.file(function(p){var d=h.fullPath;c.push({path:d,file:p})}),o.renderSelectedFiles(t,c,!0)}else h.isDirectory&&o.traverseFileTree(h,t)},o=this,a=0;a<i.length;a++)s(a)},e.prototype.checkDirectoryUpload=function(t){for(var i=0;t&&i<t.length;i++){var n=t[i].webkitGetAsEntry();if(n.isDirectory)return!0}return!1},e.prototype.traverseFileTree=function(t,i){if(t.isFile)this.filesEntries.push(t);else if(t.isDirectory){var n=t.createReader();this.readFileFromDirectory(n,i)}},e.prototype.readFileFromDirectory=function(t,i){var n=this;t.readEntries(function(s){for(var o=0;o<s.length;o++)n.traverseFileTree(s[o],i);n.pushFilesEntries(i),s.length&&n.readFileFromDirectory(t)})},e.prototype.pushFilesEntries=function(t){for(var i=this,n=[],s=function(l){o.filesEntries[l].file(function(h){if(i.filesEntries.length){var c=i.filesEntries[l].fullPath;n.push({path:c,file:h}),l===i.filesEntries.length-1&&(i.filesEntries=[],i.renderSelectedFiles(t,n,!0))}})},o=this,a=0;a<this.filesEntries.length;a++)s(a)},e.prototype.onSelectFiles=function(t){if(this.enabled){var i;if(t.type==="drop")if(this.directoryUpload)this.getFilesFromFolder(t);else{var n=this.sortFilesList=t.dataTransfer.files;this.browserName!=="msie"&&this.browserName!=="edge"&&this.browserName!=="safari"&&(this.element.files=n),n.length>0&&(i=this.multiple?this.sortFileList(n):[n[0]],this.renderSelectedFiles(t,i))}else i=[].slice.call(t.target.files),this.renderSelectedFiles(t,i);(this.isAngular||this.isReact)&&t.stopPropagation()}},e.prototype.getBase64=function(t){return new Promise(function(i,n){var s=new FileReader;s.readAsDataURL(t),s.onload=function(){return i(s.result)},s.onerror=function(o){return n(o)}})},e.prototype.renderSelectedFiles=function(t,i,n,s){var o=this;this.base64String=[];var a={event:t,cancel:!1,filesData:[],isModified:!1,modifiedFilesData:[],progressInterval:"",isCanceled:!1,currentRequest:null,customFormData:null};if(i.length<1){a.isCanceled=!0,this.trigger("selected",a);return}this.flag=!0;var l=[];this.multiple||(this.clearData(!0),this.actionCompleteCount=0,i=[i[0]]);for(var h=0;h<i.length;h++){var c=n?i[h].file:i[h];this.updateInitialFileDetails(t,i,c,h,l,n,s)}if(a.filesData=l,this.allowedExtensions.indexOf("*")>-1&&(this.allTypes=!0),this.enableHtmlSanitizer)for(var h=0;h<l.length;h++){for(var p=pt.beforeSanitize(),d=pt.serializeValue(p,l[parseInt(h.toString())].name),f=l[parseInt(h.toString())].name,m=!1,g=0;g<f.length;g++)if(f.charCodeAt(g)>127){m=!0;break}var v=/<([a-z][a-z0-9]*)\b[^>]*>(.*?)<\/\1>/i,O=v.test(f);if(d!==l[parseInt(h.toString())].name&&!(m&&!O)){var C=i[parseInt(h.toString())].name.replace(/[\u00A0-\u9999<>\&]/g,function(M){return"&#"+M.charCodeAt(0)+";"});l[parseInt(h.toString())].name=C,l[parseInt(h.toString())].status=this.localizedTexts("invalidFileName"),l[parseInt(h.toString())].statusCode="0"}}this.allTypes||(l=this.checkExtension(l)),this.trigger("selected",a,function(x){o._internalRenderSelect(x,l)})},e.prototype.updateInitialFileDetails=function(t,i,n,s,o,a,l){var h=a?i[s].path.substring(1,i[s].path.length):l?Fe(n.name.substring(0,n.name.lastIndexOf(".")))+"."+this.getFileType(n.name):this.directoryUpload?i[s].webkitRelativePath:n.name,c={name:h,rawFile:n,size:n.size,status:this.localizedTexts("readyToUploadMessage"),type:this.getFileType(n.name),validationMessages:this.validatedFileSize(n.size),statusCode:"1",id:Fe(n.name.substring(0,n.name.lastIndexOf(".")))+"."+this.getFileType(n.name)};l&&(c.fileSource="paste"),c.status=c.validationMessages.minSize!==""?this.localizedTexts("invalidMinFileSize"):c.validationMessages.maxSize!==""?this.localizedTexts("invalidMaxFileSize"):c.status,(c.validationMessages.minSize!==""||c.validationMessages.maxSize!=="")&&(c.statusCode="0"),o.push(c)},e.prototype._internalRenderSelect=function(t,i){if(!t.cancel){if(this.selectedFiles=this.selectedFiles.concat(i),this.btnTabIndex=this.disableKeyboardNavigation?"-1":"0",this.showFileList){if(t.isModified&&t.modifiedFilesData.length>0){for(var n=0;n<t.modifiedFilesData.length;n++)for(var s=0;s<i.length;s++)t.modifiedFilesData[n].id===i[s].id&&(t.modifiedFilesData[n].rawFile=i[s].rawFile);var o=this.allTypes?t.modifiedFilesData:this.checkExtension(t.modifiedFilesData);this.updateSortedFileList(o),this.filesData=this.filesData.concat(o),(!this.isForm||this.allowUpload())&&this.checkAutoUpload(o)}else{if(this.internalCreateFileList(i),this.autoUpload&&this.sequenceUpload&&this.sequentialUpload&&this.filesData.length>0&&this.filesData[this.filesData.length-1].statusCode!=="2"&&this.filesData[this.filesData.length-1].statusCode!=="0"){this.filesData=this.filesData.concat(i);return}this.filesData=this.filesData.concat(i),(!this.isForm||this.allowUpload())&&this.checkAutoUpload(i)}!u(t.progressInterval)&&t.progressInterval!==""&&(this.progressInterval=t.progressInterval)}else this.filesData=this.filesData.concat(i),this.autoUpload&&this.upload(this.filesData,!0);for(var a=0;a<this.filesData.length;a++)this.filesData[a].statusCode==="0"&&this.checkActionComplete(!0);this.isFirstFileOnSelection=!0}},e.prototype.allowUpload=function(){var t=!1;return this.isForm&&!u(this.asyncSettings.saveUrl)&&this.asyncSettings.saveUrl!==""&&(t=!0),t},e.prototype.isFormUpload=function(){var t=!1;return this.isForm&&(u(this.asyncSettings.saveUrl)||this.asyncSettings.saveUrl==="")&&(u(this.asyncSettings.removeUrl)||this.asyncSettings.removeUrl==="")&&(t=!0),t},e.prototype.clearData=function(t){u(this.listParent)||(w(this.listParent),this.listParent=null),this.browserName!=="msie"&&!t&&(this.element.value=""),this.fileList=[],this.filesData=[],this.removeActionButtons()},e.prototype.updateSortedFileList=function(t){var i=this.createElement("div",{id:"clonewrapper"}),n=-1,s;if(this.listParent){for(var o=0;o<this.listParent.querySelectorAll("li").length;o++){var a=this.listParent.querySelectorAll("li")[o];i.appendChild(a.cloneNode(!0))}this.removeActionButtons();var l=[].slice.call(i.childNodes);this.createParentUL();for(var h=0;h<t.length;h++){for(var c=0;c<this.filesData.length;c++)this.filesData[c].name===t[h].name&&(this.listParent.appendChild(l[c]),y.add(l[c].querySelector(".e-icons"),"click",this.removeFiles,this),this.fileList.push(l[c]),n=h);n!==h&&this.internalCreateFileList([t[h]])}}else this.internalCreateFileList(t)},e.prototype.isBlank=function(t){return!t||/^\s*$/.test(t)},e.prototype.checkExtension=function(t){var i=t;if(!this.isBlank(this.allowedExtensions)){for(var n=[],s=this.allowedExtensions.split(","),o=0,a=s;o<a.length;o++){var l=a[o];n.push(l.trim().toLocaleLowerCase())}for(var h=0;h<t.length;h++)n.indexOf(("."+t[h].type).toLocaleLowerCase())===-1&&(t[h].status=this.localizedTexts("invalidFileType"),t[h].statusCode="0")}return i},e.prototype.validatedFileSize=function(t){var i="",n="";t<this.minFileSize?i=this.localizedTexts("invalidMinFileSize"):t>this.maxFileSize?n=this.localizedTexts("invalidMaxFileSize"):(i="",n="");var s={minSize:i,maxSize:n};return s},e.prototype.isPreLoadFile=function(t){for(var i=!1,n=0;n<this.files.length;n++)this.files[n].name===t.name.slice(0,t.name.lastIndexOf("."))&&this.files[n].type===t.type&&(i=!0);return i},e.prototype.createCustomfileList=function(t){this.createParentUL();for(var i=0,n=t;i<n.length;i++){var s=n[i],o=this.createElement("li",{className:Kp,attrs:{"data-file-name":s.name}});this.uploadTemplateFn=this.templateComplier(this.template);var a=this.uploadTemplateFn(s,this,"template",this.element.id+"Template",this.isStringTemplate,null,o);if(a){var l=[].slice.call(a);st(l,o)}var h=t.indexOf(s),c={element:o,fileInfo:s,index:h,isPreload:this.isPreLoadFile(s)},p={element:o,fileInfo:s,index:h,isPreload:this.isPreLoadFile(s)};this.trigger("rendering",c),this.trigger("fileListRendering",p),this.listParent.appendChild(o),this.fileList.push(o)}this.renderReactTemplates()},e.prototype.createParentUL=function(){u(this.listParent)&&(this.listParent=this.createElement("ul",{className:iN}),this.uploadWrapper.appendChild(this.listParent))},e.prototype.formFileList=function(t,i){var n=this.createElement("li",{className:Kp});n.setAttribute("data-files-count",t.length+"");for(var s=this.createElement("span",{className:oy}),o,a=0,l=t;a<l.length;a++){var h=l[a],c=this.createElement("span",{className:nN});c.innerHTML=this.getFileNameOnly(h.name);var p=this.createElement("span",{className:rN}),d=this.getFileType(h.name);if(p.innerHTML="."+d,d||p.classList.add("e-hidden"),!this.enableRtl)s.appendChild(c),s.appendChild(p);else{var f=this.createElement("span",{className:hN});f.appendChild(p),f.appendChild(c),s.appendChild(f)}this.truncateName(c),o=this.formValidateFileInfo(h,n)}n.appendChild(s),this.setListToFileInfo(t,n);var m=this.listParent.querySelectorAll("li").length,g=this.createElement("span");if(n.classList.contains(Ec)?(g.classList.add(It),g.classList.add(Ec),g.innerText=t.length>1?this.localizedTexts("invalidFileSelection"):o):(g.classList.add(t.length>1?bj:sN),g.innerText=t.length>1?this.localizedTexts("totalFiles")+": "+t.length+" , "+this.localizedTexts("size")+": "+this.bytesToSize(this.getFileSize(t)):this.bytesToSize(t[0].size),this.createFormInput(t)),s.appendChild(g),u(n.querySelector(".e-icons"))){var v=this.createElement("span",{className:"e-icons",attrs:{tabindex:this.btnTabIndex}});this.browserName==="msie"&&v.classList.add("e-msie"),v.setAttribute("title",this.localizedTexts("remove")),n.appendChild(s),n.appendChild(v),y.add(v,"click",this.removeFiles,this),v.classList.add(ni)}var O={element:n,fileInfo:this.mergeFileInfo(t,n),index:m,isPreload:this.isPreLoadFile(this.mergeFileInfo(t,n))},C={element:n,fileInfo:this.mergeFileInfo(t,n),index:m,isPreload:this.isPreLoadFile(this.mergeFileInfo(t,n))};this.trigger("rendering",O),this.trigger("fileListRendering",C),this.listParent.appendChild(n),this.fileList.push(n)},e.prototype.formValidateFileInfo=function(t,i){var n=t.status,s=this.validatedFileSize(t.size);(s.minSize!==""||s.maxSize!=="")&&(this.addInvalidClass(i),n=s.minSize!==""?this.localizedTexts("invalidMinFileSize"):s.maxSize!==""?this.localizedTexts("invalidMaxFileSize"):n);var o=this.checkExtension(this.getFilesInArray(t))[0].status;return o===this.localizedTexts("invalidFileType")&&(this.addInvalidClass(i),n=o),n},e.prototype.addInvalidClass=function(t){t.classList.add(Ec)},e.prototype.createFormInput=function(t){if(this.browserName!=="safari"){var i=this.element.cloneNode(!0);i.classList.add(yj);for(var n=0,s=t;n<s.length;n++){var o=s[n];o.input=i}i.setAttribute("id",Fe("hiddenUploader")),i.setAttribute("name",this.uploaderName),this.uploadWrapper.querySelector("."+tN).appendChild(i),this.browserName!=="msie"&&this.browserName!=="edge"&&(this.element.value="")}},e.prototype.getFileSize=function(t){for(var i=0,n=0,s=t;n<s.length;n++){var o=s[n];i+=o.size}return i},e.prototype.mergeFileInfo=function(t,i){for(var n={name:"",rawFile:"",size:0,status:"",type:"",validationMessages:{minSize:"",maxSize:""},statusCode:"1",list:i},s=[],o="",a=0,l=t;a<l.length;a++){var h=l[a];s.push(h.name),o=h.type}return n.name=s.join(", "),n.size=this.getFileSize(t),n.type=o,n.status=this.statusForFormUpload(t,i),n},e.prototype.statusForFormUpload=function(t,i){for(var n=!0,s,o=0,a=t;o<a.length;o++){var l=a[o];s=l.status;var h=this.validatedFileSize(l.size);(h.minSize!==""||h.maxSize!=="")&&(n=!1,s=h.minSize!==""?this.localizedTexts("invalidMinFileSize"):h.maxSize!==""?this.localizedTexts("invalidMaxFileSize"):s);var c=this.checkExtension(this.getFilesInArray(l))[0].status;c===this.localizedTexts("invalidFileType")&&(n=!1,s=c)}return n?s=this.localizedTexts("totalFiles")+": "+t.length+" , "+this.localizedTexts("size")+": "+this.bytesToSize(this.getFileSize(t)):(i.classList.add(Ec),s=t.length>1?this.localizedTexts("invalidFileSelection"):s),s},e.prototype.formCustomFileList=function(t,i){this.createParentUL();var n=this.createElement("li",{className:Kp});n.setAttribute("data-files-count",t.length+""),this.setListToFileInfo(t,n);var s=this.mergeFileInfo(t,n);n.setAttribute("data-file-name",s.name),this.uploadTemplateFn=this.templateComplier(this.template);var o=this.uploadTemplateFn(s,this,"template",this.element.id+"Template",this.isStringTemplate,null,n);if(o){var a=[].slice.call(o);st(a,n)}var l=this.listParent.querySelectorAll("li").length;n.classList.contains(Ec)||this.createFormInput(t);var h={element:n,fileInfo:s,index:l,isPreload:this.isPreLoadFile(s)},c={element:n,fileInfo:s,index:l,isPreload:this.isPreLoadFile(s)};this.trigger("rendering",h),this.trigger("fileListRendering",c),this.listParent.appendChild(n),this.fileList.push(n),this.renderReactTemplates()},e.prototype.createFileList=function(t){this.filesData=this.filesData&&this.filesData.length>0?this.filesData.concat(t):t,this.internalCreateFileList(t)},e.prototype.internalCreateFileList=function(t){if(this.createParentUL(),this.template!==""&&!u(this.template))this.isFormUpload()?(this.uploadWrapper.classList.add(uN),this.formCustomFileList(t,this.element.files)):this.createCustomfileList(t);else if(this.isFormUpload())this.uploadWrapper.classList.add(uN),this.formFileList(t,this.element.files);else for(var i=0,n=t;i<n.length;i++){var s=n[i],o=this.createElement("li",{className:Kp,attrs:{"data-file-name":s.name,"data-files-count":"1"}}),a=this.createElement("span",{className:oy}),l=this.createElement("span",{className:nN,attrs:{title:s.name}});l.innerHTML=this.getFileNameOnly(s.name);var h=this.createElement("span",{className:rN}),c=this.getFileType(s.name);if(h.innerHTML="."+c,c||h.classList.add("e-hidden"),!this.enableRtl)a.appendChild(l),a.appendChild(h);else{var p=this.createElement("span",{className:hN});p.appendChild(h),p.appendChild(l),a.appendChild(p)}var d=this.createElement("span",{className:sN});d.innerHTML=this.bytesToSize(s.size),a.appendChild(d);var f=this.createElement("span",{className:It});a.appendChild(f),f.innerHTML=s.status,o.appendChild(a);var m=this.createElement("span",{className:" e-icons",attrs:{tabindex:this.btnTabIndex}});this.browserName==="msie"&&m.classList.add("e-msie"),m.setAttribute("title",this.localizedTexts("remove")),o.appendChild(m),y.add(m,"click",this.removeFiles,this),s.statusCode==="2"?(f.classList.add(er),m.classList.add(En),m.setAttribute("title",this.localizedTexts("delete"))):s.statusCode!=="1"&&(f.classList.remove(er),f.classList.add(aN)),this.autoUpload&&s.statusCode==="1"&&this.asyncSettings.saveUrl!==""&&(f.innerHTML=""),m.classList.contains(En)||m.classList.add(ni);var g=t.indexOf(s),v={element:o,fileInfo:s,index:g,isPreload:this.isPreLoadFile(s)},O={element:o,fileInfo:s,index:g,isPreload:this.isPreLoadFile(s)};this.trigger("rendering",v),this.trigger("fileListRendering",O),this.listParent.appendChild(o),this.fileList.push(o),this.truncateName(l);var C=this.flag;this.isPreLoadFile(s)&&(this.flag=!1,this.checkActionComplete(!0),this.flag=C)}},e.prototype.getSlicedName=function(t){var i=t.textContent;t.dataset.tail=i.slice(i.length-10)},e.prototype.setListToFileInfo=function(t,i){for(var n=0,s=t;n<s.length;n++){var o=s[n];o.list=i}},e.prototype.truncateName=function(t){var i=t;this.browserName!=="edge"&&i.offsetWidth<i.scrollWidth?this.getSlicedName(i):i.offsetWidth+1<i.scrollWidth&&this.getSlicedName(i)},e.prototype.getFileType=function(t){var i,n=t.lastIndexOf(".");return n>=0&&(i=t.substring(n+1)),i||""},e.prototype.getFileNameOnly=function(t){var i=this.getFileType(t),n=t.split("."+i);return i=n[0]},e.prototype.setInitialAttributes=function(){if(this.initialAttr.accept&&this.element.setAttribute("accept",this.initialAttr.accept),this.initialAttr.disabled&&this.element.setAttribute("disabled","disabled"),this.initialAttr.multiple){var t=document.createAttribute("multiple");this.element.setAttributeNode(t)}},e.prototype.filterfileList=function(t){for(var i=[],n,s=0;s<t.length;s++)n=this.getLiElement(t[s]),n.classList.contains(er)||i.push(t[s]);return i},e.prototype.updateStatus=function(t,i,n,s){if(s===void 0&&(s=!0),!(i===""||u(i))&&!(n===""||u(n))&&(t.status=i,t.statusCode=n),s){var o=this.getLiElement(t);u(o)||!u(o.querySelector("."+It))&&!(i===""||u(i))&&(o.querySelector("."+It).textContent=i)}return t},e.prototype.getLiElement=function(t){for(var i,n=0;n<this.filesData.length;n++)!u(t)&&(!u(this.filesData[n].id)&&!u(t.id)?this.filesData[n].name===t.name&&this.filesData[n].id===t.id:this.filesData[n].name===t.name)&&(i=n);return this.fileList[i]},e.prototype.createProgressBar=function(t){var i=this.createElement("span",{className:aa}),n=this.createElement("progressbar",{className:Jp,attrs:{value:"0",max:"100"}}),s=this.createElement("span",{className:vj});n.setAttribute("style","width: 0%");var o=this.createElement("span",{className:sy});o.textContent="0%",s.appendChild(n),i.appendChild(s),i.appendChild(o),t.querySelector("."+oy).appendChild(i)},e.prototype.updateProgressbar=function(t,i){if(!isNaN(Math.round(t.loaded/t.total*100))&&!u(i.querySelector("."+Jp)))if(!u(this.progressInterval)&&this.progressInterval!==""){var n=Math.round(t.loaded/t.total*100)%parseInt(this.progressInterval,10);(n===0||n===100)&&this.changeProgressValue(i,Math.round(t.loaded/t.total*100).toString()+"%")}else this.changeProgressValue(i,Math.round(t.loaded/t.total*100).toString()+"%")},e.prototype.changeProgressValue=function(t,i){t.querySelector("."+Jp).setAttribute("style","width:"+i),t.querySelector("."+sy).textContent=i},e.prototype.uploadInProgress=function(t,i,n,s){var o=this.getLiElement(i);if(!(u(o)&&!n)){if(u(o))this.cancelUploadingFile(i,t,s);else{i.statusCode==="5"&&this.cancelUploadingFile(i,t,s,o),!(o.querySelectorAll("."+aa).length>0)&&o.querySelector("."+It)&&(o.querySelector("."+It).classList.add(kn),this.createProgressBar(o),this.updateProgressBarClasses(o,kn),o.querySelector("."+It).classList.remove(Dn)),this.updateProgressbar(t,o);var a=o.querySelector("."+ni);u(a)||(a.classList.add(Dt,kn),a.setAttribute("title",this.localizedTexts("abort")),a.classList.remove(ni))}var l={e:t,operation:"upload",file:this.updateStatus(i,this.localizedTexts("inProgress"),"3")};this.trigger("progress",l)}},e.prototype.cancelUploadingFile=function(t,i,n,s){var o=this;if(t.statusCode==="5"){var a={event:i,fileData:t,cancel:!1,customFormData:[],currentRequest:null};this.trigger("canceling",a,function(l){if(l.cancel){if(t.statusCode="3",!u(s)){var h=s.querySelector("."+Dt);u(h)||(oa(h),w(s.querySelector(".e-spinner-pane")))}}else{n.emitError=!1,n.httpRequest.abort();var c=new FormData;if(t.statusCode==="5"){var p=o.element.getAttribute("name");c.append(p,t.name),c.append("cancel-uploading",t.name),o.updateFormData(c,l.customFormData);var d=new pr(o.asyncSettings.removeUrl,"POST",!0,null);d.emitError=!1,d.beforeSend=function(f){l.currentRequest&&o.updateCustomheader(d.httpRequest,l.currentRequest)},d.onLoad=function(f){return o.removecanceledFile(f,t),{}},d.send(c)}}})}},e.prototype.removecanceledFile=function(t,i){var n=this.getLiElement(i);if(!(u(n)||n.querySelector("."+kr)||u(n.querySelector("."+Dt)))){this.updateStatus(i,this.localizedTexts("fileUploadCancel"),"5"),this.renderFailureState(t,i,n);var s=n.querySelector("."+ni);u(n)||(oa(s),u(n.querySelector(".e-spinner-pane"))||w(n.querySelector(".e-spinner-pane")));var o=t&&t.currentTarget?this.getResponse(t):null,a={event:t,response:o,operation:"cancel",file:i};this.trigger("success",a)}},e.prototype.renderFailureState=function(t,i,n){var s=this;this.updateProgressBarClasses(n,Dn),this.removeProgressbar(n,"failure"),u(n.querySelector(".e-file-status"))||n.querySelector(".e-file-status").classList.add(Dn);var o=n.querySelector("."+Dt);if(!u(o)){o.classList.remove(Dt,kn),o.classList.add(ni),o.setAttribute("title",this.localizedTexts("remove")),this.pauseButton=this.createElement("span",{className:"e-icons e-file-reload-btn",attrs:{tabindex:this.btnTabIndex}}),o.parentElement.insertBefore(this.pauseButton,o),this.pauseButton.setAttribute("title",this.localizedTexts("retry"));var a=n.querySelector("."+kr);a.addEventListener("click",function(l){s.reloadcanceledFile(l,i,n,!1)},!1)}},e.prototype.reloadcanceledFile=function(t,i,n,s){i.statusCode="1",i.status=this.localizedTexts("readyToUploadMessage"),s||(u(n.querySelector("."+It))||n.querySelector("."+It).classList.remove(Dn),u(n.querySelector("."+kr))||w(n.querySelector("."+kr)),this.pauseButton=null),u(n)||n.classList.add(wc),this.upload([i])},e.prototype.uploadComplete=function(t,i,n){var s=t.target;if(s.readyState===4&&s.status>=200&&s.status<=299){var o=this.getLiElement(i);if(u(o)&&(!n||u(n)))return;if(!u(o)){this.updateProgressBarClasses(o,er),this.removeProgressbar(o,"success");var a=o.querySelector("."+Dt);u(a)||(a.classList.add(En),a.setAttribute("title",this.localizedTexts("delete")),a.classList.remove(Dt),a.classList.remove(kn))}this.raiseSuccessEvent(t,i)}else this.uploadFailed(t,i)},e.prototype.getResponse=function(t){var i=t.currentTarget,n={readyState:i.readyState,statusCode:i.status,statusText:i.statusText,headers:i.getAllResponseHeaders(),withCredentials:i.withCredentials};return n},e.prototype.raiseSuccessEvent=function(t,i){var n=this,s=t&&t.currentTarget?this.getResponse(t):null,o=this.localizedTexts("uploadSuccessMessage"),a={e:t,response:s,operation:"upload",file:this.updateStatus(i,o,"2",!1),statusText:o},l=this.getLiElement(i);if(!u(l)){var h=l.querySelector("."+oN);u(h)||(oa(l),w(h))}this.trigger("success",a,function(c){n.updateStatus(i,c.statusText,"2"),n.uploadedFilesData.push(i),n.trigger("change",{file:n.uploadedFilesData}),n.checkActionButtonStatus(),n.fileList.length>0?n.getLiElement(i).classList.contains(wc)?n.getLiElement(i).classList.remove(wc):(n.uploadSequential(),n.checkActionComplete(!0)):n.showFileList||n.checkActionComplete(!0)})},e.prototype.uploadFailed=function(t,i){var n=this,s=this.getLiElement(i),o=t&&t.currentTarget?this.getResponse(t):null,a=this.localizedTexts("uploadFailedMessage"),l={e:t,response:o,operation:"upload",file:this.updateStatus(i,a,"0",!1),statusText:a};u(s)||this.renderFailureState(t,i,s),this.trigger("failure",l,function(h){n.updateStatus(i,h.statusText,"0"),n.checkActionButtonStatus(),n.uploadSequential(),n.checkActionComplete(!0)})},e.prototype.uploadSequential=function(){this.sequentialUpload&&(this.autoUpload?this.checkAutoUpload(this.filesData):this.uploadButtonClick())},e.prototype.checkActionComplete=function(t){t?++this.actionCompleteCount:--this.actionCompleteCount,this.raiseActionComplete()},e.prototype.raiseActionComplete=function(){if(this.filesData.length===this.actionCompleteCount&&this.flag){this.flag=!1;var t={fileData:[]};t.fileData=this.getSelectedFileStatus(this.selectedFiles),this.trigger("actionComplete",t)}},e.prototype.getSelectedFileStatus=function(t){for(var i=[],n=0,s=0;s<t.length;s++)for(var o=t[s],a=0;a<this.filesData.length;a++)this.filesData[a].name===o.name&&this.filesData[a].status===o.status&&(i[n]=this.filesData[a],++n);return i},e.prototype.updateProgressBarClasses=function(t,i){var n=t.querySelector("."+Jp);u(n)||n.classList.add(i)},e.prototype.removeProgressbar=function(t,i){var n=this;u(t.querySelector("."+aa))||(this.progressAnimation=new Xr({duration:1250}),this.progressAnimation.animate(t.querySelector("."+aa),{name:"FadeOut"}),this.progressAnimation.animate(t.querySelector("."+sy),{name:"FadeOut"}),setTimeout(function(){n.animateProgressBar(t,i)},750))},e.prototype.animateProgressBar=function(t,i){i==="success"?(t.classList.add(er),u(t.querySelector("."+It))||(t.querySelector("."+It).classList.remove(kn),this.progressAnimation.animate(t.querySelector("."+It),{name:"FadeIn"}),t.querySelector("."+It).classList.add(er))):u(t.querySelector("."+It))||(t.querySelector("."+It).classList.remove(kn),this.progressAnimation.animate(t.querySelector("."+It),{name:"FadeIn"}),t.querySelector("."+It).classList.add(Dn)),t.querySelector("."+aa)&&w(t.querySelector("."+aa))},e.prototype.setExtensions=function(t){t!==""&&!u(t)?this.element.setAttribute("accept",t):this.element.removeAttribute("accept")},e.prototype.templateComplier=function(t){if(t)try{return typeof t!="function"&&ge(t,document).length?Ui($(t,document).innerHTML.trim()):Ui(t)}catch{return Ui(t)}},e.prototype.setRTL=function(){this.enableRtl?E([this.uploadWrapper],lN):L([this.uploadWrapper],lN)},e.prototype.localizedTexts=function(t){return this.l10n.setLocale(this.locale),this.l10n.getConstant(t)},e.prototype.setControlStatus=function(){this.enabled?(this.uploadWrapper.classList.contains(ay)&&this.uploadWrapper.classList.remove(ay),!u(this.browseButton)&&this.element.hasAttribute("disabled")&&(this.element.removeAttribute("disabled"),this.browseButton.removeAttribute("disabled")),!u(this.clearButton)&&this.clearButton.hasAttribute("disabled")&&this.clearButton.removeAttribute("disabled"),!u(this.uploadButton)&&this.uploadButton.hasAttribute("disabled")&&this.uploadButton.hasAttribute("disabled")):(this.uploadWrapper.classList.add(ay),this.element.setAttribute("disabled","disabled"),this.browseButton.setAttribute("disabled","disabled"),u(this.clearButton)||this.clearButton.setAttribute("disabled","disabled"),u(this.uploadButton)||this.uploadButton.setAttribute("disabled","disabled"))},e.prototype.checkHTMLAttributes=function(t){for(var i=t?u(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["accept","multiple","disabled"],n=0,s=i;n<s.length;n++){var o=s[n];if(!u(this.element.getAttribute(o)))switch(o){case"accept":(u(this.uploaderOptions)||this.uploaderOptions.allowedExtensions===void 0||t)&&(this.setProperties({allowedExtensions:this.element.getAttribute("accept")},!t),this.initialAttr.accept=this.allowedExtensions);break;case"multiple":if(u(this.uploaderOptions)||this.uploaderOptions.multiple===void 0||t){var a=this.element.getAttribute(o)==="multiple"||this.element.getAttribute(o)===""||this.element.getAttribute(o)==="true";this.setProperties({multiple:a},!t),this.initialAttr.multiple=!0}break;case"disabled":if(u(this.uploaderOptions)||this.uploaderOptions.enabled===void 0||t){var l=!(this.element.getAttribute(o)==="disabled"||this.element.getAttribute(o)===""||this.element.getAttribute(o)==="true");this.setProperties({enabled:l},!t),this.initialAttr.disabled=!0}}}},e.prototype.chunkUpload=function(t,i,n){var s=0,o=Math.min(this.asyncSettings.chunkSize,t.size),a=0,l=t.rawFile.slice(s,o),h={chunkIndex:a,blob:l,file:t,start:s,end:o,retryCount:0,request:null};this.sendRequest(t,h,i,n)},e.prototype.sendRequest=function(t,i,n,s){var o=this,a=new FormData,l=t.rawFile.slice(i.start,i.end);a.append(this.uploaderName,l,t.name),a.append("chunk-index",i.chunkIndex.toString()),a.append("chunkIndex",i.chunkIndex.toString());var h=Math.max(Math.ceil(t.size/this.asyncSettings.chunkSize),1);a.append("total-chunk",h.toString()),a.append("totalChunk",h.toString());var c=new pr({url:this.asyncSettings.saveUrl,type:"POST",async:!0,contentType:null});c.emitError=!1,c.onLoad=function(d){return o.chunkUploadComplete(d,i,n),{}},c.onUploadProgress=function(d){return o.chunkUploadInProgress(d,i,n),{}};var p={fileData:t,customFormData:[],cancel:!1,chunkSize:this.asyncSettings.chunkSize===0?null:this.asyncSettings.chunkSize};c.beforeSend=function(d){p.currentRequest=c.httpRequest,p.currentChunkIndex=i.chunkIndex,p.currentChunkIndex===0?o.trigger("uploading",p,function(f){o.uploadingEventCallback(a,f,d,t)}):o.trigger("chunkUploading",p,function(f){o.uploadingEventCallback(a,f,d,t)})},c.onError=function(d){return o.chunkUploadFailed(d,i,n),{}},c.send(a),i.request=c},e.prototype.uploadingEventCallback=function(t,i,n,s){i.cancel?this.eventCancelByArgs(n,i,s):this.updateFormData(t,i.customFormData)},e.prototype.eventCancelByArgs=function(t,i,n){var s=this;if(t.cancel=!0,i.fileData.statusCode!=="5"){i.fileData.statusCode="5",i.fileData.status=this.localizedTexts("fileUploadCancel");var o=this.getLiElement(i.fileData);if(o){u(o.querySelector("."+It))||(o.querySelector("."+It).innerHTML=this.localizedTexts("fileUploadCancel"),o.querySelector("."+It).classList.add(Dn)),this.pauseButton=this.createElement("span",{className:"e-icons e-file-reload-btn",attrs:{tabindex:this.btnTabIndex}});var a=o.querySelector("."+ni);a&&a.parentElement.insertBefore(this.pauseButton,a),this.pauseButton.setAttribute("title",this.localizedTexts("retry")),this.pauseButton.addEventListener("click",function(l){s.reloadcanceledFile(l,n,o)},!1),this.checkActionButtonStatus()}}},e.prototype.checkChunkUpload=function(){return!(this.asyncSettings.chunkSize<=0||u(this.asyncSettings.chunkSize))},e.prototype.chunkUploadComplete=function(t,i,n){var s=this,o=t.target,a;if(o.readyState===4&&o.status>=200&&o.status<300){var l=t&&t.currentTarget?this.getResponse(t):null,h=Math.max(Math.ceil(i.file.size/this.asyncSettings.chunkSize),1),c={event:t,file:i.file,chunkIndex:i.chunkIndex,totalChunk:h,chunkSize:this.asyncSettings.chunkSize,response:l};if(this.trigger("chunkSuccess",c),(u(n)||!n)&&(a=this.getLiElement(i.file)),this.updateMetaData(i),i.end===i.file.size&&(i.file.statusCode="3"),i.file.statusCode==="5"){var p={event:t,fileData:i.file,cancel:!1,customFormData:[]};this.trigger("canceling",p,function(f){if(f.cancel){i.file.statusCode="3";var m=a.querySelector("."+Dt);!u(a)&&!u(m)&&(oa(m),w(a.querySelector(".e-spinner-pane"))),s.sendNextRequest(i)}else{i.request.emitError=!1,o.abort();var g=new FormData,v=s.element.getAttribute("name");g.append(v,i.file.name),g.append("cancel-uploading",i.file.name),g.append("cancelUploading",i.file.name),s.updateFormData(g,f.customFormData);var O=new pr(s.asyncSettings.removeUrl,"POST",!0,null);O.emitError=!1,O.onLoad=function(C){return s.removeChunkFile(C,i,n),{}},O.send(g)}})}else{if(h-1===i.chunkIndex&&h>i.chunkIndex){var d=this.pausedData.indexOf(i);d>=0&&this.pausedData.splice(d,1),u(this.template)&&(u(n)||!n)&&a&&(a&&!u(a.querySelector("."+Oi))&&w(a.querySelector("."+Oi)),this.removeChunkProgressBar(i)),this.raiseSuccessEvent(t,i.file);return}i.file.statusCode!=="4"&&this.sendNextRequest(i)}}else this.chunkUploadFailed(t,i)},e.prototype.sendNextRequest=function(t){t.start=t.end,t.end+=this.asyncSettings.chunkSize,t.end=Math.min(t.end,t.file.size),t.chunkIndex+=1,this.sendRequest(t.file,t)},e.prototype.removeChunkFile=function(t,i,n){if(u(this.template)&&u(n)&&!n){var s=this.getLiElement(i.file),o=s.querySelector("."+Dt),a=o;this.updateStatus(i.file,this.localizedTexts("fileUploadCancel"),"5"),this.updateProgressBarClasses(s,Dn),this.removeProgressbar(s,"failure"),o&&o.classList.remove(Dt),o&&o.classList.add(ni),o&&o.setAttribute("title",this.localizedTexts("remove"));var l=s.querySelector("."+Oi);l&&l.classList.add(kr),l&&l.classList.remove(Oi),l&&l.setAttribute("title",this.localizedTexts("retry")),!u(s)&&!u(o)&&!u(s.querySelector(".e-spinner-pane"))&&(oa(a),w(s.querySelector(".e-spinner-pane")))}},e.prototype.pauseUpload=function(t,i,n){t.file.statusCode="4",t.file.status=this.localizedTexts("pause"),this.updateMetaData(t);var s={event:i||null,file:t.file,chunkIndex:t.chunkIndex,chunkCount:Math.round(t.file.size/this.asyncSettings.chunkSize),chunkSize:this.asyncSettings.chunkSize};this.abortUpload(t,n,s)},e.prototype.abortUpload=function(t,i,n){t.file.statusCode!=="4"&&(t.request.emitError=!1,t.request.httpRequest.abort());var s=this.getLiElement(t.file);if(u(this.template)&&(u(i)||!i)){var o=s.querySelector("."+Oi);o.classList.remove(Oi),o.classList.add(la),o.setAttribute("title",this.localizedTexts("resume")),o.nextElementSibling.classList.add(ni),o.nextElementSibling.classList.remove(Dt),o.nextElementSibling.setAttribute("title",this.localizedTexts("remove"))}for(var a=0;a<this.pausedData.length;a++)this.pausedData[a].file.name===t.file.name&&this.pausedData.splice(a,1);this.pausedData.push(t),this.trigger("pausing",n)},e.prototype.resumeUpload=function(t,i,n){var s=this.getLiElement(t.file),o;u(s)||(o=s.querySelector("."+la)),!u(o)&&(u(n)||!n)&&(o.classList.remove(la),o.classList.add(Oi),o.setAttribute("title",this.localizedTexts("pause")),o.nextElementSibling.classList.remove(ni),o.nextElementSibling.classList.add(Dt),o.nextElementSibling.setAttribute("title",this.localizedTexts("abort"))),t.file.status=this.localizedTexts("inProgress"),t.file.statusCode="3",this.updateMetaData(t);var a={event:i||null,file:t.file,chunkIndex:t.chunkIndex,chunkCount:Math.round(t.file.size/this.asyncSettings.chunkSize),chunkSize:this.asyncSettings.chunkSize};this.trigger("resuming",a);for(var l=0;l<this.pausedData.length;l++)this.pausedData[l].end===this.pausedData[l].file.size?this.chunkUploadComplete(i,t,n):this.pausedData[l].file.name===t.file.name&&(this.pausedData[l].start=this.pausedData[l].end,this.pausedData[l].end=this.pausedData[l].end+this.asyncSettings.chunkSize,this.pausedData[l].end=Math.min(this.pausedData[l].end,this.pausedData[l].file.size),this.pausedData[l].chunkIndex=this.pausedData[l].chunkIndex+1,this.sendRequest(this.pausedData[l].file,this.pausedData[l],n))},e.prototype.updateMetaData=function(t){this.uploadMetaData.indexOf(t)===-1?this.uploadMetaData.push(t):(this.uploadMetaData.splice(this.uploadMetaData.indexOf(t),1),this.uploadMetaData.push(t))},e.prototype.removeChunkProgressBar=function(t){var i=this.getLiElement(t.file);if(!u(i)){this.updateProgressBarClasses(i,er),this.removeProgressbar(i,"success");var n=i.querySelector("."+Dt);u(n)||(n.classList.add(En),n.setAttribute("title",this.localizedTexts("delete")),n.classList.remove(Dt,kn))}},e.prototype.chunkUploadFailed=function(t,i,n){var s=this,o=Math.max(Math.ceil(i.file.size/this.asyncSettings.chunkSize),1),a;u(this.template)&&(u(n)||!n)&&(a=this.getLiElement(i.file));var l=t&&t.currentTarget?this.getResponse(t):null,h={event:t,file:i.file,chunkIndex:i.chunkIndex,totalChunk:o,chunkSize:this.asyncSettings.chunkSize,cancel:!1,response:l};this.trigger("chunkFailure",h,function(c){if(!c.cancel)if(i.retryCount<s.asyncSettings.retryCount)setTimeout(function(){s.retryRequest(a,i,n)},s.asyncSettings.retryAfterDelay);else{if(!u(a)){var p=a.querySelector("."+Oi)?a.querySelector("."+Oi):a.querySelector("."+la);u(p)||(p.classList.add(kr),p.classList.remove(Oi,la)),s.updateProgressBarClasses(a,Dn),s.removeProgressbar(a,"failure"),a.querySelector(".e-icons").classList.remove(kn);var d=a.querySelector("."+Dt)?a.querySelector("."+Dt):a.querySelector("."+ni);d.classList.remove(Dt),u(a.querySelector("."+Oi))||w(a.querySelector("."+Oi)),i.start>0?(d.classList.add(En),d.setAttribute("title",s.localizedTexts("delete"))):(d.classList.add(ni),d.setAttribute("title",s.localizedTexts("remove")))}i.retryCount=0;var f=i.file,m=s.localizedTexts("uploadFailedMessage"),g={e:t,response:l,operation:"upload",file:s.updateStatus(f,m,"0",!1),statusText:m};s.trigger("failure",g,function(v){s.updateStatus(f,v.statusText,"0"),s.uploadSequential(),s.checkActionComplete(!0)})}})},e.prototype.retryRequest=function(t,i,n){u(this.template)&&(u(n)||!n)&&t&&this.updateProgressBarClasses(t,Dn),i.retryCount+=1,this.sendRequest(i.file,i)},e.prototype.checkPausePlayAction=function(t){var i=t.target,n=t.target.parentElement,s=this.fileList.indexOf(n),o=this.filesData[s],a=this.getCurrentMetaData(o);i.classList.contains(Oi)?this.pauseUpload(a,t):i.classList.contains(la)?this.resumeUpload(a,t):i.classList.contains(kr)&&(a.file.status===this.localizedTexts("fileUploadCancel")?this.retryUpload(a,!1):this.retryUpload(a,!0))},e.prototype.retryUpload=function(t,i){i?(t.end=t.end+this.asyncSettings.chunkSize,t.start=t.start+this.asyncSettings.chunkSize,this.sendRequest(t.file,t)):(t.file.statusCode="1",t.file.status=this.localizedTexts("readyToUploadMessage"),this.chunkUpload(t.file)),this.getLiElement(t.file).classList.add(wc)},e.prototype.chunkUploadInProgress=function(t,i,n){var s=this;if(i.file.statusCode!=="4"){i.file.statusCode!=="4"&&i.file.statusCode!=="5"&&(i.file.statusCode="3",i.file.status=this.localizedTexts("inProgress")),this.updateMetaData(i);var o=this.getLiElement(i.file);if(!u(o)){var a=o.querySelector("."+kr);if(u(a)||(a.classList.add(Oi),a.setAttribute("title",this.localizedTexts("pause")),a.classList.remove(kr)),!u(o)){if(!(o.querySelectorAll("."+aa).length>0)){var l=o.querySelector("."+It);u(this.template)&&(l.classList.add(kn),l.classList.remove(Dn),this.createProgressBar(o),this.updateProgressBarClasses(o,kn));var h=o.querySelector("."+ni)?o.querySelector("."+ni):o.querySelector("."+En);u(h)||(h.classList.add(Dt),h.setAttribute("title",this.localizedTexts("abort")),h.classList.remove(ni))}if(!isNaN(Math.round(t.loaded/t.total*100))&&u(this.template)&&i.file.statusCode!=="4"){var c=void 0,p=Math.ceil(i.file.size/this.asyncSettings.chunkSize)-1;this.asyncSettings.chunkSize&&p&&(c=Math.round(i.chunkIndex/p*100),this.changeProgressValue(o,c.toString()+"%"))}i.chunkIndex===0&&this.checkActionButtonStatus()}if(u(o.querySelector("."+Oi))&&u(this.template)&&u(o.querySelector("."+En))){this.pauseButton=this.createElement("span",{className:"e-icons e-file-pause-btn",attrs:{tabindex:this.btnTabIndex}}),this.browserName==="msie"&&this.pauseButton.classList.add("e-msie");var d=o.querySelector("."+Dt);d.parentElement.insertBefore(this.pauseButton,d),this.pauseButton.setAttribute("title",this.localizedTexts("pause")),this.pauseButton.addEventListener("click",function(f){s.checkPausePlayAction(f)},!1)}}}},e.prototype.bytesToSize=function(t){var i=-1;if(!t)return"0.0 KB";do t=t/1024,i++;while(t>99);return i>=2&&(t=t*1024,i=1),Math.max(t,0).toFixed(1)+" "+["KB","MB"][i]},e.prototype.sortFileList=function(t){t=t||this.sortFilesList;for(var i=t,n=[],s=0;s<i.length;s++)n.push(i[s].name);for(var o=n.sort(),a=[],l=0,h=o;l<h.length;l++)for(var c=h[l],s=0;s<i.length;s++)c===i[s].name&&a.push(i[s]);return a},e.prototype.destroy=function(){this.element.value=null,this.clearTemplate(),this.clearAll(),this.unWireEvents(),this.unBindDropEvents(),this.multiple&&this.element.removeAttribute("multiple"),this.enabled||this.element.removeAttribute("disabled"),this.element.removeAttribute("accept"),this.setInitialAttributes();for(var t=["aria-label","directory","webkitdirectory","tabindex"],i=0,n=t;i<n.length;i++){var s=n[i];this.element.removeAttribute(s)}u(this.uploadWrapper)||(this.uploadWrapper.parentElement.appendChild(this.element),w(this.uploadWrapper)),this.uploadWrapper=null,this.uploadWrapper=null,this.browseButton=null,this.dropAreaWrapper=null,this.dropZoneElement=null,this.dropArea=null,this.keyboardModule=null,this.clearButton=null,this.uploadButton=null,r.prototype.destroy.call(this)},e.prototype.upload=function(t,i){var n=this;if(t=t||this.filesData,this.sequentialUpload&&(this.isFirstFileOnSelection||i))this.sequenceUpload(t);else{var s=this.getFilesInArray(t),o={customFormData:[],currentRequest:null,cancel:!1};this.trigger("beforeUpload",o,function(a){a.cancel||n.uploadFiles(s,i)})}},e.prototype.getFilesInArray=function(t){var i=[];return t instanceof Array?i=t:i.push(t),i},e.prototype.serverReadFileBase64=function(t,i,n){var s=this;return new Promise(function(o,a){var l=s.fileStreams[t].rawFile;try{var h=new FileReader;h.onload=function(c){return function(){try{var p=c.result,d=p?p.split(";base64,")[1]:null;o(d)}catch(f){a(f)}}}(h),h.readAsDataURL(l.slice(i,i+n))}catch(c){a(c)}})},e.prototype.uploadFileCount=function(t){var i=this.filesData;if(!i||i.length===0)return-1;var n=i.length;return n},e.prototype.getFileRead=function(t,i){var n=this.filesData;if(!n||n.length===0)return-1;var s=n[t],o=this.newFileRef++;return this.fileStreams[o]=s,o},e.prototype.getFileInfo=function(t,i){var n=this.filesData;if(!n||n.length===0)return null;var s=n[t];return s?this.filesData[t]:null},e.prototype.uploadFiles=function(t,i){var n=[];if(!(this.asyncSettings.saveUrl===""||u(this.asyncSettings.saveUrl))){if(!i||u(i))if(this.multiple)n=this.filterfileList(t);else{var s=[];s.push(t[0]),n=this.filterfileList(s)}else n=t;for(var o=0;o<n.length;o++)this.uploadFilesRequest(n,o,i)}},e.prototype.uploadFilesRequest=function(t,i,n){var s=this,o=[],a=this.checkChunkUpload(),l=new pr(this.asyncSettings.saveUrl,"POST",!0,null);l.emitError=!1;var h,c={fileData:t[i],customFormData:[],cancel:!1},p=new FormData;if(l.beforeSend=function(f){c.currentRequest=l.httpRequest,s.trigger("uploading",c,function(m){m.cancel&&s.eventCancelByArgs(f,m,t[i]),s.updateFormData(p,m.customFormData)})},t[i].statusCode==="1"){var d=this.element.getAttribute("name");p.append(d,t[i].rawFile,t[i].name),a&&t[i].size>this.asyncSettings.chunkSize?this.chunkUpload(t[i],n,i):(l.onLoad=function(f){return c.cancel?{}:(s.uploadComplete(f,t[i],n),{})},l.onUploadProgress=function(f){return c.cancel?{}:(s.uploadInProgress(f,t[i],n,l),{})},l.onError=function(f){return s.uploadFailed(f,t[i]),{}},l.send(p))}},e.prototype.spliceFiles=function(t){for(var i=this.fileList[t],n=this.getFilesData(),s=+i.getAttribute("data-files-count"),o=0,a=0;a<t;a++)o+=+this.fileList[a].getAttribute("data-files-count");for(var l=o+s-1,h=l;h>=o;h--)n.splice(h,1)},e.prototype.remove=function(t,i,n,s,o){var a=this;u(s)&&(s=!0);var l={event:o,cancel:!1,filesData:[],customFormData:[],postRawFile:s,currentRequest:null},h={cancel:!1,customFormData:[],currentRequest:null};this.trigger("beforeRemove",h,function(c){if(!c.cancel)if(a.isFormUpload())l.filesData=t,a.trigger("removing",l,function(C){if(!C.cancel)for(var x=a.getFilesInArray(t),M=!1,k=void 0,A=0,j=x;A<j.length;A++){var U=j[A];if(M||(k=a.fileList.indexOf(U.list)),k>-1){var q=u(U.input)?null:U.input;q&&w(q),a.spliceFiles(k),w(a.fileList[k]),a.fileList.splice(k,1),M=!0,k=-1}}});else if(a.isForm&&(u(a.asyncSettings.removeUrl)||a.asyncSettings.removeUrl===""))l.filesData=a.getFilesData(),a.trigger("removing",l,function(C){C.cancel||a.clearAll()});else{var p=[];t=u(t)?a.filesData:t,t instanceof Array?p=t:p.push(t),l.filesData=p;for(var d=a.asyncSettings.removeUrl,f=!(d===""||u(d)),m=function(C){var x=a.uploadedFilesData.indexOf(C);(C.statusCode==="2"||C.statusCode==="4"||C.statusCode==="0"&&x!==-1)&&f?a.removeUploadedFile(C,l,n,i):n?a.removeFilesData(C,i):a.trigger("removing",l,function(M){M.cancel||a.removeFilesData(C,i)}),o&&!o.target.classList.contains(ni)&&a.checkActionComplete(!1)},g=0,v=p;g<v.length;g++){var O=v[g];m(O)}}})},e.prototype.clearAll=function(){var t=this;if(u(this.listParent)){this.browserName!=="msie"&&(this.element.value=""),this.filesData=[];return}var i={cancel:!1,filesData:this.filesData};this.trigger("clearing",i,function(n){n.cancel||(t.clearData(),t.actionCompleteCount=0,t.count=-1)})},e.prototype.getFilesData=function(t){return u(t)?this.filesData:this.getSelectedFiles(t)},e.prototype.pause=function(t,i){t=t||this.filesData;var n=this.getFilesInArray(t);this.pauseUploading(n,i)},e.prototype.pauseUploading=function(t,i){for(var n=this.getFiles(t),s=0;s<n.length;s++)n[s].statusCode==="3"&&this.pauseUpload(this.getCurrentMetaData(n[s],null),null,i)},e.prototype.getFiles=function(t){var i=[];return!u(t)&&!(t instanceof Array)?i.push(t):i=t,i},e.prototype.resume=function(t,i){t=t||this.filesData;var n=this.getFilesInArray(t);this.resumeFiles(n,i)},e.prototype.resumeFiles=function(t,i){for(var n=this.getFiles(t),s=0;s<n.length;s++)n[s].statusCode==="4"&&this.resumeUpload(this.getCurrentMetaData(n[s],null),null,i)},e.prototype.retry=function(t,i,n){t=t||this.filesData;var s=this.getFilesInArray(t);this.sequentialUpload&&this.isFirstFileOnSelection&&(this.isFirstFileOnSelection=!1),this.retryFailedFiles(s,i,n)},e.prototype.retryFailedFiles=function(t,i,n){for(var s=this.getFiles(t),o=0;o<s.length;o++)if(s[o].statusCode==="5"||s[o].statusCode==="0")if(this.asyncSettings.chunkSize>0&&this.getCurrentMetaData(s[o],null))this.retryUpload(this.getCurrentMetaData(s[o],null),i);else{var a=void 0;n||(a=this.fileList[this.filesData.indexOf(s[o])]),this.reloadcanceledFile(null,s[o],a,n)}},e.prototype.cancel=function(t){t=t||this.filesData;var i=this.getFilesInArray(t);this.cancelUpload(i)},e.prototype.cancelUpload=function(t){var i=this.getFiles(t);if(this.asyncSettings.chunkSize>0){for(var n=0;n<i.length;n++)if(i[n].statusCode==="3"){var s=this.getCurrentMetaData(i[n],null);s.file.statusCode="5",s.file.status=this.localizedTexts("fileUploadCancel"),this.updateMetaData(s),this.showHideUploadSpinner(i[n])}}else for(var n=0;n<i.length;n++)i[n].statusCode==="3"&&(i[n].statusCode="5",i[n].status=this.localizedTexts("fileUploadCancel"),this.showHideUploadSpinner(i[n]))},e.prototype.showHideUploadSpinner=function(t){var i=this.getLiElement(t);if(!u(i)&&u(this.template)){var n=i.querySelector("."+Dt);Hp({target:n,width:"20px"}),Yp(n)}},Ne([we({saveUrl:"",removeUrl:""},Sj)],e.prototype,"asyncSettings",void 0),Ne([b(!1)],e.prototype,"sequentialUpload",void 0),Ne([b({})],e.prototype,"htmlAttributes",void 0),Ne([b("")],e.prototype,"cssClass",void 0),Ne([b(!0)],e.prototype,"enabled",void 0),Ne([b(null)],e.prototype,"template",void 0),Ne([b(!0)],e.prototype,"multiple",void 0),Ne([b(!0)],e.prototype,"autoUpload",void 0),Ne([b(!0)],e.prototype,"enableHtmlSanitizer",void 0),Ne([we({},Cj)],e.prototype,"buttons",void 0),Ne([b("")],e.prototype,"allowedExtensions",void 0),Ne([b(0)],e.prototype,"minFileSize",void 0),Ne([b(3e7)],e.prototype,"maxFileSize",void 0),Ne([b(null)],e.prototype,"dropArea",void 0),Ne([bn([{}],Oj)],e.prototype,"files",void 0),Ne([b(!0)],e.prototype,"showFileList",void 0),Ne([b(!1)],e.prototype,"directoryUpload",void 0),Ne([b("Default")],e.prototype,"dropEffect",void 0),Ne([R()],e.prototype,"created",void 0),Ne([R()],e.prototype,"actionComplete",void 0),Ne([R()],e.prototype,"rendering",void 0),Ne([R()],e.prototype,"beforeUpload",void 0),Ne([R()],e.prototype,"fileListRendering",void 0),Ne([R()],e.prototype,"selected",void 0),Ne([R()],e.prototype,"uploading",void 0),Ne([R()],e.prototype,"success",void 0),Ne([R()],e.prototype,"failure",void 0),Ne([R()],e.prototype,"removing",void 0),Ne([R()],e.prototype,"beforeRemove",void 0),Ne([R()],e.prototype,"clearing",void 0),Ne([R()],e.prototype,"progress",void 0),Ne([R()],e.prototype,"change",void 0),Ne([R()],e.prototype,"chunkSuccess",void 0),Ne([R()],e.prototype,"chunkFailure",void 0),Ne([R()],e.prototype,"chunkUploading",void 0),Ne([R()],e.prototype,"canceling",void 0),Ne([R()],e.prototype,"pausing",void 0),Ne([R()],e.prototype,"resuming",void 0),e=Ne([Ee],e),e}(Ve);var Mj=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),gl=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};function so(r,e){for(var t=ae({},r),i=0,n=Object.keys(t);i<n.length;i++){var s=n[i];e.indexOf(s)<0&&za(t,s)}return t}function pN(r,e){var t=e===40?0:r.childElementCount-1,i=t,n,s=r.querySelector(".e-selected");s&&s.classList.remove("e-selected");for(var o=0,a=r.children.length;o<a;o++)r.children[o].classList.contains("e-focused")&&(n=r.children[o],i=o,n.classList.remove("e-focused"),e===40?i++:i--,i===(e===40?r.childElementCount:-1)&&(i=t));n=r.children[i],i=dN(r,n,i,e),i!==-1&&(E([r.children[i]],"e-focused"),r.children[i].focus())}function dN(r,e,t,i,n){if(n===void 0&&(n=0),(e.classList.contains("e-separator")||e.classList.contains("e-disabled"))&&(t===(i===40?r.childElementCount-1:0)?t=i===40?0:r.childElementCount-1:i===40?t++:t--),e=r.children[t],e.classList.contains("e-separator")||e.classList.contains("e-disabled")){if(n++,n===r.childElementCount)return t=-1;t=dN(r,e,t,i,n)}return t}function fN(r,e){var t=[].slice.call(r.getElementsByClassName("e-blank-icon"));if(e){var i=[].slice.call(r.getElementsByClassName("e-item"));i.forEach(function(h){(h.style.paddingLeft||h.style.paddingRight)&&h.removeAttribute("style")})}if(t.length){var n=r.querySelector(".e-item:not(.e-blank-icon):not(.e-separator)");if(!u(n)){n.classList.contains("e-url")&&(n=n.querySelector(".e-menu-url"));var s=n.querySelector(".e-menu-icon"),o,a=r.classList.contains("e-rtl");a?o={padding:"paddingRight",margin:"marginLeft"}:o={padding:"paddingLeft",margin:"marginRight"};var l=parseInt(getComputedStyle(s).fontSize,10)+parseInt(getComputedStyle(s)[o.margin],10)+parseInt(getComputedStyle(n).paddingLeft,10)+"px";t.forEach(function(h){h.classList.contains("e-url")?h.querySelector(".e-menu-url").style[o.padding]=l:h.style[o.padding]=l})}}}var Dc=function(r){Mj(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return gl([b("")],e.prototype,"iconCss",void 0),gl([b("")],e.prototype,"id",void 0),gl([b(!1)],e.prototype,"separator",void 0),gl([b("")],e.prototype,"text",void 0),gl([b("")],e.prototype,"url",void 0),gl([b(!1)],e.prototype,"disabled",void 0),e}(de);var Tj=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ri=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Dr={DISABLED:"e-disabled",FOCUS:"e-focused",ICON:"e-menu-icon",ITEM:"e-item",POPUP:"e-dropdown-popup",RTL:"e-rtl",SEPARATOR:"e-separator",VERTICAL:"e-vertical"},ha=function(r){Tj(e,r);function e(t,i){var n=r.call(this,t,i)||this;return n.isPopupCreated=!0,n}return e.prototype.preRender=function(){},e.prototype.getPersistData=function(){return this.addOnPersist([])},e.prototype.toggle=function(){this.canOpen()?this.openPopUp():this.createPopupOnClick&&!this.isPopupCreated?(this.createPopup(),this.openPopUp()):this.closePopup()},e.prototype.render=function(){this.initialize(),this.disabled||this.wireEvents(),this.renderComplete()},e.prototype.addItems=function(t,i){for(var n,s=this.items.length,o=0,a=this.items.length;o<a;o++)if(i===this.items[o].text){s=o;break}for(var l=t.length-1;l>=0;l--)n=new Dc(this,"items",t[l],!0),this.items.splice(s,0,n);this.canOpen()||this.createItems()},e.prototype.removeItems=function(t,i){for(var n=!1,s=0,o=t.length;s<o;s++)for(var a=0,l=this.items.length;a<l;a++)if(t[s]===(i?this.items[a].id:this.items[a].text)){this.items.splice(a,1),n=!0;break}n&&this.getULElement()&&this.createItems()},e.prototype.createPopup=function(){var t,i=this.createElement("div",{className:Dr.POPUP,id:this.element.id+"-popup"});document.body.appendChild(i),this.dropDown=new _t(i,{relateTo:this.element,collision:{X:"fit",Y:"flip"},position:{X:"left",Y:"bottom"},targetType:"relative",content:this.target?this.getTargetElement():"",enableRtl:this.enableRtl}),this.dropDown.element.setAttribute("role","dialog"),this.dropDown.element.setAttribute("aria-label","dropdown menu"),u(this.popupContent)||(this.popupContent.style.display=""),this.dropDown.element.style.position==="fixed"&&this.dropDown.refreshPosition(this.element),this.dropDown.hide(),pe(this.element,(t={},t["aria-haspopup"]=this.items.length||this.target?"true":"false",t["aria-expanded"]="false",t.type="button",t)),this.cssClass&&E([i],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.isPopupCreated=!0},e.prototype.getTargetElement=function(){return this.createPopupOnClick&&!this.isColorPicker()&&!u(this.popupContent)?this.popupContent:typeof this.target=="string"?$(this.target):this.target},e.prototype.createItems=function(t){var i=this.items,n=this.hasIcon(this.items,"iconCss"),s,o,a,l,h=this.getULElement();h?h.innerHTML="":h=this.createElement("ul",{attrs:{role:"menu",tabindex:"0"}});for(var c=0;c<i.length;c++){o=i[c];var p=o.text;a=this.createElement("li",{innerHTML:o.url?"":p,className:o.separator?Dr.ITEM+" "+Dr.SEPARATOR:Dr.ITEM,attrs:o.separator?{role:"separator",tabindex:"-1","aria-label":"separator","aria-hidden":"true"}:{role:"menuitem",tabindex:"-1","aria-label":p},id:o.id?o.id:Fe("e-"+this.getModuleName()+"-item")}),this.enableHtmlSanitizer?a.textContent=o.url?"":p:a.innerHTML=o.url?"":p,o.url&&(a.appendChild(this.createAnchor(o)),a.classList.add("e-url")),o.iconCss?(s=this.createElement("span",{className:Dr.ICON+" "+o.iconCss}),o.url?a.childNodes[0].appendChild(s):a.insertBefore(s,a.childNodes[0])):n&&!o.separator&&a.classList.add("e-blank-icon");var d=o.disabled;o.disabled&&a.classList.add("e-disabled"),l={item:o,element:a},this.trigger("beforeItemRender",l);var f=l.item.disabled;d!==f&&(l.item.disabled?a.classList.add("e-disabled"):a.classList.remove("e-disabled")),h.appendChild(a)}t&&this.getPopUpElement().appendChild(h),n&&fN(this.getPopUpElement())},e.prototype.hasIcon=function(t,i){for(var n=0,s=t.length;n<s;n++)if(t[n][""+i])return!0;return!1},e.prototype.createAnchor=function(t){var i=this.enableHtmlSanitizer?pt.sanitize(t.text):t.text;return this.createElement("a",{className:"e-menu-text e-menu-url",innerHTML:i,attrs:{href:t.url}})},e.prototype.initialize=function(){this.button=new Ei({iconCss:this.iconCss,iconPosition:this.iconPosition,cssClass:this.cssClass,content:this.content,disabled:this.disabled,enableRtl:this.enableRtl,enablePersistence:this.enablePersistence}),this.button.createElement=this.createElement,this.button.appendTo(this.element),this.element.id||(this.element.id=Fe("e-"+this.getModuleName())),this.appendArrowSpan(),this.setActiveElem([this.element]),this.element.setAttribute("aria-label",this.element.textContent?this.element.textContent:"dropdownbutton"),this.target&&!this.isColorPicker()&&!this.createPopupOnClick||!this.createPopupOnClick?this.createPopup():(this.isPopupCreated=!1,this.target&&!this.isColorPicker()&&this.createPopupOnClick&&(this.popupContent=this.getTargetElement(),this.popupContent.style.display="none"))},e.prototype.isColorPicker=function(){if(!this.element)return!1;var t=this.element.previousSibling;return!!(t&&t.classList&&t.classList.contains("e-split-colorpicker"))},e.prototype.appendArrowSpan=function(){this.element.appendChild(this.createElement("span",{className:"e-btn-icon e-icons e-icon-"+(this.cssClass.indexOf(Dr.VERTICAL)>-1?"bottom":"right")+" e-caret"}))},e.prototype.setActiveElem=function(t){this.activeElem=t},e.prototype.getModuleName=function(){return"dropdown-btn"},e.prototype.canOpen=function(){var t=!1;return this.isPopupCreated&&(t=this.getPopUpElement().classList.contains("e-popup-close")),t},e.prototype.destroy=function(){var t=this;if(r.prototype.destroy.call(this),this.getModuleName()==="dropdown-btn"){var i;this.element.querySelector("span.e-caret")&&w(this.element.querySelector("span.e-caret")),this.cssClass&&(i=this.cssClass.split(" ")),this.button.destroy(),i&&L([this.element],i),L(this.activeElem,["e-active"]);var n=this.element.getAttribute("class")?["aria-haspopup","aria-expanded","aria-owns","type"]:["aria-haspopup","aria-expanded","aria-owns","type","class"];n.forEach(function(s){t.element.removeAttribute(s)}),this.popupUnWireEvents(),this.destroyPopup(),this.isPopupCreated=!1,this.disabled||this.unWireEvents()}},e.prototype.destroyPopup=function(){if(this.isPopupCreated){if(this.dropDown.destroy(),this.getPopUpElement()){var t=document.getElementById(this.getPopUpElement().id);t&&(L([t],["e-popup-open","e-popup-close"]),w(t))}y.remove(this.getPopUpElement(),"click",this.clickHandler),y.remove(this.getPopUpElement(),"keydown",this.keyBoardHandler),this.isPopupCreated&&this.dropDown&&(this.dropDown.element=null,this.dropDown=void 0)}this.isPopupCreated=!1},e.prototype.getPopUpElement=function(){var t=null;if(!this.dropDown&&this.activeElem[0].classList.contains("e-split-btn")){var i=qm(this.activeElem[1],"dropdown-btn");i&&(this.dropDown=i.dropDown)}return this.dropDown&&(t=this.dropDown.element),t},e.prototype.getULElement=function(){var t=null;return this.getPopUpElement()&&(t=this.getPopUpElement().children[0]),t},e.prototype.wireEvents=function(){this.delegateMousedownHandler=this.mousedownHandler.bind(this),this.createPopupOnClick||y.add(document,"mousedown touchstart",this.delegateMousedownHandler,this),y.add(this.element,"click",this.clickHandler,this),y.add(this.element,"keydown",this.keyBoardHandler,this),y.add(window,"resize",this.windowResize,this)},e.prototype.windowResize=function(){!this.canOpen()&&this.dropDown&&this.dropDown.refreshPosition(this.element)},e.prototype.popupWireEvents=function(){this.delegateMousedownHandler||(this.delegateMousedownHandler=this.mousedownHandler.bind(this));var t=this.getPopUpElement();this.createPopupOnClick&&y.add(document,"mousedown touchstart",this.delegateMousedownHandler,this),t&&(y.add(t,"click",this.clickHandler,this),y.add(t,"keydown",this.keyBoardHandler,this),this.closeActionEvents&&y.add(t,this.closeActionEvents,this.focusoutHandler,this)),this.rippleFn=On(t,{selector:"."+Dr.ITEM})},e.prototype.popupUnWireEvents=function(){var t=this.getPopUpElement();this.createPopupOnClick&&y.remove(document,"mousedown touchstart",this.delegateMousedownHandler),t&&t.parentElement&&(y.remove(t,"click",this.clickHandler),y.remove(t,"keydown",this.keyBoardHandler),this.closeActionEvents&&y.remove(t,this.closeActionEvents,this.focusoutHandler)),fr&&this.rippleFn&&this.rippleFn()},e.prototype.keyBoardHandler=function(t){if(!(t.target===this.element&&(t.keyCode===9||!t.altKey&&t.keyCode===40||t.keyCode===38)))switch(t.keyCode){case 38:case 40:t.altKey&&(t.keyCode===38||t.keyCode===40)?this.keyEventHandler(t):this.upDownKeyHandler(t);break;case 9:case 13:case 27:case 32:this.keyEventHandler(t);break}},e.prototype.upDownKeyHandler=function(t){this.target&&(t.keyCode===38||t.keyCode===40)||(t.preventDefault(),pN(this.getULElement(),t.keyCode))},e.prototype.keyEventHandler=function(t){if(!(this.target&&(t.keyCode===13||t.keyCode===9))){if(t.keyCode===13&&this.activeElem[0].classList.contains("e-split-btn")){this.triggerSelect(t),this.activeElem[0].focus();return}t.target&&t.target.className.indexOf("e-edit-template")>-1&&t.keyCode===32||(t.keyCode!==9&&t.preventDefault(),t.keyCode===27||t.keyCode===38||t.keyCode===9?this.canOpen()||this.closePopup(t,this.element):this.clickHandler(t))}},e.prototype.getLI=function(t){return t.tagName==="LI"?t:S(t,"li")},e.prototype.mousedownHandler=function(t){var i=t.target;this.dropDown&&!this.canOpen()&&!(S(i,'[id="'+this.getPopUpElement().id+'"]')||S(i,'[id="'+this.element.id+'"]'))&&this.closePopup(t)},e.prototype.focusoutHandler=function(t){if(this.isPopupCreated&&!this.canOpen()){var i=t.relatedTarget;if(i&&i.className.indexOf("e-item")>-1){var n=this.getLI(i);if(n){var s=Array.prototype.indexOf.call(this.getULElement().children,n),o=this.items[s];if(o){var a={element:n,item:o,event:t};this.trigger("select",a)}}}this.closePopup(t)}},e.prototype.clickHandler=function(t){var i=t.target;if(S(i,'[id="'+this.element.id+'"]'))!this.createPopupOnClick||this.target&&this.target!==""&&!this.isColorPicker()&&!this.createPopupOnClick?this.getPopUpElement().classList.contains("e-popup-close")?this.openPopUp(t):this.closePopup(t):this.isPopupCreated?this.closePopup(t,this.activeElem[0]):(this.createPopup(),this.openPopUp(t));else if(S(i,'[id="'+this.getPopUpElement().id+'"]')){var n=this.getLI(t.target);n&&(this.triggerSelect(t),this.closePopup(t,this.activeElem[0]))}},e.prototype.triggerSelect=function(t){var i,n,s,o=this.getLI(t.target);o&&(n=Array.prototype.indexOf.call(this.getULElement().children,o),s=this.items[n],s&&(i={element:o,item:s,event:t},this.trigger("select",i)))},e.prototype.openPopUp=function(t){var i=this;t===void 0&&(t=null);var n=!1,s=this.getPopUpElement();if(!this.target)this.createItems(!0);else if(this.activeElem.length>1){var o=qm(this.activeElem[0],"split-btn");o.isReact&&s.childNodes.length<1&&(n=!0,o.appendReactElement(this.getTargetElement(),this.getPopUpElement()),this.renderReactTemplates())}else this.isReact&&s.childNodes.length<1&&(n=!0,this.appendReactElement(this.getTargetElement(),this.getPopUpElement()),this.renderReactTemplates());var a=this.getULElement();this.popupWireEvents();var l={element:a,items:this.items,event:t,cancel:!1};this.trigger("beforeOpen",l,function(h){if(!h.cancel){var c=i.getULElement();if(i.dropDown.show(null,i.element),E([i.element],"e-active"),i.element.setAttribute("aria-expanded","true"),i.element.setAttribute("aria-owns",i.getPopUpElement().id),c&&c.focus(),i.enableRtl&&c.parentElement.style.left!=="0px"){var p=void 0;i.element.parentElement&&i.element.parentElement.classList.contains("e-split-btn-wrapper")?p=i.element.parentElement.offsetWidth:p=i.element.offsetWidth;var d=c.parentElement.offsetWidth-p,f=parseFloat(c.parentElement.style.left)-d;f<0&&(f=0),c.parentElement.style.left=f+"px"}var m={element:c,items:i.items};i.trigger("open",m)}})},e.prototype.closePopup=function(t,i){var n=this;t===void 0&&(t=null);var s=this.getULElement(),o={element:s,items:this.items,event:t,cancel:!1};this.trigger("beforeClose",o,function(a){if(a.cancel)s&&s.focus();else{var l=n.getPopUpElement();l&&y.remove(l,"keydown",n.keyBoardHandler),n.popupUnWireEvents();var h=n.getULElement(),c=void 0;h&&(c=h.querySelector(".e-selected")),c&&c.classList.remove("e-selected"),n.dropDown.hide(),L(n.activeElem,"e-active"),n.element.setAttribute("aria-expanded","false"),n.element.removeAttribute("aria-owns"),i&&i.focus();var p={element:h,items:n.items};n.trigger("close",p),!n.target&&h&&w(h),(!n.target||n.isColorPicker()||n.target&&!n.isColorPicker())&&n.createPopupOnClick&&n.destroyPopup()}})},e.prototype.unWireEvents=function(){this.createPopupOnClick||y.remove(document,"mousedown touchstart",this.delegateMousedownHandler),y.remove(this.element,"click",this.clickHandler),y.remove(this.element,"keydown",this.keyBoardHandler),this.isPopupCreated&&(y.remove(this.getPopUpElement(),"click",this.clickHandler),y.remove(this.getPopUpElement(),"keydown",this.keyBoardHandler)),y.remove(window,"resize",this.windowResize)},e.prototype.onPropertyChanged=function(t,i){var n=["content","cssClass","iconCss","iconPosition","disabled","enableRtl"];this.button.setProperties(so(t,n));var s;this.isPopupCreated&&(s=this.getPopUpElement(),this.dropDown.setProperties(so(t,["enableRtl"])));for(var o=0,a=Object.keys(t);o<a.length;o++){var l=a[o];switch(l){case"content":this.element.querySelector("span.e-caret")||this.appendArrowSpan();break;case"disabled":t.disabled?(this.unWireEvents(),this.isPopupCreated&&!this.canOpen()&&this.closePopup()):this.wireEvents();break;case"cssClass":if(t.cssClass.indexOf(Dr.VERTICAL)>-1||i.cssClass.indexOf(Dr.VERTICAL)>-1){this.element.querySelector("span.e-caret")||this.appendArrowSpan();var h=this.element.querySelector("span.e-caret");t.cssClass.indexOf(Dr.VERTICAL)>-1?Bt(h,["e-icon-bottom"],["e-icon-right"]):Bt(h,["e-icon-right"],["e-icon-bottom"])}this.isPopupCreated&&(i.cssClass&&L([s],i.cssClass.split(" ")),t.cssClass&&E([s],t.cssClass.replace(/\s+/g," ").trim().split(" ")));break;case"target":this.dropDown.content=this.getTargetElement(),this.dropDown.dataBind();break;case"items":this.isPopupCreated&&this.getULElement()&&this.createItems();break;case"createPopupOnClick":t.createPopupOnClick?this.destroyPopup():this.createPopup();break}}},e.prototype.focusIn=function(){this.element.focus()},ri([b("")],e.prototype,"content",void 0),ri([b("")],e.prototype,"cssClass",void 0),ri([b(!1)],e.prototype,"disabled",void 0),ri([b("")],e.prototype,"iconCss",void 0),ri([b("Left")],e.prototype,"iconPosition",void 0),ri([b(!0)],e.prototype,"enableHtmlSanitizer",void 0),ri([bn([],Dc)],e.prototype,"items",void 0),ri([b(!1)],e.prototype,"createPopupOnClick",void 0),ri([b("")],e.prototype,"target",void 0),ri([b("")],e.prototype,"closeActionEvents",void 0),ri([R()],e.prototype,"beforeItemRender",void 0),ri([R()],e.prototype,"beforeOpen",void 0),ri([R()],e.prototype,"beforeClose",void 0),ri([R()],e.prototype,"close",void 0),ri([R()],e.prototype,"open",void 0),ri([R()],e.prototype,"select",void 0),ri([R()],e.prototype,"created",void 0),e=ri([Ee],e),e}(Ve);var Nj=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ci=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},td="e-rtl",hy="EJS-SPLITBUTTON",mN=function(r){Nj(e,r);function e(t,i){return r.call(this,t,i)||this}return e.prototype.preRender=function(){var t=this.element;if(t.tagName===hy){for(var i=F("ej2_instances",t),n=this.createElement("button",{attrs:{type:"button"}}),s=this.createElement(hy,{className:"e-"+this.getModuleName()+"-wrapper"}),o=0,a=t.attributes.length;o<a;o++)n.setAttribute(t.attributes[o].nodeName,t.attributes[o].nodeValue);t.parentNode.insertBefore(s,t),w(t),t=n,s.appendChild(t),Pe("ej2_instances",i,t),this.wrapper=s,this.element=t}this.element.id||(this.element.id=Fe("e-"+this.getModuleName()))},e.prototype.render=function(){this.initWrapper(),this.createPrimaryButton(),this.renderControl()},e.prototype.renderControl=function(){this.createSecondaryButton(),this.setActiveElem([this.element,this.secondaryBtnObj.element]),this.setAria(),this.wireEvents(),this.renderComplete()},e.prototype.addItems=function(t,i){r.prototype.addItems.call(this,t,i),this.secondaryBtnObj.items=this.items},e.prototype.removeItems=function(t,i){r.prototype.removeItems.call(this,t,i),this.secondaryBtnObj.items=this.items},e.prototype.initWrapper=function(){this.wrapper||(this.wrapper=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"}),this.element.parentNode.insertBefore(this.wrapper,this.element)),this.element.classList.remove("e-"+this.getModuleName()),this.enableRtl&&this.wrapper.classList.add(td),this.cssClass&&E([this.wrapper],this.cssClass.replace(/\s+/g," ").trim().split(" "))},e.prototype.createPrimaryButton=function(){var t={cssClass:this.cssClass,enableRtl:this.enableRtl,iconCss:this.iconCss,iconPosition:this.iconPosition,content:this.content,disabled:this.disabled};this.primaryBtnObj=new Ei(t),this.primaryBtnObj.createElement=this.createElement,this.primaryBtnObj.appendTo(this.element),this.element.classList.add("e-"+this.getModuleName()),this.element.type="button",this.wrapper.appendChild(this.element)},e.prototype.createSecondaryButton=function(){var t=this,i=this.createElement("button",{className:"e-icon-btn",attrs:{tabindex:"-1"},id:this.element.id+"_dropdownbtn"});this.wrapper.appendChild(i);var n={cssClass:this.cssClass,disabled:this.disabled,enableRtl:this.enableRtl,items:this.items,target:this.target,createPopupOnClick:this.createPopupOnClick};n.beforeItemRender=function(s){t.createPopupOnClick&&(t.secondaryBtnObj.dropDown.relateTo=t.wrapper,t.dropDown=t.secondaryBtnObj.dropDown),t.trigger("beforeItemRender",s)},n.open=function(s){t.trigger("open",s)},n.close=function(s){t.trigger("close",s)},n.select=function(s){t.trigger("select",s)},n.beforeOpen=function(s){t.createPopupOnClick&&t.items.length==0&&(t.secondaryBtnObj.dropDown.relateTo=t.wrapper,t.dropDown=t.secondaryBtnObj.dropDown);var o=new Lc;return t.trigger("beforeOpen",s,function(a){o.resolve(a)}),o},n.beforeClose=function(s){var o=new Lc;return t.trigger("beforeClose",s,function(a){o.resolve(a)}),o},this.secondaryBtnObj=new ha(n),this.secondaryBtnObj.createElement=this.createElement,this.secondaryBtnObj.appendTo(i),this.createPopupOnClick||(this.secondaryBtnObj.dropDown.relateTo=this.wrapper,this.dropDown=this.secondaryBtnObj.dropDown),this.isPopupCreated=this.secondaryBtnObj.isPopupCreated,this.secondaryBtnObj.activeElem=[this.element,this.secondaryBtnObj.element],this.secondaryBtnObj.element.querySelector(".e-btn-icon").classList.remove("e-icon-right"),this.disabled&&this.wrapper.classList.add("e-splitbtn-disabled")},e.prototype.setAria=function(){pe(this.element,{"aria-expanded":"false","aria-haspopup":"true","aria-label":this.element.textContent?this.element.textContent+" splitbutton":"splitbutton","aria-owns":this.element.id+"_dropdownbtn-popup"})},e.prototype.getModuleName=function(){return"split-btn"},e.prototype.toggle=function(){this.secondaryBtnObj.toggle()},e.prototype.destroy=function(){var t=this,i=[td];if(this.cssClass&&(i=i.concat(this.cssClass.split(" "))),this.element){var n=document.getElementById(this.element.id);n&&n.parentElement===this.wrapper&&(this.wrapper.tagName===hy?(this.wrapper.innerHTML="",L([this.wrapper],["e-rtl","e-"+this.getModuleName()+"-wrapper"]),L([this.wrapper],this.cssClass.split(" "))):(L([this.element],i),["aria-label","aria-haspopup","aria-expanded","aria-owns","type"].forEach(function(s){t.element.removeAttribute(s)}),this.wrapper.parentNode.insertBefore(this.element,this.wrapper),Rt(this.wrapper)),this.unWireEvents())}this.primaryBtnObj.destroy(),this.secondaryBtnObj.destroy(),r.prototype.destroy.call(this),this.element&&!this.element.getAttribute("class")&&this.element.removeAttribute("class"),this.refreshing&&this.isAngular&&(this.element=this.wrapper,["e-control","e-split-btn","e-lib"].forEach(function(s){t.element.classList.add(s)}),Pe("ej2_instances",[this],this.element)),this.wrapper=null},e.prototype.wireEvents=function(){y.add(this.element,"click",this.primaryBtnClickHandler,this),new Gr(this.element,{keyAction:this.btnKeyBoardHandler.bind(this),keyConfigs:{altdownarrow:"alt+downarrow",enter:"enter"}})},e.prototype.unWireEvents=function(){y.remove(this.element,"click",this.primaryBtnClickHandler),en(this.element,Gr).destroy()},e.prototype.primaryBtnClickHandler=function(){this.trigger("click",{element:this.element})},e.prototype.btnKeyBoardHandler=function(t){switch(t.action){case"altdownarrow":this.clickHandler(t);break;case"enter":this.clickHandler(t),this.getPopUpElement()&&!this.getPopUpElement().classList.contains("e-popup-close")?(this.element.classList.remove("e-active"),this.secondaryBtnObj.element.classList.add("e-active")):this.secondaryBtnObj.element.classList.remove("e-active");break}},e.prototype.onPropertyChanged=function(t,i){var n=["content","iconCss","iconPosition","cssClass","disabled","enableRtl"];this.primaryBtnObj.setProperties(so(t,n)),n=["beforeOpen","beforeItemRender","select","open","close","cssClass","disabled","enableRtl","createPopupOnClick"],Object.keys(t).indexOf("items")>-1&&(this.secondaryBtnObj.items=t.items,this.secondaryBtnObj.dataBind()),this.secondaryBtnObj.setProperties(so(t,n));for(var s=0,o=Object.keys(t);s<o.length;s++){var a=o[s];switch(a){case"cssClass":i.cssClass&&L([this.wrapper],i.cssClass.split(" ")),E([this.wrapper],t.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":t.enableRtl?E([this.wrapper],td):L([this.wrapper],td);break;case"disabled":t.disabled?E([this.wrapper],"e-splitbtn-disabled"):L([this.wrapper],"e-splitbtn-disabled")}}},e.prototype.focusIn=function(){this.element.focus()},ci([b("")],e.prototype,"content",void 0),ci([b("")],e.prototype,"cssClass",void 0),ci([b(!1)],e.prototype,"disabled",void 0),ci([b("")],e.prototype,"iconCss",void 0),ci([b("Left")],e.prototype,"iconPosition",void 0),ci([b(!1)],e.prototype,"createPopupOnClick",void 0),ci([bn([],Dc)],e.prototype,"items",void 0),ci([b("")],e.prototype,"target",void 0),ci([R()],e.prototype,"beforeItemRender",void 0),ci([R()],e.prototype,"beforeOpen",void 0),ci([R()],e.prototype,"beforeClose",void 0),ci([R()],e.prototype,"click",void 0),ci([R()],e.prototype,"close",void 0),ci([R()],e.prototype,"open",void 0),ci([R()],e.prototype,"select",void 0),ci([R()],e.prototype,"created",void 0),e=ci([Ee],e),e}(ha);var Lc=function(){function r(){var e=this;this.promise=new Promise(function(t,i){e.resolve=t,e.reject=i}),this.catch=this.promise.catch.bind(this.promise),this.then=this.promise.then.bind(this.promise)}return r}();var xj=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Lt=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Ac="e-apply",id="e-cancel",cy="e-current",wj="e-container",Ic="e-ctrl-btn",vl="e-switch-ctrl-btn",gN="e-disabled",vN="e-value-switch-btn",yN="e-handler",bN="e-hex",uy="e-hide-hex-value",py="e-hide-opacity",yl="e-hide-switchable-value",ca="e-hide-value",ON="e-hide-valueswitcher",Pc="e-hsv-color",CN="e-hsv-container",bl="e-selected-value",nd="e-mode-switch-btn",dy="e-nocolor-item",fy="e-opacity-value",jc="e-palette",rd="e-color-palette",my="e-color-picker",sd="e-preview-container",od="e-previous",Ej="e-rtl",Ol="e-show-value",zc="e-selected",ad="e-split-preview",ld="e-tile",kj={default:["#000000","#f44336","#e91e63","#9c27b0","#673ab7","#2196f3","#03a9f4","#00bcd4","#009688","#ffeb3b","#ffffff","#ffebee","#fce4ec","#f3e5f5","#ede7f6","#e3f2fd","#e1f5fe","#e0f7fa","#e0f2f1","#fffde7","#f2f2f2","#ffcdd2","#f8bbd0","#e1bee7","#d1c4e9","#bbdefb","#b3e5fc","#b2ebf2","#b2dfdb","#fff9c4","#e6e6e6","#ef9a9a","#f48fb1","#ce93d8","#b39ddb","#90caf9","#81d4fa","#80deea","#80cbc4","#fff59d","#cccccc","#e57373","#f06292","#ba68c8","#9575cd","#64b5f6","#4fc3f7","#4dd0e1","#4db6ac","#fff176","#b3b3b3","#ef5350","#ec407a","#ab47bc","#7e57c2","#42a5f5","#29b6f6","#26c6da","#26a69a","#ffee58","#999999","#e53935","#d81b60","#8e24aa","#5e35b1","#1e88e5","#039be5","#00acc1","#00897b","#fdd835","#808080","#d32f2f","#c2185b","#7b1fa2","#512da8","#1976d2","#0288d1","#0097a7","#00796b","#fbc02d","#666666","#c62828","#ad1457","#6a1b9a","#4527a0","#1565c0","#0277bd","#00838f","#00695c","#f9a825","#4d4d4d","#b71c1c","#880e4f","#4a148c","#311b92","#0d47a1","#01579b","#006064","#004d40","#f57f17"]},gy=function(r){xj(e,r);function e(t,i){return r.call(this,t,i)||this}return e.prototype.preRender=function(){var t=this.element;this.formElement=S(this.element,"form"),this.formElement&&y.add(this.formElement,"reset",this.formResetHandler,this);var i={Apply:"Apply",Cancel:"Cancel",ModeSwitcher:"Switch Mode"};this.l10n=new Qi("colorpicker",i,this.locale),t.getAttribute("ejs-for")&&!t.getAttribute("name")&&t.setAttribute("name",t.id)},e.prototype.render=function(){this.initWrapper(),this.inline?this.createWidget():this.createSplitBtn(),this.enableOpacity||E([this.container.parentElement],py),this.renderComplete()},e.prototype.initWrapper=function(){var t=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"});this.element.parentNode.insertBefore(t,this.element),t.appendChild(this.element),pe(this.element,{tabindex:"-1",spellcheck:"false","aria-label":"colorpicker"}),this.container=this.createElement("div",{className:wj}),this.getWrapper().appendChild(this.container);var i=this.value?this.roundValue(this.value).toLowerCase():"#008000ff";this.noColor&&this.mode==="Palette"&&this.value===""&&(i="");var n=i.slice(0,7);u(this.initialInputValue)&&(this.initialInputValue=n),this.element.value=n,this.enableOpacity?this.setProperties({value:i},!0):this.setProperties({value:n},!0),this.enableRtl&&t.classList.add(Ej),this.cssClass&&E([t],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.tileRipple=On(this.container,{selector:"."+ld}),this.ctrlBtnRipple=On(this.container,{selector:".e-btn"})},e.prototype.getWrapper=function(){return this.element.parentElement},e.prototype.createWidget=function(){this.mode==="Palette"?(this.createPalette(),this.inline||this.firstPaletteFocus()):(this.createPicker(),this.inline||this.getDragHandler().focus()),this.isRgb=!0,this.createInput(),this.createCtrlBtn(),this.disabled||this.wireEvents(),this.inline&&this.disabled&&this.toggleDisabled(!0),N.isDevice&&this.refreshPopupPos()},e.prototype.createSplitBtn=function(){var t=this,i=this.createElement("button",{className:"e-split-colorpicker"});this.getWrapper().appendChild(i),this.splitBtn=new mN({iconCss:"e-selected-color",target:this.container,disabled:this.disabled,enableRtl:this.enableRtl,createPopupOnClick:this.createPopupOnClick,open:this.onOpen.bind(this),click:function(){t.trigger("change",{currentValue:{hex:t.value.slice(0,7),rgba:t.convertToRgbString(t.hexToRgb(t.value))},previousValue:{hex:null,rgba:null},value:t.value})}}),this.splitBtn.createElement=this.createElement,this.splitBtn.appendTo(i);var n=this.createElement("span",{className:ad});$(".e-selected-color",i).appendChild(n),n.style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value));var s=this.getPopupEle();if(E([s],"e-colorpicker-popup"),this.cssClass&&E([s],this.cssClass.replace(/\s+/g," ").trim().split(" ")),N.isDevice&&!this.createPopupOnClick){var o=this.getPopupInst();o.relateTo=document.body,o.position={X:"center",Y:"center"},o.targetType="container",o.collision={X:"fit",Y:"fit"},o.offsetY=4,s.style.zIndex=ls(this.splitBtn.element).toString()}this.bindCallBackEvent()},e.prototype.onOpen=function(){if(this.trigger("open",{element:this.container}),!N.isDevice){var t=this.getPopupInst(),i=as(t.element);i.length>0&&(t.collision={X:"flip",Y:"fit"},t.position={X:"right",Y:"bottom"},t.targetType="container")}},e.prototype.getPopupInst=function(){return en(this.getPopupEle(),_t)},e.prototype.bindCallBackEvent=function(){var t=this;this.splitBtn.beforeOpen=function(i){var n=new Lc;return t.trigger("beforeOpen",i,function(s){if(!s.cancel){var o=t.getPopupEle();if(o.style.top=W(0+pageYOffset),o.style.left=W(0+pageXOffset),o.style.display="block",t.createWidget(),o.style.display="",N.isDevice){if(t.createPopupOnClick){var a=t.getPopupInst();a.relateTo=document.body,a.position={X:"center",Y:"center"},a.targetType="container",a.collision={X:"fit",Y:"fit"},a.offsetY=4,o.style.zIndex=ls(t.splitBtn.element).toString()}t.modal=t.createElement("div"),t.modal.className="e-"+t.getModuleName()+" e-modal",t.modal.style.display="none",document.body.insertBefore(t.modal,o),document.body.className+=" e-colorpicker-overflow",t.modal.style.display="block",t.modal.style.zIndex=(Number(o.style.zIndex)-1).toString()}}i.cancel=s.cancel,n.resolve(s)}),n},this.splitBtn.beforeClose=function(i){var n=new Lc;if(u(i.event))n.resolve(i);else{var s={element:t.container,event:i.event,cancel:!1};t.trigger("beforeClose",s,function(o){N.isDevice&&i.event.target===t.modal&&(o.cancel=!0),o.cancel||t.onPopupClose(),i.cancel=o.cancel,n.resolve(o)})}return n}},e.prototype.onPopupClose=function(){this.unWireEvents(),this.destroyOtherComp(),this.container.style.width="",$("."+ad,this.splitBtn.element).style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value)),this.container.innerHTML="",L([this.container],[my,rd]),N.isDevice&&this.modal&&(L([document.body],"e-colorpicker-overflow"),this.modal.style.display="none",this.modal.outerHTML="",this.modal=null)},e.prototype.createPalette=function(){if(Bt(this.container,[rd],[my]),this.presetColors){var t=this.createElement("div",{className:"e-custom-palette"});this.appendElement(t);var i=Object.keys(this.presetColors);if(i.length===1)this.appendPalette(this.presetColors[i[0]],i[0],t);else for(var n=0,s=i.length;n<s;n++)this.appendPalette(this.presetColors[i[n]],i[n],t);ge(".e-row",t).length>10&&E([t],"e-palette-group")}else this.appendPalette(kj.default,"default");this.mode==="Palette"&&!this.modeSwitcher&&this.noColor&&this.setNoColor();var o=parseInt(getComputedStyle(this.container).borderBottomWidth,10);this.container.style.width=W(this.container.children[0].offsetWidth+o+o),this.rgb=this.hexToRgb(this.roundValue(this.value)),this.hsv=this.rgbToHsv.apply(this,this.rgb)},e.prototype.firstPaletteFocus=function(){$("."+zc,this.container.children[0])||ge("."+jc,this.container)[0].focus()},e.prototype.appendPalette=function(t,i,n){var s=this.createElement("div",{className:jc,attrs:{tabindex:"0",role:"grid"}});n?n.appendChild(s):this.appendElement(s);for(var o,a,l,h=0,c=t.length;h<c;h++)(h===0||h%this.columns===0)&&(o=this.createElement("div",{className:"e-row",attrs:{role:"row"}}),s.appendChild(o)),l=this.roundValue(t[h]).toLowerCase(),a=this.createElement("span",{className:ld,attrs:{role:"gridcell","aria-label":l,"aria-selected":"false",tabindex:"0"}}),this.trigger("beforeTileRender",{element:a,presetName:i,value:t[h]}),o.appendChild(a),this.value===l&&(this.addTileSelection(a),s.focus()),a.style.backgroundColor=this.convertToRgbString(this.hexToRgb(l))},e.prototype.setNoColor=function(){var t=this.container.querySelector(".e-row").children[0];t.classList.add(dy),this.value||(t.classList.add(zc),S(t,"."+jc).focus()),["aria-selected","aria-label"].forEach(function(i){t.removeAttribute(i)}),t.style.backgroundColor=""},e.prototype.appendElement=function(t,i){i===void 0&&(i=0);var n=this.container.children[i];n?this.container.insertBefore(t,n):this.container.appendChild(t)},e.prototype.addTileSelection=function(t){t.classList.add(zc),t.setAttribute("aria-selected","true")},e.prototype.createPicker=function(){Bt(this.container,[my],[rd]);var t=this.createElement("div",{className:CN});this.appendElement(t),t.appendChild(this.createElement("div",{className:Pc}));var i=this.createElement("span",{className:yN,attrs:{tabindex:"0"}});t.appendChild(i),(this.value===null||this.value==="")&&(this.value="#008000ff"),this.rgb=this.hexToRgb(this.value),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.setHsvContainerBg(),this.setHandlerPosition(),this.createSlider(),this.createDragTooltip()},e.prototype.setHsvContainerBg=function(t){t===void 0&&(t=this.hsv[0]),this.getHsvContainer().style.backgroundColor=this.convertToRgbString(this.hsvToRgb(t,100,100,1))},e.prototype.getHsvContainer=function(){return $("."+CN,this.container)},e.prototype.setHandlerPosition=function(){var t=this.getDragHandler(),i=$("."+Pc,this.container);this.enableRtl?t.style.left=W(i.offsetWidth*Math.abs(100-this.hsv[1])/100):t.style.left=W(i.offsetWidth*this.hsv[1]/100),t.style.top=W(i.offsetHeight*(100-this.hsv[2])/100)},e.prototype.createSlider=function(){var t=this.createElement("div",{className:"e-slider-preview"});this.appendElement(t,1),this.createPreview(t);var i=this.createElement("div",{className:"e-colorpicker-slider"});t.insertBefore(i,t.children[0]);var n=this.createElement("div",{className:"e-hue-slider"});i.appendChild(n),this.hueSlider=new iy({value:this.hsv[0],min:0,max:359,enableRtl:this.enableRtl,enabled:!this.disabled,change:this.hueChange.bind(this)}),this.hueSlider.createElement=this.createElement,this.hueSlider.appendTo(n),this.enableOpacity&&(n=this.createElement("div",{className:"e-opacity-slider"}),i.appendChild(n),this.createOpacitySlider(n))},e.prototype.createOpacitySlider=function(t){this.opacitySlider=new iy({value:this.rgb[3]*100,min:0,max:100,enableRtl:this.enableRtl,enabled:!this.disabled,change:this.opacityChange.bind(this)}),this.opacitySlider.createElement=this.createElement,this.opacitySlider.appendTo(t);var i=this.createElement("div",{className:"e-opacity-empty-track"});t.appendChild(i),this.updateOpacitySliderBg()},e.prototype.updateOpacitySliderBg=function(){var t=this.enableRtl?"to left":"to right",i=$(".e-opacity-empty-track",this.opacitySlider.element);i&&(i.style.background="linear-gradient("+t+", rgba("+this.rgb.slice(0,3)+", 0) 0%, "+this.convertToRgbString(this.rgb.slice(0,3))+" 100%)")},e.prototype.hueChange=function(t){this.hsv[0]=t.value,this.setHsvContainerBg(),this.convertToOtherFormat()},e.prototype.opacityChange=function(t){var i=t.value,n=this.rgbToHex(this.rgb);this.hsv[3]=i/100,this.rgb[3]=i/100;var s=this.rgbToHex(this.rgb);this.updateOpacityInput(i);var o=this.convertToRgbString(this.rgb);this.updatePreview(o),this.triggerEvent(s,n,o)},e.prototype.updateOpacityInput=function(t){if(this.enableOpacity&&!this.getWrapper().classList.contains(ca)){var i=en($("."+fy,this.container),Jn);i.value=t,i.dataBind()}},e.prototype.createPreview=function(t){var i=this.createElement("div",{className:sd});t.appendChild(i);var n=this.createElement("span",{className:"e-preview "+cy});i.appendChild(n);var s=this.convertToRgbString(this.rgb);n.style.backgroundColor=s,n=this.createElement("span",{className:"e-preview "+od}),i.appendChild(n),n.style.backgroundColor=s},e.prototype.isPicker=function(){return!this.container.classList.contains(rd)},e.prototype.getPopupEle=function(){return this.container.parentElement},e.prototype.createNumericInput=function(t,i,n,s){var o=this,a=new Jn({value:i,placeholder:n,min:0,max:s,format:"###.##",showSpinButton:!1,floatLabelType:"Always",enableRtl:this.enableRtl,enabled:!this.disabled,readonly:!this.isPicker(),change:function(l){l.event&&o.inputHandler(l.event)}});a.createElement=this.createElement,a.appendTo(t)},e.prototype.createInput=function(){var t=this.isPicker(),i=this.getWrapper();if(t&&!i.classList.contains(ca)||!t&&i.classList.contains(Ol)){var n=this.createElement("div",{className:bl});t?this.appendElement(n,2):this.appendElement(n,1);var s=this.createElement("div",{className:"e-input-container"});if(n.appendChild(s),i.classList.contains(ON)||this.appendValueSwitchBtn(n),!i.classList.contains(uy)){var o=this.createElement("input",{className:bN,attrs:{maxlength:"7",spellcheck:"false","aria-label":"HEX"}});s.appendChild(o),Se.createInput({element:o,floatLabelType:"Always",properties:{placeholder:"HEX",enableRtl:this.enableRtl,enabled:!this.disabled,readonly:!this.isPicker()}},this.createElement),Se.setValue(this.value.slice(0,7),o),o.addEventListener("input",this.inputHandler.bind(this))}if(!i.classList.contains(yl)){var a=void 0,l=void 0;this.isRgb?(a="RGB",l=this.rgb):(a="HSV",l=this.hsv);for(var h=["rh","gs","bv"],c=0;c<3;c++)this.createNumericInput(s.appendChild(this.createElement("input",{className:"e-"+h[c]+"-value"})),l[c],a[c],255);this.enableOpacity&&this.appendOpacityValue(s)}}},e.prototype.appendOpacityValue=function(t){this.createNumericInput(t.appendChild(this.createElement("input",{className:fy})),this.rgb[3]*100,"A",100)},e.prototype.appendValueSwitchBtn=function(t){var i=this.createElement("button",{className:"e-icons e-css e-btn e-flat e-icon-btn "+vN,attrs:{title:"Toggle format"}});t.appendChild(i),this.isPicker()&&!this.getWrapper().classList.contains(yl)&&i.addEventListener("click",this.formatSwitchHandler.bind(this))},e.prototype.createCtrlBtn=function(){if(this.modeSwitcher||this.showButtons){this.l10n.setLocale(this.locale);var t=this.createElement("div",{className:vl});if(this.container.appendChild(t),this.showButtons){var i=this.createElement("div",{className:Ic});t.appendChild(i);var n=this.l10n.getConstant("Apply");i.appendChild(this.createElement("button",{innerHTML:n,className:"e-btn e-css e-flat e-primary e-small "+Ac,attrs:{title:n}}));var s=this.l10n.getConstant("Cancel");i.appendChild(this.createElement("button",{innerHTML:s,className:"e-btn e-css e-flat e-small "+id,attrs:{title:s}}))}this.modeSwitcher&&this.appendModeSwitchBtn()}},e.prototype.appendModeSwitchBtn=function(){var t=this.createElement("button",{className:"e-icons e-btn e-flat e-icon-btn "+nd,attrs:{title:this.l10n.getConstant("ModeSwitcher")}});$("."+vl,this.container).insertBefore(t,$("."+Ic,this.container))},e.prototype.createDragTooltip=function(){var t=this,i=new xr({opensOn:"Custom",showTipPointer:!1,cssClass:"e-color-picker-tooltip",htmlAttributes:{title:"tooltip"},beforeOpen:function(n){t.tooltipEle=n.element},animation:{open:{effect:"None"},close:{effect:"None"}}});i.createElement=this.createElement,i.appendTo(this.container),i.open(this.container),this.tooltipEle.style.zIndex=ls(this.tooltipEle).toString(),this.tooltipEle.setAttribute("aria-label","colorpicker-tooltip"),$(".e-tip-content",this.tooltipEle).appendChild(this.createElement("div",{className:"e-tip-transparent"}))},e.prototype.getTooltipInst=function(){return en(this.container,xr)},e.prototype.setTooltipOffset=function(t){this.getTooltipInst().offsetY=t},e.prototype.toggleDisabled=function(t){t?this.getWrapper().classList.add(gN):this.getWrapper().classList.remove(gN),this.showButtons&&[].slice.call(ge(".e-btn",this.container)).forEach(function(i){t?pe(i,{disabled:""}):i.removeAttribute("disabled")})},e.prototype.convertToRgbString=function(t){return t.length?t.length===4?"rgba("+t.join()+")":"rgb("+t.join()+")":""},e.prototype.convertToHsvString=function(t){return t.length===4?"hsva("+t.join()+")":"hsv("+t.join()+")"},e.prototype.updateHsv=function(){this.hsv[1]=this.hsv[1]>100?100:this.hsv[1],this.hsv[2]=this.hsv[2]>100?100:this.hsv[2],this.setHandlerPosition()},e.prototype.convertToOtherFormat=function(t){t===void 0&&(t=!1);var i=this.rgbToHex(this.rgb);this.rgb=this.hsvToRgb.apply(this,this.hsv);var n=this.rgbToHex(this.rgb),s=this.convertToRgbString(this.rgb);this.updatePreview(s),this.updateInput(n),this.triggerEvent(n,i,s,t)},e.prototype.updateInput=function(t){var i=this.getWrapper();i.classList.contains(ca)||(i.classList.contains(uy)||Se.setValue(t.substr(0,7),$("."+bN,this.container)),i.classList.contains(yl)||(this.isRgb?this.updateValue(this.rgb,!1):this.updateValue(this.hsv,!1)))},e.prototype.updatePreview=function(t){this.enableOpacity&&this.updateOpacitySliderBg(),$(".e-tip-transparent",this.tooltipEle).style.backgroundColor=t,$("."+sd+" ."+cy,this.container).style.backgroundColor=t,$("."+sd+" ."+od,this.container).style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value))},e.prototype.getDragHandler=function(){return $("."+yN,this.container)},e.prototype.removeTileSelection=function(){var t=[].slice.call(ge("."+zc,this.container.children[0]));t.forEach(function(i){i.classList.remove(zc),i.setAttribute("aria-selected","false")})},e.prototype.convertRgbToNumberArray=function(t){return t.slice(t.indexOf("(")+1,t.indexOf(")")).split(",").map(function(i,n){return n!==3?parseInt(i,10):parseFloat(i)})},e.prototype.getValue=function(t,i){if(t||(t=this.value),i=i?i.toLowerCase():"hex",t[0]==="r"){var n=this.convertRgbToNumberArray(t);if(i==="hex"||i==="hexa"){var s=this.rgbToHex(n);return i==="hex"?s.slice(0,7):s}else return i==="hsv"?this.convertToHsvString(this.rgbToHsv.apply(this,n.slice(0,3))):i==="hsva"?this.convertToHsvString(this.rgbToHsv.apply(this,n)):"null"}else if(t[0]==="h"){var n=this.hsvToRgb.apply(this,this.convertRgbToNumberArray(t));if(i==="rgba")return this.convertToRgbString(n);if(i==="hex"||i==="hexa"){var s=this.rgbToHex(n);return i==="hex"?s.slice(0,7):s}else return i==="rgb"?this.convertToRgbString(n.slice(0,3)):"null"}else{t=this.roundValue(t);var o=this.hexToRgb(t);return(i==="rgb"||i==="hsv")&&(o=o.slice(0,3)),i==="rgba"||i==="rgb"?this.convertToRgbString(o):i==="hsva"||i==="hsv"?this.convertToHsvString(this.rgbToHsv.apply(this,o)):i==="hex"?t.slice(0,7):i==="a"?o[3].toString():"null"}},e.prototype.toggle=function(){this.container.parentElement.classList.contains("e-popup-close")?this.splitBtn.toggle():this.closePopup(null)},e.prototype.getModuleName=function(){return"colorpicker"},e.prototype.getPersistData=function(){return this.addOnPersist(["value"])},e.prototype.wireEvents=function(){if(this.isPicker()){var t=this.getDragHandler();y.add(t,"keydown",this.pickerKeyDown,this);var i=$("."+Ic,this.container);i&&y.add(i,"keydown",this.ctrlBtnKeyDown,this),y.add(this.getHsvContainer(),"mousedown touchstart",this.handlerDown,this),(this.modeSwitcher||this.showButtons)&&this.addCtrlSwitchEvent(),y.add($("."+od,this.container),"click",this.previewHandler,this)}else y.add(this.container,"click",this.paletteClickHandler,this),y.add(this.container,"keydown",this.paletteKeyDown,this)},e.prototype.formResetHandler=function(){this.value=this.initialInputValue,pe(this.element,{value:this.initialInputValue})},e.prototype.addCtrlSwitchEvent=function(){var t=$("."+vl,this.container);t&&y.add(t,"click",this.btnClickHandler,this)},e.prototype.ctrlBtnKeyDown=function(t){if(t.keyCode===13){var i=$("."+Ac,this.container);if(i){var n=this.rgbToHex(this.rgb);this.triggerChangeEvent(n)}this.splitBtn.element.focus()}},e.prototype.pickerKeyDown=function(t){switch(t.keyCode){case 39:this.handlerDragPosition(1,this.enableRtl?-1:1,t);break;case 37:this.handlerDragPosition(1,this.enableRtl?1:-1,t);break;case 38:this.handlerDragPosition(2,1,t);break;case 40:this.handlerDragPosition(2,-1,t);break;case 13:{t.preventDefault();var i=this.rgbToHex(this.rgb);this.enterKeyHandler(i,t)}}},e.prototype.enterKeyHandler=function(t,i){this.triggerChangeEvent(t),this.inline||this.splitBtn.element.focus()},e.prototype.closePopup=function(t){var i=this,n={element:this.container,event:t,cancel:!1};this.trigger("beforeClose",n,function(s){s.cancel||(i.splitBtn.toggle(),i.onPopupClose())})},e.prototype.triggerChangeEvent=function(t){var i=t.slice(0,7);this.trigger("change",{currentValue:{hex:i,rgba:this.convertToRgbString(this.rgb)},previousValue:{hex:this.value.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(this.value))},value:this.enableOpacity?t:i}),this.enableOpacity?this.setProperties({value:t},!0):this.setProperties({value:i},!0),this.element.value=i||"#000000"},e.prototype.handlerDragPosition=function(t,i,n){n.preventDefault(),this.hsv[t]+=i*(n.ctrlKey?1:3),this.hsv[t]<0&&(this.hsv[t]=0),this.updateHsv(),this.convertToOtherFormat(!0)},e.prototype.handlerDown=function(t){t.preventDefault(),t.type==="mousedown"?(this.clientX=Math.abs(t.pageX-pageXOffset),this.clientY=Math.abs(t.pageY-pageYOffset),this.setTooltipOffset(8)):(this.clientX=Math.abs(t.changedTouches[0].pageX-pageXOffset),this.clientY=Math.abs(t.changedTouches[0].pageY-pageYOffset),this.setTooltipOffset(-8)),this.setHsv(this.clientX,this.clientY),this.getDragHandler().style.transition="left .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1)",this.updateHsv(),this.convertToOtherFormat(),this.getDragHandler().focus(),y.add(document,"mousemove touchmove",this.handlerMove,this),y.add(document,"mouseup touchend",this.handlerEnd,this)},e.prototype.handlerMove=function(t){t.type!=="touchmove"&&t.preventDefault();var i,n;t.type==="mousemove"?(i=Math.abs(t.pageX-pageXOffset),n=Math.abs(t.pageY-pageYOffset)):(i=Math.abs(t.changedTouches[0].pageX-pageXOffset),n=Math.abs(t.changedTouches[0].pageY-pageYOffset)),this.setHsv(i,n);var s=this.getDragHandler();this.updateHsv(),this.convertToOtherFormat(),this.getTooltipInst().refresh(s),this.tooltipEle.style.transform||(Math.abs(this.clientX-i)>8||Math.abs(this.clientY-n)>8)&&($("."+Pc,this.container).style.cursor="pointer",s.style.transition="none",this.inline||(this.tooltipEle.style.zIndex=(parseInt(this.getPopupEle().style.zIndex,10)+1).toString()),this.tooltipEle.style.transform="rotate(45deg)",s.classList.add("e-hide-handler"))},e.prototype.setHsv=function(t,i){var n=$("."+Pc,this.container),s=n.getBoundingClientRect();this.enableRtl?t=t>s.right?0:Math.abs(t-s.right):t=t>s.left?Math.abs(t-s.left):0,i=i>s.top?Math.abs(i-s.top):0,this.hsv[2]=Math.round(Number(100*(n.offsetHeight-Math.max(0,Math.min(n.offsetHeight,i-n.offsetTop)))/n.offsetHeight)*10)/10,this.hsv[1]=Math.round(Number(100*Math.max(0,Math.min(n.offsetWidth,t-n.offsetLeft))/n.offsetWidth)*10)/10},e.prototype.handlerEnd=function(t){t.type!=="touchend"&&t.preventDefault(),y.remove(document,"mousemove touchmove",this.handlerMove),y.remove(document,"mouseup touchend",this.handlerEnd);var i=this.getDragHandler();$("."+Pc,this.container).style.cursor="",this.tooltipEle.style.transform&&(this.tooltipEle.style.transform="",i.classList.remove("e-hide-handler")),!this.inline&&!this.showButtons&&this.closePopup(t)},e.prototype.btnClickHandler=function(t){var i=t.target;S(i,"."+nd)?(t.stopPropagation(),this.switchToPalette()):(i.classList.contains(Ac)||i.classList.contains(id))&&this.ctrlBtnClick(i,t)},e.prototype.switchToPalette=function(){this.trigger("beforeModeSwitch",{element:this.container,mode:"Palette"}),this.unWireEvents(),this.destroyOtherComp(),w($(".e-slider-preview",this.container)),this.getWrapper().classList.contains(ca)||Rt($("."+bl,this.container)),w(this.getHsvContainer()),this.createPalette(),this.firstPaletteFocus(),this.createInput(),this.refreshPopupPos(),this.element.parentElement&&this.element.parentElement.parentElement&&this.element.parentElement.parentElement.classList.contains("e-ie-ddb-popup")&&this.refreshImageEditorPopupPos(),this.wireEvents(),this.trigger("onModeSwitch",{element:this.container,mode:"Palette"})},e.prototype.refreshImageEditorPopupPos=function(){if(N.isDevice){var t=this.getPopupEle();t.style.left=W(0+pageXOffset),t.style.top=W(0+pageYOffset);var i=document.querySelector("#"+this.element.parentElement.parentElement.id.split("-popup")[0]);i&&t.parentElement.ej2_instances[0].refreshPosition(i)}},e.prototype.refreshPopupPos=function(){if(!this.inline){var t=this.getPopupEle();t.style.left=W(0+pageXOffset),t.style.top=W(0+pageYOffset),this.getPopupInst().refreshPosition(this.splitBtn.element.parentElement)}},e.prototype.formatSwitchHandler=function(){this.isRgb?(this.updateValue(this.hsv,!0,3,[360,100,100]),this.isRgb=!1):(this.updateValue(this.rgb,!0,2),this.isRgb=!0)},e.prototype.updateValue=function(t,i,n,s){for(var o=["e-rh-value","e-gs-value","e-bv-value"],a,l=0,h=o.length;l<h;l++)a=en($("."+o[l],this.container),Jn),a.value=Math.round(t[l]),i&&(a.placeholder=o[l].substr(n,1).toUpperCase(),a.max=s?s[l]:255),a.dataBind()},e.prototype.previewHandler=function(t){var i=t.target,n=this.rgbToHex(this.rgb);this.rgb=this.convertRgbToNumberArray(i.style.backgroundColor),this.rgb[3]||(this.rgb[3]=1);var s=this.rgbToHex(this.rgb),o=this.rgbToHsv.apply(this,this.rgb);o[0]!==this.hsv[0]&&(this.hueSlider.setProperties({value:o[0]},!0),this.hueSlider.refresh()),this.setHsvContainerBg(o[0]),this.enableOpacity&&o[3]!==this.hsv[3]&&(this.opacitySlider.setProperties({value:o[3]*100},!0),this.opacitySlider.refresh(),this.updateOpacitySliderBg()),this.hsv=o,this.setHandlerPosition(),this.updateInput(s),$("."+sd+" ."+cy,this.container).style.backgroundColor=this.convertToRgbString(this.rgb),this.triggerEvent(s,n,this.convertToRgbString(this.rgb))},e.prototype.paletteClickHandler=function(t){t.preventDefault();var i=t.target;if(i.classList.contains(ld)){if(this.removeTileSelection(),this.addTileSelection(i),i.classList.contains(dy))this.noColorTile();else{var n=i.getAttribute("aria-label"),s=this.rgbToHex(this.rgb);this.rgb=this.hexToRgb(this.roundValue(n)),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.getWrapper().classList.contains(Ol)&&this.updateInput(n),this.triggerEvent(n,s,this.convertToRgbString(this.rgb))}!this.inline&&!this.showButtons&&this.closePopup(t)}else S(i,"."+nd)?this.switchToPicker():i.classList.contains(Ac)||i.classList.contains(id)?this.ctrlBtnClick(i,t):this.getWrapper().classList.contains(Ol)&&S(i,"."+vN)&&this.formatSwitchHandler()},e.prototype.noColorTile=function(t){t===void 0&&(t=!1);var i=this.rgbToHex(this.rgb);this.rgb=[],this.hsv=[],this.triggerEvent("",i,"",t)},e.prototype.switchToPicker=function(){var t=this.getWrapper();this.trigger("beforeModeSwitch",{element:this.container,mode:"Picker"}),this.unWireEvents(),[].slice.call(ge("."+jc,this.container)).forEach(function(n){w(n)}),t.classList.contains(Ol)&&w($("."+bl,this.container)),this.container.style.width="";var i=$(".e-custom-palette",this.container);this.presetColors&&Rt(i),this.createPicker(),this.getDragHandler().focus(),this.createInput(),this.refreshPopupPos(),this.element.parentElement&&this.element.parentElement.parentElement&&this.element.parentElement.parentElement.classList.contains("e-ie-ddb-popup")&&this.refreshImageEditorPopupPos(),this.wireEvents(),this.trigger("onModeSwitch",{element:this.container,mode:"Picker"})},e.prototype.ctrlBtnClick=function(t,i){if(t.classList.contains(Ac)){var n=this.rgbToHex(this.rgb);this.triggerChangeEvent(n)}if(!this.inline)this.closePopup(i),this.splitBtn.element.focus();else if(t.classList.contains(id)){var s={element:this.container,event:i,cancel:!1};this.trigger("beforeClose",s)}},e.prototype.paletteKeyDown=function(t){var i=t.target;if(i.classList.contains(jc)){var n,s,o=[].slice.call(ge("."+ld,i)),a=o.filter(function(h){return h.classList.contains("e-selected")}).pop();switch(!t.altKey&&t.keyCode){case 39:t.preventDefault(),n=a?o[this.tilePosition(o,a,this.enableRtl?-1:1)]:o[this.enableRtl?o.length-1:0],this.keySelectionChanges(n);break;case 37:t.preventDefault(),n=a?o[this.tilePosition(o,a,this.enableRtl?1:-1)]:o[this.enableRtl?0:o.length-1],this.keySelectionChanges(n);break;case 38:t.preventDefault(),s=a?this.tilePosition(o,a,-this.columns):0,n=o[s]?o[s]:o[s-this.columns],this.keySelectionChanges(n);break;case 40:t.preventDefault(),s=a?this.tilePosition(o,a,this.columns):o.length-1,o[s]||(s%=o.length,s+=o[o.length-1].parentElement.childElementCount),n=o[s],this.keySelectionChanges(n);break;case 13:if(t.preventDefault(),a){var l=a.getAttribute("aria-label");this.enterKeyHandler(l||"",t)}}}},e.prototype.keySelectionChanges=function(t){if(this.removeTileSelection(),this.addTileSelection(t),t.classList.contains(dy))this.noColorTile(!0);else{var i=t.getAttribute("aria-label"),n=this.rgbToHex(this.rgb);this.rgb=this.hexToRgb(i),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.getWrapper().classList.contains(Ol)&&this.updateInput(i),this.triggerEvent(i,n,this.convertToRgbString(this.rgb),!0)}},e.prototype.tilePosition=function(t,i,n){t=Array.prototype.slice.call(t);var s=t.length,o=this.columns-t[s-1].parentElement.childElementCount,a=t.indexOf(i);return a+=n,a<0?a+=s+o:a%=s+o,a},e.prototype.inputHandler=function(t){var i=t.target;if(i.value.length){var n,s,o=$(".e-float-text",i.parentElement).textContent;switch(o){case"HEX":{var a="";if((i.value[0]==="#"&&i.value.length!==5||i.value[0]!=="#"&&i.value.length!==4)&&(a=this.roundValue(i.value)),a.length===9)s=this.rgbToHex(this.rgb),this.rgb=this.hexToRgb(a+a.substr(-2)),this.inputValueChange(this.rgbToHsv.apply(this,this.rgb),s,i.value);else return;break}case"R":this.rgb[0]!==Number(i.value)&&(s=this.rgbToHex(this.rgb),this.rgb[0]=Number(i.value),n=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(n,s));break;case"G":this.rgb[1]!==Number(i.value)&&(s=this.rgbToHex(this.rgb),this.rgb[1]=Number(i.value),n=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(n,s));break;case"B":this.rgb[2]!==Number(i.value)&&(s=this.rgbToHex(this.rgb),this.rgb[2]=Number(i.value),n=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(n,s));break;case"H":this.hueSlider.value=Number(i.value);break;case"S":this.hsv[1]!==Number(i.value)&&(this.hsv[1]=Number(i.value),this.updateHsv(),this.convertToOtherFormat());break;case"V":this.hsv[2]!==Number(i.value)&&(this.hsv[2]=Number(i.value),this.updateHsv(),this.convertToOtherFormat());break;case"A":this.opacitySlider.value=Number(i.value);break}}},e.prototype.inputValueChange=function(t,i,n){t[0]!==this.hsv[0]&&(this.hueSlider.setProperties({value:t[0]},!0),this.hueSlider.refresh(),this.setHsvContainerBg(t[0])),this.hsv=t;var s=this.rgbToHex(this.rgb);this.setHandlerPosition(),this.updateInput(n||s);var o=this.convertToRgbString(this.rgb);this.updatePreview(o),this.triggerEvent(s,i,o)},e.prototype.triggerEvent=function(t,i,n,s){s===void 0&&(s=!1);var o=t.slice(0,7);!this.showButtons&&!s?(this.trigger("change",{currentValue:{hex:o,rgba:n},previousValue:{hex:this.value.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(this.value))},value:t}),this.enableOpacity?this.setProperties({value:t},!0):this.setProperties({value:o},!0),this.element.value=o||"#000000"):this.trigger("select",{currentValue:{hex:o,rgba:n},previousValue:{hex:i.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(i))}})},e.prototype.destroy=function(){var t=this,i=this.getWrapper();r.prototype.destroy.call(this),["tabindex","spellcheck"].forEach(function(n){t.element.removeAttribute(n)}),this.inline?(this.unWireEvents(),this.destroyOtherComp()):(this.isPopupOpen()&&(this.unWireEvents(),this.destroyOtherComp()),this.splitBtn.destroy(),this.splitBtn=null),this.tileRipple(),this.tileRipple=null,this.ctrlBtnRipple(),this.ctrlBtnRipple=null,this.element.nextElementSibling&&w(this.element.nextElementSibling),i&&(i.parentElement.insertBefore(this.element,i),w(i)),this.container=null,this.formElement&&y.remove(this.formElement,"reset",this.formResetHandler)},e.prototype.destroyOtherComp=function(){if(this.isPicker()){for(var t=S(this.hueSlider.element,".e-color-picker"),i=t.querySelectorAll(".e-numerictextbox"),n=0;n<i.length;n++)en(i[n],Jn).destroy();this.hueSlider.destroy(),this.enableOpacity&&(this.opacitySlider.destroy(),this.opacitySlider=null),this.hueSlider=null;var s=this.getTooltipInst();s.close(),s.destroy(),this.tooltipEle=null}},e.prototype.isPopupOpen=function(){return this.getPopupEle().classList.contains("e-popup-open")},e.prototype.unWireEvents=function(){if(this.isPicker()){var t=this.getDragHandler();y.remove(t,"keydown",this.pickerKeyDown);var i=$("."+Ic,this.container);i&&y.remove(i,"keydown",this.ctrlBtnKeyDown),y.remove(this.getHsvContainer(),"mousedown touchstart",this.handlerDown),(this.modeSwitcher||this.showButtons)&&y.remove($("."+vl,this.container),"click",this.btnClickHandler),y.remove($("."+od,this.container),"click",this.previewHandler)}else y.remove(this.container,"click",this.paletteClickHandler),y.remove(this.container,"keydown",this.paletteKeyDown)},e.prototype.roundValue=function(t){if(!t)return"";t[0]!=="#"&&(t="#"+t);var i=t.length;if(i===4&&(t+="f",i=5),i===5){for(var n="",s=1,o=t.length;s<o;s++)n+=t.charAt(s)+t.charAt(s);t="#"+n,i=9}return i===7&&(t+="ff"),t},e.prototype.hexToRgb=function(t){if(!t)return[];t=t.trim(),t.length!==9&&(t=this.roundValue(t));var i=Number((parseInt(t.slice(-2),16)/255).toFixed(2));t=t.slice(1,7);var n=parseInt(t,16),s=[];return s.push(n>>16&255),s.push(n>>8&255),s.push(n&255),s.push(i),s},e.prototype.rgbToHsv=function(t,i,n,s){if(this.rgb&&!this.rgb.length)return[];t/=255,i/=255,n/=255;var o=Math.max(t,i,n),a=Math.min(t,i,n),l,h=o,c=o-a,p=o===0?0:c/o;if(o===a)l=0;else{switch(o){case t:l=(i-n)/c+(i<n?6:0);break;case i:l=(n-t)/c+2;break;case n:l=(t-i)/c+4;break}l/=6}var d=[Math.round(l*360),Math.round(p*1e3)/10,Math.round(h*1e3)/10];return u(s)||d.push(s),d},e.prototype.hsvToRgb=function(t,i,n,s){var o,a,l;if(i/=100,n/=100,i===0)return o=a=l=n,[Math.round(o*255),Math.round(a*255),Math.round(l*255),s];t/=60;var h=Math.floor(t),c=t-h,p=n*(1-i),d=n*(1-i*c),f=n*(1-i*(1-c));switch(h){case 0:o=n,a=f,l=p;break;case 1:o=d,a=n,l=p;break;case 2:o=p,a=n,l=f;break;case 3:o=p,a=d,l=n;break;case 4:o=f,a=p,l=n;break;default:o=n,a=p,l=d}var m=[Math.round(o*255),Math.round(a*255),Math.round(l*255)];return u(s)||m.push(s),m},e.prototype.rgbToHex=function(t){return t.length?"#"+this.hex(t[0])+this.hex(t[1])+this.hex(t[2])+(u(t[3])?"":t[3]!==0?(Math.round(t[3]*255)+65536).toString(16).substr(-2):"00"):""},e.prototype.hex=function(t){return("0"+t.toString(16)).slice(-2)},e.prototype.changeModeSwitcherProp=function(t){var i=$("."+vl,this.container);t?i?this.appendModeSwitchBtn():(this.createCtrlBtn(),this.isPicker()&&!this.disabled&&this.addCtrlSwitchEvent()):i&&(this.showButtons?w($("."+nd,i)):Rt(i))},e.prototype.changeShowBtnProps=function(t){var i=$("."+vl,this.container);t?(i&&Rt(i),this.createCtrlBtn(),this.isPicker()&&!this.disabled&&this.addCtrlSwitchEvent()):this.modeSwitcher?w($("."+Ic,i)):Rt(i)},e.prototype.changeValueProp=function(t){if(this.isPicker())this.rgb=this.hexToRgb(t),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.setHandlerPosition(),w(S(this.hueSlider.element,".e-slider-preview")),this.createSlider(),this.setHsvContainerBg(),this.updateInput(t),this.rgb.length===4&&this.updateOpacityInput(this.rgb[3]*100);else{this.removeTileSelection();var i=this.container.querySelector('span[aria-label="'+this.roundValue(t)+'"]');i&&this.addTileSelection(i)}},e.prototype.setInputEleProps=function(){Rt($("."+bl,this.container)),this.createInput()},e.prototype.changeDisabledProp=function(t){this.isPicker()&&(this.hueSlider.enabled=!t,this.opacitySlider.enabled=!t,this.setInputEleProps()),t?(this.toggleDisabled(!0),this.unWireEvents()):(this.toggleDisabled(!1),this.wireEvents())},e.prototype.changeCssClassProps=function(t,i){var n=this.getWrapper(),s=this.getPopupEle();i&&L([n,s],i.split(" ")),t&&E([n,s],t.replace(/\s+/g," ").trim().split(" "))},e.prototype.changeRtlProps=function(t){t?E([this.getWrapper()],"e-rtl"):L([this.getWrapper()],"e-rtl")},e.prototype.changePaletteProps=function(){w(this.container.children[0]),this.container.style.width="",this.createPalette()},e.prototype.changeOpacityProps=function(t){var i=this.getWrapper();t?(L([this.container.parentElement],py),this.createOpacitySlider($(".e-colorpicker-slider",this.container).appendChild(this.createElement("div",{className:"e-opacity-slider"}))),!i.classList.contains(ca)&&!i.classList.contains(yl)&&this.appendOpacityValue($(".e-input-container",this.container))):(E([this.container.parentElement],py),this.opacitySlider.destroy(),Rt(this.opacitySlider.element),this.opacitySlider=null,!i.classList.contains(ca)&&!i.classList.contains(yl)&&Rt($("."+fy,this.container).parentElement))},e.prototype.onPropertyChanged=function(t,i){var n=this;if(!u(t.value)){var s=this.roundValue(t.value);if(s.length===9){this.element.value=this.roundValue(s).slice(0,7);var o=this.splitBtn&&$("."+ad,this.splitBtn.element);o&&(o.style.backgroundColor=this.convertToRgbString(this.hexToRgb(t.value)))}else if(this.noColor&&this.mode==="Palette"&&this.value===""){var o=this.splitBtn&&$("."+ad,this.splitBtn.element);o.style.backgroundColor=""}else this.value=i.value}if(!this.inline&&u(t.inline)){var a=["disabled","enableRtl"];if(this.splitBtn.setProperties(so(t,a)),!this.isPopupOpen()){this.changeCssClassProps(t.cssClass,i.cssClass),this.changeRtlProps(t.enableRtl);return}}for(var l=function(f){switch(f){case"inline":t.inline?(h.getWrapper().appendChild(h.container),h.splitBtn.destroy(),w(h.element.nextElementSibling),h.container.children.length||h.createWidget()):(h.destroyOtherComp(),h.unWireEvents(),h.container.innerHTML="",h.createSplitBtn());break;case"cssClass":{h.changeCssClassProps(t.cssClass,i.cssClass);var m=t.cssClass.split(" ").concat(i.cssClass.split(" "));m=m.reduce(function(v,O){return v.indexOf(O)<0&&v.push(O),v},[]);var g=0;m.forEach(function(v){if(g===0&&(v===ca||v===ON||v===Ol||v===uy||v===yl)){var O=$("."+bl,n.container);O&&Rt($("."+bl,n.container)),n.createInput(),g++}});break}case"enableRtl":h.isPicker()&&(h.hueSlider.enableRtl=t.enableRtl,h.enableOpacity&&(h.opacitySlider.enableRtl=t.enableRtl),h.setInputEleProps()),h.changeRtlProps(t.enableRtl);break;case"disabled":h.changeDisabledProp(t.disabled);break;case"value":h.value!==i.value&&h.changeValueProp(t.value);break;case"showButtons":h.changeShowBtnProps(t.showButtons);break;case"mode":t.mode==="Picker"?h.switchToPicker():h.switchToPalette();break;case"modeSwitcher":h.changeModeSwitcherProp(t.modeSwitcher);break;case"columns":case"presetColors":h.isPicker()||h.changePaletteProps();break;case"noColor":t.noColor?h.mode==="Palette"&&!h.modeSwitcher&&h.setNoColor():h.changePaletteProps();break;case"enableOpacity":h.changeOpacityProps(t.enableOpacity);break}},h=this,c=0,p=Object.keys(t);c<p.length;c++){var d=p[c];l(d)}},e.prototype.focusIn=function(){this.element.parentElement.focus()},Lt([b("#008000ff")],e.prototype,"value",void 0),Lt([b("")],e.prototype,"cssClass",void 0),Lt([b(!1)],e.prototype,"disabled",void 0),Lt([b("Picker")],e.prototype,"mode",void 0),Lt([b(!0)],e.prototype,"modeSwitcher",void 0),Lt([b(null)],e.prototype,"presetColors",void 0),Lt([b(!0)],e.prototype,"showButtons",void 0),Lt([b(10)],e.prototype,"columns",void 0),Lt([b(!1)],e.prototype,"inline",void 0),Lt([b(!1)],e.prototype,"noColor",void 0),Lt([b(!1)],e.prototype,"enablePersistence",void 0),Lt([b(!0)],e.prototype,"enableOpacity",void 0),Lt([b(!1)],e.prototype,"createPopupOnClick",void 0),Lt([R()],e.prototype,"select",void 0),Lt([R()],e.prototype,"change",void 0),Lt([R()],e.prototype,"beforeTileRender",void 0),Lt([R()],e.prototype,"beforeOpen",void 0),Lt([R()],e.prototype,"open",void 0),Lt([R()],e.prototype,"beforeClose",void 0),Lt([R()],e.prototype,"beforeModeSwitch",void 0),Lt([R()],e.prototype,"onModeSwitch",void 0),Lt([R()],e.prototype,"created",void 0),e=Lt([Ee],e),e}(Ve);var Dj=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ft=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Lj="e-clear-icon-hide",oo=function(r){Dj(e,r);function e(t,i){var n=r.call(this,t,i)||this;return n.previousValue=null,n.isAngular=!1,n.isHiddenInput=!1,n.isForm=!1,n.inputPreviousValue=null,n.isVue=!1,n.textboxOptions=t,n}return e.prototype.onPropertyChanged=function(t,i){for(var n=0,s=Object.keys(t);n<s.length;n++){var o=s[n];switch(o){case"floatLabelType":Se.removeFloating(this.textboxWrapper),Se.addFloating(this.respectiveElement,this.floatLabelType,this.placeholder);break;case"enabled":Se.setEnabled(this.enabled,this.respectiveElement,this.floatLabelType,this.textboxWrapper.container),this.bindClearEvent();break;case"width":Se.setWidth(t.width,this.textboxWrapper.container);break;case"value":{var a=this.isProtectedOnChange;this.isProtectedOnChange=!0,Se.isBlank(this.value)||(this.value=this.value.toString()),this.isProtectedOnChange=a,Se.setValue(this.value,this.respectiveElement,this.floatLabelType,this.showClearButton),this.isHiddenInput&&(this.element.value=this.respectiveElement.value),this.inputPreviousValue=this.respectiveElement.value,(this.isAngular||this.isVue)&&this.preventChange===!0?(this.previousValue=this.isAngular?this.value:this.previousValue,this.preventChange=!1):(u(this.isAngular)||!this.isAngular||this.isAngular&&!this.preventChange||this.isAngular&&u(this.preventChange))&&this.raiseChangeEvent()}break;case"htmlAttributes":this.updateHTMLAttributesToElement(),this.updateHTMLAttributesToWrapper(),this.checkAttributes(!0),this.multiline&&!u(this.textarea)?Se.validateInputType(this.textboxWrapper.container,this.textarea):Se.validateInputType(this.textboxWrapper.container,this.element);break;case"readonly":Se.setReadonly(this.readonly,this.respectiveElement);break;case"type":this.respectiveElement.tagName!=="TEXTAREA"&&(this.respectiveElement.setAttribute("type",this.type),Se.validateInputType(this.textboxWrapper.container,this.element),this.raiseChangeEvent());break;case"showClearButton":Se.setClearButton(this.showClearButton,this.respectiveElement,this.textboxWrapper),this.bindClearEvent();break;case"enableRtl":Se.setEnableRtl(this.enableRtl,[this.textboxWrapper.container]);break;case"placeholder":Se.setPlaceholder(this.placeholder,this.respectiveElement),Se.calculateWidth(this.respectiveElement,this.textboxWrapper.container);break;case"autocomplete":this.autocomplete!=="on"&&this.autocomplete!==""?this.respectiveElement.autocomplete=this.autocomplete:this.removeAttributes(["autocomplete"]);break;case"cssClass":Se.updateCssClass(t.cssClass,i.cssClass,this.textboxWrapper.container);break;case"locale":this.globalize=new jo(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),Se.setPlaceholder(this.placeholder,this.respectiveElement);break}}},e.prototype.getModuleName=function(){return"textbox"},e.prototype.preRender=function(){if(this.cloneElement=this.element.cloneNode(!0),this.formElement=S(this.element,"form"),u(this.formElement)||(this.isForm=!0),this.element.tagName==="EJS-TEXTBOX"){var t=F("ej2_instances",this.element),i=this.multiline?this.createElement("textarea"):this.createElement("input"),n=0;for(n;n<this.element.attributes.length;n++){var s=this.element.attributes[n].nodeName;s!=="id"&&s!=="class"?(i.setAttribute(s,this.element.attributes[n].nodeValue),i.innerHTML=this.element.innerHTML,s==="name"&&this.element.removeAttribute("name")):s==="class"&&i.setAttribute(s,this.element.className.split(" ").filter(function(l){return l.indexOf("ng-")!==0}).join(" "))}this.element.appendChild(i),this.element=i,Pe("ej2_instances",t,this.element)}this.updateHTMLAttributesToElement(),this.checkAttributes(!1),(u(this.textboxOptions)||this.textboxOptions.value===void 0)&&this.element.value!==""&&this.setProperties({value:this.element.value},!0),this.element.tagName!=="TEXTAREA"&&this.element.setAttribute("type",this.type),this.type==="text"&&this.element.setAttribute("role","textbox"),this.globalize=new jo(this.locale);var o={placeholder:this.placeholder};if(this.l10n=new Qi("textbox",o,this.locale),this.l10n.getConstant("placeholder")!==""&&this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.element.hasAttribute("id")||this.element.setAttribute("id",Fe("textbox")),this.element.hasAttribute("name")||this.element.setAttribute("name",this.element.getAttribute("id")),this.element.tagName==="INPUT"&&this.multiline){this.isHiddenInput=!0,this.textarea=this.createElement("textarea"),this.element.parentNode.insertBefore(this.textarea,this.element),this.element.setAttribute("type","hidden"),this.textarea.setAttribute("name",this.element.getAttribute("name")),this.element.removeAttribute("name"),this.textarea.setAttribute("role",this.element.getAttribute("role")),this.element.removeAttribute("role"),this.textarea.setAttribute("id",Fe("textarea"));for(var a=["placeholder","disabled","value","readonly","type","autocomplete"],n=0;n<this.element.attributes.length;n++){var s=this.element.attributes[n].nodeName;this.element.hasAttribute(s)&&Gp.indexOf(s)<0&&!(s==="id"||s==="type"||s==="e-mappinguid")&&(this.textarea.setAttribute(s,this.element.attributes[n].nodeValue),a.indexOf(s)<0&&(this.element.removeAttribute(s),n--))}}},e.prototype.checkAttributes=function(t){for(var i=t?u(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["placeholder","disabled","value","readonly","type","autocomplete"],n=0,s=i;n<s.length;n++){var o=s[n];if(!u(this.element.getAttribute(o)))switch(o){case"disabled":if(u(this.textboxOptions)||this.textboxOptions.enabled===void 0||t){var a=!(this.element.getAttribute(o)==="disabled"||this.element.getAttribute(o)===""||this.element.getAttribute(o)==="true");this.setProperties({enabled:a},!t)}break;case"readonly":if(u(this.textboxOptions)||this.textboxOptions.readonly===void 0||t){var l=this.element.getAttribute(o)==="readonly"||this.element.getAttribute(o)===""||this.element.getAttribute(o)==="true";this.setProperties({readonly:l},!t)}break;case"placeholder":(u(this.textboxOptions)||this.textboxOptions.placeholder===void 0||t)&&this.setProperties({placeholder:this.element.placeholder},!t);break;case"autocomplete":if(u(this.textboxOptions)||this.textboxOptions.autocomplete===void 0||t){var h=this.element.autocomplete==="off"?"off":"on";this.setProperties({autocomplete:h},!t)}break;case"value":(u(this.textboxOptions)||this.textboxOptions.value===void 0||t)&&this.element.value!==""&&this.setProperties({value:this.element.value},!t);break;case"type":(u(this.textboxOptions)||this.textboxOptions.type===void 0||t)&&this.setProperties({type:this.element.type},!t);break}}},e.prototype.render=function(){var t=this.cssClass;!u(this.cssClass)&&this.cssClass!==""&&(t=Se.getInputValidClassList(this.cssClass)),this.respectiveElement=this.isHiddenInput?this.textarea:this.element,this.textboxWrapper=Se.createInput({element:this.respectiveElement,floatLabelType:this.floatLabelType,properties:{enabled:this.enabled,enableRtl:this.enableRtl,cssClass:t,readonly:this.readonly,placeholder:this.placeholder,showClearButton:this.showClearButton}}),this.updateHTMLAttributesToWrapper(),this.isHiddenInput&&this.respectiveElement.parentNode.insertBefore(this.element,this.respectiveElement),this.wireEvents(),u(this.value)||(Se.setValue(this.value,this.respectiveElement,this.floatLabelType,this.showClearButton),this.isHiddenInput&&(this.element.value=this.respectiveElement.value)),u(this.value)||(this.initialValue=this.value,this.setInitialValue()),this.autocomplete!=="on"&&this.autocomplete!==""?this.respectiveElement.autocomplete=this.autocomplete:!u(this.textboxOptions)&&this.textboxOptions.autocomplete!==void 0&&this.removeAttributes(["autocomplete"]),this.previousValue=this.value,this.inputPreviousValue=this.value,this.respectiveElement.defaultValue=this.respectiveElement.value,Se.setWidth(this.width,this.textboxWrapper.container),!u(S(this.element,"fieldset"))&&S(this.element,"fieldset").disabled&&(this.enabled=!1),this.renderComplete()},e.prototype.updateHTMLAttributesToWrapper=function(){Se.updateHTMLAttributesToWrapper(this.htmlAttributes,this.textboxWrapper.container)},e.prototype.updateHTMLAttributesToElement=function(){Se.updateHTMLAttributesToElement(this.htmlAttributes,this.respectiveElement?this.respectiveElement:this.multiline&&!u(this.textarea)?this.textarea:this.element)},e.prototype.setInitialValue=function(){this.isAngular||this.respectiveElement.setAttribute("value",this.initialValue)},e.prototype.wireEvents=function(){y.add(this.respectiveElement,"focus",this.focusHandler,this),y.add(this.respectiveElement,"blur",this.focusOutHandler,this),y.add(this.respectiveElement,"keydown",this.keydownHandler,this),y.add(this.respectiveElement,"input",this.inputHandler,this),y.add(this.respectiveElement,"change",this.changeHandler,this),this.isForm&&y.add(this.formElement,"reset",this.resetForm,this),this.bindClearEvent(),!u(this.textboxWrapper.container.querySelector(".e-float-text"))&&this.floatLabelType==="Auto"&&this.textboxWrapper.container.classList.contains("e-autofill")&&this.textboxWrapper.container.classList.contains("e-outline")&&y.add(this.textboxWrapper.container.querySelector(".e-float-text"),"animationstart",this.animationHandler,this)},e.prototype.animationHandler=function(){this.textboxWrapper.container.classList.add("e-valid-input");var t=this.textboxWrapper.container.querySelector(".e-float-text");u(t)||(t.classList.add("e-label-top"),t.classList.contains("e-label-bottom")&&t.classList.remove("e-label-bottom"))},e.prototype.resetValue=function(t){var i=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.value=t,t==null&&this.textboxWrapper.container.classList.contains("e-valid-input")&&this.textboxWrapper.container.classList.remove("e-valid-input"),this.isProtectedOnChange=i},e.prototype.resetForm=function(){if(this.isAngular?this.resetValue(""):this.resetValue(this.initialValue),!u(this.textboxWrapper)){var t=this.textboxWrapper.container.querySelector(".e-float-text");!u(t)&&this.floatLabelType!=="Always"&&(u(this.initialValue)||this.initialValue===""?(t.classList.add("e-label-bottom"),t.classList.remove("e-label-top")):this.initialValue!==""&&(t.classList.add("e-label-top"),t.classList.remove("e-label-bottom")))}},e.prototype.focusHandler=function(t){var i={container:this.textboxWrapper.container,event:t,value:this.value};this.trigger("focus",i)},e.prototype.focusOutHandler=function(t){!(this.previousValue===null&&this.value===null&&this.respectiveElement.value==="")&&this.previousValue!==this.value&&this.raiseChangeEvent(t,!0);var i={container:this.textboxWrapper.container,event:t,value:this.value};this.trigger("blur",i)},e.prototype.keydownHandler=function(t){(t.keyCode===13||t.keyCode===9)&&!((this.previousValue===null||this.previousValue==="")&&(this.value===null||this.value==="")&&this.respectiveElement.value==="")&&this.setProperties({value:this.respectiveElement.value},!0)},e.prototype.inputHandler=function(t){var i=this,n={event:t,value:this.respectiveElement.value,previousValue:this.inputPreviousValue,container:this.textboxWrapper.container};this.inputPreviousValue=this.respectiveElement.value,this.isAngular&&(i.localChange({value:this.respectiveElement.value}),this.preventChange=!0),this.isVue&&(this.preventChange=!0),this.trigger("input",n),t.stopPropagation()},e.prototype.changeHandler=function(t){this.setProperties({value:this.respectiveElement.value},!0),this.previousValue!=this.value&&this.raiseChangeEvent(t,!0),t.stopPropagation()},e.prototype.raiseChangeEvent=function(t,i){var n={event:t,value:this.value,previousValue:this.previousValue,container:this.textboxWrapper.container,isInteraction:i||!1,isInteracted:i||!1};this.preventChange=!1,this.trigger("change",n),this.previousValue=this.value,this.element.tagName==="INPUT"&&this.multiline&&N.info.name==="mozilla"&&(this.element.value=this.respectiveElement.value)},e.prototype.bindClearEvent=function(){this.showClearButton&&(this.enabled?y.add(this.textboxWrapper.clearButton,"mousedown touchstart",this.resetInputHandler,this):y.remove(this.textboxWrapper.clearButton,"mousedown touchstart",this.resetInputHandler))},e.prototype.resetInputHandler=function(t){if(t.preventDefault(),!this.textboxWrapper.clearButton.classList.contains(Lj)||this.textboxWrapper.container.classList.contains("e-static-clear")){Se.setValue("",this.respectiveElement,this.floatLabelType,this.showClearButton),this.isHiddenInput&&(this.element.value=this.respectiveElement.value),this.setProperties({value:this.respectiveElement.value},!0);var i={event:t,value:this.respectiveElement.value,previousValue:this.inputPreviousValue,container:this.textboxWrapper.container};if(this.trigger("input",i),this.inputPreviousValue=this.respectiveElement.value,this.raiseChangeEvent(t,!0),S(this.element,"form")){var n=this.element,s=document.createEvent("KeyboardEvent");s.initEvent("keyup",!1,!0),n.dispatchEvent(s)}}},e.prototype.unWireEvents=function(){y.remove(this.respectiveElement,"focus",this.focusHandler),y.remove(this.respectiveElement,"blur",this.focusOutHandler),y.remove(this.respectiveElement,"keydown",this.keydownHandler),y.remove(this.respectiveElement,"input",this.inputHandler),y.remove(this.respectiveElement,"change",this.changeHandler),this.isForm&&y.remove(this.formElement,"reset",this.resetForm),!u(this.textboxWrapper.container.querySelector(".e-float-text"))&&this.floatLabelType==="Auto"&&this.textboxWrapper.container.classList.contains("e-outline")&&this.textboxWrapper.container.classList.contains("e-autofill")&&y.remove(this.textboxWrapper.container.querySelector(".e-float-text"),"animationstart",this.animationHandler)},e.prototype.destroy=function(){this.unWireEvents(),this.showClearButton&&(this.clearButton=document.getElementsByClassName("e-clear-icon")[0]),this.element.tagName==="INPUT"&&this.multiline&&(w(this.textboxWrapper.container.getElementsByTagName("textarea")[0]),this.respectiveElement=this.element,this.element.removeAttribute("type")),this.respectiveElement.value=this.respectiveElement.defaultValue,this.respectiveElement.classList.remove("e-input"),this.removeAttributes(["aria-disabled","aria-readonly","aria-labelledby"]),u(this.textboxWrapper)||(this.textboxWrapper.container.insertAdjacentElement("afterend",this.respectiveElement),w(this.textboxWrapper.container)),this.textboxWrapper=null,Se.destroy({element:this.respectiveElement,floatLabelType:this.floatLabelType,properties:this.properties},this.clearButton),r.prototype.destroy.call(this)},e.prototype.addIcon=function(t,i){Se.addIcon(t,i,this.textboxWrapper.container,this.respectiveElement,this.createElement)},e.prototype.getPersistData=function(){var t=["value"];return this.addOnPersist(t)},e.prototype.addAttributes=function(t){for(var i=0,n=Object.keys(t);i<n.length;i++){var s=n[i];s==="disabled"?(this.setProperties({enabled:!1},!0),Se.setEnabled(this.enabled,this.respectiveElement,this.floatLabelType,this.textboxWrapper.container)):s==="readonly"?(this.setProperties({readonly:!0},!0),Se.setReadonly(this.readonly,this.respectiveElement)):s==="class"?this.respectiveElement.classList.add(t[""+s]):s==="placeholder"?(this.setProperties({placeholder:t[""+s]},!0),Se.setPlaceholder(this.placeholder,this.respectiveElement)):s==="rows"&&this.respectiveElement.tagName==="TEXTAREA"?this.respectiveElement.setAttribute(s,t[""+s]):this.respectiveElement.setAttribute(s,t[""+s])}},e.prototype.removeAttributes=function(t){for(var i=0,n=t;i<n.length;i++){var s=n[i];s==="disabled"?(this.setProperties({enabled:!0},!0),Se.setEnabled(this.enabled,this.respectiveElement,this.floatLabelType,this.textboxWrapper.container)):s==="readonly"?(this.setProperties({readonly:!1},!0),Se.setReadonly(this.readonly,this.respectiveElement)):s==="placeholder"?(this.setProperties({placeholder:null},!0),Se.setPlaceholder(this.placeholder,this.respectiveElement)):this.respectiveElement.removeAttribute(s)}},e.prototype.focusIn=function(){document.activeElement!==this.respectiveElement&&this.enabled&&(this.respectiveElement.focus(),(this.textboxWrapper.container.classList.contains("e-input-group")||this.textboxWrapper.container.classList.contains("e-outline")||this.textboxWrapper.container.classList.contains("e-filled"))&&E([this.textboxWrapper.container],[Kv]))},e.prototype.focusOut=function(){document.activeElement===this.respectiveElement&&this.enabled&&(this.respectiveElement.blur(),(this.textboxWrapper.container.classList.contains("e-input-group")||this.textboxWrapper.container.classList.contains("e-outline")||this.textboxWrapper.container.classList.contains("e-filled"))&&L([this.textboxWrapper.container],[Kv]))},Ft([b("text")],e.prototype,"type",void 0),Ft([b(!1)],e.prototype,"readonly",void 0),Ft([b(null)],e.prototype,"value",void 0),Ft([b("Never")],e.prototype,"floatLabelType",void 0),Ft([b("")],e.prototype,"cssClass",void 0),Ft([b(null)],e.prototype,"placeholder",void 0),Ft([b("on")],e.prototype,"autocomplete",void 0),Ft([b({})],e.prototype,"htmlAttributes",void 0),Ft([b(!1)],e.prototype,"multiline",void 0),Ft([b(!0)],e.prototype,"enabled",void 0),Ft([b(!1)],e.prototype,"showClearButton",void 0),Ft([b(!1)],e.prototype,"enablePersistence",void 0),Ft([b(null)],e.prototype,"width",void 0),Ft([R()],e.prototype,"created",void 0),Ft([R()],e.prototype,"destroyed",void 0),Ft([R()],e.prototype,"change",void 0),Ft([R()],e.prototype,"blur",void 0),Ft([R()],e.prototype,"focus",void 0),Ft([R()],e.prototype,"input",void 0),e=Ft([Ee],e),e}(Ve);var SN=function(){function r(e,t){this.parent=e,t&&(this.l10n=t.getService("rteLocale")),this.wireEvent()}return r.prototype.wireEvent=function(){this.parent.on(ue,this.unWireEvent,this),this.parent.on(yr,this.destroyTooltip,this),this.parent.on(Qh,this.closeTooltip,this)},r.prototype.destroyTooltip=function(){var e=this.parent.iframeSettings.enable?this.parent.contentModule.getPanel().ownerDocument:this.parent.contentModule.getDocument();if(!u(e.querySelector(".e-tooltip-wrap"))&&!u(e.querySelector("[data-tooltip-id]"))){var t=e.querySelector("[data-tooltip-id]"),i=new MouseEvent("mouseleave",{bubbles:!0,cancelable:!0});t.dispatchEvent(i)}},r.prototype.unWireEvent=function(){this.parent.off(ue,this.unWireEvent),this.parent.off(yr,this.destroyTooltip),this.parent.off(Qh,this.closeTooltip)},r.prototype.toolbarBeforeCreate=function(e){this.mode==="Extended"&&(e.enableCollision=!1)},r.prototype.toolbarCreated=function(){this.parent.notify(GC,this)},r.prototype.toolbarClicked=function(e){this.parent.enabled&&(this.parent.trigger("toolbarClick",e),(!this.parent.readonly||u(e.item))&&this.parent.notify(ks,e))},r.prototype.dropDownSelected=function(e){this.parent.notify(Hi,e),this.destroyTooltip()},r.prototype.beforeDropDownItemRender=function(e){this.parent.readonly||!this.parent.enabled||this.parent.notify(gh,e)},r.prototype.tooltipBeforeRender=function(e){if(!u(e.target.getAttribute("title"))){var t=e.target.getAttribute("title"),i=void 0;switch(t){case"Minimize":i=this.l10n.getConstant("minimize"),e.target.setAttribute("title",i+" (Esc)");break;case"Maximize":i=this.l10n.getConstant("maximize"),e.target.setAttribute("title",i+" (Ctrl+Shift+F)");break}}},r.prototype.dropDownOpen=function(e){if(e.element.parentElement.getAttribute("id").indexOf("TableCell")>-1&&!u(e.element.parentElement.querySelector(".e-cell-merge"))&&(!u(e.element.parentElement.querySelector(".e-cell-horizontal-split"))||!u(e.element.parentElement.querySelector(".e-cell-vertical-split")))){var t=e.element.querySelectorAll("li"),i=this.parent.inputElement.querySelectorAll(".e-cell-select");i.length===1?(E([t[0]],"e-disabled"),L([t[1],t[2]],"e-disabled")):i.length>1&&(Array.from(i).every(function(n){return n.tagName.toLowerCase()===i[0].tagName.toLowerCase()})?L([t[0]],"e-disabled"):E([t[0]],"e-disabled"),E([t[1],t[2]],"e-disabled"))}this.parent.showTooltip&&(this.dropdownTooltip=new xr({target:'[aria-owns="'+this.parent.getID()+'"].e-rte-elements [title]',showTipPointer:!0,openDelay:400,opensOn:"Hover",beforeRender:this.tooltipBeforeRender.bind(this),cssClass:this.parent.getCssClass(),windowCollision:!0,position:"BottomCenter"}),this.dropdownTooltip.appendTo(e.element)),this.parent.notify(Zt,e)},r.prototype.dropDownClose=function(e){this.parent.notify(Xt,e)},r.prototype.renderToolbar=function(e){this.setPanel(e.target),this.renderPanel(),this.mode=e.overflowMode,e.rteToolbarObj.toolbarObj=new Xp({items:e.items,width:"100%",overflowMode:e.overflowMode,beforeCreate:this.toolbarBeforeCreate.bind(this),created:this.toolbarCreated.bind(this),clicked:this.toolbarClicked.bind(this),enablePersistence:e.enablePersistence,enableRtl:e.enableRtl,cssClass:e.cssClass}),e.rteToolbarObj.toolbarObj.isStringTemplate=!0,e.rteToolbarObj.toolbarObj.createElement=this.parent.createElement,e.rteToolbarObj.toolbarObj.appendTo(e.target),this.parent.showTooltip&&(this.tooltip=new xr({target:"#"+this.parent.getID()+"_toolbar_wrapper [title]",showTipPointer:!0,openDelay:400,opensOn:"Hover",beforeRender:this.tooltipBeforeRender.bind(this),cssClass:this.parent.getCssClass(),windowCollision:!0,position:"BottomCenter"}),this.tooltip.appendTo(e.target.parentElement))},r.prototype.renderDropDownButton=function(e){var t=this,i;e.element.classList.add(hi),i=e.cssClass+" "+at+" "+hp,this.parent.inlineMode.enable&&N.isDevice&&(i=i+" "+sp);var n=this,s=new ha({items:e.items,iconCss:e.iconCss,cssClass:i,content:e.content,enablePersistence:this.parent.enablePersistence,enableRtl:this.parent.enableRtl,select:this.dropDownSelected.bind(this),beforeOpen:function(a){if(n.parent.readonly||!n.parent.enabled){a.cancel=!0;return}if(n.parent.editorMode!=="Markdown"){var l=n.parent.getRange().startContainer.parentElement,h=l.closest("table"),c=l.closest("tr");if(!u(h)&&h.classList.contains("e-dashed-border"))for(var p=0;p<a.element.childNodes.length;p++)a.element.childNodes[p].classList.contains("e-dashed-borders")&&E([a.element.childNodes[p]],"e-active");else if(!u(h)&&!h.classList.contains("e-dashed-border")&&h.classList.contains("e-alternate-rows")&&window.getComputedStyle(c).backgroundColor!=="")for(var p=0;p<a.element.childNodes.length;p++)a.element.childNodes[p].classList.contains("e-alternate-rows")&&E([a.element.childNodes[p]],"e-active");for(var d=n.parent.getRange().startContainer;d!==n.parent.inputElement&&!u(d.parentElement);){d.nodeName==="#text"&&(d=d.parentElement);var f=window.getComputedStyle(d).textAlign;if(a.items[0].command==="Alignments"){if(a.items[0].text==="Align Left"&&f==="left"||f==="start"){E([a.element.childNodes[0]],"e-active");break}else if(a.items[1].text==="Align Center"&&f==="center"){E([a.element.childNodes[1]],"e-active");break}else if(a.items[2].text==="Align Right"&&f==="right"){E([a.element.childNodes[2]],"e-active");break}else if(a.items[3].text==="Align Justify"&&f==="justify"){E([a.element.childNodes[3]],"e-active");break}}d=d.parentElement}var m=l.closest("img"),g=m||l.querySelector("img");if(a.items[0].command==="Images"&&!u(g)){var p=void 0;g.classList.contains("e-imgleft")||g.classList.contains("e-imginline")?p=0:g.classList.contains("e-imgcenter")||g.classList.contains("e-imgbreak")?p=1:g.classList.contains("e-imgright")&&(p=2),u(a.element.childNodes[p])||E([a.element.childNodes[p]],"e-active")}if(a.items[0].command==="Formats"||a.items[0].command==="Font")for(var p=0;p<a.element.childNodes.length;p++){var v=t.parent.createElement("div");v.innerHTML=s.content.trim(),v.textContent.trim()!==""&&a.element.childNodes[p].textContent.trim()===v.textContent.trim()?a.element.childNodes[p].classList.contains("e-active")||E([a.element.childNodes[p]],"e-active"):L([a.element.childNodes[p]],"e-active")}}n.parent.notify(Za,a)},close:this.dropDownClose.bind(this),open:this.dropDownOpen.bind(this),beforeItemRender:this.beforeDropDownItemRender.bind(this)});s.isStringTemplate=!0,s.createElement=n.parent.createElement,s.appendTo(e.element),e.element.tabIndex=-1;var o=document.getElementById(s.element.id+"-popup");return o.setAttribute("aria-owns",this.parent.getID()),s},r.prototype.mouseOutHandler=function(){if(!u(this.tooltipTargetEle))this.tooltipTargetEle.setAttribute("title",this.tooltipTargetEle.getAttribute("data-title"));else{var e=this.parent.iframeSettings.enable?this.parent.contentModule.getPanel().ownerDocument:this.parent.contentModule.getDocument();this.tooltipTargetEle=e.querySelector("[data-title]"),this.tooltipTargetEle.setAttribute("title",this.tooltipTargetEle.getAttribute("data-title"))}this.tooltipTargetEle.removeAttribute("data-title"),y.remove(this.tooltipTargetEle,"mouseout",this.mouseOutHandler)},r.prototype.closeTooltip=function(e){var t=this.parent.iframeSettings.enable?this.parent.contentModule.getPanel().ownerDocument:this.parent.contentModule.getDocument();this.tooltipTargetEle=S(e.target,"[data-tooltip-id]"),!u(this.tooltipTargetEle)&&this.parent.showTooltip&&!u(t.querySelector(".e-tooltip-wrap"))&&(this.destroyTooltip(),this.tooltipTargetEle.closest(".e-rte-quick-popup")||(this.tooltipTargetEle.setAttribute("data-title",this.tooltipTargetEle.getAttribute("title")),this.tooltipTargetEle.removeAttribute("title"),y.add(this.tooltipTargetEle,"mouseout",this.mouseOutHandler,this)))},r.prototype.renderListDropDown=function(e){var t=this,i=this,n=at+" "+hp+(this.parent.inlineMode?" "+sp:"");n+=" "+(e.itemName==="NumberFormatList"?PS:jS);var s=i.parent.createElement("span",{className:cp}),o=i.parent.createElement("span",{className:e.cssClass});s.appendChild(o);var a=new ha({items:e.items,cssClass:n,content:e.content,enablePersistence:this.parent.enablePersistence,enableRtl:this.parent.enableRtl,select:this.dropDownSelected.bind(this),beforeOpen:function(h){if(i.parent.editorMode!=="Markdown"){var c=i.parent.getRange().startContainer.parentElement,p=c.closest("LI"),d=u(p)?null:p.parentElement;if(!u(d)&&(d.nodeName==="OL"||d.nodeName==="UL"))if(d.nodeName==="UL"&&h.items[0].subCommand==="NumberFormatList")E([h.element.childNodes[0]],"e-active");else if(d.nodeName==="OL"&&h.items[0].subCommand==="BulletFormatList")E([h.element.childNodes[0]],"e-active");else{var f=d.style.listStyleType.split("-").join("").toLocaleLowerCase();f=f==="decimal"?"number":f;for(var m=0;m<h.element.childNodes.length;m++)f===h.element.childNodes[m].innerHTML.split(" ").join("").toLocaleLowerCase()?E([h.element.childNodes[m]],"e-active"):f===""&&E([h.element.childNodes[m]],"e-active")}else E([h.element.childNodes[0]],"e-active")}if(t.closeTooltip({target:h.event.target}),i.parent.readonly||!i.parent.enabled){h.cancel=!0;return}i.parent.notify(Xt,{});var g=h.event?h.event.target:null;if(i.currentElement=a.element,i.currentDropdown=a,h.event&&h.event.type==="click"&&(g.classList.contains(cp)||g.parentElement.classList.contains(cp))){h.cancel=!0;return}i.parent.notify(Za,h)},close:this.dropDownClose.bind(this),open:this.dropDownOpen.bind(this),beforeItemRender:this.beforeDropDownItemRender.bind(this)});a.isStringTemplate=!0,a.createElement=i.parent.createElement,a.appendTo(e.element),e.element.tabIndex=-1,e.element.setAttribute("role","button");var l=document.getElementById(a.element.id+"-popup");return l.setAttribute("aria-owns",this.parent.getID()),e.element.childElementCount===1&&a.element.insertBefore(s,a.element.querySelector(".e-caret")),e.element.tabIndex=-1,a.element.removeAttribute("type"),a.element.onmousedown=function(){i.parent.notify(Zt,{})},a.element.onkeydown=function(){i.parent.notify(Zt,{})},a},r.prototype.paletteSelection=function(e,t){var i=e.element.querySelector(".e-control.e-colorpicker"),n=[].slice.call(ge(".e-tile",i.parentElement));L(n,"e-selected");var s=t.querySelector("."+at).style.borderBottomColor;n.filter(function(o){o.style.backgroundColor===s&&E([o],"e-selected")})},r.prototype.renderColorPickerDropDown=function(e,t,i,n){var s=this,o=this,a=at+" "+hp+(this.parent.inlineMode?" "+sp:"");a+=" "+(t==="backgroundcolor"?FS:_S),a+=this.parent.getCssClass(!0);var l=o.parent.createElement("span",{className:il}),h=o.parent.createElement("span",{className:e.cssClass}),c,p=u(n)?o.parent.backgroundColor.default:n;h.style.borderBottomColor=t==="backgroundcolor"?p:o.parent.fontColor.default,l.appendChild(h);var d=new ha({target:i.element.parentElement,cssClass:a,enablePersistence:this.parent.enablePersistence,enableRtl:this.parent.enableRtl,beforeOpen:function(m){if(i.inline=!0,i.dataBind(),o.parent.readonly||!o.parent.enabled){m.cancel=!0;return}var g=m.event?m.event.target:null;if(o.currentElement=d.element,o.currentDropdown=d,o.paletteSelection(m,o.currentElement),m.event&&m.event.type==="click"&&(g.classList.contains(il)||g.parentElement.classList.contains(il))){m.cancel=!0;var v=g.classList.contains(at)?g.style.borderBottomColor:g.querySelector("."+at).style.borderBottomColor;o.parent.notify(Xt,{}),c=o.parent.formatter.editorManager.nodeSelection.getRange(o.parent.contentModule.getDocument());var O=c.startContainer.parentNode,C=S(c.startContainer.parentNode,"table");(c.startContainer.nodeName==="TD"||c.startContainer.nodeName==="TH"||S(c.startContainer.parentNode,"td,th")||o.parent.iframeSettings.enable&&!tt(O.ownerDocument.querySelector("body"),"e-lib"))&&c.collapsed&&e.subCommand==="BackgroundColor"&&S(C,"."+Zo)?o.parent.notify(Vo,{item:{command:e.command,subCommand:e.subCommand,value:v}}):o.parent.notify(Fo,{item:{command:e.command,subCommand:e.subCommand,value:v}});return}else{var x=m.element.querySelector(".e-control.e-colorpicker"),M=en(x,gy);M.showButtons=!m.element.querySelector(".e-color-palette"),M.dataBind()}m.element.onclick=function(k){k.target.classList.contains("e-cancel")&&d.toggle()}},open:function(m){s.setColorPickerContentWidth(i);var g,v=m.element.querySelector(".e-control.e-colorpicker");m.element.querySelector(".e-color-palette")?g=v.parentElement.querySelector(".e-palette"):g=v.parentElement.querySelector("e-handler"),g&&g.focus(),s.pickerRefresh(m)},beforeClose:function(m){var g=m.event?m.event.target:null;if(m.event&&m.event.type==="click"&&(g.classList.contains(il)||g.parentElement.classList.contains(il))){var v=g.classList.contains(at)?g.style.borderBottomColor:g.querySelector("."+at).style.borderBottomColor;c=o.parent.formatter.editorManager.nodeSelection.getRange(o.parent.contentModule.getDocument()),(c.startContainer.nodeName==="TD"||c.startContainer.nodeName==="TH"||S(c.startContainer.parentNode,"td,th"))&&c.collapsed?o.parent.notify(Vo,{item:{command:e.command,subCommand:e.subCommand,value:v}}):o.parent.notify(Fo,{item:{command:e.command,subCommand:e.subCommand,value:v}});return}},close:function(m){o.parent.notify(Xt,{})}});d.isStringTemplate=!0,d.createElement=o.parent.createElement,e.element.setAttribute("role","button"),d.appendTo(e.element);var f=document.getElementById(d.element.id+"-popup");return f.setAttribute("aria-owns",this.parent.getID()),d.element.insertBefore(l,d.element.querySelector(".e-caret")),e.element.tabIndex=-1,d.element.removeAttribute("type"),d.element.onmousedown=function(){o.parent.notify(Zt,{})},d.element.onkeydown=function(){o.parent.notify(Zt,{})},d},r.prototype.pickerRefresh=function(e){if(this.parent.backgroundColor.mode==="Picker"){var t=e.element.parentElement;t.style.width=(t.offsetWidth+5).toString()+"px",en(t,_t).refreshPosition(t),t.style.width=(t.offsetWidth-5).toString()+"px"}},r.prototype.setColorPickerContentWidth=function(e){var t=e.element.nextSibling;if(t.style.width==="0px"){t.style.width="";var i=parseInt(getComputedStyle(t).borderBottomWidth,10);t.style.width=W(t.children[0].offsetWidth+i+i)}},r.prototype.renderColorPicker=function(e,t){var i=this,n=this,s,o=new gy({enablePersistence:this.parent.enablePersistence,enableRtl:this.parent.enableRtl,inline:!1,value:"#fff",created:function(){var a=t==="backgroundcolor"?n.parent.backgroundColor.default:n.parent.fontColor.default;o.setProperties({value:a})},mode:t==="backgroundcolor"?n.parent.backgroundColor.mode:n.parent.fontColor.mode,modeSwitcher:t==="backgroundcolor"?n.parent.backgroundColor.modeSwitcher:n.parent.fontColor.modeSwitcher,beforeTileRender:function(a){if(a.element.classList.add(VS),a.element.classList.add(iM),!u(i.parent.cssClass))for(var l=i.parent.getCssClass().split(" "),h=0;h<l.length;h++)l[h].trim()!==""&&a.element.classList.add(l[h]);a.value===""&&a.element.classList.add(nM)},change:function(a){var l=a.currentValue.rgba;a.item={command:e.command,subCommand:e.subCommand,value:l},n.parent.notify(Xt,{}),n.currentElement.querySelector("."+at).style.borderBottomColor=l;var h=n.parent.formatter.editorManager.nodeSelection.getRange(n.parent.contentModule.getDocument()),c=S(h.startContainer.parentNode,"table");(h.startContainer.nodeName==="TD"||h.startContainer.nodeName==="TH"||h.startContainer.nodeName==="BODY"||S(h.startContainer.parentNode,"td,th"))&&h.collapsed&&e.subCommand==="BackgroundColor"&&S(c,"."+Zo)?n.parent.notify(Vo,a):n.parent.notify(Fo,a),n.currentDropdown.toggle()},beforeModeSwitch:function(a){s=o.value,s===""&&o.setProperties({value:a.mode==="Picker"?"#008000ff":""},!0),o.showButtons=a.mode!=="Palette"}});return o.isStringTemplate=!0,o.columns=t==="backgroundcolor"?this.parent.backgroundColor.columns:this.parent.fontColor.columns,o.presetColors=t==="backgroundcolor"?this.parent.backgroundColor.colorCode:this.parent.fontColor.colorCode,o.cssClass=(t==="backgroundcolor"?YS:$S)+" "+e.cssClass,o.createElement=this.parent.createElement,o.appendTo(document.getElementById(e.target)),o},r.prototype.renderPanel=function(){this.getPanel().classList.add(Xa)},r.prototype.getPanel=function(){return this.toolbarPanel},r.prototype.setPanel=function(e){this.toolbarPanel=e},r}();var Cl=function(){function r(e,t){this.tools={},this.parent=e,this.locator=t,this.renderFactory=this.locator.getService("rendererFactory"),this.addEventListener(),this.parent.toolbarSettings&&Object.keys(this.parent.toolbarSettings.itemConfigs).length>0?ae(this.tools,is,cl(this.parent.toolbarSettings.itemConfigs),!0):this.tools=is}return r.prototype.addEventListener=function(){this.parent.on(_i,this.setRtl,this),this.parent.on(dt,this.setCssClass,this),this.parent.on(ue,this.removeEventListener,this)},r.prototype.removeEventListener=function(){this.parent.off(_i,this.setRtl),this.parent.off(dt,this.setCssClass),this.parent.off(ue,this.removeEventListener)},r.prototype.setCssClass=function(e){u(this.toolbarObj)||(u(e.oldCssClass)?this.toolbarObj.setProperties({cssClass:(this.toolbarObj.cssClass+" "+e.cssClass).trim()}):this.toolbarObj.setProperties({cssClass:(this.toolbarObj.cssClass.replace(e.oldCssClass,"").trim()+" "+e.cssClass).trim()}))},r.prototype.setRtl=function(e){u(this.toolbarObj)||this.toolbarObj.setProperties({enableRtl:e.enableRtl})},r.prototype.getClass=function(e){var t;switch(e){case"fontsize":t="e-rte-inline-size-template";break;case"fontcolor":case"backgroundcolor":t="e-rte-inline-color-template";break;default:t="e-rte-inline-template";break}return t},r.prototype.getTemplateObject=function(e,t){var i;switch(e){case"fontcolor":case"backgroundcolor":case"numberformatlist":case"bulletformatlist":i="span";break;default:i="button";break}return{command:this.tools[e.toLocaleLowerCase()].command,subCommand:this.tools[e.toLocaleLowerCase()].subCommand,template:this.parent.createElement(i,{id:this.parent.getID()+"_"+t+"_"+this.tools[e.toLocaleLowerCase()].id}).outerHTML,cssClass:this.parent.inlineMode.enable?this.getClass(e):"",tooltipText:ta(e,this.locator)}},r.prototype.getObject=function(e,t){var i=e.toLowerCase();if(rl.indexOf(i)!==-1)return this.getTemplateObject(i,t);switch(i){case"|":return{type:"Separator"};case"-":return{type:"Separator",cssClass:IS};default:return{id:this.parent.getID()+"_"+t+"_"+this.tools[i.toLocaleLowerCase()].id,prefixIcon:this.tools[i.toLocaleLowerCase()].icon,tooltipText:ta(i,this.locator),command:this.tools[i.toLocaleLowerCase()].command,subCommand:this.tools[i.toLocaleLowerCase()].subCommand}}},r.prototype.getItems=function(e,t){var i=this;if(this.parent.toolbarSettings.items.length<1)return[];for(var n=[],s=function(f){switch(typeof f){case"string":n.push(o.getObject(f,t));break;default:if(!u(f.click)){var m=f,g=m.click;m.click=function(){if(m.undo&&i.parent.formatter.getUndoRedoStack().length===0&&i.parent.formatter.saveData(),g.call(i),i.parent.formatter.getUndoRedoStack().length>0){var v=i.parent.createElement("div"),O=i.parent.formatter.getUndoRedoStack()[i.parent.formatter.getUndoRedoStack().length-1],C=O.text.cloneNode(!0);if(v.appendChild(C),v.innerHTML.trim()===i.parent.inputElement.innerHTML.trim())return}m.undo&&i.parent.formatter.saveData()}}n.push(f)}},o=this,a=0,l=e;a<l.length;a++){var h=l[a];s(h)}if(this.parent.showTooltip)for(var c=0;c<n.length;c++){var p=n[c].tooltipText,d=void 0;up[""+p]?d=window.navigator.platform.toLocaleLowerCase().includes("mac")?up[""+p].replace("Ctrl","Cmd"):up[""+p]:d=p,d&&(n[c].command==="Images"&&n[c].subCommand==="InsertLink"||(n[c].tooltipText=p!==d?p+" ("+d+")":p))}return n},r.prototype.getToolbarOptions=function(e){return{target:e.target,rteToolbarObj:this,items:this.getItems(e.items,e.container),overflowMode:e.mode,enablePersistence:this.parent.enablePersistence,enableRtl:this.parent.enableRtl,cssClass:e.cssClass}},r.prototype.render=function(e){this.toolbarRenderer=this.renderFactory.getRenderer(ve.Toolbar),this.toolbarRenderer.renderToolbar(this.getToolbarOptions(e))},r}();var hd=function(){function r(e,t){this.parent=e,this.locator=t,this.renderFactory=this.locator.getService("rendererFactory"),this.addEventListener()}return r.prototype.initializeInstance=function(){this.toolbarRenderer=this.renderFactory.getRenderer(ve.Toolbar)},r.prototype.beforeRender=function(e){var t=e.item;t.cssClass&&E([e.element],t.cssClass),(t.command==="Images"||t.command==="Videos"||t.command==="Audios"||t.command==="Table")&&e.element.setAttribute("title",Ug(t.text)!==""?Ug(t.text):t.text),(t.command==="Alignments"||t.subCommand==="JustifyLeft"||t.subCommand==="JustifyRight"||t.subCommand==="JustifyCenter")&&e.element.setAttribute("title",ta(t.subCommand.toLocaleLowerCase(),this.locator)),t.command==="Formats"&&e.element.setAttribute("title",ns(t.subCommand.toLocaleLowerCase(),this.locator,pp)),t.command==="Font"&&e.element.setAttribute("title",ns(t.text.toLocaleLowerCase(),this.locator,ec)!==""?ns(t.text.toLocaleLowerCase(),this.locator,ec):t.text),t.subCommand==="BulletFormatList"&&e.element.setAttribute("title",ns(t.text.toLocaleLowerCase(),this.locator,ic)!==""?ns(t.text.toLocaleLowerCase(),this.locator,ic):t.text),t.subCommand==="NumberFormatList"&&e.element.setAttribute("title",ns(t.text.toLocaleLowerCase(),this.locator,tc)!==""?ns(t.text.toLocaleLowerCase(),this.locator,tc):t.text),t.subCommand==="FontSize"&&e.element.setAttribute("title",ns(t.value.toLocaleLowerCase(),null,null,this.parent))},r.prototype.dropdownContent=function(e,t,i){return'<span style="display: inline-flex;width:'+(t==="quick"?"auto":e)+'" ><span class="e-rte-dropdown-btn-text">'+i+"</span></span>"},r.prototype.renderDropDowns=function(e){var t=this;this.initializeInstance();var i=e.containerType,n=e.container;rl.forEach(function(s){var o=void 0;if(nc(s,e.items)!==-1)switch(s){case"numberformatlist":{if(o=$("#"+t.parent.getID()+"_"+i+"_NumberFormatList",n),u(o)||o.classList.contains(hi))return;var a=t.parent.numberFormatList.types.slice();a.forEach(function(g){Object.defineProperties(g,{command:{value:"Lists",enumerable:!0},subCommand:{value:"NumberFormatList",enumerable:!0}})}),t.numberFormatListDropDown=t.toolbarRenderer.renderListDropDown({cssClass:"e-order-list "+at+" "+tl,itemName:"NumberFormatList",items:a,element:o});break}case"bulletformatlist":{if(o=$("#"+t.parent.getID()+"_"+i+"_BulletFormatList",n),u(o)||o.classList.contains(hi))return;var l=t.parent.bulletFormatList.types.slice();l.forEach(function(g){Object.defineProperties(g,{command:{value:"Lists",enumerable:!0},subCommand:{value:"BulletFormatList",enumerable:!0}})}),t.bulletFormatListDropDown=t.toolbarRenderer.renderListDropDown({cssClass:"e-unorder-list "+at+" "+tl,itemName:"BulletFormatList",items:l,element:o});break}case"formats":{if(o=$("#"+t.parent.getID()+"_"+i+"_Formats",n),u(o)||o.classList.contains(hi))return;var h=t.parent.format.types.slice();h.forEach(function(g){Object.defineProperties(g,{command:{value:"Formats",enumerable:!0},subCommand:{value:g.value,enumerable:!0}})});var c=u(t.parent.format.default)?h[0].text:t.parent.format.default;t.formatDropDown=t.toolbarRenderer.renderDropDownButton({iconCss:i==="quick"?"e-formats e-icons":"",content:t.dropdownContent(t.parent.format.width,i,i==="quick"?"":qn(h,c,"text","text")),cssClass:rn+" "+Yn+" "+zS,itemName:"Formats",items:h,element:o});break}case"fontname":{if(o=$("#"+t.parent.getID()+"_"+i+"_FontName",n),u(o)||o.classList.contains(hi))return;var p=t.parent.fontFamily.items.slice();p.forEach(function(g){Object.defineProperties(g,{command:{value:"Font",enumerable:!0},subCommand:{value:"FontName",enumerable:!0}})});var d=u(t.parent.fontFamily.default)?p[0].text:t.parent.fontFamily.default;t.fontNameDropDown=t.toolbarRenderer.renderDropDownButton({iconCss:i==="quick"?"e-font-name e-icons":"",content:t.dropdownContent(t.parent.fontFamily.width,i,i==="quick"?"":qn(p,d,"text","text")),cssClass:rn+" "+Yn+" "+RS,itemName:"FontName",items:p,element:o}),u(t.parent.fontFamily.default)||(t.getEditNode().style.fontFamily=t.parent.fontFamily.default);break}case"fontsize":{if(o=$("#"+t.parent.getID()+"_"+i+"_FontSize",n),u(o)||o.classList.contains(hi))return;var f=!u(t.fontSizeDropDown)&&!u(t.fontSizeDropDown.items)&&t.fontSizeDropDown.items.length>0?t.fontSizeDropDown.items:JSON.parse(JSON.stringify(t.parent.fontSize.items.slice()));f.forEach(function(g){Object.defineProperties(g,{command:{value:"Font",enumerable:!0},subCommand:{value:"FontSize",enumerable:!0}})});var m=u(t.parent.fontSize.default)?f[1].text:t.parent.fontSize.default;t.fontSizeDropDown=t.toolbarRenderer.renderDropDownButton({content:t.dropdownContent(t.parent.fontSize.width,i,fp(qn(f,m.replace(/\s/g,""),"value","text"))),cssClass:rn+" "+Yn+" "+BS,itemName:"FontSize",items:f,element:o}),u(t.parent.fontSize.default)||(t.getEditNode().style.fontSize=t.parent.fontSize.default);break}case"alignments":if(o=$("#"+t.parent.getID()+"_"+i+"_Alignments",n),u(o)||o.classList.contains(hi))return;t.alignDropDown=t.toolbarRenderer.renderDropDownButton({iconCss:"e-justify-left e-icons",cssClass:rn+" "+Yn+" "+QS,itemName:"Alignments",items:ea,element:o});break;case"align":case"videoalign":t.renderAlignmentDropDown(i,n,o,s);break;case"display":case"audiolayoutoption":case"videolayoutoption":t.renderDisplayDropDown(i,n,o,s);break;case"tablerows":t.rowDropDown(i,n,o);break;case"tablecolumns":t.columnDropDown(i,n,o);break;case"tablecell":t.cellDropDown(i,n,o);break;case"tablecellverticalalign":t.verticalAlignDropDown(i,n,o);break;case"styles":t.tableStylesDropDown(i,n,o);break}}),this.parent.inlineMode.enable&&this.setCssClass({cssClass:this.parent.getCssClass()})},r.prototype.getUpdateItems=function(e,t){var i=e.slice();return i.forEach(function(n){Object.defineProperties(n,{command:{value:t==="Format"?"Formats":"Font",enumerable:!0},subCommand:{value:t==="Format"?n.value:t,enumerable:!0}})}),i},r.prototype.onPropertyChanged=function(e){for(var t=e.newProp,i,n,s=0,o=Object.keys(t);s<o.length;s++){var a=o[s];switch(a){case"fontFamily":if(this.fontNameDropDown)for(var l=0,h=Object.keys(t.fontFamily);l<h.length;l++){var c=h[l];switch(c){case"default":case"width":{var p=this.fontNameDropDown.items;i=u(S(this.fontNameDropDown.element,"."+Ka))?"toolbar":"quick";var d=u(this.parent.fontFamily.default)?p[0].text:this.parent.fontFamily.default;n=this.dropdownContent(this.parent.fontFamily.width,i,i==="quick"?"":qn(p,d,"text","text")),this.fontNameDropDown.setProperties({content:n}),u(this.parent.fontFamily.default)?this.getEditNode().style.removeProperty("font-family"):this.getEditNode().style.fontFamily=this.parent.fontFamily.default;break}case"items":this.fontNameDropDown.setProperties({items:this.getUpdateItems(t.fontFamily.items,"FontName")});break}}break;case"fontSize":if(this.fontSizeDropDown)for(var f=0,m=Object.keys(t.fontSize);f<m.length;f++){var g=m[f];switch(g){case"default":case"width":{var v=this.fontSizeDropDown.items;i=u(S(this.fontSizeDropDown.element,"."+Ka))?"toolbar":"quick";var O=u(this.parent.fontSize.default)?v[1].text:this.parent.fontSize.default;n=this.dropdownContent(this.parent.fontSize.width,i,fp(qn(v,O.replace(/\s/g,""),"value","text"))),this.fontSizeDropDown.setProperties({content:n}),u(this.parent.fontSize.default)?this.getEditNode().style.removeProperty("font-size"):this.getEditNode().style.fontSize=this.parent.fontSize.default;break}case"items":this.fontSizeDropDown.setProperties({items:this.getUpdateItems(t.fontSize.items,"FontSize")});break}}break;case"format":if(this.formatDropDown)for(var C=0,x=Object.keys(t.format);C<x.length;C++){var M=x[C];switch(M){case"default":case"width":{var k=this.formatDropDown.items;i=u(S(this.formatDropDown.element,"."+Ka))?"toolbar":"quick";var A=u(this.parent.format.default)?k[0].text:this.parent.format.default;n=this.dropdownContent(this.parent.format.width,i,i==="quick"?"":qn(k,A,"text","text")),this.formatDropDown.setProperties({content:n});break}case"types":this.formatDropDown.setProperties({items:this.getUpdateItems(t.format.types,"Format")});break}}break}}},r.prototype.getEditNode=function(){return this.parent.contentModule.getEditPanel()},r.prototype.rowDropDown=function(e,t,i){i=$("#"+this.parent.getID()+"_"+e+"_TableRows",t),!i.classList.contains(hi)&&(this.tableRowsDropDown=this.toolbarRenderer.renderDropDownButton({iconCss:"e-table-rows e-icons",cssClass:rn+" "+Yn+" "+_s,itemName:"TableRows",items:Xh,element:i}))},r.prototype.columnDropDown=function(e,t,i){i=$("#"+this.parent.getID()+"_"+e+"_TableColumns",t),!i.classList.contains(hi)&&(this.tableColumnsDropDown=this.toolbarRenderer.renderDropDownButton({iconCss:"e-table-columns e-icons",cssClass:rn+" "+Yn+" "+_s,itemName:"TableColumns",items:Gh,element:i}))},r.prototype.cellDropDown=function(e,t,i){i=$("#"+this.parent.getID()+"_"+e+"_TableCell",t),!i.classList.contains(hi)&&(this.tableRowsDropDown=this.toolbarRenderer.renderDropDownButton({iconCss:"e-table-cell e-icons",cssClass:rn+" "+Yn+" "+_s,itemName:"TableCell",items:oM,element:i}))},r.prototype.verticalAlignDropDown=function(e,t,i){i=$("#"+this.parent.getID()+"_"+e+"_TableCellVerticalAlign",t),!i.classList.contains(hi)&&(this.tableCellVerticalAlignDropDown=this.toolbarRenderer.renderDropDownButton({iconCss:"e-table-cell-ver-align e-icons",cssClass:rn+" "+Yn+" "+_s,itemName:"TableCellVerticalAlign",items:Kh,element:i}))},r.prototype.renderDisplayDropDown=function(e,t,i,n){i=$("#"+this.parent.getID()+"_"+e+(n==="display"?"_Display":n==="videolayoutoption"?"_VideoLayoutOption":"_AudioLayoutOption"),t),!i.classList.contains(hi)&&(this.displayDropDown=this.toolbarRenderer.renderDropDownButton({iconCss:n==="display"?"e-display e-icons":n==="videolayoutoption"?"e-video-display e-icons":"e-audio-display e-icons",cssClass:rn+" "+Yn+" "+_s,itemName:n==="display"?"Display":n==="videolayoutoption"?"VideoLayoutOption":"AudioLayoutOption",items:n==="display"?qh:n==="videolayoutoption"?Zh:Wh,element:i}))},r.prototype.renderAlignmentDropDown=function(e,t,i,n){i=$("#"+this.parent.getID()+"_"+e+(n==="align"?"_Align":"_VideoAlign"),t),!i.classList.contains(hi)&&(this.imageAlignDropDown=this.toolbarRenderer.renderDropDownButton({iconCss:"e-justify-left e-icons",cssClass:rn+" "+op+" "+_s,itemName:n==="align"?"Align":"VideoAlign",items:n==="align"?rM:sM,element:i}))},r.prototype.tableStylesDropDown=function(e,t,i){i=$("#"+this.parent.getID()+"_"+e+"_Styles",t),!i.classList.contains(hi)&&(this.imageAlignDropDown=this.toolbarRenderer.renderDropDownButton({iconCss:"e-style e-icons",cssClass:rn+" "+op+" "+_s,itemName:"Styles",items:this.parent.tableSettings.styles,element:i}))},r.prototype.removeDropDownClasses=function(e){L([e],[hi,rn,op,Yn])},r.prototype.destroyDropDowns=function(){this.formatDropDown&&(this.removeDropDownClasses(this.formatDropDown.element),this.formatDropDown.destroy()),this.fontNameDropDown&&(this.removeDropDownClasses(this.fontNameDropDown.element),this.fontNameDropDown.destroy()),this.fontSizeDropDown&&(this.removeDropDownClasses(this.fontSizeDropDown.element),this.fontSizeDropDown.destroy()),this.alignDropDown&&(this.removeDropDownClasses(this.alignDropDown.element),this.alignDropDown.destroy()),this.imageAlignDropDown&&(this.removeDropDownClasses(this.imageAlignDropDown.element),this.imageAlignDropDown.destroy()),this.displayDropDown&&(this.removeDropDownClasses(this.displayDropDown.element),this.displayDropDown.destroy()),this.tableRowsDropDown&&(this.removeDropDownClasses(this.tableRowsDropDown.element),this.tableRowsDropDown.destroy()),this.tableColumnsDropDown&&(this.removeDropDownClasses(this.tableColumnsDropDown.element),this.tableColumnsDropDown.destroy()),this.tableCellVerticalAlignDropDown&&(this.removeDropDownClasses(this.tableCellVerticalAlignDropDown.element),this.tableCellVerticalAlignDropDown.destroy()),this.numberFormatListDropDown&&(this.removeDropDownClasses(this.numberFormatListDropDown.element),this.numberFormatListDropDown.destroy()),this.bulletFormatListDropDown&&(this.removeDropDownClasses(this.bulletFormatListDropDown.element),this.bulletFormatListDropDown.destroy())},r.prototype.setRtl=function(e){this.formatDropDown&&this.formatDropDown.setProperties({enableRtl:e.enableRtl}),this.fontNameDropDown&&this.fontNameDropDown.setProperties({enableRtl:e.enableRtl}),this.fontSizeDropDown&&this.fontSizeDropDown.setProperties({enableRtl:e.enableRtl}),this.alignDropDown&&this.alignDropDown.setProperties({enableRtl:e.enableRtl}),this.imageAlignDropDown&&this.imageAlignDropDown.setProperties({enableRtl:e.enableRtl}),this.displayDropDown&&this.displayDropDown.setProperties({enableRtl:e.enableRtl}),this.numberFormatListDropDown&&this.numberFormatListDropDown.setProperties({enableRtl:e.enableRtl}),this.bulletFormatListDropDown&&this.bulletFormatListDropDown.setProperties({enableRtl:e.enableRtl})},r.prototype.updateCss=function(e,t){e&&t.cssClass&&(u(t.oldCssClass)?e.setProperties({cssClass:(e.cssClass+" "+t.cssClass).trim()}):e.setProperties({cssClass:(e.cssClass.replace(t.oldCssClass,"").trim()+" "+t.cssClass).trim()}))},r.prototype.setCssClass=function(e){for(var t=[this.formatDropDown,this.fontNameDropDown,this.fontSizeDropDown,this.alignDropDown,this.imageAlignDropDown,this.displayDropDown,this.numberFormatListDropDown,this.bulletFormatListDropDown,this.tableRowsDropDown,this.tableColumnsDropDown,this.tableCellVerticalAlignDropDown],i=0;i<t.length;i++)this.updateCss(t[i],e)},r.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(gh,this.beforeRender,this),this.parent.on(Ut,this.onIframeMouseDown,this),this.parent.on(_i,this.setRtl,this),this.parent.on(ue,this.removeEventListener,this),this.parent.on(Je,this.onPropertyChanged,this),this.parent.on(dt,this.setCssClass,this))},r.prototype.onIframeMouseDown=function(){this.parent.getToolbarElement().querySelectorAll('.e-rte-dropdown-btn[aria-expanded="true"]').length>0&&Tn(document,"mousedown")},r.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(Ut,this.onIframeMouseDown),this.parent.off(_i,this.setRtl),this.parent.off(gh,this.beforeRender),this.parent.off(ue,this.removeEventListener),this.parent.off(Je,this.onPropertyChanged),this.parent.off(dt,this.setCssClass))},r}();var cd=function(){function r(){this.services={}}return r.prototype.register=function(e,t){u(this.services[""+e])&&(this.services[""+e]=t)},r.prototype.getService=function(e){if(u(this.services[""+e]))throw"The service "+e+" is not registered";return this.services[""+e]},r}();var ud=function(){function r(){this.rendererMap={}}return r.prototype.addRenderer=function(e,t){var i=_m(ve,e);u(this.rendererMap[""+i])&&(this.rendererMap[""+i]=t)},r.prototype.getRenderer=function(e){var t=_m(ve,e);if(u(this.rendererMap[""+t]))throw"The renderer "+t+" is not found";return this.rendererMap[""+t]},r}();var MN=function(){function r(e){this.parent=e,this.addEventListener(),this.serviceLocator=new cd,this.serviceLocator.register("rendererFactory",new ud)}return r.prototype.addEventListener=function(){this.parent.on(ks,this.toolbarClick,this),this.parent.on(Hi,this.dropDownSelect,this),this.parent.on(Fo,this.renderSelection,this),this.parent.on(ue,this.removeEventListener,this)},r.prototype.toolbarClick=function(e){if(!u(e.item)){if(!u(e.item.controlParent)){var t=e.item.controlParent.activeEle;t&&(t.tabIndex=-1)}(e.item.command==="NumberFormatList"||e.item.command==="BulletFormatList")&&(e.originalEvent.target.classList.contains("e-order-list")||e.originalEvent.target.classList.contains("e-unorder-list"))&&(e.item.command="Lists",e.item.subCommand=e.item.subCommand==="NumberFormatList"?"OL":"UL"),!(e.item.command==="Lists"&&e.originalEvent.target.classList.contains("e-caret")&&(e.originalEvent.target.parentElement.classList.contains("e-rte-bulletformatlist-dropdown")||e.originalEvent.target.parentElement.classList.contains("e-rte-numberformatlist-dropdown")))&&(this.parent.notify(ph,e),this.parent.notify(dh,e))}},r.prototype.dropDownSelect=function(e){if(this.parent.notify(Xt,{}),!(document.body.contains(document.body.querySelector(".e-rte-quick-toolbar"))&&e.item&&(e.item.command==="Images"||e.item.command==="Audios"||e.item.command==="Videos"||e.item.command==="VideoLayoutOption"||e.item.command==="Display"||e.item.command==="Table"))){var t=e.item.controlParent&&this.parent.quickToolbarModule&&this.parent.quickToolbarModule.tableQTBar&&this.parent.quickToolbarModule.tableQTBar.element.contains(e.item.controlParent.element)?"Table":null;if(e.item.command==="Lists"){var i={listStyle:e.item.value,listImage:e.item.listImage,type:e.item.subCommand};this.parent.formatter.process(this.parent,e,e.originalEvent,i)}else this.parent.formatter.process(this.parent,e,e.originalEvent,t)}this.parent.notify(Zt,{})},r.prototype.renderSelection=function(e){this.parent.notify(Xt,{}),this.parent.formatter.process(this.parent,e,e.originalEvent,null),this.parent.notify(Zt,{})},r.prototype.removeEventListener=function(){this.parent.off(ks,this.toolbarClick),this.parent.off(Hi,this.dropDownSelect),this.parent.off(Fo,this.renderSelection),this.parent.off(ue,this.removeEventListener)},r}();var TN=function(){function r(e,t){this.tools={},this.parent=e,this.isToolbar=!1,this.locator=t,this.isTransformChild=!1,this.renderFactory=this.locator.getService("rendererFactory"),uM(this.parent),_g(this.parent),this.renderFactory.addRenderer(ve.Toolbar,new SN(this.parent,this.locator)),this.toolbarRenderer=this.renderFactory.getRenderer(ve.Toolbar),this.baseToolbar=new Cl(this.parent,this.locator),this.addEventListener(),this.parent.toolbarSettings&&Object.keys(this.parent.toolbarSettings.itemConfigs).length>0?ae(this.tools,is,cl(this.parent.toolbarSettings.itemConfigs),!0):this.tools=is}return r.prototype.initializeInstance=function(){this.contentRenderer=this.renderFactory.getRenderer(ve.Content),this.editableElement=this.contentRenderer.getEditPanel(),this.editPanel=this.contentRenderer.getPanel()},r.prototype.toolbarBindEvent=function(){this.parent.inlineMode.enable||(this.keyBoardModule=new Gr(this.getToolbarElement(),{keyAction:this.toolBarKeyDown.bind(this),keyConfigs:this.parent.formatter.keyConfig,eventName:"keydown"}))},r.prototype.toolBarKeyDown=function(e){switch(e.action){case"escape":this.parent.contentModule.getEditPanel().focus();break;case"enter":e.target.classList.contains("e-hor-nav")&&this.adjustContentHeight(e.target,!0),!u(e.target)&&(e.target.classList.contains("e-rte-fontcolor-dropdown")||e.target.classList.contains("e-rte-backgroundcolor-dropdown"))&&this.parent.notify(Bh,{toolbarClick:e.target.classList.contains("e-rte-fontcolor-dropdown")?"fontcolor":"backgroundcolor"})}},r.prototype.createToolbarElement=function(){this.tbElement=this.parent.createElement("div",{id:this.parent.getID()+"_toolbar"}),!(!N.isDevice&&this.parent.inlineMode.enable&&it())&&(this.parent.inlineMode.enable?this.parent.element.insertBefore(this.tbElement,this.editPanel):(this.tbWrapper=this.parent.createElement("div",{id:this.parent.getID()+"_toolbar_wrapper",innerHTML:this.tbElement.outerHTML,className:ap}),this.tbElement=this.tbWrapper.firstElementChild,this.parent.element.insertBefore(this.tbWrapper,this.editPanel)))},r.prototype.getToolbarMode=function(){var e;switch(this.parent.toolbarSettings.type){case ti.Expand:e="Extended";break;case ti.Scrollable:e="Scrollable";break;default:e="MultiRow"}return it()&&this.parent.toolbarSettings.type===ti.Expand&&(e=ti.Scrollable),e},r.prototype.checkToolbarResponsive=function(e){if(!N.isDevice||it())return!1;var t;return this.parent.toolbarSettings.type===ti.Expand?t=ti.MultiRow:t=this.parent.toolbarSettings.type,this.baseToolbar.render({container:this.parent.inlineMode.enable?"quick":"toolbar",items:this.parent.toolbarSettings.items,mode:t,target:e,cssClass:this.parent.getCssClass()}),this.parent.toolbarSettings.type===ti.Expand&&(E([e],["e-rte-tb-mobile"]),this.parent.inlineMode.enable?this.addFixedTBarClass():E([e],[wS])),this.wireEvents(),this.dropDownModule.renderDropDowns({container:e,containerType:this.parent.inlineMode.enable?"quick":"toolbar",items:this.parent.toolbarSettings.items}),this.parent.notify(Fa,{container:this.tbElement,containerType:this.parent.inlineMode.enable?"quick":"toolbar",items:this.parent.toolbarSettings.items}),!0},r.prototype.checkIsTransformChild=function(){this.isTransformChild=!1;for(var e=ge('[style*="transform"]',document),t=0;t<e.length;t++)if(!u(e[t].contains)&&e[t].contains(this.parent.element)){this.isTransformChild=!0;break}},r.prototype.toggleFloatClass=function(e){var t=this.parent.floatingToolbarOffset;this.parent.toolbarSettings.enableFloating?(E([this.tbElement.parentElement],[Uh]),he(this.tbElement.parentElement,{top:t+"px"})):(L([this.tbElement.parentElement],[Uh]),he(this.tbElement.parentElement,{top:""}))},r.prototype.renderToolbar=function(){if(this.initializeInstance(),this.createToolbarElement(),!this.checkToolbarResponsive(this.tbElement)){this.parent.inlineMode.enable?this.parent.notify(Mh,{}):(this.baseToolbar.render({container:"toolbar",items:this.parent.toolbarSettings.items,mode:this.getToolbarMode(),target:this.tbElement,cssClass:this.parent.getCssClass()}),this.parent.inlineMode.enable||(this.parent.toolbarSettings.enableFloating&&(this.checkIsTransformChild(),this.toggleFloatClass()),E([this.parent.element],[Rg]),this.parent.toolbarSettings.type===ti.Expand&&E([this.parent.element],[Cg]))),this.wireEvents(),this.parent.inlineMode.enable&&!it()&&this.addFixedTBarClass(),this.parent.inlineMode.enable||(this.dropDownModule.renderDropDowns({container:this.tbElement,containerType:"toolbar",items:this.parent.toolbarSettings.items}),this.parent.notify(Fa,{container:this.tbElement,containerType:"toolbar",items:this.parent.toolbarSettings.items}),this.refreshToolbarOverflow());var e=this.parent.element.querySelector("."+Mn),t=this.parent.element.querySelector(".e-source-content");(!this.parent.iframeSettings.enable&&!u(e)&&e.style.display==="block"||this.parent.iframeSettings.enable&&!u(t)&&t.style.display==="block")&&(this.parent.notify(Ho,{targetItem:"SourceCode",updateItem:"Preview",baseToolbar:this.parent.getBaseToolbarObject()}),this.parent.disableToolbarItem(this.parent.toolbarSettings.items))}},r.prototype.addFixedTBarClass=function(){E([this.tbElement],[Og])},r.prototype.removeFixedTBarClass=function(){L([this.tbElement],[Og])},r.prototype.showFixedTBar=function(){E([this.tbElement],[Tg]),N.isIos&&E([this.tbElement],[Lg])},r.prototype.hideFixedTBar=function(){this.isToolbar?this.isToolbar=!1:L([this.tbElement],[Tg,Lg])},r.prototype.updateItem=function(e){var t=this.tools[e.updateItem.toLocaleLowerCase()];this.parent.locale!=="en-US"&&(t.tooltip=ta(e.updateItem.toLocaleLowerCase(),this.locator));var i=this.tools[e.targetItem.toLocaleLowerCase()],n=oc(sc(i.subCommand),e.baseToolbar.toolbarObj.items)[0];if(u(n))this.addTBarItem(e,0);else{var s=this.parent.inlineMode.enable?"_quick_":"_toolbar_";e.baseToolbar.toolbarObj.items[n].id=this.parent.getID()+s+t.id,e.baseToolbar.toolbarObj.items[n].prefixIcon=t.icon,e.baseToolbar.toolbarObj.items[n].tooltipText=t.tooltip,e.baseToolbar.toolbarObj.items[n].subCommand=t.subCommand,e.baseToolbar.toolbarObj.dataBind(),e.baseToolbar.toolbarObj.refreshOverflow()}},r.prototype.updateToolbarStatus=function(e){if(!(!this.tbElement||this.parent.inlineMode.enable&&(it()||!N.isDevice))){var t={args:e,dropDownModule:this.dropDownModule,parent:this.parent,tbElements:ge("."+Sn,this.tbElement),tbItems:this.baseToolbar.toolbarObj.items};rc(t,!!this.parent.inlineMode.enable,this.parent)}},r.prototype.fullScreen=function(e){this.parent.fullScreenModule.showFullScreen(e)},r.prototype.hideScreen=function(e){this.parent.fullScreenModule.hideFullScreen(e)},r.prototype.getBaseToolbar=function(){return this.baseToolbar},r.prototype.addTBarItem=function(e,t){e.baseToolbar.toolbarObj.addItems([e.baseToolbar.getObject(e.updateItem,"toolbar")],t)},r.prototype.enableTBarItems=function(e,t,i,n){var s=oc(sc(t),e.toolbarObj.items);this.tbItems=ge("."+Sn,e.toolbarObj.element);for(var o=0;o<s.length;o++){var a=this.tbItems[s[o]];a&&e.toolbarObj.enableItems(a,i)}!$("."+Mn,this.parent.element)&&!n&&rs(e,this.parent.formatter.editorManager.undoRedoManager.getUndoStatus())},r.prototype.removeTBarItems=function(e){u(this.baseToolbar.toolbarObj)&&(this.baseToolbar=this.parent.getBaseToolbarObject());var t=oc(sc(e),this.baseToolbar.toolbarObj.items);this.tbItems=this.parent.inlineMode.enable?ge("."+Sn,this.baseToolbar.toolbarObj.element):ge("."+Sn,this.parent.element);for(var i=0;i<t.length;i++)this.baseToolbar.toolbarObj.removeItems(this.tbItems[t[i]])},r.prototype.getExpandTBarPopHeight=function(){var e=0;if(this.parent.toolbarSettings.type===ti.Expand&&this.tbElement.classList.contains("e-extended-toolbar")){var t=$(".e-toolbar-extended",this.tbElement);t&&this.tbElement.classList.contains("e-expand-open")||t&&t.classList.contains("e-popup-open")?(E([t],[Ng]),e=e+t.offsetHeight,L([t],[Ng])):L([this.tbElement],[Cr])}return e},r.prototype.getToolbarHeight=function(){return this.tbElement.offsetHeight},r.prototype.getToolbarElement=function(){return $("."+Xa,this.parent.element)},r.prototype.refreshToolbarOverflow=function(){this.parent.element.classList.remove(Jr),this.baseToolbar.toolbarObj.refreshOverflow(),this.parent.enableRtl&&this.parent.element.classList.add(Jr)},r.prototype.isToolbarDestroyed=function(){return this.baseToolbar.toolbarObj&&!this.baseToolbar.toolbarObj.isDestroyed},r.prototype.destroyToolbar=function(){if(this.isToolbarDestroyed()){this.parent.unWireScrollElementsEvents(),this.unWireEvents(),this.parent.notify(fh,{}),this.dropDownModule.destroyDropDowns(),this.baseToolbar.toolbarObj.destroy(),this.removeEventListener(),L([this.parent.element],[Rg]),L([this.parent.element],[Cg]);var e=$("."+ap,this.parent.element),t=$("."+Xa,this.parent.element);u(e)?u(t)||w(t):w(e)}},r.prototype.destroy=function(){u(this.parent)||this.isToolbarDestroyed()&&(this.destroyToolbar(),this.keyBoardModule&&this.keyBoardModule.destroy())},r.prototype.moduleDestroy=function(){this.parent=null,this.baseToolbar.parent=null,this.toolbarActionModule.parent=null,this.dropDownModule.parent=null},r.prototype.mouseDownHandler=function(){N.isDevice&&this.parent.inlineMode.enable&&!it()&&this.showFixedTBar()},r.prototype.focusChangeHandler=function(){N.isDevice&&this.parent.inlineMode.enable&&!it()&&(this.isToolbar=!1,this.hideFixedTBar())},r.prototype.dropDownBeforeOpenHandler=function(){this.isToolbar=!0},r.prototype.tbFocusHandler=function(e){var t=document.activeElement,i=S(t,".e-rte-toolbar");if(t===this.parent.getToolbarElement()||i===this.parent.getToolbarElement())for(var n=this.parent.getToolbarElement().querySelectorAll(".e-expended-nav"),s=0;s<n.length;s++)u(this.parent.getToolbarElement().querySelector(".e-insert-table-btn"))?n[s].setAttribute("tabindex","0"):n[s].setAttribute("tabindex","1")},r.prototype.toolbarClickHandler=function(e){var t=S(e.originalEvent.target,".e-hor-nav");this.adjustContentHeight(t,!1)},r.prototype.adjustContentHeight=function(e,t){if(e&&this.parent.toolbarSettings.type===ti.Expand&&!u(e)){var i=e.classList.contains("e-nav-active"),n=t?!i:!!i;n?E([this.tbElement],[Cr]):L([this.tbElement],[Cr]),this.parent.setContentHeight("Toolbar",n)}else(N.isDevice||this.parent.inlineMode.enable)&&(this.isToolbar=!0);u(e)&&this.parent.toolbarSettings.type===ti.Expand&&this.parent.toolbarModule.getExpandTBarPopHeight()===0&&L([this.tbElement],[Cr])},r.prototype.wireEvents=function(){this.parent.inlineMode.enable&&it()||y.add(this.tbElement,"focusin",this.tbFocusHandler,this)},r.prototype.unWireEvents=function(){y.remove(this.tbElement,"focusin",this.tbFocusHandler)},r.prototype.addEventListener=function(){this.parent.isDestroyed||(this.dropDownModule=new hd(this.parent,this.locator),this.toolbarActionModule=new MN(this.parent),this.parent.on(bt,this.renderToolbar,this),this.parent.on(Ro,this.toolbarBindEvent,this),this.parent.on(Ni,this.updateToolbarStatus,this),this.parent.on(Je,this.onPropertyChanged,this),this.parent.on(og,this.onRefresh,this),this.parent.on(ue,this.destroy,this),this.parent.on(Bo,this.fullScreen,this),this.parent.on(Qo,this.hideScreen,this),this.parent.on(Ho,this.updateItem,this),this.parent.on(Za,this.dropDownBeforeOpenHandler,this),this.parent.on(lg,this.parent.setContentHeight,this.parent),this.parent.on(Ps,this.focusChangeHandler,this),this.parent.on(li,this.mouseDownHandler,this),this.parent.on(Is,this.mouseDownHandler,this),this.parent.on(dt,this.setCssClass,this),this.parent.on(Qe,this.moduleDestroy,this),!this.parent.inlineMode.enable&&!it()&&this.parent.on(ks,this.toolbarClickHandler,this))},r.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(bt,this.renderToolbar),this.parent.off(Ro,this.toolbarBindEvent),this.parent.off(Ni,this.updateToolbarStatus),this.parent.off(Je,this.onPropertyChanged),this.parent.off(og,this.onRefresh),this.parent.off(ue,this.destroy),this.parent.off(Bo,this.parent.fullScreenModule.showFullScreen),this.parent.off(Qo,this.parent.fullScreenModule.hideFullScreen),this.parent.off(Ho,this.updateItem),this.parent.off(Za,this.dropDownBeforeOpenHandler),this.parent.off(lg,this.parent.setContentHeight),this.parent.off(Ps,this.focusChangeHandler),this.parent.off(li,this.mouseDownHandler),this.parent.off(Is,this.mouseDownHandler),this.parent.off(dt,this.setCssClass),this.parent.off(Qe,this.moduleDestroy),!this.parent.inlineMode.enable&&!it()&&this.parent.off(ks,this.toolbarClickHandler))},r.prototype.setCssClass=function(e){this.toolbarObj&&e.cssClass&&(u(e.oldCssClass)?this.toolbarObj.setProperties({cssClass:(this.toolbarObj.cssClass+" "+e.cssClass).trim()}):this.toolbarObj.setProperties({cssClass:(this.toolbarObj.cssClass.replace(e.oldCssClass,"").trim()+" "+e.cssClass).trim()}))},r.prototype.onRefresh=function(){this.parent.inlineMode.enable||this.refreshToolbarOverflow();var e=this.parent.element.querySelectorAll(".e-toolbar-extended.e-popup-open").length>0;this.parent.setContentHeight("Refresh",e)},r.prototype.onPropertyChanged=function(e){if(!u(e.newProp.inlineMode))for(var t=0,i=Object.keys(e.newProp.inlineMode);t<i.length;t++){var n=i[t];switch(n){case"enable":this.refreshToolbar();break}}u(e.newProp.toolbarSettings)||u(e.newProp.toolbarSettings.enableFloating)||this.toggleFloatClass(),e.module===this.getModuleName()&&this.refreshToolbar()},r.prototype.refreshToolbar=function(){u(this.baseToolbar.toolbarObj)&&(this.baseToolbar=this.parent.getBaseToolbarObject());var e=$("."+ap,this.parent.element),t=$("."+Xa,this.parent.element);(t||e)&&this.destroyToolbar(),this.parent.toolbarSettings.enable&&(this.addEventListener(),this.renderToolbar(),this.parent.wireScrollElementsEvents(),$("."+Mn,this.parent.element)||rs(this.baseToolbar,this.parent.formatter.editorManager.undoRedoManager.getUndoStatus()),this.parent.notify(Vn,{}))},r.prototype.getModuleName=function(){return"toolbar"},r}();var Aj=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),pd=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Ij={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222,"]":221,"[":219,"=":187,"<":188,">":190},Rc=function(r){Aj(e,r);function e(i,n){var s=r.call(this,n,i)||this;return s.keyPressHandler=function(o){for(var a=o.altKey,l=o.ctrlKey,h=o.shiftKey,c=o.metaKey,p=o.which,d=Object.keys(s.keyConfigs),f=0,m=d;f<m.length;f++)for(var g=m[f],v=s.keyConfigs[""+g].split(","),O=0,C=v;O<C.length;O++){var x=C[O],M=t.getKeyConfigData(x.trim());a===M.altKey&&(l===M.ctrlKey||c)&&h===M.shiftKey&&p===M.keyCode&&(o.action=g)}s.keyAction&&s.keyAction(o)},s.bind(),s}t=e,e.prototype.destroy=function(){this.unwireEvents(),r.prototype.destroy.call(this)},e.prototype.onPropertyChanged=function(i,n){},e.prototype.bind=function(){this.wireEvents()},e.prototype.getModuleName=function(){return"keyboard"},e.prototype.wireEvents=function(){this.element.addEventListener(this.eventName,this.keyPressHandler)},e.prototype.unwireEvents=function(){this.element.removeEventListener(this.eventName,this.keyPressHandler)},e.getKeyConfigData=function(i){if(i in this.configCache)return this.configCache[""+i];var n=i.toLowerCase().split("+"),s={altKey:n.indexOf("alt")!==-1,ctrlKey:n.indexOf("ctrl")!==-1,shiftKey:n.indexOf("shift")!==-1,keyCode:null};return n[n.length-1].length>1&&Number(n[n.length-1])?s.keyCode=Number(n[n.length-1]):s.keyCode=t.getKeyCode(n[n.length-1]),t.configCache[""+i]=s,s},e.getKeyCode=function(i){return Ij[""+i]||i.toUpperCase().charCodeAt(0)};var t;return e.configCache={},pd([b({})],e.prototype,"keyConfigs",void 0),pd([b("keyup")],e.prototype,"eventName",void 0),pd([R()],e.prototype,"keyAction",void 0),e=t=pd([Ee],e),e}(yi);var dd=function(){function r(e,t){this.tools={},this.parent=e,this.locator=t,this.renderFactory=this.locator.getService("rendererFactory"),this.addEventListener(),this.parent.toolbarSettings&&Object.keys(this.parent.toolbarSettings.itemConfigs).length>0?ae(this.tools,is,cl(this.parent.toolbarSettings.itemConfigs),!0):this.tools=is}return r.prototype.initializeInstance=function(){this.toolbarRenderer=this.renderFactory.getRenderer(ve.Toolbar)},r.prototype.renderColorPickerInput=function(e){var t=this;this.initializeInstance();var i=e.containerType,n=e.container,s,o;rl.forEach(function(a){if(nc(a,e.items)!==-1)switch(a){case"fontcolor":{s=t.parent.getID()+"_"+i+"_FontColor_Target";var l=t.parent.createElement("input");if(l.id=s,l.classList.add(US),!u(t.parent.cssClass))for(var h=t.parent.cssClass.split(" "),c=0;c<h.length;c++)h[c].trim()!==""&&l.classList.add(h[c]);document.body.appendChild(l),o={cssClass:t.tools[a.toLocaleLowerCase()].icon+" "+at+" "+tl+t.parent.getCssClass(!0),value:t.tools[a.toLocaleLowerCase()].value,command:t.tools[a.toLocaleLowerCase()].command,subCommand:t.tools[a.toLocaleLowerCase()].subCommand,element:$("#"+t.parent.getID()+"_"+i+"_FontColor",n),target:s},t.fontColorPicker=t.toolbarRenderer.renderColorPicker(o,"fontcolor"),t.fontColorDropDown=t.toolbarRenderer.renderColorPickerDropDown(o,"fontcolor",t.fontColorPicker);break}case"backgroundcolor":{s=t.parent.getID()+"_"+i+"_BackgroundColor_Target";var p=t.parent.createElement("input");if(p.id=s,p.classList.add(HS),!u(t.parent.cssClass))for(var h=t.parent.cssClass.split(" "),c=0;c<h.length;c++)h[c].trim()!==""&&p.classList.add(h[c]);document.body.appendChild(p),o={cssClass:t.tools[a.toLocaleLowerCase()].icon+" "+at+" "+tl+t.parent.getCssClass(!0),value:t.tools[a.toLocaleLowerCase()].value,command:t.tools[a.toLocaleLowerCase()].command,subCommand:t.tools[a.toLocaleLowerCase()].subCommand,element:$("#"+t.parent.getID()+"_"+i+"_BackgroundColor",n),target:s},t.backgroundColorPicker=t.toolbarRenderer.renderColorPicker(o,"backgroundcolor"),t.backgroundColorDropDown=t.toolbarRenderer.renderColorPickerDropDown(o,"backgroundcolor",t.backgroundColorPicker,t.defaultColorPicker);break}}}),this.parent.inlineMode.enable&&this.setCssClass({cssClass:this.parent.getCssClass()})},r.prototype.destroy=function(){this.removeEventListener(),this.destroyColorPicker()},r.prototype.destroyColorPicker=function(){if(this.fontColorPicker&&!this.fontColorPicker.isDestroyed&&this.fontColorPicker.destroy(),this.backgroundColorPicker&&!this.backgroundColorPicker.isDestroyed&&this.backgroundColorPicker.destroy(),this.fontColorDropDown&&!this.fontColorDropDown.isDestroyed){var e=this.fontColorDropDown.element.querySelector(".e-rte-color-content");e&&w(e),this.fontColorDropDown.destroy()}if(this.backgroundColorDropDown&&!this.backgroundColorDropDown.isDestroyed){var e=this.backgroundColorDropDown.element.querySelector(".e-rte-color-content");e&&(this.defaultColorPicker=e.children[0].style.borderBottomColor,w(e)),this.backgroundColorDropDown.destroy()}},r.prototype.setRtl=function(e){this.fontColorPicker&&(this.fontColorPicker.setProperties({enableRtl:e.enableRtl}),this.fontColorDropDown.setProperties({enableRtl:e.enableRtl})),this.backgroundColorPicker&&(this.backgroundColorPicker.setProperties({enableRtl:e.enableRtl}),this.backgroundColorDropDown.setProperties({enableRtl:e.enableRtl}))},r.prototype.setCssClass=function(e){this.updateCss(this.fontColorPicker,this.fontColorDropDown,e),this.updateCss(this.backgroundColorPicker,this.backgroundColorDropDown,e)},r.prototype.updateCss=function(e,t,i){e&&i.cssClass&&(u(i.oldCssClass)?(e.setProperties({cssClass:(e.cssClass+" "+i.cssClass).trim()}),t.setProperties({cssClass:(t.cssClass+" "+i.cssClass).trim()})):(e.setProperties({cssClass:(e.cssClass.replace(i.oldCssClass,"").replace("  "," ").trim()+" "+i.cssClass).trim()}),t.setProperties({cssClass:(t.cssClass.replace(i.oldCssClass,"").replace("  "," ").trim()+" "+i.cssClass).trim()})))},r.prototype.addEventListener=function(){this.parent.on(ag,this.renderColorPickerInput,this),this.parent.on(_i,this.setRtl,this),this.parent.on(ue,this.destroy,this),this.parent.on(fh,this.destroyColorPicker,this),this.parent.on(Je,this.onPropertyChanged,this),this.parent.on(dt,this.setCssClass,this),this.parent.on(Bh,this.showColorPicker,this)},r.prototype.showColorPicker=function(e){!u(this.fontColorPicker)&&e.toolbarClick==="fontcolor"?this.fontColorDropDown.toggle():!u(this.backgroundColorPicker)&&e.toolbarClick==="backgroundcolor"&&this.backgroundColorDropDown.toggle()},r.prototype.onPropertyChanged=function(e){for(var t=e.newProp,i,n=0,s=Object.keys(t);n<s.length;n++){var o=s[n];switch(o){case"fontColor":if(this.fontColorPicker)for(var a=0,l=Object.keys(t.fontColor);a<l.length;a++){var h=l[a];switch(h){case"default":{this.fontColorPicker.setProperties({value:t.fontColor.default}),i=this.fontColorDropDown.element;var c=i.querySelector("."+this.tools.fontcolor.icon);c.style.borderBottomColor=t.fontColor.default;break}case"mode":this.fontColorPicker.setProperties({mode:t.fontColor.mode});break;case"columns":this.fontColorPicker.setProperties({columns:t.fontColor.columns});break;case"colorCode":this.fontColorPicker.setProperties({presetColors:t.fontColor.colorCode});break;case"modeSwitcher":this.fontColorPicker.setProperties({modeSwitcher:t.fontColor.modeSwitcher});break}}break;case"backgroundColor":if(this.backgroundColorPicker)for(var p=0,d=Object.keys(t.backgroundColor);p<d.length;p++){var f=d[p];switch(f){case"default":{this.backgroundColorPicker.setProperties({value:t.backgroundColor.default}),i=this.backgroundColorDropDown.element;var m=i.querySelector("."+this.tools.backgroundcolor.icon);m.style.borderBottomColor=t.backgroundColor.default;break}case"mode":this.backgroundColorPicker.setProperties({mode:t.backgroundColor.mode});break;case"columns":this.backgroundColorPicker.setProperties({columns:t.backgroundColor.columns});break;case"colorCode":this.backgroundColorPicker.setProperties({presetColors:t.backgroundColor.colorCode});break;case"modeSwitcher":this.backgroundColorPicker.setProperties({modeSwitcher:t.backgroundColor.modeSwitcher});break}}break}}},r.prototype.removeEventListener=function(){this.parent.off(ag,this.renderColorPickerInput),this.parent.off(ue,this.destroy),this.parent.off(_i,this.setRtl),this.parent.off(fh,this.destroyColorPicker),this.parent.off(Je,this.onPropertyChanged),this.parent.off(dt,this.setCssClass),this.parent.off(Bh,this.showColorPicker)},r}();var NN=function(){function r(e,t){this.parent=e,this.locator=t,this.isRendered=!1,this.renderFactory=this.locator.getService("rendererFactory"),this.contentRenderer=this.renderFactory.getRenderer(ve.Content),this.popupRenderer=this.renderFactory.getRenderer(ve.Popup),this.dropDownButtons=new hd(this.parent,this.locator),this.colorPickerObj=new dd(this.parent,this.locator)}return r.prototype.appendPopupContent=function(){this.toolbarElement=this.parent.createElement("div",{className:Ka}),this.element.classList.contains(Mg)&&this.toolbarElement.classList.add(xS),this.element.appendChild(this.toolbarElement)},r.prototype.render=function(e){var t;e.popupType==="Image"?t=kS:e.popupType==="Inline"?t=Xo:e.popupType==="Text"?t=Mg:t="";var i=Fe(e.popupType+"_Quick_Popup");this.stringItems=e.toolbarItems,this.element=this.parent.createElement("div",{id:i,className:t+" "+at}),this.element.setAttribute("aria-owns",this.parent.getID()),this.appendPopupContent(),this.createToolbar(e.toolbarItems,e.mode,e.cssClass),this.popupRenderer.renderPopup(this),this.addEventListener()},r.prototype.createToolbar=function(e,t,i){this.quickTBarObj=new Cl(this.parent,this.locator),this.quickTBarObj.render({container:"quick",target:this.toolbarElement,items:e,mode:t,cssClass:i}),this.quickTBarObj.toolbarObj.refresh()},r.prototype.setPosition=function(e){var t,i,n=S(e.target,".e-img-caption"),s=!(e.target.classList.contains("e-imginline")||e.target.classList.contains("e-imgbreak")),o=u(n)?e.target:n;E([this.toolbarElement],[xg]);var a;if(u(S(o,"table")))a=o.classList.contains("e-rte-audio")?o.parentElement.offsetTop:o.offsetTop;else{a=o.offsetTop;for(var l=S(o,"table");!u(l);)a+=l.offsetTop,l=S(l.parentElement,"table")}var h=window.pageYOffset+e.parentData.top;a-e.editTop>e.popHeight?i=h+e.tBarElementHeight+(a-e.editTop)-e.popHeight-5:e.editTop+e.editHeight-(a+o.offsetHeight)>e.popHeight?i=h+e.tBarElementHeight+(a-e.editTop)+o.offsetHeight+5:i=e.y,o=s?e.target:o;var c,p;if(u(S(o,"table")))p=o.offsetWidth,c=o.classList.contains("e-rte-audio")?o.parentElement.offsetLeft:o.offsetLeft;else{c=o.offsetLeft;var l=S(o,"table"),d=!1;for(u(S(l,"TD"))||(d=!0);!u(l);)c+=l.offsetLeft,p=d?l.offsetWidth:o.offsetWidth,l=S(l.parentElement,"table")}p>e.popWidth?t=p/2-e.popWidth/2+e.parentData.left+c:t=e.parentData.left+c,this.popupObj.position.X=t+e.popWidth>e.parentData.right?e.parentData.right-e.popWidth:t,this.popupObj.position.Y=i>=0?i:e.y+5,this.popupObj.dataBind(),L([this.toolbarElement],[xg])},r.prototype.checkCollision=function(e,t,i){var n,s,o=e.parentData.top,a=e.windowY+o+e.tBarElementHeight,l=[];t==="document"?l=as(e.popup):l=as(e.popup,e.parentElement);for(var h=0;h<l.length;h++)switch(l[h]){case"top":t==="document"?s=e.windowY:s=window.pageYOffset+o+e.tBarElementHeight;break;case"bottom":{var c=void 0;t==="document"?i==="inline"||i==="text"?c=e.y-e.popHeight-10:e.windowHeight-(o+e.tBarElementHeight)>e.popHeight?a-e.windowHeight>e.popHeight?c=a+(e.windowHeight-o)-e.popHeight:c=a:c=e.windowY+(o+e.tBarElementHeight):e.target.tagName!=="IMG"?c=e.parentData.bottom+window.pageYOffset-e.popHeight-10:c=e.parentData.bottom+window.pageYOffset-e.popHeight-5,s=c;break}case"right":i==="inline"||i==="text"?n=window.pageXOffset+(e.windowWidth-(e.popWidth+e.bodyRightSpace+10)):n=e.x-e.popWidth;break;case"left":i==="inline"||i==="text"?n=0:n=e.parentData.left;break}this.popupObj.position.X=n||this.popupObj.position.X,this.popupObj.position.Y=s||this.popupObj.position.Y,this.popupObj.dataBind()},r.prototype.showPopup=function(e,t,i,n){var s=this,o={popup:this.popupObj,cancel:!1,targetElement:i,positionX:e,positionY:t};this.parent.trigger(aS,o,function(a){if(!a.cancel){var l=void 0,h=void 0,c=window.getComputedStyle(document.body),p=parseFloat(c.marginRight.split("px")[0])+parseFloat(c.paddingRight.split("px")[0]),d=window.innerHeight,f=window.innerWidth,m=s.parent.element,g=!u(s.parent.getToolbar()),v=g&&s.parent.toolbarModule.getToolbarHeight(),O=g&&s.parent.toolbarModule.getExpandTBarPopHeight(),C=g?v+O:0;if(E([s.element],[Go]),N.isDevice&&!it()&&E([s.parent.getToolbar()],[Go]),s.parent.iframeSettings.enable){var x=s.contentRenderer.getPanel().contentWindow;l=x.pageYOffset,h=x.innerHeight}else{var x=S(i,"."+DS);l=x?x.scrollTop:0,h=x?x.offsetHeight:0}!s.parent.inlineMode.enable&&!S(i,"table")&&n!=="text"&&n!=="link"||i.tagName==="IMG"?(s.parent.disableToolbarItem(s.parent.toolbarSettings.items),s.parent.enableToolbarItem(["Undo","Redo"])):s.parent.enableToolbarItem(s.parent.toolbarSettings.items),st([s.element],document.body),s.parent.showTooltip&&(s.tooltip=new xr({target:"#"+s.element.id+" [title]",openDelay:400,showTipPointer:!0,windowCollision:!0,position:"BottomCenter",cssClass:s.parent.getCssClass()}),s.tooltip.appendTo(s.element)),s.popupObj.position.X=a.positionX+20,s.popupObj.position.Y=a.positionY+20,s.popupObj.dataBind(),s.popupObj.element.classList.add("e-popup-open"),s.dropDownButtons.renderDropDowns({container:s.toolbarElement,containerType:"quick",items:s.stringItems}),s.colorPickerObj.renderColorPickerInput({container:s.toolbarElement,containerType:"quick",items:s.stringItems});var M={x:e,y:t,target:i,editTop:l,editHeight:h,popup:s.popupObj.element,popHeight:s.popupObj.element.offsetHeight,popWidth:s.popupObj.element.offsetWidth,parentElement:m,bodyRightSpace:p,windowY:window.pageYOffset,windowHeight:d,windowWidth:f,parentData:m.getBoundingClientRect(),tBarElementHeight:C};(S(i,"TABLE")||i.tagName==="IMG"||i.tagName==="AUDIO"||i.tagName==="VIDEO"||i.tagName==="IFRAME"||i.classList&&(i.classList.contains(Ja)||i.classList.contains(es)||i.classList.contains(Fs)))&&(e==a.positionX||t==a.positionY)&&s.setPosition(M),s.parent.inlineMode.enable||s.checkCollision(M,"parent",""),s.checkCollision(M,"document",s.parent.inlineMode.enable?"inline":n==="text"?"text":""),s.popupObj.element.classList.remove("e-popup-open"),L([s.element],[Go]),s.popupObj.show({name:"ZoomIn",duration:N.isIE?250:400}),s.popupObj&&s.parent.cssClass&&(L([s.popupObj.element],s.parent.cssClass),E([s.popupObj.element],s.parent.cssClass)),he(s.element,{maxWidth:window.outerWidth+"px"}),E([s.element],[Sg]),s.isRendered=!0}})},r.prototype.hidePopup=function(){var e=this.parent.sourceCodeModule.getViewPanel();if(N.isDevice&&!it()&&L([this.parent.getToolbar()],[Go]),u(document.querySelector(".e-tooltip-wrap")))u(this.tooltip)||this.tooltip.destroy();else{if(!u(document.querySelector("#"+this.element.id+" [data-tooltip-id]"))){var t=document.querySelector("#"+this.element.id+" [data-tooltip-id]"),i=t.getAttribute("data-content");t.removeAttribute("data-content"),t.setAttribute("title",i),t.removeAttribute("data-tooltip-id")}this.tooltip.destroy()}!u(this.parent.getToolbar())&&!this.parent.inlineMode.enable&&(u(e)||e.style.display==="none")&&this.parent.enableToolbarItem(this.parent.toolbarSettings.items),this.parent.showTooltip&&!u(document.querySelector(".e-tooltip-wrap"))&&this.parent.notify(yr,{args:event}),this.removeEleFromDOM(),this.isRendered=!1},r.prototype.addQTBarItem=function(e,t){this.quickTBarObj.toolbarObj.addItems(this.quickTBarObj.getItems(e,"toolbar"),t)},r.prototype.removeQTBarItem=function(e){this.quickTBarObj.toolbarObj.removeItems(e)},r.prototype.removeEleFromDOM=function(){var e=this.popupObj.element;if(this.isRendered){this.dropDownButtons.destroyDropDowns(),this.colorPickerObj.destroyColorPicker(),L([this.element],[Sg]),w(e);var t=this.popupObj;this.parent.trigger(hS,t)}},r.prototype.updateStatus=function(e){var t={args:e,dropDownModule:this.dropDownButtons,parent:this.parent,tbElements:ge("."+Sn,this.element),tbItems:this.quickTBarObj.toolbarObj.items};if(rc(t,!0,this.parent),this.parent.quickToolbarSettings.text&&this.parent.quickToolbarModule.textQTBar){var i={args:e,dropDownModule:this.parent.quickToolbarModule.textQTBar.dropDownButtons,parent:this.parent,tbElements:ge("."+Sn,this.parent.quickToolbarModule.textQTBar.element),tbItems:this.parent.quickToolbarModule.textQTBar.quickTBarObj.toolbarObj.items};rc(i,!0,this.parent),rs(this.parent.quickToolbarModule.textQTBar.quickTBarObj,this.parent.formatter.editorManager.undoRedoManager.getUndoStatus())}$("."+Mn,this.parent.element)||rs(this.parent.getBaseToolbarObject(),this.parent.formatter.editorManager.undoRedoManager.getUndoStatus())},r.prototype.destroy=function(){this.popupObj&&!this.popupObj.isDestroyed&&(this.popupObj.destroy(),this.removeEleFromDOM()),this.removeEventListener()},r.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(ue,this.destroy,this),this.parent.on(Je,this.onPropertyChanged,this),(this.parent.inlineMode.enable||this.parent.quickToolbarSettings.text)&&this.parent.on(Ni,this.updateStatus,this))},r.prototype.onPropertyChanged=function(e){if(!u(e.newProp.inlineMode))for(var t=0,i=Object.keys(e.newProp.inlineMode);t<i.length;t++){var n=i[t];switch(n){case"enable":e.newProp.inlineMode.enable?this.parent.on(Ni,this.updateStatus,this):this.parent.off(Ni,this.updateStatus);break}}},r.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(ue,this.destroy),this.parent.off(Je,this.onPropertyChanged),(this.parent.inlineMode.enable||this.parent.quickToolbarSettings.text)&&this.parent.off(Ni,this.updateStatus))},r}();var xN=function(){function r(e){this.parent=e}return r.prototype.quickToolbarOpen=function(){var e=this.popupObj;this.parent.trigger(lS,e)},r.prototype.renderPopup=function(e){this.setPanel(e.element),this.renderPanel(),e.popupObj=new _t(e.element,{targetType:"relative",relateTo:this.parent.element,open:this.quickToolbarOpen.bind(this)}),this.popupObj=e.popupObj,e.popupObj.hide()},r.prototype.renderPanel=function(){this.getPanel().classList.add(ES)},r.prototype.getPanel=function(){return this.popupPanel},r.prototype.setPanel=function(e){this.popupPanel=e},r}();var wN=function(){function r(e,t){this.parent=e,this.locator=t,this.renderFactory=this.locator.getService("rendererFactory"),this.renderFactory.addRenderer(ve.Popup,new xN(this.parent)),this.addEventListener()}return r.prototype.formatItems=function(e){var t=[];return e.forEach(function(i){if(typeof i=="string")switch(i.toLocaleLowerCase()){case"open":t.push("openLink");break;case"edit":t.push("editLink");break;case"unlink":t.push("removeLink");break;default:t.push(i);break}else t.push(i)}),t},r.prototype.getQTBarOptions=function(e,t,i,n){return{popupType:e,toolbarItems:i,mode:t,renderType:n,cssClass:this.parent.getCssClass()}},r.prototype.createQTBar=function(e,t,i,n){if(i.length<1)return null;var s=new NN(this.parent,this.locator);return s.render(this.getQTBarOptions(e,t,this.formatItems(i),n)),s},r.prototype.initializeQuickToolbars=function(){this.parent.quickToolbarModule=this,this.contentRenderer=this.renderFactory.getRenderer(ve.Content),this.parent.inlineMode.enable&&this.parent.inlineMode.onSelection&&it()&&y.add(this.contentRenderer.getDocument(),"selectionchange",this.selectionChangeHandler,this)},r.prototype.onMouseDown=function(e){this.parent.isBlur=!1,this.parent.isRTE=!0},r.prototype.keyUpQT=function(e){e.which===27&&this.hideQuickToolbars()},r.prototype.renderQuickToolbars=function(){this.linkQTBar||this.imageQTBar||this.audioQTBar||this.videoQTBar||this.textQTBar||this.tableQTBar||(this.linkQTBar=this.createQTBar("Link","Scrollable",this.parent.quickToolbarSettings.link,ve.LinkToolbar),this.renderFactory.addRenderer(ve.LinkToolbar,this.linkQTBar),!u(this.parent.quickToolbarSettings.text)&&!this.parent.inlineMode.enable&&(this.textQTBar=this.createQTBar("Text","MultiRow",this.parent.quickToolbarSettings.text,ve.TextToolbar),this.renderFactory.addRenderer(ve.TextToolbar,this.textQTBar)),this.imageQTBar=this.createQTBar("Image","MultiRow",this.parent.quickToolbarSettings.image,ve.ImageToolbar),this.renderFactory.addRenderer(ve.ImageToolbar,this.imageQTBar),this.audioQTBar=this.createQTBar("Audio","MultiRow",this.parent.quickToolbarSettings.audio,ve.AudioToolbar),this.renderFactory.addRenderer(ve.AudioToolbar,this.audioQTBar),this.videoQTBar=this.createQTBar("Video","MultiRow",this.parent.quickToolbarSettings.video,ve.VideoToolbar),this.renderFactory.addRenderer(ve.VideoToolbar,this.videoQTBar),this.tableQTBar=this.createQTBar("Table","MultiRow",this.parent.quickToolbarSettings.table,ve.TableToolbar),this.renderFactory.addRenderer(ve.TableToolbar,this.tableQTBar),this.linkQTBar&&(y.add(this.linkQTBar.element,"mousedown",this.onMouseDown,this),y.add(this.linkQTBar.element,"keyup",this.keyUpQT,this)),this.imageQTBar&&(y.add(this.imageQTBar.element,"mousedown",this.onMouseDown,this),y.add(this.imageQTBar.element,"keyup",this.keyUpQT,this)),this.audioQTBar&&(y.add(this.audioQTBar.element,"mousedown",this.onMouseDown,this),y.add(this.audioQTBar.element,"keyup",this.keyUpQT,this)),this.videoQTBar&&(y.add(this.videoQTBar.element,"mousedown",this.onMouseDown,this),y.add(this.videoQTBar.element,"keyup",this.keyUpQT,this)),this.textQTBar&&(y.add(this.textQTBar.element,"mousedown",this.onMouseDown,this),y.add(this.textQTBar.element,"keyup",this.keyUpQT,this)),this.tableQTBar&&(y.add(this.tableQTBar.element,"mousedown",this.onMouseDown,this),y.add(this.tableQTBar.element,"keyup",this.keyUpQT,this)))},r.prototype.renderInlineQuickToolbar=function(){this.parent.inlineMode.enable&&(!N.isDevice||it())&&(E([this.parent.element],[rp]),this.inlineQTBar=this.createQTBar("Inline","MultiRow",this.parent.toolbarSettings.items,ve.InlineToolbar),this.renderFactory.addRenderer(ve.InlineToolbar,this.inlineQTBar),y.add(this.inlineQTBar.element,"mousedown",this.onMouseDown,this),y.add(this.inlineQTBar.element,"keyup",this.keyUpQT,this))},r.prototype.showInlineQTBar=function(e,t,i){u(this.parent)||this.parent.readonly||i.tagName.toLowerCase()==="img"||this.inlineQTBar.element.querySelector(".e-rte-color-content")||this.inlineQTBar.showPopup(e,t,i)},r.prototype.hideInlineQTBar=function(){this.inlineQTBar&&!tt(this.inlineQTBar.element,"e-popup-close")&&this.inlineQTBar.hidePopup()},r.prototype.hideQuickToolbars=function(){this.linkQTBar&&!tt(this.linkQTBar.element,"e-popup-close")&&document.body.contains(this.linkQTBar.element)&&this.linkQTBar.hidePopup(),this.textQTBar&&!tt(this.textQTBar.element,"e-popup-close")&&document.body.contains(this.textQTBar.element)&&this.textQTBar.hidePopup(),this.imageQTBar&&!tt(this.imageQTBar.element,"e-popup-close")&&document.body.contains(this.imageQTBar.element)&&this.imageQTBar.hidePopup(),this.audioQTBar&&!tt(this.audioQTBar.element,"e-popup-close")&&document.body.contains(this.audioQTBar.element)&&this.audioQTBar.hidePopup(),this.videoQTBar&&!tt(this.videoQTBar.element,"e-popup-close")&&document.body.contains(this.videoQTBar.element)&&this.videoQTBar.hidePopup(),this.tableQTBar&&!tt(this.tableQTBar.element,"e-popup-close")&&document.body.contains(this.tableQTBar.element)&&this.tableQTBar.hidePopup(),!u(this.parent)&&this.parent.inlineMode.enable&&(!N.isDevice||it())&&this.hideInlineQTBar()},r.prototype.deBounce=function(e,t,i){var n=this;clearTimeout(this.deBouncer),this.deBouncer=window.setTimeout(function(){n.showInlineQTBar(e,t,i)},1e3)},r.prototype.mouseUpHandler=function(e){if(this.parent.inlineMode.enable&&(!N.isDevice||it())){var t=e.args.touches?e.args.changedTouches[0]:e.args,i=this.parent.getRange(),n=e.args.target;if(u($("."+Xo,document.body))){if(it()&&e.touchData&&e.touchData.prevClientX!==e.touchData.clientX&&e.touchData.prevClientY!==e.touchData.clientY)return;this.hideInlineQTBar();var s=this.parent.element.getBoundingClientRect().left;if(this.offsetX=this.parent.iframeSettings.enable?window.pageXOffset+s+t.clientX:t.pageX,this.offsetY=Qg(t,this.parent.element,this.parent.iframeSettings.enable),n.nodeName==="TEXTAREA")this.showInlineQTBar(this.offsetX,this.offsetY,n);else{var o=S(n,"a");n=o||n;var a=this.parent.getRange().startContainer.parentElement,l=this.parent.getRange().endContainer.parentElement;if((u(S(a,"A"))||u(S(l,"A")))&&(!S(n,"td,th")||!i.collapsed)&&(n.tagName!=="IMG"||this.parent.getRange().startOffset!==this.parent.getRange().endOffset)){if(this.parent.inlineMode.onSelection&&i.collapsed)return;this.target=n,this.showInlineQTBar(this.offsetX,this.offsetY,n)}}}}if(!u(this.textQTBar)&&!u(this.parent.quickToolbarSettings.text)&&!this.parent.inlineMode.enable){if(!u(e)&&!u(e.name)&&e.name==="sourceCodeMouseDown")return;var t=e.args.touches?e.args.changedTouches[0]:e.args,n=e.args.target;this.hideQuickToolbars();var s=this.parent.element.getBoundingClientRect().left;this.offsetX=this.parent.iframeSettings.enable?this.parent.element.ownerDocument.documentElement.scrollLeft+s+t.clientX:t.pageX,this.offsetY=Qg(t,this.parent.element,this.parent.iframeSettings.enable);var i=this.parent.getRange();if(i.endContainer.parentElement.tagName===i.startContainer.parentElement.tagName&&i.startContainer.parentElement.tagName==="A"&&i.endContainer.parentElement.tagName==="A"||n.tagName==="IMG"||n.tagName==="VIDEO"||n.tagName==="AUDIO"||n.childNodes[0]&&n.childNodes[0].nodeType===1&&n.childNodes[0].classList.contains("e-rte-audio")||this.parent.getRange().startOffset===this.parent.getRange().endOffset)return;this.target=n,this.textQTBar.showPopup(this.offsetX,this.offsetY,n,"text")}},r.prototype.keyDownHandler=function(e){var t=e.args.altKey;t||(this.parent.inlineMode.enable&&(!N.isDevice||it())&&!u($("."+Xo,document))&&this.hideInlineQTBar(),this.textQTBar&&!tt(this.textQTBar.element,"e-popup-close")&&this.textQTBar.hidePopup())},r.prototype.inlineQTBarMouseDownHandler=function(){this.parent.inlineMode.enable&&(!N.isDevice||it())&&!u($("."+Xo,document))&&this.hideInlineQTBar(),u(this.parent.quickToolbarSettings.text)||this.textQTBar&&!tt(this.textQTBar.element,"e-popup-close")&&document.body.contains(this.textQTBar.element)&&this.textQTBar.hidePopup()},r.prototype.keyUpHandler=function(e){var t=e.args;if(this.parent.inlineMode.enable&&!N.isDevice){if(this.parent.inlineMode.onSelection){this.parent.getSelection().length>0&&(t.ctrlKey&&t.keyCode===65||t.shiftKey&&(t.keyCode===33||t.keyCode===34||t.keyCode===35||t.keyCode===36||t.keyCode===37||t.keyCode===38||t.keyCode===39||t.keyCode===40))&&this.showInlineQTBar(this.offsetX,this.offsetY,t.target);return}this.deBounce(this.offsetX,this.offsetY,t.target)}this.parent.quickToolbarSettings.text&&!N.isDevice&&(t.ctrlKey&&t.keyCode===65||t.shiftKey&&(t.keyCode===33||t.keyCode===34||t.keyCode===35||t.keyCode===36||t.keyCode===37||t.keyCode===38||t.keyCode===39||t.keyCode===40))&&this.textQTBar.showPopup(this.offsetX,this.offsetY,t.target,"text")},r.prototype.selectionChangeHandler=function(e){var t=this;clearTimeout(this.deBouncer),this.deBouncer=window.setTimeout(function(){t.onSelectionChange(e)},1e3)},r.prototype.onSelectionChange=function(e){if(u($("."+Xo,document.body))){var t=this.contentRenderer.getDocument().getSelection();t.isCollapsed||this.mouseUpHandler({args:e})}},r.prototype.getInlineBaseToolbar=function(){return this.inlineQTBar&&this.inlineQTBar.quickTBarObj},r.prototype.destroy=function(){u(this.parent)||(this.linkQTBar&&(y.remove(this.linkQTBar.element,"mousedown",this.onMouseDown),y.remove(this.linkQTBar.element,"keyup",this.keyUpQT),this.linkQTBar.destroy()),this.textQTBar&&(y.remove(this.textQTBar.element,"mousedown",this.onMouseDown),y.remove(this.textQTBar.element,"keyup",this.keyUpQT),this.textQTBar.destroy()),this.imageQTBar&&(y.remove(this.imageQTBar.element,"mousedown",this.onMouseDown),y.remove(this.imageQTBar.element,"keyup",this.keyUpQT),this.imageQTBar.destroy()),this.audioQTBar&&(y.remove(this.audioQTBar.element,"mousedown",this.onMouseDown),y.remove(this.audioQTBar.element,"keyup",this.keyUpQT),this.audioQTBar.destroy()),this.videoQTBar&&(y.remove(this.videoQTBar.element,"mousedown",this.onMouseDown),y.remove(this.videoQTBar.element,"keyup",this.keyUpQT),this.videoQTBar.destroy()),this.tableQTBar&&(y.remove(this.tableQTBar.element,"mousedown",this.onMouseDown),y.remove(this.tableQTBar.element,"keyup",this.keyUpQT),this.tableQTBar.destroy()),this.inlineQTBar&&(y.remove(this.inlineQTBar.element,"mousedown",this.onMouseDown),y.remove(this.inlineQTBar.element,"keyup",this.keyUpQT),it()&&y.remove(document,"selectionchange",this.selectionChangeHandler),this.inlineQTBar.destroy()),this.removeEventListener())},r.prototype.moduleDestroy=function(){this.parent=null},r.prototype.wireInlineQTBarEvents=function(){this.parent.on(Ds,this.mouseUpHandler,this),this.parent.on(li,this.inlineQTBarMouseDownHandler,this),this.parent.on(ot,this.keyDownHandler,this),this.parent.on(At,this.keyUpHandler,this),this.parent.on(Is,this.mouseUpHandler,this),this.parent.on(Mh,this.renderInlineQuickToolbar,this),this.parent.on(Qe,this.moduleDestroy,this)},r.prototype.unWireInlineQTBarEvents=function(){this.parent.off(Ds,this.mouseUpHandler),this.parent.off(li,this.inlineQTBarMouseDownHandler),this.parent.off(ot,this.keyDownHandler),this.parent.off(At,this.keyUpHandler),this.parent.off(Is,this.mouseUpHandler),this.parent.off(Mh,this.renderInlineQuickToolbar),this.parent.off(Qe,this.moduleDestroy)},r.prototype.toolbarUpdated=function(e){this.linkQTBar&&!tt(this.linkQTBar.element,"e-popup-close")&&this.linkQTBar.hidePopup(),this.imageQTBar&&!tt(this.imageQTBar.element,"e-popup-close")&&this.imageQTBar.hidePopup(),this.audioQTBar&&!tt(this.audioQTBar.element,"e-popup-close")&&this.audioQTBar.hidePopup(),this.videoQTBar&&!tt(this.videoQTBar.element,"e-popup-close")&&this.videoQTBar.hidePopup(),this.tableQTBar&&!tt(this.tableQTBar.element,"e-popup-close")&&this.tableQTBar.hidePopup()},r.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(bt,this.initializeQuickToolbars,this),this.parent.on(li,this.renderQuickToolbars,this),this.parent.on(Ni,this.toolbarUpdated,this),this.parent.on(wh,this.renderQuickToolbars,this),this.wireInlineQTBarEvents(),this.parent.on(Je,this.onPropertyChanged,this),this.parent.quickToolbarSettings.actionOnScroll==="hide"&&(this.parent.on(gr,this.hideQuickToolbars,this),this.parent.on(vr,this.hideQuickToolbars,this)),this.parent.on(Ps,this.hideQuickToolbars,this),this.parent.on(Ut,this.onIframeMouseDown,this),this.parent.on(ue,this.destroy,this),this.parent.on(ot,this.onKeyDown,this),this.parent.on(_i,this.setRtl,this),this.parent.on(dt,this.setCssClass,this),this.parent.on(Wo,this.hideQuickToolbars,this))},r.prototype.onKeyDown=function(e){var t=e.args;(t.which===8||t.which===46)&&(this.imageQTBar&&!tt(this.imageQTBar.element,"e-popup-close")&&this.imageQTBar.hidePopup(),this.audioQTBar&&!tt(this.audioQTBar.element,"e-popup-close")&&this.audioQTBar.hidePopup(),this.videoQTBar&&!tt(this.videoQTBar.element,"e-popup-close")&&this.videoQTBar.hidePopup(),this.tableQTBar&&!tt(this.tableQTBar.element,"e-popup-close")&&this.tableQTBar.hidePopup(),this.linkQTBar&&!tt(this.linkQTBar.element,"e-popup-close")&&this.linkQTBar.hidePopup(),this.textQTBar&&!tt(this.textQTBar.element,"e-popup-close")&&this.textQTBar.hidePopup())},r.prototype.onIframeMouseDown=function(){this.hideQuickToolbars(),this.hideInlineQTBar()},r.prototype.updateCss=function(e,t){e&&t.cssClass&&(u(t.oldCssClass&&e.quickTBarObj.toolbarObj.cssClass!==t.cssClass)?e.quickTBarObj.toolbarObj.setProperties({cssClass:(e.quickTBarObj.toolbarObj.cssClass+" "+t.cssClass).trim()}):e.quickTBarObj.toolbarObj.setProperties({cssClass:(e.quickTBarObj.toolbarObj.cssClass.replace(t.oldCssClass,"").trim()+" "+t.cssClass).trim()}))},r.prototype.setCssClass=function(e){for(var t=[this.inlineQTBar,this.imageQTBar,this.linkQTBar,this.textQTBar,this.tableQTBar],i=0;i<t.length;i++)this.updateCss(t[i],e)},r.prototype.setRtl=function(e){this.inlineQTBar&&this.inlineQTBar.quickTBarObj.toolbarObj.setProperties({enableRtl:e.enableRtl}),this.imageQTBar&&this.imageQTBar.quickTBarObj.toolbarObj.setProperties({enableRtl:e.enableRtl}),this.audioQTBar&&this.audioQTBar.quickTBarObj.toolbarObj.setProperties({enableRtl:e.enableRtl}),this.videoQTBar&&this.videoQTBar.quickTBarObj.toolbarObj.setProperties({enableRtl:e.enableRtl}),this.linkQTBar&&this.linkQTBar.quickTBarObj.toolbarObj.setProperties({enableRtl:e.enableRtl}),this.textQTBar&&this.textQTBar.quickTBarObj.toolbarObj.setProperties({enableRtl:e.enableRtl})},r.prototype.removeEventListener=function(){this.deBouncer&&clearTimeout(this.deBouncer),!this.parent.isDestroyed&&(this.parent.off(bt,this.initializeQuickToolbars),this.parent.off(li,this.renderQuickToolbars),this.parent.off(Ni,this.toolbarUpdated),this.parent.off(wh,this.renderQuickToolbars),this.unWireInlineQTBarEvents(),this.parent.off(Je,this.onPropertyChanged),this.parent.quickToolbarSettings.actionOnScroll==="hide"&&(this.parent.off(gr,this.hideQuickToolbars),this.parent.off(vr,this.hideQuickToolbars)),this.parent.off(Ps,this.hideQuickToolbars),this.parent.off(ue,this.destroy),this.parent.off(Ut,this.onIframeMouseDown),this.parent.off(ot,this.onKeyDown),this.parent.off(_i,this.setRtl),this.parent.off(dt,this.setCssClass),this.parent.off(Wo,this.hideQuickToolbars))},r.prototype.onPropertyChanged=function(e){if(!u(e.newProp.quickToolbarSettings))for(var t=0,i=Object.keys(e.newProp.quickToolbarSettings);t<i.length;t++){var n=i[t];switch(n){case"actionOnScroll":e.newProp.quickToolbarSettings.actionOnScroll==="none"?(this.parent.off(gr,this.hideQuickToolbars),this.parent.off(vr,this.hideQuickToolbars)):(this.parent.on(gr,this.hideQuickToolbars,this),this.parent.on(vr,this.hideQuickToolbars,this));break}}e.module===this.getModuleName()&&(this.inlineQTBar&&(L([this.parent.element],[rp]),this.unWireInlineQTBarEvents(),this.hideInlineQTBar()),this.parent.inlineMode.enable&&(!N.isDevice||it())&&(E([this.parent.element],[rp]),this.wireInlineQTBarEvents()))},r.prototype.getModuleName=function(){return"quickToolbar"},r.prototype.getQuickToolbarInstance=function(){return[this.linkQTBar,this.imageQTBar,this.audioQTBar,this.videoQTBar,this.tableQTBar,this.textQTBar,this.inlineQTBar]},r}();var Sl=function(){function r(){}return r.prototype.getLineNumber=function(e,t){return e.value.substr(0,t).split(`
`).length},r.prototype.getSelectedText=function(e){var t=e.selectionStart,i=e.selectionEnd;return e.value.substring(t,i)},r.prototype.getAllParents=function(e){return e.split(`
`)},r.prototype.getSelectedLine=function(e){var t=this.getAllParents(e.value),i=this.getLineNumber(e,e.selectionStart);return t[i-1]},r.prototype.getLine=function(e,t){var i=this.getAllParents(e.value);return i[t]},r.prototype.getSelectedParentPoints=function(e){var t=this.getAllParents(e.value),i=this.getLineNumber(e,e.selectionStart),n=this.getLineNumber(e,e.selectionEnd),s=this.getSelectedText(e).split(`
`),o=[],a=t[i-1],l=t.slice(0,i-1).join("").length,h={};if(h.line=i-1,h.start=l+h.line,h.end=a!==""?h.start+a.length+1:h.start+a.length,h.text=a,o.push(h),s.length>1){for(var c=1;c<s.length-1;c++){var p={};p.line=o[c-1].line+1,p.start=(s[c]!=="",o[c-1].end),p.end=p.start+s[c].length+1,p.text=s[c],o.push(p)}var d={};d.line=o[o.length-1].line+1,d.start=o[o.length-1].end,d.end=d.start+t[n-1].length+1,d.text=t[n-1],o.push(d)}return o},r.prototype.setSelection=function(e,t,i){e.setSelectionRange(t,i),e.focus()},r.prototype.save=function(e,t){this.selectionStart=e,this.selectionEnd=t},r.prototype.restore=function(e){this.setSelection(e,this.selectionStart,this.selectionEnd)},r.prototype.isStartWith=function(e,t){var i=!1;if(e){var n=e.trim()===t.trim()?new RegExp("^("+this.replaceSpecialChar(t.trim())+")","gim"):new RegExp("^("+this.replaceSpecialChar(t)+")","gim");i=n.test(e.trim())}return i},r.prototype.replaceSpecialChar=function(e){return e.replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/g,"\\$&")},r.prototype.isClear=function(e,t){for(var i=!1,n=0;n<e.length;n++)if(new RegExp(t,"gim").test(e[n].text))return!0;return i},r.prototype.getSelectedInlinePoints=function(e){var t=e.selectionStart,i=e.selectionEnd,n=this.getSelectedText(e);return{start:t,end:i,text:n}},r}();var Pj=["a","abbr","acronym","audio","b","bdi","bdo","big","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","font","i","iframe","img","input","ins","kbd","label","map","mark","meter","noscript","object","output","picture","progress","q","ruby","s","samp","script","select","slot","small","span","strong","strike","sub","sup","svg","template","textarea","time","u","tt","var","video","wbr"];function gt(){var r=!1;return N.isDevice&&N.isIos&&(r=!0),r}function ki(r,e){if(r.nodeName==="BODY"&&!u(e)){var t=top.window.document.querySelector(e);u(t)||t.contentWindow.focus()}}function EN(r,e){var t=document.createElement("div");t.innerHTML=r,t.setAttribute("class","tempDiv");var i=document.createElement("div"),n=t.childNodes;if(n.length>0){for(var s=void 0,o=void 0,a=void 0;t.firstChild;)t.firstChild.nodeName==="#text"&&(t.firstChild.textContent.indexOf(`
`)<0||t.firstChild.textContent.trim()!=="")||Pj.indexOf(t.firstChild.nodeName.toLocaleLowerCase())>=0?s?(o.appendChild(t.firstChild),o=a,s=!0):e==="BR"?(i.appendChild(t.firstChild),o=i):(a=B("p"),i.appendChild(a),a.appendChild(t.firstChild),o=a,s=!0):t.firstChild.nodeName==="#text"&&(t.firstChild.textContent===`
`||t.firstChild.textContent.indexOf(`
`)>=0&&t.firstChild.textContent.trim()==="")?w(t.firstChild):(i.appendChild(t.firstChild),s=!1);for(var l=i.querySelectorAll("table"),h=0;h<l.length;h++)if(l[h].classList.length>0&&!l[h].classList.contains("e-rte-table")){if(l[h].classList.add("e-rte-paste-table"),l[h].classList.contains("e-rte-paste-word-table")){l[h].classList.remove("e-rte-paste-word-table");continue}else if(l[h].classList.contains("e-rte-paste-excel-table")){l[h].classList.remove("e-rte-paste-excel-table"),l[h].getAttribute("border")==="0"&&l[h].removeAttribute("border");for(var c=l[h].querySelectorAll("td"),p=0;p<c.length;p++)c[p].style.borderLeft==="none"&&c[p].style.removeProperty("border-left"),c[p].style.borderRight==="none"&&c[p].style.removeProperty("border-right"),c[p].style.borderBottom==="none"&&c[p].style.removeProperty("border-bottom"),c[p].style.borderTop==="none"&&c[p].style.removeProperty("border-top"),c[p].style.border==="none"&&c[p].style.removeProperty("border")}else if(l[h].classList.contains("e-rte-paste-onenote-table")){l[h].classList.remove("e-rte-paste-onenote-table");continue}}for(var d=i.querySelectorAll("img"),h=0;h<d.length;h++)d[h].classList.contains("e-rte-image-unsupported")||(d[h].classList.contains("e-rte-image")||d[h].classList.add("e-rte-image"),d[h].classList.contains("e-imginline")||d[h].classList.contains("e-imgbreak")||d[h].classList.add("e-imginline"))}return i.innerHTML}function kN(r){var e=r;do e.childNodes.length>0&&(e=e.childNodes[0]);while(e.childNodes.length>0);return e}function fd(){return{bold:!1,italic:!1,subscript:!1,superscript:!1,strikethrough:!1,orderedlist:!1,unorderedlist:!1,numberFormatList:!1,bulletFormatList:!1,underline:!1,alignments:null,backgroundcolor:null,fontcolor:null,fontname:null,fontsize:null,formats:null,createlink:!1,insertcode:!1}}function DN(){return{bold:!1,italic:!1,subscript:!1,superscript:!1,strikethrough:!1,orderedlist:!1,uppercase:!1,lowercase:!1,inlinecode:!1,unorderedlist:!1,formats:null}}function LN(r){if(r.startContainer.parentElement.closest("ol,ul")!==null&&r.endContainer.parentElement.closest("ol,ul")!==null){for(r.extractContents();(r.startContainer.nodeName==="#text"?r.startContainer.parentElement:r.startContainer).querySelectorAll("li :empty").length>0||(r.startContainer.nodeName==="#text"?r.startContainer.parentElement:r.startContainer).querySelectorAll("ol :empty").length>0;){var e=(r.startContainer.nodeName==="#text"?r.startContainer.parentElement:r.startContainer).querySelectorAll("li :empty");e.length>0&&e.forEach(function(i){i.remove()})}var t=(r.startContainer.nodeName==="#text"?r.startContainer.parentElement:r.startContainer).querySelectorAll("li");t.length>0&&t.forEach(function(i){(i.firstChild.nodeName==="OL"||i.firstChild.nodeName==="UL")&&(i.style.listStyleType="none")})}}var AN=function(){function r(e){this.toolbarStatus=this.prevToolbarStatus=DN(),this.selection=new Sl,this.parent=e,this.element=this.parent.contentModule.getEditPanel(),this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.on(Cn,this.onRefreshHandler,this),this.parent.on(ue,this.removeEventListener,this)},r.prototype.removeEventListener=function(){this.parent.off(Cn,this.onRefreshHandler),this.parent.off(ue,this.removeEventListener)},r.prototype.onRefreshHandler=function(e){var t=this.selection.getSelectedParentPoints(this.element);this.toolbarStatus={orderedlist:e.documentNode?!1:this.isListsApplied(t,"OL"),unorderedlist:e.documentNode?!1:this.isListsApplied(t,"UL"),formats:this.currentFormat(t,e.documentNode),bold:e.documentNode?!1:this.parent.formatter.editorManager.mdSelectionFormats.isAppliedCommand("Bold"),italic:e.documentNode?!1:this.parent.formatter.editorManager.mdSelectionFormats.isAppliedCommand("Italic"),inlinecode:e.documentNode?!1:this.parent.formatter.editorManager.mdSelectionFormats.isAppliedCommand("InlineCode"),strikethrough:e.documentNode?!1:this.parent.formatter.editorManager.mdSelectionFormats.isAppliedCommand("StrikeThrough"),subscript:e.documentNode?!1:this.parent.formatter.editorManager.mdSelectionFormats.isAppliedCommand("SubScript"),superscript:e.documentNode?!1:this.parent.formatter.editorManager.mdSelectionFormats.isAppliedCommand("SuperScript"),uppercase:e.documentNode?!1:this.parent.formatter.editorManager.mdSelectionFormats.isAppliedCommand("UpperCase")},this.parent.formatter.editorManager.mdSelectionFormats.isAppliedCommand("InlineCode")&&(this.toolbarStatus.formats="pre");var i=JSON.stringify(this.toolbarStatus);this.parent.notify(Ni,this.toolbarStatus),JSON.stringify(this.prevToolbarStatus)!==i&&(this.parent.notify(Yo,{html:null,markdown:JSON.parse(i)}),this.prevToolbarStatus=JSON.parse(i))},r.prototype.isListsApplied=function(e,t){var i=!0;if(t==="OL")for(var n=0;n<e.length;n++){var s=e[n].text.trim().split(" ",2)[0]+" ";if(!/^[\d.]+[ ]+$/.test(s)){i=!1;break}}else for(var n=0;n<e.length;n++)if(!this.selection.isStartWith(e[n].text,this.parent.formatter.listTags[""+t])){i=!1;break}return i},r.prototype.currentFormat=function(e,t){for(var i="p",n=Object.keys(this.parent.formatter.formatTags),s=this.element.selectionDirection,o=s==="backward"?e[0].text:e[e.length-1].text,a=0;!t&&a<n.length;a++)if(n[a]!=="pre"&&this.selection.isStartWith(o,this.parent.formatter.formatTags[n[a]])){i=n[a];break}else if(n[a]==="pre"&&this.codeFormat()){i=n[a];break}return i},r.prototype.codeFormat=function(){var e=!1,t=this.parent.inputElement,i=t.selectionStart,n=function(c){return function(p){return[p.slice(0,c),p.slice(c)]}},s=n(i)(t.value),o=this.parent.formatter.formatTags.pre,a=this.getSelectedText(t);if(a!==""&&a===a.toLocaleUpperCase())return!0;if(a===""){var l=t.value.substr(s[0].length-1,1),h=s[1].substr(0,1);if(l!==""&&h!==""&&l.match(/[a-z]/i)&&l===l.toLocaleUpperCase()&&h===h.toLocaleUpperCase())return!0}return this.isCode(s[0],o)&&this.isCode(s[1],o)&&s[0].match(this.multiCharRegx(o)).length%2===1&&s[1].match(this.multiCharRegx(o)).length%2===1&&(e=!0),e},r.prototype.getSelectedText=function(e){return e.value.substring(e.selectionStart,e.selectionEnd)},r.prototype.isCode=function(e,t){return e.search("\\"+t)!==-1},r.prototype.multiCharRegx=function(e){return new RegExp("(\\"+e+")","g")},r}();var IN=function(){function r(e){this.parent=e,this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.on(vh,this.commandCallBack,this),this.parent.on(ue,this.removeEventListener,this)},r.prototype.commandCallBack=function(e){var t=!u(e.requestType)&&e.requestType==="FormatPainter"&&e.action==="format-copy";!u(e)&&!u(e.requestType)&&e.requestType!=="Undo"&&e.requestType!=="Redo"&&!t&&this.parent.formatter.saveData(),this.parent.notify(Cn,{args:e}),this.parent.notify(tS,{})},r.prototype.removeEventListener=function(){this.parent.off(vh,this.commandCallBack),this.parent.off(ue,this.removeEventListener)},r}();var Ml="keydown",Lr="action",ao="format-type",Be="keydown-handler",md="list-type",Ci="keyup-handler",lo="keyup",Ln="model_changed_plugin",ua="model_changed",gd="ms_word_cleanup_plugin",PN="ms_word_cleanup",vd="onBegin",yd="actionBegin",Bc="format_painter_actions",bd="emoji_picker_actions",jN="mouseDown";var Od=function(){function r(){}return r.prototype.process=function(e,t,i,n){var s=this,o=e.contentModule.getDocument().getSelection(),a=o.rangeCount>0?o.getRangeAt(o.rangeCount-1):null,l,h;!u(n)&&!u(n.selection)&&(h=n.selection.range);var c=!u(n)&&!u(n.cssClass)&&n.cssClass!=="e-video-inline";if(e.editorMode==="HTML"&&!u(t)&&!c&&(u(t.name)||!u(t.name)&&t.name!=="showDialog")&&(h?l=this.editorManager.nodeSelection.save(h,e.contentModule.getDocument()):l=this.editorManager.nodeSelection.save(a,e.contentModule.getDocument())),!(!u(t)&&t.item.command&&t.item.command!=="Table"&&t.item.command!=="Actions"&&t.item.command!=="Links"&&t.item.command!=="Images"&&t.item.command!=="Files"&&t.item.command!=="Audios"&&t.item.command!=="Videos"&&t.item.command!=="EmojiPicker"&&a&&!(e.contentModule.getEditPanel().contains(this.getAncestorNode(a.commonAncestorContainer))||e.contentModule.getEditPanel()===a.commonAncestorContainer||e.contentModule.getPanel()===a.commonAncestorContainer))){if(!u(t)&&e.maxLength!==-1&&!u(t.item.command)){var p=0;t.item.command==="Links"&&(p=n.text.length===0?n.url.length:n.text.length),(t.item.command==="Images"||t.item.command==="Videos"||t.item.command==="Table"||t.item.command==="Files")&&(p=1);var d=e.getText().trim().replace(/(\r\n|\n|\r|\t)/gm,"").replace(/\u200B/g,"").length,f=e.getSelection().length,m=d-f+p;if(!(e.maxLength===-1||m<=e.maxLength))return}if(u(t)){var g=i.action;t={};var v={originalEvent:i,cancel:!1,requestType:g||i.key+"Key",itemCollection:n};if(ae(t,t,v,!0),g!=="tab"&&g!=="enter"&&g!=="space"&&g!=="escape"&&(e.editorMode==="Markdown"&&g==="insert-table"&&(n={headingText:e.localeObj.getConstant("TableHeadingText"),colText:e.localeObj.getConstant("TableColText")}),e.trigger(Ht,t,function(C){C.cancel&&(g==="paste"||g==="cut"||g==="copy")&&i.preventDefault()})),!t.cancel){var O=u(e.tableModule)?!0:e.tableModule?e.tableModule.ensureInsideTableList:!1;(i.which===9&&O||i.which!==9)&&(i.which===13&&e.editorMode==="HTML"&&(n={enterAction:e.enterKey}),this.editorManager.observer.notify(i.type==="keydown"?Ml:lo,{event:i,callBack:this.onSuccess.bind(this,e),value:n,enterAction:e.enterKey}))}}else!u(t)&&t.item.command&&t.item.subCommand&&(t.item.command!==t.item.subCommand&&t.item.command!=="Font"||(t.item.subCommand==="FontName"||t.item.subCommand==="FontSize")&&t.name==="dropDownSelect"||(t.item.subCommand==="BackgroundColor"||t.item.subCommand==="FontColor")&&t.name==="colorPickerChanged"||t.item.subCommand==="FormatPainter"||t.item.subCommand==="EmojiPicker")&&(ae(t,t,{requestType:t.item.subCommand,cancel:!1,itemCollection:n,selectType:t.name},!0),e.trigger(Ht,t,function(C){if(!C.cancel){var x=!u(C.requestType)&&C.requestType==="FormatPainter"&&C.name==="format-copy",M=!u(C.requestType)&&C.requestType==="FormatPainter"&&C.name==="format-paste";(s.getUndoRedoStack().length===0&&C.item.command!=="Links"&&C.item.command!=="Images"&&!x||M)&&s.saveData(),e.isBlur=!1,(u(l)||u(S(l.range.startContainer.parentElement,".e-img-caption"))||S(l.range.startContainer.parentElement,".e-img-caption").getAttribute("contenteditable")!="false")&&e.contentModule.getEditPanel().focus(),e.editorMode==="HTML"&&!c&&(u(t.selectType)||!u(t.selectType)&&t.selectType!=="showDialog")&&l.restore();var k=C.item.subCommand.toLocaleLowerCase();k==="paste"||k==="cut"||k==="copy"?e.clipboardAction(k,i):(s.editorManager.observer.notify(Qs,{subCommand:C.item.subCommand}),s.editorManager.execCommand(C.item.command,C.item.subCommand,i,s.onSuccess.bind(s,e),C.item.value,C.item.subCommand==="Pre"&&C.selectType==="dropDownSelect"?{name:C.selectType}:n,"#"+e.getID()+" iframe",e.enterKey))}}));(u(i)||i&&i.action!=="copy")&&this.enableUndo(e)}},r.prototype.getAncestorNode=function(e){return e=e.nodeType===3?e.parentNode:e,e},r.prototype.onKeyHandler=function(e,t){var i=this;this.editorManager.observer.notify(lo,{event:t,callBack:function(){e.notify(zo,{}),i.enableUndo(e)}})},r.prototype.onSuccess=function(e,t){e.notify(zo,{}),t&&(u(t.event)||t.event.action!=="copy")&&(this.enableUndo(e),e.notify(vh,t)),e.trigger(ei,t,function(i){if(e.setPlaceHolder(),(i.requestType==="Images"||i.requestType==="Links"||i.requestType==="Audios"||i.requestType==="Videos")&&e.editorMode==="HTML"){var n=i;if(i.requestType==="Links"&&i.event&&i.event.type==="keydown"&&i.event.keyCode===32)return;e.notify(Fn,{args:n.event,type:i.requestType,isNotify:!0,elements:n.elements})}i.requestType==="VideosPlayPause"&&e.notify("editAreaClick",{args:event}),e.autoResize()})},r.prototype.saveData=function(e){this.editorManager.undoRedoManager.saveData(e)},r.prototype.getUndoStatus=function(){return this.editorManager.undoRedoManager.getUndoStatus()},r.prototype.getUndoRedoStack=function(){return this.editorManager.undoRedoManager.undoRedoStack},r.prototype.enableUndo=function(e){var t=this.getUndoStatus();e.inlineMode.enable&&(!N.isDevice||it())?rs(e.quickToolbarModule.inlineQTBar.quickTBarObj,t):e.toolbarModule&&rs(e.toolbarModule.baseToolbar,t)},r}();var Cd="lists-commands",Tl="command-type",Sd="link-commands",Md="clear-commands",Qc="insert-table",Td="insert-text";var zN=function(){function r(e){ae(this,this,e,!0),this.selection=this.parent.markdownSelection,this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.observer.on(Cd,this.applyListsHandler,this),this.parent.observer.on(Be,this.keyDownHandler,this),this.parent.observer.on(Ci,this.keyUpHandler,this)},r.prototype.keyDownHandler=function(e){switch(e.event.which){case 9:this.tabKey(e);break}switch(e.event.action){case"ordered-list":this.applyListsHandler({subCommand:"OL",callBack:e.callBack}),e.event.preventDefault();break;case"unordered-list":this.applyListsHandler({subCommand:"UL",callBack:e.callBack}),e.event.preventDefault();break}},r.prototype.keyUpHandler=function(e){switch(e.event.which){case 13:this.enterKey(e);break}},r.prototype.tabKey=function(e){var t=this.parent.element;this.selection.save(t.selectionStart,t.selectionEnd);var i=t.selectionStart,n=t.selectionEnd,s=this.selection.getSelectedParentPoints(t),o=0,a=this.isNotFirstLine(t,s[0]);if(!a&&!e.event.shiftKey){this.restore(t,i,n+o,e);return}var l=this.olListType(),h=this.getListRegex();this.currentAction=this.getAction(s[0].text);for(var c=0;c<s.length;c++){var p=(e.event.shiftKey,s[c].line-1),d=this.selection.getLine(t,p);if(d&&(!e.event.shiftKey&&a||e.event.shiftKey)){var f=d.split(". "),m="	",g=e.event.shiftKey?-m.length:m.length,v=s[c].text.split("	");if(e.event.shiftKey&&v.length===1)break;if(this.currentAction==="OL"&&/^\d+$/.test(f[0].trim())&&l){e.event.preventDefault(),s[c].text=e.event.shiftKey?v.splice(1,v.length).join("	"):m+s[c].text;var O=this.getTabSpace(s[c].text),C=this.getTabSpace(d),x=s[c].text.split(". ");if(O===C)this.changeTextAreaValue(x,this.nextOrderedListValue(f[0].trim()),e,t,s,c,n);else if(C<O)this.changeTextAreaValue(x,"1. ",e,t,s,c,n);else for(;C.length>O.length;null){p=p-1,d=this.selection.getLine(t,p);var M=d.trim().split(". ");if(/^\d+$/.test(M[0])&&(C=this.getTabSpace(d),C.length<=O.length)){this.changeTextAreaValue(x,this.nextOrderedListValue(M[0]),e,t,s,c,n);break}}}else(this.currentAction==="UL"&&h.test(d.trim())||!l)&&(e.event.preventDefault(),s[c].text=e.event.shiftKey?v.splice(1,v.length).join("	"):m+s[c].text,t.value=t.value.substr(0,s[c].start)+s[c].text+`
`+t.value.substr(s[c].end,t.value.length));if(i=c===0?i+g:i,o+=g,s.length!==1)for(var k=c;k<s.length;k++)s[k].start=k!==0?s[k].start+g:s[k].start,s[k].end=s[k].end+g}}this.restore(t,i,n+o,e)},r.prototype.changeTextAreaValue=function(e,t,i,n,s,o,a){var l=t;e.splice(0,1);var h=this.selection.getAllParents(n.value).length,c="",p=this.getTabSpace(s[o].text),d=parseInt(l.split(".")[0],null),f=this.getTabSpace(s[o].text),m=!0,g=!0,v,O=-1,C=!0,x=0,M="";c=this.selection.getLine(n,s[0].line+1)!==""?"":c+n.value.substr(s[0].end,n.value.length);for(var k=1;k<h&&!u(this.selection.getLine(n,s[0].line+k))&&this.selection.getLine(n,s[0].line+k)!=="";k++){var A=this.selection.getLine(n,s[0].line+k),j=this.getTabSpace(A),U=A.split(". ");if(U.length===1){c+=n.value.substr(s[0].end+x,n.value.length);break}else{x+=A.length;var q=!1;if(v=i.event.shiftKey?p.length+1:p.length-1,j.length>f.length&&(C=!1),p.length!==j.length&&j.length<f.length?(g=!0,m=!1,q=i.event.shiftKey&&p.length===j.length?(g=!1,!0):!1):C&&i.event.shiftKey&&p.length===j.length&&j.length===f.length&&(g=!1,q=!0),M=c===""?"":`
`,v===j.length&&g){var K=i.event.shiftKey?(O++,this.nextOrderedListValue(O.toString())):this.previousOrderedListValue(U[0]);U.splice(0,1),c=c+M+j+K+U.join(". ")}else if(p.length===j.length&&m||q){var K=this.nextOrderedListValue(d.toString());d++,U.splice(0,1),c=c+M+j+K+U.join(". ")}else c=c+M+A,g=!1;f=this.getTabSpace(A)}}s[o].text=this.getTabSpace(s[o].text)+l+e.join(". ")+`
`,n.value=n.value.substr(0,s[o].start)+s[o].text+c},r.prototype.getTabSpace=function(e){for(var t=e.split("	"),i="",n=0;n<t.length&&t[n]==="";n++)i+="	";return i},r.prototype.isNotFirstLine=function(e,t){var i=t.text,n=t.line-1,s=this.selection.getLine(e,n),o=this.getListRegex(),a=!1,l;if(s){this.currentAction=this.getAction(s);var h=s.split(". ");l=this.currentAction==="OL"?/^\d+$/.test(h[0].trim()):o.test(s.trim())}if(s&&l){var c=this.getTabSpace(i),p=this.getTabSpace(s);for(a=c===p?!0:a;p.length>c.length;null){n=n-1,s=this.selection.getLine(e,n);var h=s.trim().split(". "),d=this.currentAction==="OL"?/^\d+$/.test(h[0]):o.test(s.trim());if(d&&(p=this.getTabSpace(s),p.length<=c.length)){a=!0;break}}}return a},r.prototype.getAction=function(e){var t=e.split(". ")[0],i=/^\d+$/.test(t.trim()),n=e.trim().split(new RegExp("^("+this.selection.replaceSpecialChar(this.syntax.UL).trim()+")"))[1];return i?"OL":n?"UL":"NOTLIST"},r.prototype.nextOrderedListValue=function(e){var t=parseInt(e,null),i=t+1;return i.toString()+". "},r.prototype.previousOrderedListValue=function(e){var t=parseInt(e,null),i=t-1;return i.toString()+". "},r.prototype.enterKey=function(e){var t=this.parent.element;this.selection.save(t.selectionStart,t.selectionEnd);var i=t.selectionStart,n=t.selectionEnd,s=this.selection.getSelectedParentPoints(t),o=this.selection.getLine(t,s[0].line-1),a=this.olListType(),l=this.getListRegex(),h=[];u(o)||(h=o.split(". "),this.currentAction=this.getAction(o));var c=0;if(this.currentAction==="OL"&&h.length>1&&/^\d+$/.test(h[0].trim())&&a&&h[1]!==""){var p=this.getTabSpace(o);this.currentAction=this.getAction(o);var d=this.nextOrderedListValue(h[0]);s[0].text=p+d+s[0].text;for(var f=this.selection.getAllParents(t.value).length,m=`
`,g=this.getTabSpace(o),v=this.getTabSpace(s[0].text),O=!0,C=1;C<f&&t.value.substr(s[0].end,t.value.length)!=="";C++){var x=this.selection.getLine(t,s[0].line+C);if(u(x))m=m+"";else{var M=x.split(". "),k=this.getTabSpace(x);if(k.length<v.length&&(O=!1),M.length>1&&/^\d+$/.test(M[0].trim())&&g.length===k.length&&O){var A=this.nextOrderedListValue(M[0]);M.splice(0,1),m=m+k+A+M.join(". ")+`
`}else m=m+x+`
`,v=this.getTabSpace(x)}}t.value=t.value.substr(0,s[0].start)+g+d+this.selection.getLine(t,s[0].line)+m,i=i+d.length+p.length,c+=d.length+p.length}else if(this.currentAction==="UL"&&o&&l.test(o.trim())&&o.trim().replace(l,"")!==""||this.currentAction==="OL"&&!a){var p=this.getTabSpace(o),d=this.syntax[this.currentAction];s[0].text=p+d+s[0].text+(s[0].text.trim().length>0?`
`:""),t.value=t.value.substr(0,s[0].start)+s[0].text+t.value.substr(s[0].end,t.value.length),i=i+d.length+p.length,c+=d.length+p.length}this.restore(t,i,n+c,e)},r.prototype.olListType=function(){var e=this.syntax.OL.split(".,"),t=e.length===1?null:parseInt(e[2].trim(),null)-parseInt(e[0].trim(),null);return t?1:0},r.prototype.applyListsHandler=function(e){var t=this.parent.element;this.selection.save(t.selectionStart,t.selectionEnd),this.currentAction=e.subCommand;for(var i=t.selectionStart,n=t.selectionEnd,s=0,o=0,a=0,l=this.selection.getSelectedParentPoints(t),h="",c=this.olListType(),p,d={},f=0;f<l.length;f++)if(c?p=this.currentAction==="OL"?f+c+". ":this.syntax[this.currentAction]:p=this.currentAction==="OL"?this.syntax.OL:this.syntax[this.currentAction],this.selection.isStartWith(l[f].text,p))l[f].text=l[f].text.replace(p,""),t.value=t.value.substr(0,l[f].start+a)+l[f].text+`
`+t.value.substr(l[f].end+a,t.value.length),a-=p.length,o=p.length,this.restore(t,i-o,n+a,null);else{if(l[f].text===""&&f===0&&(this.selection.save(i,n),l.length!==1))for(var m=f;m<l.length;m++)l[m].start=m!==0?1+l[m].start:l[m].start,l[m].end=1+l[m].end;var g=u(l[f-1])?0:this.getTabSpace(l[f-1].text).length,v=this.appliedLine(l[f].text,p,d,g);if(h=v.line?h:p,l[f].text=v.line?v.line:h+l[f].text,v.space=v.space?v.space:0,t.value=t.value.substr(0,l[f].start+a)+l[f].text+`
`+t.value.substr(l[f].end,t.value.length),i=f===0?i+h.length+v.space>0?i+h.length+v.space:0:i,s+=h.length+v.space,l.length!==1)for(var m=f;m<l.length;m++)l[m].start=m!==0?h.length+l[m].start+v.space:l[m].start,l[m].end=h.length+l[m].end+v.space;this.restore(t,i,n+s,null)}this.restore(t,null,null,e)},r.prototype.appliedLine=function(e,t,i,n){var s={},o=new RegExp("^["+this.syntax.UL.trim()+"]"),a=e.split(". "),l=a[0]+". ",h=o.test(e.trim())||e.trim()===this.syntax.OL.trim()||e.trim()===this.syntax.UL.trim()||/^\d+$/.test(a[0].trim()),c=this.olListType(),p=this.getTabSpace(e).length;if(this.currentAction==="OL"&&c&&(i[p.toString()]=u(i[p.toString()])?1:i[p.toString()].valueOf()+1,t=i[p.toString()].valueOf().toString()+". ",!u(n)&&n>p&&(i[n.toString()]=0)),h){var d=void 0,f=void 0,m=0;o.test(e.trim())?(f=this.syntax.UL,d=t,s.space=t.trim().length-this.syntax.UL.trim().length):/^\d+$/.test(a[0].trim())&&c?(f=a[0].trim()+". ",d=t,s.space=this.syntax.UL.trim().length-l.trim().length):/^\d+$/.test(a[0].trim())&&(f=a[0].trim()+". ",d=this.syntax.UL,s.space=this.syntax.UL.trim().length-l.trim().length),s.line=e.replace(f,d)}return s},r.prototype.restore=function(e,t,i,n){!u(t)&&!u(t)&&this.selection.save(t,i),u(n)||this.selection.restore(e),n&&n.callBack&&n.callBack({requestType:this.currentAction,selectedText:this.selection.getSelectedText(e),editorMode:"Markdown",event:n.event})},r.prototype.getListRegex=function(){for(var e="",t=Object.keys(this.syntax),i=0;i<t.length;i++){var n=this.selection.replaceSpecialChar(this.syntax[t[i]]);e+=e===""?"^("+n+")|^("+n.trim()+")":"|^("+n+")|^("+n.trim()+")"}return new RegExp(e)},r}();var RN=function(){function r(e){ae(this,this,e,!0),this.selection=this.parent.markdownSelection,this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.observer.on(ao,this.applyFormats,this)},r.prototype.applyFormats=function(e){e.subCommand=e.subCommand.toLowerCase();var t=this.parent.element;this.selection.save(t.selectionStart,t.selectionEnd);var i=this.selection.getSelectedParentPoints(t);if(this.isAppliedFormat(i)===e.subCommand){if(e.subCommand==="pre")if(i.length>1)this.applyCodeBlock(t,e,i);else return;this.cleanFormat(t),this.restore(t,t.selectionStart,t.selectionEnd,e);return}if(e.subCommand==="p"){this.cleanFormat(t),this.restore(t,t.selectionStart,t.selectionEnd,e);return}else(e.subCommand==="pre"&&i.length!==1||e.subCommand!=="pre")&&this.cleanFormat(t,e.subCommand);var n=t.selectionStart,s=t.selectionEnd,o=0;if(i=this.selection.getSelectedParentPoints(t),e.subCommand==="pre"){i.length>1?this.applyCodeBlock(t,e,i):(ae(e,e,{subCommand:"InlineCode"},!0),this.parent.observer.notify(Tl,e));return}for(var a=0;a<i.length;a++)if(i[a].text!==""&&!this.selection.isStartWith(i[a].text,"\\"+this.syntax[e.subCommand])){if(i[a].text=this.syntax[e.subCommand]+i[a].text,t.value=t.value.substr(0,i[a].start)+i[a].text+`
`+t.value.substr(i[a].end,t.value.length),n=a===0?n+this.syntax[e.subCommand].length:n,o+=this.syntax[e.subCommand].length,i.length!==1)for(var l=a;l<i.length;l++)i[l].start=l!==0?this.syntax[e.subCommand].length+i[l].start:i[l].start,i[l].end=this.syntax[e.subCommand].length+i[l].end}else if(i[a].text===""&&a===0&&(this.selection.save(n,s),this.selection.getSelectedText(t).length===0&&(i[a].text=this.syntax[e.subCommand],t.value=t.value.substr(0,i[a].start)+this.syntax[e.subCommand]+t.value.substr(i[a].end,t.value.length),n=a===0?n+this.syntax[e.subCommand].length:n,o+=this.syntax[e.subCommand].length),i.length!==1))for(var l=a;l<i.length;l++)i[l].start=l!==0?1+i[l].start:i[l].start,i[l].end=1+i[l].end;this.restore(t,n,s+o,e)},r.prototype.clearRegex=function(){for(var e="",t=Object.keys(this.syntax),i=0;i<t.length&&t[i]!=="pre"&&t[i]!=="p";i++)e+=e===""?"^("+this.selection.replaceSpecialChar(this.syntax[t[i]].trim())+")":"|^("+this.selection.replaceSpecialChar(this.syntax[t[i]].trim())+")";return e},r.prototype.cleanFormat=function(e,t){var i=this.selection.getSelectedParentPoints(e),n=e.selectionStart,s=e.selectionEnd,o=0;if(this.selection.isClear(i,this.clearRegex())){for(var a=0;a<i.length;a++){for(var l=Object.keys(this.syntax),h=0;i[a].text!==""&&h<l.length;h++){var c=this.syntax[l[h]];if(l[h]!==t){var p=new RegExp("^("+this.selection.replaceSpecialChar(c)+")","gim");if(p.test(i[a].text)){if(i[a].text=i[a].text.replace(p,""),e.value=e.value.substr(0,i[a].start)+i[a].text+`
`+e.value.substr(i[a].end,e.value.length),n=a===0?n-c.length>0?n-c.length:0:n,o+=c.length,i.length!==1)for(var d=0;d<i.length;d++)i[d].start=d!==0?i[d].start-c.length:i[d].start,i[d].end=i[d].end-c.length;break}}}if(i[a].text===""&&a===0&&(this.selection.save(n,s),i.length!==1))for(var h=a;h<i.length;h++)i[h].start=h!==0?1+i[h].start:i[h].start,i[h].end=1+i[h].end}this.restore(e,n,s-o)}},r.prototype.applyCodeBlock=function(e,t,i){var n=t.subCommand,s=i[0].start,o=i[i.length-1].end,a=this.selection.getAllParents(e.value),l=a[i[0].line-1],h=a[i.length+1+1],c=0;if(!this.selection.isStartWith(l,this.syntax.pre.split(`
`)[0])&&!this.selection.isStartWith(h,this.syntax.pre.split(`
`)[0])){var p=e.value.substring(s,o).split(`
`),d=p[p.length-1]===""?"":`
`;e.value=e.value.substr(0,s)+this.syntax[""+n]+e.value.substring(s,o)+d+this.syntax[""+n]+e.value.substr(o,e.value.length),s=this.selection.selectionStart+this.syntax[""+n].length,o=this.selection.selectionEnd+this.syntax[""+n].length-1}else{var f=this.syntax[""+n],m=this.parent.markdownSelection.getSelectedInlinePoints(e),g=e.value.substr(0,e.selectionStart).lastIndexOf(f),v=e.value.substr(e.selectionEnd,e.selectionEnd).indexOf(f);v=v+m.end;var O=this.replaceAt(e.value.substr(0,m.start),f,"",g,m.start),C=this.replaceAt(e.value.substr(m.end,e.value.length),f,"",0,v);e.value=O+m.text+C,s=this.selection.selectionStart-f.length,o=this.selection.selectionEnd-f.length}this.restore(e,s,o,t)},r.prototype.replaceAt=function(e,t,i,n,s){return e.slice(0,n)+e.slice(n,s).replace(t,i)+e.slice(s)},r.prototype.restore=function(e,t,i,n){this.selection.save(t,i),this.selection.restore(e),n&&n.callBack&&n.callBack({requestType:n.subCommand,selectedText:this.selection.getSelectedText(e),editorMode:"Markdown",event:n.event})},r.prototype.isAppliedFormat=function(e,t){for(var i="p",n=Object.keys(this.syntax),s=Object.keys(this.syntax),o=this.parent.element.selectionDirection,a=o==="backward"?e[0].text:e[e.length-1].text,l=0;!t&&l<s.length;l++)if(s[l]!=="pre"&&this.selection.isStartWith(a,this.syntax[s[l]])){i=s[l];break}else if(s[l]==="pre"){var h=this.selection.getAllParents(this.parent.element.value),c=h[e[0].line-1],p=h[e.length+1];if(this.selection.isStartWith(c,this.syntax[s[l]].split(`
`)[0])&&this.selection.isStartWith(p,this.syntax[s[l]].split(`
`)[0])){i=s[l];break}}return i},r}();var BN=function(){function r(e){ae(this,this,e,!0),this.selection=this.parent.markdownSelection,this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.observer.on(Tl,this.applyCommands,this),this.parent.observer.on(Be,this.keyDownHandler,this)},r.prototype.keyDownHandler=function(e){switch(e.event.action){case"bold":this.applyCommands({subCommand:"Bold",callBack:e.callBack}),e.event.preventDefault();break;case"italic":this.applyCommands({subCommand:"Italic",callBack:e.callBack}),e.event.preventDefault();break;case"strikethrough":this.applyCommands({subCommand:"StrikeThrough",callBack:e.callBack}),e.event.preventDefault();break;case"uppercase":this.applyCommands({subCommand:"UpperCase",callBack:e.callBack}),e.event.preventDefault();break;case"lowercase":this.applyCommands({subCommand:"LowerCase",callBack:e.callBack}),e.event.preventDefault();break;case"superscript":this.applyCommands({subCommand:"SuperScript",callBack:e.callBack}),e.event.preventDefault();break;case"subscript":this.applyCommands({subCommand:"SubScript",callBack:e.callBack}),e.event.preventDefault();break}},r.prototype.isBold=function(e,t){return e.search("\\"+t+"\\"+t)!==-1},r.prototype.isItalic=function(e,t){return e.search("\\"+t)!==-1},r.prototype.isMatch=function(e,t){var i=[""];switch(t){case this.syntax.Italic:i=e.match(this.singleCharRegx(t));break;case this.syntax.InlineCode:i=e.match(this.singleCharRegx(t));break;case this.syntax.StrikeThrough:i=e.match(this.singleCharRegx(t));break}return i},r.prototype.multiCharRegx=function(e){return new RegExp("(\\"+e+"\\"+e+")","g")},r.prototype.singleCharRegx=function(e){return new RegExp("(\\"+e+")","g")},r.prototype.isAppliedCommand=function(e){var t="",i=!1,n=this.parent.element,s=n.selectionStart,o=function(f){return function(m){return[m.slice(0,f),m.slice(f)]}},a=o(s)(n.value),l=this.syntax.Bold.substr(0,1),h=this.syntax.Italic,c=this.parent.markdownSelection.getSelectedText(n);if(c!==""&&c===c.toLocaleUpperCase()&&e==="UpperCase")return!0;if(c===""){var p=n.value.substr(a[0].length-1,1),d=a[1].substr(0,1);if(p!==""&&d!==""&&p.match(/[a-z]/i)&&p===p.toLocaleUpperCase()&&d===d.toLocaleUpperCase()&&e==="UpperCase")return!0}return!this.isBold(a[0],l)&&!this.isItalic(a[0],h)&&!this.isBold(a[1],l)&&!this.isItalic(a[1],h)&&(!u(this.isMatch(a[0],this.syntax.StrikeThrough))&&!u(this.isMatch(a[1],this.syntax.StrikeThrough))&&this.isMatch(a[0],this.syntax.StrikeThrough).length%2===1&&this.isMatch(a[1],this.syntax.StrikeThrough).length%2===1&&e==="StrikeThrough"&&(i=!0),!u(this.isMatch(a[0],this.syntax.InlineCode))&&!u(this.isMatch(a[1],this.syntax.InlineCode))&&this.isMatch(a[0],this.syntax.InlineCode).length%2===1&&this.isMatch(a[1],this.syntax.InlineCode).length%2===1&&e==="InlineCode"&&(i=!0),!u(a[0].match(/\<sub>/g))&&!u(a[1].match(/\<\/sub>/g))&&a[0].match(/\<sub>/g).length%2===1&&a[1].match(/\<\/sub>/g).length%2===1&&e==="SubScript"&&(i=!0),!u(a[0].match(/\<sup>/g))&&!u(a[1].match(/\<\/sup>/g))&&a[0].match(/\<sup>/g).length%2===1&&a[1].match(/\<\/sup>/g).length%2===1&&e==="SuperScript"&&(i=!0)),this.isBold(a[0],l)&&this.isBold(a[1],l)&&a[0].match(this.multiCharRegx(l)).length%2===1&&a[1].match(this.multiCharRegx(l)).length%2===1&&e==="Bold"&&(i=!0),a[0]=this.isBold(a[0],l)?a[0].replace(this.multiCharRegx(l),"$%@"):a[0],a[1]=this.isBold(a[1],l)?a[1].replace(this.multiCharRegx(l),"$%@"):a[1],!u(this.isMatch(a[0],this.syntax.Italic))&&!u(this.isMatch(a[1],this.syntax.Italic))&&this.isMatch(a[0],this.syntax.Italic).length%2===1&&this.isMatch(a[1],this.syntax.Italic).length%2===1&&e==="Italic"&&(i=!0),!u(this.isMatch(a[0],this.syntax.StrikeThrough))&&!u(this.isMatch(a[1],this.syntax.StrikeThrough))&&this.isMatch(a[0],this.syntax.StrikeThrough).length%2===1&&this.isMatch(a[1],this.syntax.StrikeThrough).length%2===1&&e==="StrikeThrough"&&(i=!0),!u(this.isMatch(a[0],this.syntax.InlineCode))&&!u(this.isMatch(a[1],this.syntax.InlineCode))&&this.isMatch(a[0],this.syntax.InlineCode).length%2===1&&this.isMatch(a[1],this.syntax.InlineCode).length%2===1&&e==="InlineCode"&&(i=!0),!u(a[0].match(/\<sub>/g))&&!u(a[1].match(/\<\/sub>/g))&&a[0].match(/\<sub>/g).length%2===1&&a[1].match(/\<\/sub>/g).length%2===1&&e==="SubScript"&&(i=!0),!u(a[0].match(/\<sup>/g))&&!u(a[1].match(/\<\/sup>/g))&&a[0].match(/\<sup>/g).length%2===1&&a[1].match(/\<\/sup>/g).length%2===1&&e==="SuperScript"&&(i=!0),i},r.prototype.applyCommands=function(e){this.currentAction=e.subCommand;var t=this.parent.element;this.selection.save(t.selectionStart,t.selectionEnd);var i=t.selectionStart,n=t.selectionEnd,s=0,o=this.parent.markdownSelection.getSelectedInlinePoints(t);if(this.isAppliedCommand(e.subCommand)&&o.text!==""){var a=this.syntax[e.subCommand],l=e.subCommand==="SubScript"?"</sub>":e.subCommand==="SuperScript"?"</sup>":this.syntax[e.subCommand],h=e.subCommand==="UpperCase"||e.subCommand==="LowerCase"?0:a.length,c=t.value.substr(0,o.start).lastIndexOf(a),p=t.value.substr(o.end,t.value.length).indexOf(l);p=p+o.end;var d=this.replaceAt(t.value.substr(0,o.start),a,"",c,o.start),f=this.replaceAt(t.value.substr(o.end,t.value.length),l,"",0,p);t.value=d+o.text+f,this.restore(t,i-h,n-h,e);return}if(o.text!==""&&!this.isApplied(o,e.subCommand)){s=e.subCommand==="UpperCase"||e.subCommand==="LowerCase"?0:this.syntax[e.subCommand].length;var m=t.value.substr(o.start-this.syntax[e.subCommand].length,this.syntax[e.subCommand].length),g=void 0;if(m===e.subCommand||o.start-this.syntax[e.subCommand].length===t.value.indexOf(this.syntax[e.subCommand])&&(o.end===t.value.lastIndexOf(this.syntax[e.subCommand])||o.end===t.value.lastIndexOf("</"+this.syntax[e.subCommand].substring(1,5)))){e.subCommand==="SubScript"||e.subCommand==="SuperScript"?g=t.value.substr(o.end,this.syntax[e.subCommand].length+1):g=t.value.substr(o.end,this.syntax[e.subCommand].length);var d=this.replaceAt(t.value.substr(0,o.start),m,"",o.start-this.syntax[e.subCommand].length,o.start),f=this.replaceAt(t.value.substr(o.end,t.value.length),g,"",0,g.length);t.value=d+o.text+f,this.restore(t,i-s,n-s,e)}else e.subCommand==="SubScript"||e.subCommand==="SuperScript"?o.text=this.syntax[e.subCommand]+o.text+"</"+this.syntax[e.subCommand].substring(1,5):e.subCommand==="UpperCase"||e.subCommand==="LowerCase"?o.text=e.subCommand==="UpperCase"?o.text.toUpperCase():o.text.toLowerCase():o.text=this.syntax[e.subCommand]+o.text+this.syntax[e.subCommand],t.value=t.value.substr(0,o.start)+o.text+t.value.substr(o.end,t.value.length),this.restore(t,i+s,n+s,e)}else e.subCommand!=="UpperCase"&&e.subCommand!=="LowerCase"?(e.subCommand==="SubScript"||e.subCommand==="SuperScript"?(o.text=this.textReplace(o.text,e.subCommand),o.text=this.syntax[e.subCommand]+o.text+"</"+this.syntax[e.subCommand].substring(1,5)):(o.text=this.textReplace(o.text,e.subCommand),o.text=this.syntax[e.subCommand]+o.text+this.syntax[e.subCommand]),t.value=t.value.substr(0,o.start)+o.text+t.value.substr(o.end,t.value.length),s=this.syntax[e.subCommand].length,o.start===o.end?this.restore(t,i+s,n+s,e):this.restore(t,i+s,n-s,e)):this.restore(t,i,n,e);this.parent.undoRedoManager.saveData()},r.prototype.replaceAt=function(e,t,i,n,s){return e.slice(0,n)+e.slice(n,s).replace(t,i)+e.slice(s)},r.prototype.restore=function(e,t,i,n){this.selection.save(t,i),this.selection.restore(e),n&&n.callBack&&n.callBack({requestType:this.currentAction,selectedText:this.selection.getSelectedText(e),editorMode:"Markdown",event:n.event})},r.prototype.textReplace=function(e,t){var i=this.singleCharRegx(this.syntax[""+t]);switch(t){case"Bold":i=this.multiCharRegx(this.syntax[""+t].substr(0,1)),e=e.replace(i,"");break;case"Italic":if(!this.isBold(e,this.syntax[""+t].substr(0,1)))e=e.replace(i,"");else{var n=this.multiCharRegx(this.syntax[""+t].substr(0,1)),s=e;s=s.replace(n,"$%@").replace(i,"");var o=new RegExp("\\$%@","g");e=s.replace(o,this.syntax[""+t].substr(0,1)+this.syntax[""+t].substr(0,1))}break;case"StrikeThrough":e=e.replace(i,"");break;case"InlineCode":e=e.replace(i,"");break;case"SubScript":e=e.replace(/<sub>/g,"").replace(/<\/sub>/g,"");break;case"SuperScript":e=e.replace(/<sup>/g,"").replace(/<\/sup>/g,"");break}return e},r.prototype.isApplied=function(e,t){var i=this.singleCharRegx(this.syntax[""+t]);switch(t){case"SubScript":case"SuperScript":return i=this.singleCharRegx(this.syntax[""+t]),i.test(e.text);case"Bold":case"StrikeThrough":return i=this.multiCharRegx(this.syntax[""+t].substr(0,1)),i.test(e.text);case"UpperCase":case"LowerCase":return i=new RegExp("^["+this.syntax[""+t]+"]*$","g"),i.test(e.text);case"Italic":{var n=void 0,s=this.multiCharRegx(this.syntax[""+t].substr(0,1));if(s.test(e.text)){var o=e.text;o=o.replace(s,"$%#"),n=i.test(o)}else n=i.test(e.text);return n}case"InlineCode":return i.test(e.text)}},r}();var Nd={h6:"###### ",h5:"##### ",h4:"#### ",h3:"### ",h2:"## ",h1:"# ",blockquote:"> ",pre:"```\n",p:""},xd={Bold:"**",Italic:"*",StrikeThrough:"~~",InlineCode:"`",SubScript:"<sub>",SuperScript:"<sup>",UpperCase:"A-Z",LowerCase:"a-z"},wd={OL:"1. ",UL:"- "},QN={"toolbar-focus":"alt+f10",escape:"27","insert-link":"ctrl+k","insert-image":"ctrl+shift+i","insert-audio":"ctrl+shift+a","insert-video":"ctrl+alt+v","insert-table":"ctrl+shift+e",undo:"ctrl+z",redo:"ctrl+y",copy:"ctrl+c",cut:"ctrl+x",paste:"ctrl+v",bold:"ctrl+b",italic:"ctrl+i",underline:"ctrl+u",strikethrough:"ctrl+shift+s",uppercase:"ctrl+shift+u",lowercase:"ctrl+shift+l",superscript:"ctrl+shift+=",subscript:"ctrl+=",indents:"ctrl+]",outdents:"ctrl+[","html-source":"ctrl+shift+h","full-screen":"ctrl+shift+f","decrease-fontsize":"ctrl+shift+<","increase-fontsize":"ctrl+shift+>","justify-center":"ctrl+e","justify-full":"ctrl+j","justify-left":"ctrl+l","justify-right":"ctrl+r","clear-format":"ctrl+shift+r","ordered-list":"ctrl+shift+o","unordered-list":"ctrl+alt+o",space:"32",enter:"13",tab:"tab",delete:"46","format-copy":"alt+shift+c","format-paste":"alt+shift+v"},UN={"toolbar-focus":"alt+f10",escape:"27","insert-link":"ctrl+k","insert-image":"ctrl+shift+i","insert-table":"ctrl+shift+e",undo:"ctrl+z",redo:"ctrl+y",copy:"ctrl+c",cut:"ctrl+x",paste:"ctrl+v",bold:"ctrl+b",italic:"ctrl+i",strikethrough:"ctrl+shift+s",uppercase:"ctrl+shift+u",lowercase:"ctrl+shift+l",superscript:"ctrl+shift+=",subscript:"ctrl+=","full-screen":"ctrl+shift+f","ordered-list":"ctrl+shift+o","unordered-list":"ctrl+alt+o"};var vy=["BR","IMG"],HN={topLeft:[-1,-1],topRight:[1,-1],botRight:[1,1],botLeft:[-1,1]};var _N=function(){function r(e,t){this.undoRedoStack=[],this.parent=e,this.undoRedoSteps=u(t)?30:t.undoRedoSteps,this.undoRedoTimer=u(t)?300:t.undoRedoTimer,this.selection=this.parent.markdownSelection,this.addEventListener()}return r.prototype.addEventListener=function(){var e=Ji(this.keyUp,this.undoRedoTimer);this.parent.observer.on(Ci,e,this),this.parent.observer.on(Be,this.keyDown,this),this.parent.observer.on(Lr,this.onAction,this),this.parent.observer.on(Ln,this.onPropertyChanged,this)},r.prototype.onPropertyChanged=function(e){for(var t=0,i=Object.keys(e.newProp);t<i.length;t++){var n=i[t];switch(n){case"undoRedoSteps":this.undoRedoSteps=e.newProp.undoRedoSteps;break;case"undoRedoTimer":this.undoRedoTimer=e.newProp.undoRedoTimer;break}}},r.prototype.removeEventListener=function(){var e=Ji(this.keyUp,300);this.parent.observer.off(Ci,e),this.parent.observer.off(Be,this.keyDown),this.parent.observer.off(Lr,this.onAction),this.parent.observer.off(Ln,this.onPropertyChanged)},r.prototype.destroy=function(){this.removeEventListener()},r.prototype.onAction=function(e){e.subCommand==="Undo"?this.undo(e):this.redo(e)},r.prototype.keyDown=function(e){var t=e.event,i=this;switch(t.action){case"undo":t.preventDefault(),i.undo(e);break;case"redo":t.preventDefault(),i.redo(e);break}},r.prototype.keyUp=function(e){e.event.keyCode!==17&&!e.event.ctrlKey&&this.saveData(e)},r.prototype.saveData=function(e){var t=this.parent.element;this.selection.save(t.selectionStart,t.selectionEnd);var i=t.selectionStart,n=t.selectionEnd,s=this.parent.element.value,o={text:s,start:i,end:n};this.undoRedoStack.length>=this.steps&&(this.undoRedoStack=this.undoRedoStack.slice(0,this.steps+1)),!(this.undoRedoStack.length>1&&this.undoRedoStack[this.undoRedoStack.length-1].start===i&&this.undoRedoStack[this.undoRedoStack.length-1].end===n)&&(this.undoRedoStack.push(o),this.steps=this.undoRedoStack.length-1,this.steps>this.undoRedoSteps&&(this.undoRedoStack.shift(),this.steps--),e&&e.callBack&&e.callBack())},r.prototype.undo=function(e){if(this.steps>0){this.currentAction="Undo";var t=this.undoRedoStack[this.steps-1].start,i=this.undoRedoStack[this.steps-1].end,n=this.undoRedoStack[this.steps-1].text;this.parent.element.value=n,this.parent.element.focus(),this.steps--,this.restore(this.parent.element,t,i,e)}},r.prototype.redo=function(e){if(this.undoRedoStack[this.steps+1]!=null){this.currentAction="Redo";var t=this.undoRedoStack[this.steps+1].start,i=this.undoRedoStack[this.steps+1].end;this.parent.element.value=this.undoRedoStack[this.steps+1].text,this.parent.element.focus(),this.steps++,this.restore(this.parent.element,t,i,e)}},r.prototype.restore=function(e,t,i,n){this.selection.save(t,i),this.selection.restore(e),n&&n.callBack&&n.callBack({requestType:this.currentAction,selectedText:this.selection.getSelectedText(e),editorMode:"Markdown",event:n.event})},r.prototype.getUndoStatus=function(){var e={undo:!1,redo:!1};return this.steps>0&&(e.undo=!0),this.undoRedoStack[this.steps+1]!=null&&(e.redo=!0),e},r}();var FN=function(){function r(e){this.parent=e,this.selection=this.parent.markdownSelection,this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.observer.on(Sd,this.createLink,this)},r.prototype.createLink=function(e){var t=this.parent.element;t.focus();var i=t.selectionStart,n=t.selectionEnd,s=e.subCommand==="Image"?this.selection.getSelectedText(t):e.item.text,o=e.subCommand==="Image"?i+2:i+1,a=e.subCommand==="Image"?n+2:n+1;s=e.subCommand==="Image"?"!["+s+"]("+e.item.url+")":"["+s+"]("+e.item.url+")",t.value=t.value.substr(0,i)+s+t.value.substr(n,t.value.length),this.parent.markdownSelection.setSelection(t,o,a),this.restore(t,o,a,e)},r.prototype.restore=function(e,t,i,n){this.selection.save(t,i),this.selection.restore(e),n&&n.callBack&&n.callBack({requestType:n.subCommand,selectedText:this.selection.getSelectedText(e),editorMode:"Markdown",event:n.event})},r}();var VN=function(){function r(e){ae(this,this,e,!0),this.selection=this.parent.markdownSelection,this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.observer.on(Qc,this.createTable,this),this.parent.observer.on(Be,this.onKeyDown,this)},r.prototype.removeEventListener=function(){this.parent.observer.off(Qc,this.createTable),this.parent.observer.off(Be,this.onKeyDown)},r.prototype.destroy=function(){this.removeEventListener()},r.prototype.onKeyDown=function(e){e.event.action==="insert-table"&&(e.item=e.value,this.createTable(e))},r.prototype.createTable=function(e){this.element=this.parent.element;var t=this.element.selectionStart,i=this.element.selectionEnd,n=this.element.value;this.locale=e,this.selection.save(t,i),this.restore(this.element.selectionStart,this.element.selectionEnd,null),this.insertTable(t,i,n,e)},r.prototype.getTable=function(){var e="";return e+=this.textNonEmpty(),e+=this.tableHeader(this.locale),e+=this.tableCell(this.locale),e},r.prototype.tableHeader=function(e){for(var t="",i=1;i<=2;i++){t+="|";for(var n=1;n<=2;n++)i===1?t+=e.item.headingText+" "+n+"|":t+="---------|";t+=this.insertLine()}return t},r.prototype.tableCell=function(e){for(var t="",i=1;i<=2;i++){t+="|";for(var n=1;n<=2;n++)t+=e.item.colText+" "+this.convertToLetters(i)+n+"|";t+=this.insertLine()}return t+=this.insertLine(),t},r.prototype.insertLine=function(){var e=document.createElement("div");return e.innerHTML=`
`,e.textContent},r.prototype.insertTable=function(e,t,i,n){var s=this.selection.getSelectedParentPoints(this.element),o=s[s.length-1].text.split(" ",2),a=this.getFormatTag(),l=0;o.length<2?(this.element.value=this.updateValue(this.getTable()),this.makeSelection(i,e,t)):this.ensureFormatApply(s[s.length-1].text)?this.checkValid(e,t,this.getTable(),i,n,o,s,a):(this.element.value=this.updateValue(this.getTable()),this.makeSelection(i,e,t)),this.restore(this.element.selectionStart,this.element.selectionEnd,n)},r.prototype.makeSelection=function(e,t,i){i=t+(e.length>0?12:10),t+=e.length>0?3:1,this.selection.setSelection(this.element,t,i)},r.prototype.getFormatTag=function(){for(var e=Object.keys(this.syntaxTag.Formats),t=Object.keys(this.syntaxTag.List),i=[],n=0;n<e.length;n++)i.push(this.syntaxTag.Formats[e[n]]);for(var s=0;s<t.length;s++)i.push(this.syntaxTag.List[t[s]]);return i},r.prototype.ensureFormatApply=function(e){for(var t=this.getFormatTag(),i=e.trim().split(" ",2)[0]+" ",n=0;n<t.length;n++)if(i===t[n]||/^[\d.]+[ ]+$/.test(i))return!0;return!1},r.prototype.ensureStartValid=function(e,t){for(var i=t[0].text.split(" ",2),n=e+1;n<=e+i[0].length+1;n++)if(this.element.selectionStart===n||this.element.selectionEnd===n)return!1;return!0},r.prototype.ensureEndValid=function(e,t){for(var i=e+1;i<=e+t+1;i++)if(this.element.selectionEnd===i)return!1;return!0},r.prototype.updateValueWithFormat=function(e,t){var i=this.element.value.substring(this.element.selectionEnd,this.element.value.length);return t+=i.replace(i,e[0]+" "+i),this.element.value.substr(0,this.element.selectionStart)+t},r.prototype.updateValue=function(e){return this.element.value.substr(0,this.element.selectionStart)+e+this.element.value.substr(this.element.selectionEnd,this.element.value.length)},r.prototype.checkValid=function(e,t,i,n,s,o,a,l){this.ensureStartValid(a[0].start,a)&&this.ensureEndValid(a[a.length-1].start,o[0].length)&&(e===a[0].start?e!==t&&t!==a[a.length-1].end-1?this.element.value=this.updateValueWithFormat(o,i):this.element.value=this.updateValue(i):t===a[a.length-1].end-1?this.element.value=this.updateValue(i):this.element.value=this.updateValueWithFormat(o,i),this.makeSelection(n,e,t))},r.prototype.convertToLetters=function(e){var t=65,i="";do e-=1,i=String.fromCharCode(t+e%26)+i,e=e/26>>0;while(e>0);return i},r.prototype.textNonEmpty=function(){var e="";return(this.isCursorBased()||this.isSelectionBased())&&this.element.value.length>0&&(e+=this.insertLine(),e+=this.insertLine()),e},r.prototype.isCursorBased=function(){return this.element.selectionStart===this.element.selectionEnd},r.prototype.isSelectionBased=function(){return this.element.selectionStart!==this.element.selectionEnd},r.prototype.restore=function(e,t,i){this.selection.save(e,t),this.selection.restore(this.element),i&&i.callBack&&i.callBack({requestType:i.subCommand,selectedText:this.selection.getSelectedText(this.element),editorMode:"Markdown",event:i.event})},r}();var $N=function(){function r(e){this.parent=e,this.selection=this.parent.markdownSelection,this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.observer.on(Md,this.clear,this)},r.prototype.replaceRegex=function(e){return e.replace(/\*/ig,"\\*").replace(/\&/ig,"\\&").replace(/\-/ig,"\\-").replace(/\^/ig,"\\^").replace(/\$/ig,"\\$").replace(/\./ig,"\\.").replace(/\|/ig,"\\|").replace(/\?/ig,"\\?").replace(/\+/ig,"\\+").replace(/\-/ig,"\\-").replace(/\&/ig,"\\&")},r.prototype.clearSelectionTags=function(e){for(var t=this.parent.selectionTags,i=Object.keys(t),n=0;n<i.length;n++){var s=i[n];if(t.hasOwnProperty(s)&&t[s]!==""){var o=this.replaceRegex(t[""+s]),a=void 0,l=t[""+s].length,h=t[""+s]==="<sup>"||t[""+s]==="<sub>"?t[""+s].length+1:t[""+s].length;t[""+s]==="<sup>"?a=new RegExp("<sup>(.*?)</sup>","ig"):t[""+s]==="<sub>"?a=new RegExp("<sub>(.*?)</sub>","ig"):a=new RegExp(o+"(.*?)"+o,"ig");for(var c=e.match(a),p=0;c&&p<c.length&&c[p]!=="";p++)e=e.replace(c[p],c[p].substr(l,c[p].length-h-l))}}return e},r.prototype.clearFormatTags=function(e){var t=e.split(`
`);return this.clearFormatLines(t)},r.prototype.clearFormatLines=function(e){for(var t=[this.parent.formatTags,this.parent.listTags],i="",n=0;n<e.length;n++){for(var s=0;s<t.length;s++)for(var o=t[s],a=Object.keys(o),l=0;l<a.length;l++){var h=a[l];o.hasOwnProperty(h)&&o[h]!==""&&e[n].indexOf(o[""+h])===0&&(e[n]=e[n].replace(o[""+h],""),e[n]=this.clearFormatLines([e[n]]))}i=i+e[n]+(n!==e.length-1?`
`:"")}return i},r.prototype.clear=function(e){var t=this.parent.element;t.focus();var i=t.selectionStart,n=t.selectionEnd,s=this.selection.getSelectedText(t);s=this.clearSelectionTags(s),s=this.clearFormatTags(s),t.value=t.value.substr(0,i)+s+t.value.substr(n,t.value.length),this.parent.markdownSelection.setSelection(t,i,i+s.length),this.restore(t,i,i+s.length,e)},r.prototype.restore=function(e,t,i,n){this.selection.save(t,i),this.selection.restore(e),n&&n.callBack&&n.callBack({requestType:n.subCommand,selectedText:this.selection.getSelectedText(e),editorMode:"Markdown",event:n.event})},r}();var YN=function(){function r(e){this.parent=e,this.selection=this.parent.markdownSelection,this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.observer.on(Td,this.InsertTextExec,this)},r.prototype.InsertTextExec=function(e){var t=this.parent.element;t.focus();var i=t.selectionStart,n=t.selectionEnd,s=e.value.text,o=i+s.length,a=n+s.length;t.value=t.value.substr(0,i)+s+t.value.substr(n,t.value.length),this.parent.markdownSelection.setSelection(t,o,a),this.restore(t,o,a,e)},r.prototype.restore=function(e,t,i,n){this.selection.save(t,i),this.selection.restore(e),n&&n.callBack&&n.callBack({requestType:n.subCommand,selectedText:this.selection.getSelectedText(e),editorMode:"Markdown",event:n.event})},r}();var qN=function(){function r(e){this.initialize(),ae(this,this,e,!0),this.observer=new tn(this),this.markdownSelection=new Sl,this.listObj=new zN({parent:this,syntax:this.listTags}),this.formatObj=new RN({parent:this,syntax:this.formatTags}),this.undoRedoManager=new _N(this,e.options),this.mdSelectionFormats=new BN({parent:this,syntax:this.selectionTags}),this.linkObj=new FN(this),this.tableObj=new VN({parent:this,syntaxTag:{Formats:this.formatTags,List:this.listTags}}),this.clearObj=new $N(this),this.insertTextObj=new YN(this),this.wireEvents()}return r.prototype.initialize=function(){this.formatTags=Nd,this.listTags=wd,this.selectionTags=xd},r.prototype.wireEvents=function(){this.observer.on(Ml,this.editorKeyDown,this),this.observer.on(lo,this.editorKeyUp,this),this.observer.on(ua,this.onPropertyChanged,this)},r.prototype.onPropertyChanged=function(e){this.observer.notify(Ln,e)},r.prototype.editorKeyDown=function(e){this.observer.notify(Be,e)},r.prototype.editorKeyUp=function(e){this.observer.notify(Ci,e)},r.prototype.execCommand=function(e,t,i,n,s,o){switch(e.toLocaleLowerCase()){case"lists":this.observer.notify(Cd,{subCommand:t,event:i,callBack:n});break;case"formats":this.observer.notify(ao,{subCommand:t,event:i,callBack:n});break;case"actions":this.observer.notify(Lr,{subCommand:t,event:i,callBack:n});break;case"style":case"effects":case"casing":this.observer.notify(Tl,{subCommand:t,event:i,callBack:n});break;case"links":case"images":this.observer.notify(Sd,{subCommand:t,event:i,callBack:n,item:o});break;case"table":switch(t.toString().toLocaleLowerCase()){case"createtable":this.observer.notify(Qc,{subCommand:t,item:o,event:i,callBack:n});break}break;case"clear":this.observer.notify(Md,{subCommand:t,event:i,callBack:n});break;case"inserttext":this.observer.notify(Td,{subCommand:t,event:i,callBack:n,value:{text:o}});break}},r}();var jj=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),WN=function(r){jj(e,r);function e(t){var i=r.call(this)||this;return i.initialize(),ae(i,i,t,!0),t&&i.element&&i.updateFormatter(i.element,document,t.options),i}return e.prototype.initialize=function(){this.keyConfig=UN,this.formatTags=Nd,this.listTags=wd,this.selectionTags=xd},e.prototype.updateFormatter=function(t,i,n){t&&(this.editorManager=new qN({element:t,formatTags:this.formatTags,listTags:this.listTags,selectionTags:this.selectionTags,options:n}))},e}(Od);var ZN=function(){function r(e){this.parent=e}return r.prototype.renderPanel=function(){var e=this.parent,t=this.parent.createElement("div",{id:this.parent.getID()+"_view",className:"e-rte-content"});this.editableElement=this.parent.createElement("textarea",{className:"e-content",id:this.parent.getID()+"_editable-content",attrs:{"aria-labelledby":this.parent.getID()+"_view"}}),t.appendChild(this.editableElement),this.setPanel(t),e.element.appendChild(t)},r.prototype.getPanel=function(){return this.contentPanel},r.prototype.getEditPanel=function(){return this.editableElement},r.prototype.getText=function(){return this.getEditPanel().value},r.prototype.setPanel=function(e){this.contentPanel=e},r.prototype.getDocument=function(){return this.getEditPanel().ownerDocument},r}();var XN=function(){function r(e,t){this.parent=e,this.locator=t,this.renderFactory=this.locator.getService("rendererFactory"),this.addEventListener()}return r.prototype.destroy=function(){u(this.parent)||this.removeEventListener()},r.prototype.moduleDestroy=function(){this.parent=null,this.toolbarUpdate.parent=null},r.prototype.addEventListener=function(){this.parent.isDestroyed||(this.saveSelection=new Sl,this.parent.on(Es,this.instantiateRenderer,this),this.parent.on(bt,this.render,this),this.parent.on(Je,this.onPropertyChanged,this),this.parent.on(dh,this.onToolbarClick,this),this.parent.on(ue,this.destroy,this),this.parent.on(js,this.selectAll,this),this.parent.on(zs,this.getSelectedHtml,this),this.parent.on(Zt,this.onSelectionSave,this),this.parent.on(Xt,this.onSelectionRestore,this),this.parent.on(Us,this.updateReadOnly,this),this.parent.on(Qe,this.moduleDestroy,this))},r.prototype.updateReadOnly=function(){this.parent.readonly?(this.parent.contentModule.getEditPanel().setAttribute("readonly","readonly"),E([this.parent.element],$s)):(this.parent.contentModule.getEditPanel().removeAttribute("readonly"),L([this.parent.element],$s))},r.prototype.onSelectionSave=function(){var e=this.parent.contentModule.getEditPanel();this.saveSelection.save(e.selectionStart,e.selectionEnd)},r.prototype.onSelectionRestore=function(e){this.contentRenderer.getEditPanel().focus();var t=this.parent.contentModule.getEditPanel();this.saveSelection.restore(t)},r.prototype.onToolbarClick=function(e){var t=e.item,i=this.parent.contentModule.getEditPanel();t.command!=="Formats"&&i.focus();var n=i.selectionStart,s=i.selectionEnd,o=i.value.substring(n,s);switch(t.subCommand){case"Maximize":this.parent.notify(Bo,{args:e});break;case"Minimize":this.parent.notify(Qo,{args:e});break;case"CreateLink":this.parent.notify(Uo,{member:"link",args:e,text:o,module:"Markdown"});break;case"Image":this.parent.notify(As,{member:"image",args:e,text:o,module:"Markdown"});break;case"CreateTable":{var a={headingText:this.parent.localeObj.getConstant("TableHeadingText"),colText:this.parent.localeObj.getConstant("TableColText")};this.parent.formatter.process(this.parent,e,e.originalEvent,a);break}default:this.parent.formatter.process(this.parent,e,e.originalEvent,null);break}},r.prototype.instantiateRenderer=function(){this.renderFactory.addRenderer(ve.Content,new ZN(this.parent))},r.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(bt,this.render),this.parent.off(Je,this.onPropertyChanged),this.parent.off(ue,this.destroy),this.parent.off(dh,this.onToolbarClick),this.parent.off(Es,this.instantiateRenderer),this.parent.off(js,this.selectAll),this.parent.off(zs,this.getSelectedHtml),this.parent.off(Zt,this.onSelectionSave),this.parent.off(Xt,this.onSelectionRestore),this.parent.off(Us,this.updateReadOnly),this.parent.off(Qe,this.moduleDestroy))},r.prototype.render=function(){this.contentRenderer=this.renderFactory.getRenderer(ve.Content);var e=this.contentRenderer.getEditPanel(),t={undoRedoSteps:this.parent.undoRedoSteps,undoRedoTimer:this.parent.undoRedoTimer};u(this.parent.formatter)?this.parent.formatter=new WN({element:e,options:t}):this.parent.formatter.updateFormatter(e,this.contentRenderer.getDocument(),t),this.parent.toolbarSettings.enable&&(this.toolbarUpdate=new AN(this.parent)),this.parent.notify(Ro,{})},r.prototype.onPropertyChanged=function(e){if(!u(e.newProp.formatter)){var t=this.contentRenderer.getEditPanel(),i={undoRedoSteps:this.parent.undoRedoSteps,undoRedoTimer:this.parent.undoRedoTimer};this.parent.formatter.updateFormatter(t,this.contentRenderer.getDocument(),i)}},r.prototype.getModuleName=function(){return"markdownEditor"},r.prototype.selectAll=function(){this.parent.formatter.editorManager.markdownSelection.setSelection(this.parent.contentModule.getEditPanel(),0,this.parent.contentModule.getEditPanel().value.length)},r.prototype.getSelectedHtml=function(e){e.callBack(this.parent.formatter.editorManager.markdownSelection.getSelectedText(this.parent.contentModule.getEditPanel()))},r}();var Uc="INSERT-IMAGE",Ed="INSERT-AUDIO",kd="INSERT-VIDEO",Dd="INSERT-TABLE",Ld="INSERT-LINK",Ad="INSERT-ROW",Id="INSERT-COLUMN",Pd="DELETE-ROW",jd="DELETE-COLUMN",zd="REMOVE-TABLE",Rd="TABLE-HEADER",Bd="TABLE_VERTICAL_ALIGN",Qd="TABLE_MERGE",Ud="TABLE_VERTICAL_SPLIT",Hd="TABLE_HORIZONTAL_SPLIT",GN="TABLE_MOVE",_d="alignment-type",Fd="indent-type",Di="p",An=["address","article","aside","audio","blockquote","canvas","details","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul","video","body"],cn=["td","th"],pa=["table","tbody","td","tfoot","th","thead","tr"],Vd="selection-type",$d="inserthtml-type",Yd="insert-text-type",qd="clear-type",KN=["area","base","br","embed","hr","img","input","param","source","track","wbr","iframe","td","table"],Wd=["word","excel","onenote"];var xt=function(){function r(){this.startNodeName=[],this.endNodeName=[]}return r.prototype.saveInstance=function(e,t){return this.range=e.cloneRange(),this.rootNode=this.documentFromRange(e),this.body=t,this.startContainer=this.getNodeArray(e.startContainer,!0),this.endContainer=this.getNodeArray(e.endContainer,!1),this.startOffset=e.startOffset,this.endOffset=e.endOffset,this.html=this.body.innerHTML,this},r.prototype.documentFromRange=function(e){return e.startContainer.nodeType===9?e.startContainer:e.startContainer.ownerDocument},r.prototype.getRange=function(e){var t=this.get(e),i=t&&t.rangeCount>0?t.getRangeAt(t.rangeCount-1):e.createRange();return i.startContainer!==e||i.endContainer!==e||i.startOffset||i.endOffset||(i.setStart(e.body,0),i.collapse(!0)),i},r.prototype.get=function(e){return e.defaultView.getSelection()},r.prototype.save=function(e,t){return e=e?e.cloneRange():this.getRange(t),this.saveInstance(e,t.body)},r.prototype.getIndex=function(e){var t,i=0;if(e=!e.previousSibling&&e.tagName==="BR"?e:e.previousSibling,e)for(var n=e.nodeType;e;null)t=e.nodeType,i++,n=t,e=e.previousSibling;return i},r.prototype.isChildNode=function(e,t){for(var i=0;i<t.childNodes.length;i++)if(e.indexOf(t.childNodes[i])>-1)return!0;return!1},r.prototype.getNode=function(e,t,i){return t===e&&(e.nodeType===3||!e.firstChild||i.indexOf(e.firstChild)!==-1||this.isChildNode(i,e))||e.nodeType===3&&e.previousSibling===t&&t.nodeName==="IMG"?null:i.indexOf(e.firstChild)===-1&&e.firstChild&&!this.isChildNode(i,e)?e.firstChild:e.nextSibling?e.nextSibling:e.parentNode?e.parentNode:null},r.prototype.getNodeCollection=function(e){var t=e.startContainer.childNodes[e.startOffset]||e.startContainer,i=e.endContainer.childNodes[e.endOffset>0?e.endOffset-1:e.endOffset]||e.endContainer;if((t===i||t.nodeName==="BR"&&t===e.endContainer.childNodes[e.endOffset])&&t.childNodes.length===0)return[t];if(e.startOffset===e.endOffset&&e.startOffset!==0&&e.startContainer.nodeName==="PRE")return[t.nodeName==="BR"||t.nodeName==="#text"?t:t.childNodes[0]];var n=[];do n.indexOf(t)===-1&&n.push(t),t=this.getNode(t,i,n);while(t);return n},r.prototype.getParentNodeCollection=function(e){return this.getParentNodes(this.getNodeCollection(e),e)},r.prototype.getParentNodes=function(e,t){e=e.reverse();for(var i=0;i<e.length;i++)e.indexOf(e[i].parentNode)!==-1||e[i].nodeType===3&&t.startContainer!==t.endContainer&&t.startContainer.parentNode!==t.endContainer.parentNode?(e.splice(i,1),i--):e[i].nodeType===3&&(e[i]=e[i].parentNode);return e},r.prototype.getSelectionNodeCollection=function(e){return this.getSelectionNodes(this.getNodeCollection(e))},r.prototype.getSelectionNodeCollectionBr=function(e){return this.getSelectionNodesBr(this.getNodeCollection(e))},r.prototype.getSelectionNodes=function(e){e=e.reverse();for(var t=new RegExp("\u200B","g"),i=0;i<e.length;i++)(e[i].nodeType!==3||e[i].textContent.trim()===""||e[i].textContent.length===1&&e[i].textContent.match(t))&&(e.splice(i,1),i--);return e.reverse()},r.prototype.getSelectionNodesBr=function(e){e=e.reverse();for(var t=new RegExp("\u200B","g"),i=0;i<e.length;i++)e[i].nodeName!=="BR"&&(e[i].nodeType!==3||e[i].textContent.trim()===""||e[i].textContent.length===1&&e[i].textContent.match(t))&&(e.splice(i,1),i--);return e.reverse()},r.prototype.getInsertNodeCollection=function(e){return this.getInsertNodes(this.getNodeCollection(e))},r.prototype.getInsertNodes=function(e){e=e.reverse();for(var t=0;t<e.length;t++)(e[t].childNodes.length!==0&&e[t].nodeType!==3||e[t].nodeType===3&&e[t].textContent==="")&&(e.splice(t,1),t--);return e.reverse()},r.prototype.getNodeArray=function(e,t,i){var n=[];for(t?this.startNodeName=[]:this.endNodeName=[];e!==(i||this.rootNode)&&!u(e);null)t?this.startNodeName.push(e.nodeName.toLowerCase()):this.endNodeName.push(e.nodeName.toLowerCase()),n.push(this.getIndex(e)),e=e.parentNode;return n},r.prototype.setRangePoint=function(e,t,i,n){for(var s=this.rootNode,o=i.length,a=n;o--;null)s=s&&s.childNodes[i[o]];return s&&a>=0&&s.nodeName!=="html"&&(s.nodeType===3&&s.nodeValue.replace(/\u00a0/g,"&nbsp;")==="&nbsp;"&&(a=s.textContent.length),e[t?"setStart":"setEnd"](s,a)),e},r.prototype.restore=function(){var e=this.range.cloneRange();return e=this.setRangePoint(e,!0,this.startContainer,this.startOffset),e=this.setRangePoint(e,!1,this.endContainer,this.endOffset),this.selectRange(this.rootNode,e),e},r.prototype.selectRange=function(e,t){this.setRange(e,t),this.save(t,e)},r.prototype.setRange=function(e,t){var i=this.get(e);i.removeAllRanges(),i.addRange(t)},r.prototype.setSelectionText=function(e,t,i,n,s){var o=e.createRange();o.setStart(t,n),o.setEnd(i,s),this.setRange(e,o)},r.prototype.setSelectionContents=function(e,t){var i=e.createRange();i.selectNode(t),this.setRange(e,i)},r.prototype.setSelectionNode=function(e,t){var i=e.createRange();i.selectNodeContents(t),this.setRange(e,i)},r.prototype.getSelectedNodes=function(e){return this.getNodeCollection(this.getRange(e))},r.prototype.Clear=function(e){this.get(e).removeAllRanges()},r.prototype.insertParentNode=function(e,t,i){i.surroundContents(t),this.selectRange(e,i)},r.prototype.setCursorPoint=function(e,t,i){var n=e.createRange(),s=e.defaultView.getSelection();n.setStart(t,i),n.collapse(!0),s.removeAllRanges(),s.addRange(n)},r}();var De={startSelection:"e-editor-select-start",endSelection:"e-editor-select-end"},da=function(){function r(e,t){this.parent=e,this.nodeSelection=new xt,this.currentDocument=t}return r.prototype.contents=function(e){return e&&e.tagName!=="IFRAME"?Array.prototype.slice.call(e.childNodes||[]):[]},r.prototype.isBlockNode=function(e){return!!e&&e.nodeType===Node.ELEMENT_NODE&&An.indexOf(e.tagName.toLowerCase())>=0},r.prototype.isLink=function(e){return!!e&&e.nodeType===Node.ELEMENT_NODE&&e.tagName.toLowerCase()==="a"},r.prototype.blockParentNode=function(e){for(;e&&e.parentNode!==this.parent&&(!e.parentNode||!this.hasClass(e.parentNode,"e-node-inner"));null)if(e=e.parentNode,this.isBlockNode(e))return e;return e},r.prototype.rawAttributes=function(e){var t={},i=e.attributes;if(i.length>0)for(var n=0;n<i.length;n++){var s=i[n];t[s.nodeName]=s.value}return t},r.prototype.attributes=function(e){if(!e)return"";for(var t="",i=this.rawAttributes(e),n=Object.keys(i).sort(),s=0;s<n.length;s++){var o=n[s],a=i[""+o];a.indexOf("'")<0&&a.indexOf('"')>=0?t+=" "+o+"='"+a+"'":(a.indexOf('"')>=0&&a.indexOf("'")>=0&&(a=a.replace(/"/g,"&quot;")),t+=" "+o+'="'+a+'"')}return t},r.prototype.clearAttributes=function(e){for(var t=e.attributes,i=t.length-1;i>=0;i--){var n=t[i];e.removeAttribute(n.nodeName)}},r.prototype.openTagString=function(e){return"<"+e.tagName.toLowerCase()+this.attributes(e)+">"},r.prototype.closeTagString=function(e){return"</"+e.tagName.toLowerCase()+">"},r.prototype.createTagString=function(e,t,i){return"<"+e.toLowerCase()+this.attributes(t)+">"+i+"</"+e.toLowerCase()+">"},r.prototype.isList=function(e){return!!e&&["UL","OL"].indexOf(e.tagName)>=0},r.prototype.isElement=function(e){return e===this.parent},r.prototype.isEditable=function(e){return(!e.getAttribute||e.getAttribute("contenteditable")==="true")&&["STYLE","SCRIPT"].indexOf(e.tagName)<0},r.prototype.hasClass=function(e,t){return e&&e.classList&&e.classList.contains(t)},r.prototype.replaceWith=function(e,t){var i=e.parentNode;i.insertBefore(this.parseHTMLFragment(t),e),w(e)},r.prototype.parseHTMLFragment=function(e){var t=B("template");return t.innerHTML=e,t.content instanceof DocumentFragment?t.content:document.createRange().createContextualFragment(e)},r.prototype.wrap=function(e,t){return e.parentNode.insertBefore(t,e),t=e.previousSibling,t.appendChild(e),t},r.prototype.insertAfter=function(e,t){t.parentNode.insertBefore(e,t.nextSibling)},r.prototype.wrapInner=function(e,t){for(e.appendChild(t),t=e.querySelector(".e-rte-wrap-inner"),t.classList.remove("e-rte-wrap-inner"),t.classList.length===0&&t.removeAttribute("class");e.firstChild!==t;)t.appendChild(e.firstChild);return t},r.prototype.unWrap=function(e){for(var t=e.parentNode,i=[];e.firstChild;)i.push(e.firstChild),t.insertBefore(e.firstChild,e);return i=i.length>0?i:[e.parentNode],t.removeChild(e),i},r.prototype.getSelectedNode=function(e,t){return e.nodeType===Node.ELEMENT_NODE&&e.childNodes.length>0&&e.childNodes[t-1]&&e.childNodes[t-1].nodeType===Node.ELEMENT_NODE&&(e.childNodes[t-1].classList.contains(De.startSelection)||e.childNodes[t-1].classList.contains(De.endSelection))?e=e.childNodes[t-1]:e.nodeType===Node.ELEMENT_NODE&&e.childNodes.length>0&&e.childNodes[t]&&(e=e.childNodes[t]),e.nodeType===Node.TEXT_NODE&&(e=e.parentNode),e},r.prototype.nodeFinds=function(e,t){for(var i=[],n=0;n<t.length;n++)e.contains(t[n])&&e!==t[n]&&i.push(t[n]);return i},r.prototype.isEditorArea=function(){var e=this.getRangePoint(0),t;for(t=e.commonAncestorContainer;t&&!this.isElement(t);null)t=t.parentNode;return!!this.isElement(t)},r.prototype.getRangePoint=function(e){var t=this.getSelection(),i=[];if(t&&t.getRangeAt&&t.rangeCount){i=[];for(var n=0;n<t.rangeCount;n++)i.push(t.getRangeAt(n))}else i=[this.currentDocument.createRange()];return typeof e<"u"?i[e]:i},r.prototype.getSelection=function(){return this.nodeSelection.get(this.currentDocument)},r.prototype.getPreviousNode=function(e){for(e=e.previousElementSibling;e&&e.textContent===`
`;null)e=e.previousElementSibling;return e},r.prototype.encode=function(e){var t=document.createElement("div");return t.innerText=e,t.innerHTML.replace(/<br\s*[\/]?>/gi,`
`)},r.prototype.saveMarker=function(e,t){var i=this.parent.querySelector("."+De.startSelection),n=this.parent.querySelector("."+De.endSelection),s,o;if(this.hasClass(i,De.startSelection)&&i.classList.length>1){var a=this.createTagString(Di,i,this.encode(i.textContent));this.replaceWith(i,a),i=this.parent.querySelector("."+De.startSelection),i.classList.remove(De.startSelection),s=i.childNodes[0]}else s=this.unWrap(i)[0];if(this.hasClass(n,De.endSelection)&&n.classList.length>1){var a=this.createTagString(Di,n,this.encode(n.textContent));this.replaceWith(n,a),n=this.parent.querySelector("."+De.endSelection),n.classList.remove(De.endSelection),o=n.childNodes[0]}else o=n?this.unWrap(n)[0]:s;return e.startContainer=e.getNodeArray(s,!0),e.endContainer=e.getNodeArray(o,!1),e},r.prototype.marker=function(e,t){return'<span class="'+e+'">'+t+"</span>"},r.prototype.setMarker=function(e){var t=e.range,i=t.startContainer.childNodes,n=i.length>1&&i[0].nodeName==="TABLE",s=i.length>1&&i[0].nodeName==="IMAGE"&&t.endOffset===1&&t.endContainer.nodeName==="#text"&&t.endContainer.textContent.length===0,o=(n?kN(i[t.startOffset+1]):i[t.startOffset>0?t.startOffset-1:t.startOffset])||t.startContainer,a=t.endContainer.childNodes[t.endOffset>0?s?t.endOffset:t.endOffset-1:t.endOffset]||t.endContainer;if(o.nodeType===Node.ELEMENT_NODE&&a.nodeType===Node.ELEMENT_NODE&&(o.contains(a)||a.contains(o))){var l=o.contains(a)?o:a,h=l.nodeType!==Node.TEXT_NODE;if(h){for(var c=[],p=[],d=l;l.contains(d);null)c.indexOf(d)<0&&d.childNodes&&d.childNodes.length?(c.push(d),d=d.childNodes[0]):d.nextSibling?d=d.nextSibling:d.parentNode&&(d=d.parentNode,c.push(d)),p.indexOf(d)<0&&(d.nodeType===Node.TEXT_NODE||cn.indexOf(d.parentNode.tagName.toLocaleLowerCase())>=0&&(d.tagName==="BR"||d.tagName==="IMG"))&&p.push(d);p.length&&(o=o.contains(a)?p[0]:o,a=p[p.length-1])}}if(o!==a){if(o.nodeType!==Node.TEXT_NODE&&(o.tagName==="BR"&&cn.indexOf(o.parentNode.tagName.toLocaleLowerCase())>=0||o.tagName==="IMG")){this.replaceWith(o,this.marker(De.startSelection,this.encode(o.textContent)));var f=t.startContainer.querySelector("."+De.startSelection);f.appendChild(o)}else if(o.nodeType!==3&&o.nodeName!=="#text"&&o.nodeName!=="BR"){var m=this.marker(De.startSelection,"");st([this.parseHTMLFragment(m)],o)}else this.replaceWith(o,this.marker(De.startSelection,this.encode(o.textContent)));if(a.nodeType!==Node.TEXT_NODE&&a.tagName==="BR"&&cn.indexOf(a.parentNode.tagName.toLocaleLowerCase())>=0){this.replaceWith(a,this.marker(De.endSelection,this.encode(a.textContent)));var g=t.endContainer.querySelector("."+De.endSelection);g.appendChild(a)}else this.ensureSelfClosingTag(a,De.endSelection,t)}else this.ensureSelfClosingTag(o,De.startSelection,t)},r.prototype.ensureSelfClosingTag=function(e,t,i){var n=!1;if(e.nodeType===3)this.replaceWith(e,this.marker(t,this.encode(e.textContent)));else if(e.tagName==="BR"){this.replaceWith(e,this.marker(t,this.encode(e.textContent)));var s=i.startContainer.querySelector("."+t);s&&s.parentElement.appendChild(e)}else{if(e.tagName==="IMG"){var o=document.createElement("p");e.parentElement.insertBefore(o,e),o.appendChild(e),e=o.children[0]}if(e.tagName==="TABLE")if(n=!0,e.textContent===""){var a=e.querySelectorAll("td");e=a[a.length-1],e=u(e.childNodes[0])?e:e.childNodes[0]}else{for(var l=e.lastChild;l.nodeType!==3&&l.nodeName!=="#text"&&l.nodeName!=="BR";)l=l.lastChild;e=l}for(var h=0;h<vy.length;h++)e=e.tagName===vy[h]&&!n?e.parentNode:e;if(e.nodeType===3&&e.nodeName==="#text")this.replaceWith(e,this.marker(t,this.encode(e.textContent)));else if(e.nodeName==="BR"){this.replaceWith(e,this.marker(De.endSelection,this.encode(e.textContent)));var c=i.endContainer.querySelector("."+De.endSelection);c.appendChild(e)}else{var p=this.marker(t,"");st([this.parseHTMLFragment(p)],e)}}},r.prototype.createTempNode=function(e){var t=e.textContent;if(e.tagName==="BR"){var i="<"+Di+"></"+Di+">",n=e.parentNode;cn.indexOf(n.tagName.toLocaleLowerCase())>=0&&(e=this.wrap(e,this.parseHTMLFragment(i)))}else if(e.nodeType!==Node.TEXT_NODE&&(e.classList.contains(De.startSelection)||e.classList.contains(De.endSelection))||t.replace(/\n/g,"").replace(/(^ *)|( *$)/g,"").length>0||t.length&&t.indexOf(`
`)<0){var i="<"+Di+"></"+Di+">",s=e;e=this.wrap(e,this.parseHTMLFragment(i));var o=s.nodeType===Node.ELEMENT_NODE&&s.firstChild&&s.firstChild.nodeName==="BR"&&(s.classList.contains(De.startSelection)||s.classList.contains(De.endSelection));!o&&e.nextElementSibling&&e.nextElementSibling.tagName==="BR"&&e.appendChild(e.nextElementSibling)}return e},r.prototype.getImageTagInSelection=function(){var e=this.getSelection();return this.isEditorArea()&&e.rangeCount?e.focusNode.querySelectorAll("img"):null},r.prototype.blockNodes=function(e){var t=[],i=this.getSelection();if(this.isEditorArea()&&i.rangeCount)for(var n=this.getRangePoint(),s=0;s<n.length;s++){var o=void 0,a=n[s],l=this.getSelectedNode(a.startContainer,a.startOffset),h=this.getSelectedNode(a.endContainer,a.endOffset);this.isBlockNode(l)&&t.indexOf(l)<0&&t.push(l),o=this.blockParentNode(l);var c=this.blockParentNode(h);if(o&&t.indexOf(o)<0)if(!u(e)&&e)if(a.commonAncestorContainer.nodeName==="TD"||o.nodeName==="TD"||c.nodeName==="TD"){var p=this.getPreBlockNodeCollection(a);p.length>1?this.wrapWithBlockNode(p,t):p.length>0&&(l!==h&&l.nodeName!=="BR"?t.push(this.createTempNode(l)):l===h&&l.nodeName==="SPAN"&&(l.classList.contains(De.startSelection)||l.classList.contains(De.endSelection))&&t.push(this.createTempNode(l)))}else t.push(o);else if(cn.indexOf(o.tagName.toLocaleLowerCase())>=0&&(l.tagName==="BR"||l.nodeType===Node.TEXT_NODE||l.classList.contains(De.startSelection)||l.classList.contains(De.endSelection))){var d=l.previousSibling&&l.previousSibling.nodeType===Node.TEXT_NODE?l.previousSibling:l;!l.nextSibling&&!l.previousSibling&&l.tagName==="BR"?t.push(d):t.push(this.createTempNode(d))}else t.push(o);for(var f=[],m=l;m!==h&&m!==this.parent;null)f.indexOf(m)<0&&m.childNodes&&m.childNodes.length?(f.push(m),m=m.childNodes[0]):m&&m.nodeType!==8&&(m.tagName==="BR"||m.nodeType===Node.TEXT_NODE&&m.textContent.trim()!==""||m.nodeType!==Node.TEXT_NODE&&(m.classList.contains(De.startSelection)||m.classList.contains(De.endSelection)))&&cn.indexOf(m.parentNode.tagName.toLocaleLowerCase())>=0?m=this.createTempNode(m):m.nextSibling&&m.nextSibling.nodeType!==8&&(m.nextSibling.tagName==="BR"||m.nextSibling.nodeType===Node.TEXT_NODE||m.nextSibling.classList.contains(De.startSelection)||m.nextSibling.classList.contains(De.endSelection))&&cn.indexOf(m.nextSibling.parentNode.tagName.toLocaleLowerCase())>=0?m=this.createTempNode(m.nextSibling):m.nextSibling?m=m.nextSibling:m.parentNode&&(m=m.parentNode,f.push(m)),t.indexOf(m)<0&&m.nodeType===Node.ELEMENT_NODE&&cn.indexOf(m.parentNode.tagName.toLocaleLowerCase())>=0&&(m.classList.contains(De.startSelection)||m.classList.contains(De.endSelection))&&t.push(this.createTempNode(m)),this.isBlockNode(m)&&this.ignoreTableTag(m)&&f.indexOf(m)<0&&t.indexOf(m)<0&&(m!==h||a.endOffset>0)&&t.push(m),m.nodeName==="IMG"&&m.parentElement.contentEditable==="true"&&t.push(m);o=this.blockParentNode(h),o&&this.ignoreTableTag(o)&&t.indexOf(o)<0&&!u(o.previousElementSibling)&&o.previousElementSibling.tagName!=="IMG"&&t.push(o)}for(var g=t.length-1;g>0;g--){var f=this.nodeFinds(t[g],t);if(f.length){var v=t[g].querySelectorAll("ul, ol");if(t[g].tagName==="LI"&&v.length>0)continue;t.splice(g,1)}}return t},r.prototype.ignoreTableTag=function(e){return!(pa.indexOf(e.tagName.toLocaleLowerCase())>=0)},r.prototype.getPreBlockNodeCollection=function(e){var t=this.getSelectedNode(e.startContainer,e.startOffset),i=this.getSelectedNode(e.endContainer,e.endOffset),n=[],s=t.closest("td, th");if(u(s))return n;for(var o=Array.from(s.childNodes),a=!0,l=this.getClosestInlineParent(t,s,!0),h=this.getClosestInlineParent(i,s,!1),c=0;c<o.length;c++){var p=o[c];l===h&&p===l?(n.push(p),a=!0):p===l?a=!1:p===h&&(n.push(p),a=!0),!a&&n.push(p)}return n},r.prototype.getClosestInlineParent=function(e,t,i){if(e.nodeType===Node.TEXT_NODE||this.isBlockNode(e))return e;for(var n=e,s=!1;n;){var o=n;if(s){if(this.isBlockNode(n))return o;if(i&&n.previousSibling){if(this.isBlockNode(n.previousSibling)||n.previousSibling.nodeName==="BR")return o;n=n.previousSibling}else if(!i&&n.nextSibling){if(this.isBlockNode(n.nextSibling)||n.nextSibling.nodeName==="BR")return o;n=n.nextSibling}else return n}else n=n.parentElement,n===t&&(n=o,s=!0)}return null},r.prototype.wrapWithBlockNode=function(e,t){for(var i=B("p"),n=0;n<e.length;n++){var s=e[n];if(s.nodeName==="BR")s.parentNode.insertBefore(i,s),i.appendChild(s),i.childNodes.length>0&&t.push(i),i=B("p");else{if(this.isBlockNode(s))t.push(s);else{if(s.nodeName==="#text"&&s.textContent.trim()==="")continue;i.childElementCount===0&&s.parentNode.insertBefore(i,s),i.appendChild(s)}n===e.length-1&&i.nextElementSibling&&i.querySelectorAll("br").length===0&&i.nextElementSibling.nodeName==="BR"&&i.appendChild(i.nextElementSibling)}}i.childNodes.length>0&&t.indexOf(i)<0&&t.push(i)},r}();var JN=function(){function r(e){this.parent=e,this.domNode=this.parent.domNode,this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.observer.on(md,this.applyListsHandler,this),this.parent.observer.on(Ci,this.onKeyUp,this),this.parent.observer.on(Be,this.keyDownHandler,this),this.parent.observer.on(yd,this.spaceKeyAction,this)},r.prototype.testList=function(e){var t=[/^[\d]+[.]+$/,/^(?=[MDCLXVI])M*(C[MD]|D?C{0,3})(X[CL]|L?X{0,3})(I[XV]|V?I{0,3})[.]$/gi,/^[a-zA-Z][.]+$/],i=u(e)?null:e.innerText.trim().split(".")[0]+".";if(!u(i)){for(var n=0;n<t.length;n++)if(t[n].test(i))return!0}return!1},r.prototype.testCurrentList=function(e){var t=[/^[1]+[.]+$/,/^[i]+[.]+$/,/^[a]+[.]+$/];if(!u(e.startContainer.textContent.slice(0,e.startOffset))){for(var i=e.startContainer.textContent.replace(/\u200B/g,"").slice(0,e.startOffset).trim(),n=0;n<t.length;n++)if(t[n].test(i)&&i.length===2)return!0}return!1},r.prototype.spaceList=function(e){var t=this.parent.nodeSelection.getRange(this.parent.currentDocument);this.saveSelection=this.parent.nodeSelection.save(t,this.parent.currentDocument);var i=this.parent.domNode.getSelectedNode(t.startContainer,t.startOffset),n=this.parent.domNode.getSelectedNode(t.endContainer,t.endOffset),s=i.previousElementSibling,o=i.nextElementSibling,a=u(s)?null:s.innerText.trim().substring(0,1),l=u(o)?null:o.innerText.trim().substring(0,1),h=this.testCurrentList(t),c=this.testList(s),p=this.testList(o);if(!c&&!p&&a!=="*"&&l!=="*"){var d=B("br");h?(t.startContainer.textContent=t.startContainer.textContent.slice(t.startOffset,t.startContainer.textContent.length),t.startContainer.nodeName==="#text"&&t.startContainer.textContent.length===0&&this.parent.domNode.insertAfter(d,t.startContainer),this.applyListsHandler({subCommand:"OL",callBack:e.callBack}),e.event.preventDefault()):(t.startContainer.textContent.replace(/\u200B/g,"").slice(0,t.startOffset).trim()==="*"||t.startContainer.textContent.replace(/\u200B/g,"").slice(0,t.startOffset).trim()==="-")&&(t.startContainer.textContent=t.startContainer.textContent.slice(t.startOffset,t.startContainer.textContent.length),t.startContainer.nodeName==="#text"&&t.startContainer.textContent.length===0&&this.parent.domNode.insertAfter(d,t.startContainer),this.applyListsHandler({subCommand:"UL",callBack:e.callBack}),e.event.preventDefault())}},r.prototype.enterList=function(e){var t=this.parent.nodeSelection.getRange(this.parent.currentDocument),i=t.startContainer.nodeName==="LI"?t.startContainer:t.startContainer.parentElement.closest("LI"),n=t.endContainer.nodeName==="LI"?t.endContainer:t.endContainer.parentElement.closest("LI"),s=!1;if(!u(i)){var o=i.querySelectorAll(".e-video-clickelem"),a=o.length>0&&o[0].childNodes[0].nodeName==="IFRAME";s=i.querySelectorAll("IMG").length>0||i.querySelectorAll("AUDIO").length>0||i.querySelectorAll("VIDEO").length>0||a}if(!u(i)&&!u(n)&&i===n&&i.tagName==="LI"&&i.textContent.trim()===""&&!s){if(i.innerHTML.indexOf("&nbsp;")>=0)return;i.textContent.charCodeAt(0)===65279&&(i.textContent="");var l=i.parentElement,h=l.parentElement;if(u(h.closest("UL"))&&u(h.closest("OL"))){if(!u(i.nextElementSibling)){var c=this.parent.domNode.blockParentNode(i);this.parent.nodeCutter.GetSpliceNode(t,c)}var p=void 0;e.enterAction==="DIV"?(p=B("div"),p.innerHTML="<br>"):e.enterAction==="P"?(p=B("p"),p.innerHTML="<br>"):p=B("br"),this.parent.domNode.insertAfter(p,l),e.event.preventDefault(),this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,p,0),l.textContent===""&&l.querySelectorAll("audio,video").length===0?w(l):w(i)}!u(h)&&(!u(h.closest("UL"))||!u(h.closest("OL")))&&h.nodeName==="LI"&&h.style.listStyleType==="none"&&h.textContent===""&&i.textContent===""&&i===l.firstElementChild&&u(i.nextSibling)&&(w(l),h.style.removeProperty("list-style-type"),e.event.preventDefault())}},r.prototype.backspaceList=function(e){var t=this.parent.nodeSelection.getRange(this.parent.currentDocument),i=this.parent.domNode.getSelectedNode(t.startContainer,t.startOffset),n=this.parent.domNode.getSelectedNode(t.endContainer,t.endOffset);if(i=i.nodeName==="BR"?i.parentElement:i,n=n.nodeName==="BR"?n.parentElement:n,i===n&&!u(S(i,"li"))&&(i.textContent.trim()===""&&i.textContent.charCodeAt(0)===65279||i.textContent.length===1&&i.textContent.charCodeAt(0)===8203)&&(i.textContent=""),i===n&&i.tagName==="LI"&&i.textContent.length===0&&u(i.previousElementSibling)&&i.removeAttribute("style"),i===n&&i.textContent===""){if(i.parentElement.tagName==="LI"&&n.parentElement.tagName==="LI")w(i);else if(i.closest("ul")||i.closest("ol")){var s=u(i.closest("ul"))?i.closest("ol"):i.closest("ul");if(s.firstElementChild===i&&!u(s.children[1])&&(s.children[1].tagName==="OL"||s.children[1].tagName==="UL"))if(s.tagName===s.children[1].tagName){for(;s.children[1].lastChild;)this.parent.domNode.insertAfter(s.children[1].lastChild,s.children[1]);w(s.children[1])}else s.parentElement.insertBefore(s.children[1],s)}}else if(!u(i.firstChild)&&i.firstChild.nodeName==="BR"&&!u(i.childNodes[1])&&(i.childNodes[1].nodeName==="UL"||i.childNodes[1].nodeName==="OL")){var s=u(i.closest("ul"))?i.closest("ol"):i.closest("ul");if(s.tagName===i.childNodes[1].nodeName){for(;i.childNodes[1].lastChild;)this.parent.domNode.insertAfter(i.children[1].lastChild,i);w(i.childNodes[1])}else s.parentElement.insertBefore(i.children[1],s)}this.removeList(t,e),this.firstListBackSpace(t,e)},r.prototype.removeList=function(e,t){var i=this.parent.domNode.getSelectedNode(e.startContainer,e.startOffset),n=!u(e.endContainer.parentElement.closest("li"))&&e.endContainer.parentElement.closest("li").childElementCount>1&&e.endContainer.nodeName==="#text"?e.endContainer:this.parent.domNode.getSelectedNode(e.endContainer,e.endOffset);i=i.nodeName==="BR"?i.parentElement:i,n=n.nodeName==="BR"?n.parentElement:n,i=i.nodeName!=="LI"&&!u(i.closest("LI"))?i.closest("LI"):i,n=n.nodeName!=="LI"&&n.nodeName!=="#text"&&!u(n.closest("LI"))?n.closest("LI"):n,((e.commonAncestorContainer.nodeName==="OL"||e.commonAncestorContainer.nodeName==="UL"||e.commonAncestorContainer.nodeName==="LI")&&u(n.nextElementSibling)&&n.textContent.length===e.endOffset&&u(i.previousElementSibling)&&e.startOffset===0||N.userAgent.indexOf("Firefox")!==-1&&e.startContainer===e.endContainer&&e.startContainer===this.parent.editableElement&&e.startOffset===0&&e.endOffset===1)&&(N.userAgent.indexOf("Firefox")!==-1?w(e.commonAncestorContainer.childNodes[0]):e.commonAncestorContainer.nodeName==="LI"?w(e.commonAncestorContainer.parentElement):w(e.commonAncestorContainer),t.event.preventDefault())},r.prototype.onKeyUp=function(){if(!u(this.commonLIParent)&&!u(this.commonLIParent.querySelector(".removeList"))){for(var e=this.commonLIParent.querySelector(".removeList");!u(e.firstChild);)this.parent.domNode.insertAfter(e.firstChild,e);w(e)}},r.prototype.firstListBackSpace=function(e,t){var i=this.parent.domNode.getSelectedNode(e.startContainer,e.startOffset);if(u(i.closest("OL"))?u(i.closest("UL"))||(this.commonLIParent=i.closest("UL")):this.commonLIParent=i.closest("OL"),i.nodeName==="LI"&&e.startOffset===0&&e.endOffset===0&&u(i.previousSibling)&&!u(this.commonLIParent)&&u(this.commonLIParent.previousSibling)&&u(this.commonLIParent.parentElement.closest("OL"))&&u(this.commonLIParent.parentElement.closest("UL"))&&u(this.commonLIParent.parentElement.closest("LI"))){var n=B("P");n.innerHTML="&#8203;",i.classList.add("removeList"),this.commonLIParent.parentElement.insertBefore(n,this.commonLIParent)}},r.prototype.keyDownHandler=function(e){if(e.event.which===13&&this.enterList(e),e.event.which===32&&this.spaceList(e),e.event.which===8&&this.backspaceList(e),e.event.which===46&&e.event.action==="delete"){var t=this.parent.nodeSelection.getRange(this.parent.currentDocument),i=t.commonAncestorContainer,n=t.startContainer,s=t.endContainer,o=n.nodeType===3?n.parentElement:n,a=s.nodeType===3?s.parentElement:s;(i.nodeName==="UL"||i.nodeName==="OL")&&o!==a&&(!u(S(o,"ul"))||!u(S(o,"ol")))&&(!u(S(a,"ul"))||!u(S(a,"ol")))&&i.lastElementChild===S(a,"li")&&!t.collapsed&&w(i),this.removeList(t,e)}if(e.event.which===9){var t=this.parent.nodeSelection.getRange(this.parent.currentDocument);e.event.action&&e.event.action==="indent"||(this.saveSelection=this.parent.nodeSelection.save(t,this.parent.currentDocument));var l=void 0,h=t.startOffset,c=t.endOffset,o=this.parent.domNode.getSelectedNode(t.startContainer,t.startOffset),a=this.parent.domNode.getSelectedNode(t.endContainer,t.endOffset);if(o===a&&(o.nodeName==="BR"||o.nodeName==="#text")&&cn.indexOf(o.parentNode.tagName.toLocaleLowerCase())>=0)return;e.event.action&&e.event.action==="indent"||this.domNode.setMarker(this.saveSelection),l=this.domNode.blockNodes();for(var p=[],d=!0,f=0;f<l.length;f++)l[f].parentNode.tagName==="LI"?p.push(l[f].parentNode):l[f].tagName==="LI"&&l[f].childNodes[0].tagName!=="P"&&l[f].childNodes[0].tagName!=="OL"&&l[f].childNodes[0].tagName!=="UL"&&p.push(l[f]);p.length>1||p.length&&(h===0&&c===0||e.ignoreDefault)?(e.event.preventDefault(),e.event.stopPropagation(),this.currentAction=this.getAction(p[0]),e.event.shiftKey?(this.revertList(p,e),this.revertClean()):d=this.nestedList(p),d&&(this.cleanNode(),this.parent.editableElement.focus()),e.event.action&&e.event.action==="indent"||(this.saveSelection=this.domNode.saveMarker(this.saveSelection),this.saveSelection.restore(),e.callBack&&e.callBack({requestType:this.currentAction,editorMode:"HTML",range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.domNode.blockNodes(),event:e.event}))):e.event.action&&e.event.action==="indent"||(e.event&&e.event.shiftKey&&e.event.key==="Tab"&&(e.event.action="tab"),this.saveSelection=this.domNode.saveMarker(this.saveSelection,e.event.action),this.saveSelection.restore())}else switch(e.event.action){case"ordered-list":this.applyListsHandler({subCommand:"OL",callBack:e.callBack}),e.event.preventDefault();break;case"unordered-list":this.applyListsHandler({subCommand:"UL",callBack:e.callBack}),e.event.preventDefault();break}},r.prototype.spaceKeyAction=function(e){e.event.which===32&&this.spaceList(e)},r.prototype.getAction=function(e){var t=e.parentNode;return t.nodeName==="OL"?"OL":"UL"},r.prototype.revertClean=function(){for(var e=this.parent.editableElement.querySelectorAll("ul, ol"),t=0;t<e.length;t++){var i=e[t].querySelectorAll("ul, ol");if(i.length>0)for(var n=0;n<i.length;n++){var s=i[n].previousSibling;s&&s.tagName==="LI"&&s.appendChild(i[n])}}},r.prototype.noPreviousElement=function(e){var t,i,n=e.querySelectorAll("ol, ul"),s=e.querySelectorAll("li"),o=this.domNode.contents(s[0])[0];if(s.length>0&&(o.nodeName==="OL"||o.nodeName==="UL")?t=s[0]:i=n[0],t)for(var a=this.domNode.contents(e)[0];a&&!this.domNode.isList(a);null){var l=a.nextSibling;nn([a],t),he(e,{"list-style-type":"none"}),he(t,{"list-style-type":""}),a=l}else if(i){var h=B("li");nn([h],i);for(var a=this.domNode.contents(e)[0];a&&!this.domNode.isList(a);null){var l=a.nextSibling;h.appendChild(a),a=l}nn([i],e.parentNode),w(e);var c=B("li",{styles:"list-style-type: none;"});nn([c],i.parentNode),st([i],c)}else{var c=B("li",{styles:"list-style-type: none;"});nn([c],e.parentNode);var h=B(e.parentNode.tagName);nn([h],c),st([e],h)}},r.prototype.nestedList=function(e){for(var t=!1,i=0;i<e.length;i++){var n=this.domNode.getPreviousNode(e[i]);if(n){t=!0;var s=void 0,o=void 0,a=e[i].querySelectorAll("ol, ul"),l=e[i].querySelectorAll("li"),h=this.domNode.contents(l[0])[0];if(l.length>0&&(h.nodeName==="OL"||h.nodeName==="UL")?o=l[0]:s=a[0],s){var c=B("li");nn([c],s);for(var p=this.domNode.contents(e[i])[0];p&&!this.domNode.isList(p);null){var d=p.nextSibling;c.appendChild(p),p=d}st([s],n),w(e[i])}else if(o){if(n.tagName==="LI"){for(var p=this.domNode.contents(e[i])[0];p&&!this.domNode.isList(p);null){var d=p.nextSibling;nn([p],o),he(e[i],{"list-style-type":"none"}),he(o,{"list-style-type":""}),p=d}st([o.parentNode],n),w(e[i])}}else if(n.tagName==="LI"){var c=B(e[i].parentNode.tagName);st([c],n),st([e[i]],c)}else(n.tagName==="OL"||n.tagName==="UL")&&st([e[i]],n)}else{var f=e[i];t=!0,this.noPreviousElement(f)}}return t},r.prototype.applyListsHandler=function(e){var t=this.parent.nodeSelection.getRange(this.parent.currentDocument);if(N.userAgent.indexOf("Firefox")!==-1&&t.startContainer===t.endContainer&&t.startContainer===this.parent.editableElement){for(var i=t.startContainer.childNodes,n=i[t.startOffset>0?t.startOffset-1:t.startOffset]||t.startContainer,s=t.endContainer.childNodes[t.endOffset>0?t.endOffset-1:t.endOffset]||t.endContainer,o=s.lastChild.nodeName==="BR"?u(s.lastChild.previousSibling)?s:s.lastChild.previousSibling:s.lastChild;!u(o)&&o.nodeName!=="#text"&&o.nodeName!=="IMG"&&o.nodeName!=="BR"&&o.nodeName!=="HR";)o=o.lastChild;this.parent.nodeSelection.setSelectionText(this.parent.currentDocument,n,o,0,o.textContent.length),t=this.parent.nodeSelection.getRange(this.parent.currentDocument)}if(t.startContainer===t.endContainer&&t.startContainer===this.parent.editableElement&&t.startOffset===t.endOffset&&t.startOffset===0&&this.parent.editableElement.textContent.length===0&&this.parent.editableElement.childNodes[0].nodeName!=="TABLE"&&this.parent.editableElement.childNodes[0].nodeName!=="IMG"){var a=t.startContainer.childNodes[0];this.parent.nodeSelection.setSelectionText(this.parent.currentDocument,a,a,0,0),t=this.parent.nodeSelection.getRange(this.parent.currentDocument)}this.saveSelection=this.parent.nodeSelection.save(t,this.parent.currentDocument),this.currentAction=e.subCommand,this.currentAction=e.subCommand=this.currentAction==="NumberFormatList"?"OL":this.currentAction==="BulletFormatList"?"UL":this.currentAction,this.domNode.setMarker(this.saveSelection);var l=this.domNode.blockNodes(!0);if(e.enterAction==="BR"){this.setSelectionBRConfig();var h=this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument),c=this.parent.nodeSelection.getSelectionNodes(h),p=[];c.length===0&&c.push(l[0]);for(var d=0;d<c.length;d++){for(var f=c[d],m=void 0;!this.parent.domNode.isBlockNode(f)&&f!==this.parent.editableElement;)m=f,f=f.parentElement;this.parent.domNode.isBlockNode(f)&&f===this.parent.editableElement&&p.push(m)}for(var d=0;d<p.length;d++)if(!this.parent.domNode.isBlockNode(p[d])){for(var f=p[d],g=f;f===this.parent.editableElement;)g=f,f=f.parentElement;var v=void 0;this.parent.domNode.isBlockNode(g.parentElement)&&g.parentElement===this.parent.editableElement?(v=B("p"),g.parentElement.insertBefore(v,g),v.appendChild(g)):v=g;for(var O=v.previousSibling;!u(O)&&O.nodeName!=="BR"&&!this.parent.domNode.isBlockNode(O);)v.firstChild.parentElement.insertBefore(O,v.firstChild),O=v.previousSibling;!u(O)&&O.nodeName==="BR"&&w(O);for(var C=v.nextSibling;!u(C)&&C.nodeName!=="BR"&&!this.parent.domNode.isBlockNode(C);)v.appendChild(C),C=v.nextSibling;!u(C)&&C.nodeName==="BR"&&w(C)}this.setSelectionBRConfig(),l=this.parent.domNode.blockNodes()}for(var d=0;d<l.length;d++)l[d].tagName==="TABLE"&&!t.collapsed&&l.splice(d,1),l.length>0&&l[d].tagName!=="LI"&&l[d].parentNode.tagName==="LI"&&(l[d]=l[d].parentNode);this.applyLists(l,this.currentAction,e.selector,e.item,e),e.callBack&&e.callBack({requestType:this.currentAction,event:e.event,editorMode:"HTML",range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.domNode.blockNodes()})},r.prototype.setSelectionBRConfig=function(){var e=this.parent.editableElement.querySelector("."+De.startSelection),t=this.parent.editableElement.querySelector("."+De.endSelection);u(t)?this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,e,0):this.parent.nodeSelection.setSelectionText(this.parent.currentDocument,e,t,0,0)},r.prototype.applyLists=function(e,t,i,n,s){var o=!0;if(this.isRevert(e,t,n)&&u(n)||!u(n)&&n.listStyle==="none")this.revertList(e,s),this.removeEmptyListElements();else{this.checkLists(e,t,n);for(var a=0;a<e.length;a++)if(!u(n)&&!u(n.listStyle)&&(n.listStyle==="listImage"?he(e[a],{"list-style-image":n.listImage}):(he(e[a],{"list-style-image":"none"}),he(e[a],{"list-style-type":n.listStyle.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}))),e[a].getAttribute("contenteditable")==="true"&&e[a].childNodes.length===1&&e[a].childNodes[0].nodeName==="TABLE"){var l=document.createElement(t);l.innerHTML="<li><br/></li>",e[a].appendChild(l)}else if(e[a].tagName!=="LI"&&u(n)&&e[a].nodeName==="BLOCKQUOTE"){o=!1;var h=this.domNode.attributes(e[a]),c="<"+t+">",p="</"+t+">",d="li"+h,f=e[a].innerHTML,m=this.domNode.createTagString(d,null,f),g=c+m+p;e[a].innerHTML=g}else if(e[a].tagName!=="LI"&&u(n)){o=!1;var h=e[a].tagName==="IMG"?"":this.domNode.attributes(e[a]),c="<"+t+">",p="</"+t+">",d="li"+h,f=e[a].tagName.toLowerCase()===Di?e[a].innerHTML:e[a].outerHTML,m=this.domNode.createTagString(d,null,f),g=c+m+p;this.domNode.replaceWith(e[a],g)}else if(!u(n)&&e[a].tagName!=="LI"){o=!1;var h=e[a].tagName==="IMG"?"":this.domNode.attributes(e[a]),c="<"+t+h+">",p="</"+t+">",d="li",f=e[a].tagName.toLowerCase()===Di?e[a].innerHTML:e[a].outerHTML,m=this.domNode.createTagString(d,null,f),g=c+m+p;this.domNode.replaceWith(e[a],g)}}this.cleanNode(),this.parent.editableElement.focus(),gt()&&ki(this.parent.editableElement,i),this.saveSelection=this.domNode.saveMarker(this.saveSelection),this.saveSelection.restore()},r.prototype.removeEmptyListElements=function(){for(var e=this.parent.editableElement.querySelectorAll("ol, ul"),t=0;t<e.length;t++)e[t].textContent.trim()===""&&w(e[t])},r.prototype.isRevert=function(e,t,i){for(var n=!0,s=0;s<e.length;s++){if(e[s].tagName!=="LI")return!1;(e[s].parentNode.tagName!==t||u(i)&&e[s].parentNode.style.listStyleType!=="")&&(n=!1),e[s].parentNode.tagName===t&&e[s].parentNode.style.listStyleType!==""&&(n=!0)}return n},r.prototype.checkLists=function(e,t,i){for(var n=[],s=0;s<e.length;s++){var o=e[s].parentNode;!u(i)&&e[s].tagName==="LI"&&!u(i.listStyle)&&(i.listStyle==="listImage"?he(o,{"list-style-image":i.listImage}):(he(o,{"list-style-image":"none"}),he(o,{"list-style-type":i.listStyle.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}))),(e[s].tagName==="LI"&&o.tagName!==t&&n.indexOf(o)<0||e[s].tagName==="LI"&&o.tagName===t&&n.indexOf(o)<0&&i!==null)&&n.push(o),u(i)&&(o.tagName===t||(o.tagName==="UL"||o.tagName==="OL")&&o.hasAttribute("style"))&&o.hasAttribute("style")&&o.removeAttribute("style")}for(var a=n.length-1;a>=0;a--){var l=n[a],h="<"+t.toLowerCase()+" "+this.domNode.attributes(l)+">"+l.innerHTML+"</"+t.toLowerCase()+">";this.domNode.replaceWith(n[a],h)}},r.prototype.cleanNode=function(){for(var e=this.parent.editableElement.querySelectorAll("ol + ol, ul + ul"),t=0;t<e.length;t++){var i=e[t];if(this.domNode.isList(i.previousElementSibling)&&this.domNode.openTagString(i)===this.domNode.openTagString(i.previousElementSibling)){for(var n=this.domNode.contents(i),s=0;s<n.length;s++)i.previousElementSibling.appendChild(n[s]);i.parentNode.removeChild(i)}else u(i.getAttribute("level"))||i.tagName===i.previousElementSibling.tagName&&i.previousElementSibling.lastChild.append(i)}},r.prototype.findUnSelected=function(e,t){if(e=e.slice().reverse(),e.length>0){var i=[],n=[],s=t[t.length-1],o=[],a=[];o=s.childNodes;for(var l=0;l<o.length;l++)if(o[l].tagName==="OL"||o[l].tagName==="UL"){var h=o[l].querySelectorAll("li");if(h.length>0)for(var c=0;c<h.length;c++)a.push(h[c])}for(var p=0;p<a.length;p++){for(var d=0,f=0;f<e.length;f++)a[p].contains(e[f])||(d=d+1);d===e.length&&n.push(a[p])}if(n.length>0)for(var m=0;m<n.length;m++)this.domNode.contents(n[m])[0].nodeName!=="OL"&&this.domNode.contents(n[m])[0].nodeName!=="UL"&&i.push(n[m]);i.length>0&&this.nestedList(i)}},r.prototype.revertList=function(e,t){for(var i=[],n=e.length-1;n>=0;n--)for(var s=n-1;s>=0;s--)if(e[s].contains(e[n])||e[s]===e[n]){i.push(e[n]),e.splice(n,1);break}this.findUnSelected(i,e);for(var o=[],n=0;n<e.length;n++){var a=e[n];if(u(t.item)||a.nodeName==="LI"&&t.item.listStyle==="none"){this.domNode.contents(a)[0].nodeType===3&&this.domNode.contents(a)[0].textContent.trim().length===0&&w(this.domNode.contents(a)[0]);var l=e[n].parentNode,h=a.getAttribute("class");if(i.length===0){var c=e[n].querySelectorAll("ul, ol"),p=c[0];if(p){var d=p.querySelectorAll("li");if(d){var f=B(p.tagName);st([f],p.parentNode);var m=B("li",{styles:"list-style-type: none;"});st([m],f),st([p],m)}}}if(a.parentNode.insertBefore(this.closeTag(l.tagName),a),l.parentNode.tagName==="LI"||l.parentNode.tagName==="OL"||l.parentNode.tagName==="UL")a.parentNode.insertBefore(this.closeTag("LI"),a);else{var g="";if(h&&(g+=' class="'+h+'"'),Di&&a.querySelectorAll(An.join(", ")).length===0){var v=u(h)?' class="e-rte-wrap-inner"':' class="'+h+' e-rte-wrap-inner"',O=l;u(O.style.listStyleType)||l.style.removeProperty("list-style-type"),u(O.style.listStyleImage)||l.style.removeProperty("list-style-image"),O.style.length===0&&l.removeAttribute("style");var C="<"+Di+v+this.domNode.attributes(O)+"></"+Di+">";t.enterAction!=="BR"&&this.domNode.wrapInner(a,this.domNode.parseHTMLFragment(C))}else if(this.domNode.contents(a)[0].nodeType===3){var x=this.domNode.createTagString(Di,l,this.parent.domNode.encode(this.domNode.contents(a)[0].textContent));this.domNode.replaceWith(this.domNode.contents(a)[0],x)}else if(this.domNode.contents(a)[0].classList.contains(De.startSelection)||this.domNode.contents(a)[0].classList.contains(De.endSelection)){var x=this.domNode.createTagString(Di,l,this.domNode.contents(a)[0].outerHTML);this.domNode.replaceWith(this.domNode.contents(a)[0],x)}else{var M=a.firstChild;h=M.getAttribute("class"),pe(M,this.domNode.rawAttributes(l)),h&&M.getAttribute("class")&&pe(M,{class:h+" "+M.getAttribute("class")})}st([this.openTag("LI")],a),nn([this.closeTag("LI")],a)}this.domNode.insertAfter(this.openTag(l.tagName),a),l.parentNode.tagName==="LI"&&(l=l.parentNode.parentNode),o.indexOf(l)<0&&o.push(l)}}for(var n=0;n<o.length;n++){var k=o[n],A=k.innerHTML,j=/<span class="e-rte-list-close-([a-z]*)"><\/span>/g,U=/<span class="e-rte-list-open-([a-z]*)"><\/span>/g;A=A.replace(j,"</$1>"),A=A.replace(U,"<$1 "+this.domNode.attributes(k)+">"),this.domNode.replaceWith(k,this.domNode.openTagString(k)+A.trim()+this.domNode.closeTagString(k))}for(var q=this.parent.editableElement.querySelectorAll("ul:empty, ol:empty"),n=0;n<q.length;n++)w(q[n]);for(var K=this.parent.editableElement.querySelectorAll("li:empty"),n=0;n<K.length;n++)w(K[n])},r.prototype.openTag=function(e){return this.domNode.parseHTMLFragment('<span class="e-rte-list-open-'+e.toLowerCase()+'"></span>')},r.prototype.closeTag=function(e){return this.domNode.parseHTMLFragment('<span class="e-rte-list-close-'+e.toLowerCase()+'"></span>')},r}();var Xe=function(){function r(){}return r.WrapBefore=function(e,t,i){return t.innerText=e.textContent,i?this.AppendBefore(t,e,!0):this.AppendBefore(t,e),e.parentNode&&e.parentNode.removeChild(e),t.childNodes[0]},r.Wrap=function(e,t){return this.AppendBefore(t,e),t.appendChild(e),e},r.unwrap=function(e){for(var t=e.parentNode,i=[];e.firstChild;null)i.push(t.insertBefore(e.firstChild,e));return t.removeChild(e),i},r.AppendBefore=function(e,t,i){return t.parentNode?i?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.insertBefore(e,t):t},r}();var In=function(){function r(){this.enterAction="P",this.position=-1,this.nodeSelection=new xt}return r.prototype.GetSpliceNode=function(e,t){return t=this.SplitNode(e,t,!0),t=this.SplitNode(e,t,!1),t},r.prototype.SplitNode=function(e,t,i){if(t){var n=e.cloneRange(),s=t.parentNode,o=this.nodeSelection.getIndex(t);n.collapse(i),i?n.setStartBefore(t):n.setEndAfter(t);var a=n.extractContents();if(i){if(t=s.childNodes[o],a=this.spliceEmptyNode(a,!1),a&&a.childNodes.length>0){var l=!!(a.childNodes.length===1&&a.childNodes[0].nodeName!=="IMG"&&!(a.querySelectorAll("img").length>0)&&this.isRteElm(a)&&a.textContent==="");if(!l)if(t)Xe.AppendBefore(a,t);else{s.appendChild(a);var h=document.createElement("div");h.innerHTML="&#65279;&#65279;",t=h.firstChild,s.appendChild(t)}}}else if(t=s.childNodes.length>1?s.childNodes[o]:s.childNodes[0],a=this.spliceEmptyNode(a,!0),a&&a.childNodes.length>0){var l=!!(a.childNodes.length===1&&a.childNodes[0].nodeName!=="IMG"&&this.isRteElm(a)&&a.textContent==="");if(!l)if(t)Xe.AppendBefore(a,t,!0);else{s.appendChild(a);var h=document.createElement("div");h.innerHTML="&#65279;&#65279;",s.insertBefore(h.firstChild,s.firstChild),t=s.firstChild}}return t}else return null},r.prototype.isRteElm=function(e){var t=!0;if(e.childNodes.length===1&&e.childNodes[0].nodeName!=="IMG")for(var i=e.childNodes[0],n=0;!u(i.childNodes)&&n<i.childNodes.length;n++)(i.childNodes[n].nodeName==="IMG"||i.childNodes[n].nodeName==="SPAN"&&(i.childNodes[n].classList.contains("e-video-wrap")||i.childNodes[n].classList.contains("e-embed-video-wrap")||i.childNodes[n].classList.contains("e-audio-wrap")))&&(t=!1);else t=!0;return t},r.prototype.spliceEmptyNode=function(e,t){var i;return e.childNodes.length===1&&e.childNodes[0].nodeName==="#text"&&e.childNodes[0].textContent===""||e.textContent===""?i=-1:i=e.childNodes.length-1,i>-1&&!t?this.spliceEmptyNode(e.childNodes[i],t):i>-1?this.spliceEmptyNode(e.childNodes[0],t):e.nodeType!==3&&e.nodeType!==11&&e.nodeName!=="IMG"&&!(e.querySelectorAll("img").length>0)&&!e.classList.contains("e-video-wrap")&&!e.classList.contains("e-audio-wrap")&&e.parentNode.removeChild(e),e},r.prototype.GetCursorStart=function(e,t,i){e=i?e:e.reverse();for(var n=e[0],s=0;s<e.length&&(i?e[s]<t:e[s]>=t);s++)n=e[s];return n},r.prototype.GetCursorRange=function(e,t,i){var n=e.createRange(),s=[];s.push(0);for(var o=this.TrimLineBreak(i.data),a=o.indexOf(" ",0);a!==-1;)s.indexOf(a)<0&&s.push(a),new RegExp("\\s").test(o[a-1])&&s.indexOf(a-1)<0&&s.push(a-1),new RegExp("\\s").test(o[a+1])&&s.push(a+1),a=o.indexOf(" ",a+1);if(s.push(o.length),s.indexOf(t.startOffset)>=0||s.indexOf(t.startOffset-1)>=0&&(t.startOffset!==1||t.startOffset===1&&new RegExp("\\s").test(o[0]))||s[s.length-1]-1===t.startOffset&&t.endOffset!==o.length-1&&!new RegExp("\\s").test(o[0]))n=t,this.position=1;else{var l=this.GetCursorStart(s,t.startOffset,!0);this.position=t.startOffset-l,n.setStart(t.startContainer,l),n.setEnd(t.startContainer,this.GetCursorStart(s,t.startOffset,!1))}return n},r.prototype.GetCursorNode=function(e,t,i){return this.GetSpliceNode(this.GetCursorRange(e,t,i),i)},r.prototype.TrimLineBreak=function(e){return e.replace(/(\r\n\t|\n|\r\t)/gm," ")},r}();var ex=function(){function r(e){this.parent=e,this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.observer.on(ao,this.applyFormats,this),this.parent.observer.on(Ci,this.onKeyUp,this),this.parent.observer.on(Be,this.onKeyDown,this)},r.prototype.getParentNode=function(e){for(;e.parentNode&&e.parentNode!==this.parent.editableElement;null)e=e.parentNode;return e},r.prototype.onKeyUp=function(e){var t=this.parent.nodeSelection.getRange(this.parent.currentDocument),i=t.endContainer,n=i.lastChild;if(e.event.which===13&&t.startContainer===i&&i.nodeType!==3){var s=B("p");if(s.innerHTML="<br>",!u(n)&&n&&n.nodeName==="BR"&&n.previousSibling&&n.previousSibling.nodeName==="TABLE")i.replaceChild(s,n),this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,s,0);else{var o=this.parent.nodeSelection.getSelectionNodeCollectionBr(t)[0];!u(o)&&o.nodeName==="BR"&&o.previousSibling&&o.previousSibling.nodeName==="TABLE"&&(i.replaceChild(s,o),this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,s,0))}}},r.prototype.getBlockParent=function(e,t){for(var i;e!=t;)i=e,e=e.parentElement;return i},r.prototype.onKeyDown=function(e){if(e.event.which===13){var t=this.parent.nodeSelection.getRange(this.parent.currentDocument),i=t.startContainer.textContent.length===0||t.startContainer.nodeName==="PRE"?t.startContainer:t.startContainer.parentElement,n=t.endContainer.textContent.length===0||t.endContainer.nodeName==="PRE"?t.endContainer:t.endContainer.parentElement,s=S(i,"pre"),o=S(n,"pre"),a=S(i,"blockquote"),l=S(n,"blockquote"),h=!u(s)&&!u(s.parentElement)&&s.parentElement.tagName==="LI";if(h)return;if((u(s)&&!u(o)||!u(s)&&u(o))&&(e.event.preventDefault(),this.deleteContent(t),this.removeCodeContent(t),t=this.parent.nodeSelection.getRange(this.parent.currentDocument),this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,n,0)),e.event.which===13&&(!u(a)&&!u(l)||!u(a)&&u(l))){var c=this.getBlockParent(t.startContainer,a);(c.textContent.charCodeAt(0)===8203&&c.textContent.length===1||c.textContent.length===0)&&u(c.nextSibling)&&(c.previousSibling.textContent.charCodeAt(0)===8203&&c.previousSibling.textContent.length===1||c.previousSibling.textContent.length===0)&&(e.event.preventDefault(),this.paraFocus(c.parentElement))}if(e.event.which===13&&!u(s)&&!u(o)){e.event.preventDefault(),this.deleteContent(t),this.removeCodeContent(t),t=this.parent.nodeSelection.getRange(this.parent.currentDocument);var p=t.startContainer.childNodes[t.endOffset],d=t.startContainer.childNodes[t.endOffset-1],c=t.startContainer;if(!u(p)&&!u(d)&&u(p.nextSibling)&&p.nodeName==="BR"&&d.nodeName==="BR")this.paraFocus(t.startContainer,e.enterAction);else if(c.textContent.charCodeAt(0)===8203&&c.textContent.length===1||c.textContent.length===0){for(;c.parentElement.nodeName!=="PRE"&&(c.textContent.length===1||c.textContent.length===0);)c=c.parentElement;!u(c.previousSibling)&&c.previousSibling.nodeName==="BR"&&u(c.nextSibling)?this.paraFocus(c.parentElement):this.isNotEndCursor(s,t)}else this.isNotEndCursor(s,t)}}},r.prototype.removeCodeContent=function(e){var t=new RegExp("\uFEFF","g");if(!u(e.endContainer.textContent.match(t))){var i=e.endContainer.textContent.charCodeAt(e.endOffset-1)===65279?e.endOffset-2:e.endOffset;e.endContainer.textContent=e.endContainer.textContent.replace(t,""),e.endContainer.textContent===""?this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,e.endContainer.parentElement,0):this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,e.endContainer,i)}},r.prototype.deleteContent=function(e){(e.startContainer!==e.endContainer||e.startOffset!==e.endOffset)&&e.deleteContents()},r.prototype.paraFocus=function(e,t){var i;t==="DIV"?(i=B("div"),i.innerHTML="<br>"):t==="BR"?i=B("br"):(i=B("p"),i.innerHTML="<br>"),this.parent.domNode.insertAfter(i,e),this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,i,0),w(e.lastChild)},r.prototype.isNotEndCursor=function(e,t){var i=new In,n=t.startOffset===e.lastChild.textContent.length&&e.lastChild.textContent===t.startContainer.textContent;if(e.textContent.indexOf(t.startContainer.textContent)===0&&(t.startOffset===0&&t.endOffset===0||t.startContainer.nodeName==="PRE")){this.insertMarker(e,t);var s=B("br");e.childNodes[t.endOffset].parentElement.insertBefore(s,e.childNodes[t.endOffset])}else{var o=i.SplitNode(t,e,!0);this.insertMarker(e,t);var a=e.previousElementSibling;a.tagName==="PRE"&&(a.insertAdjacentHTML("beforeend","<br>"+o.innerHTML),w(e))}this.setCursorPosition(n,e)},r.prototype.setCursorPosition=function(e,t){var i=!1,n=this.parent.editableElement.querySelector(".tempSpan"),s=n.parentElement;if(n.parentNode.textContent===""?i=!0:this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,n,0),e)if(i)s===t?(this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,n,0),w(n)):this.focusSelectionParent(n,s);else{var o=B("br");this.parent.domNode.insertAfter(o,n),this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,n,0),w(n)}else i?this.focusSelectionParent(n,s):w(n)},r.prototype.focusSelectionParent=function(e,t){w(e),t.innerHTML="\u200B",this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,t,0)},r.prototype.insertMarker=function(e,t){var i=B("span",{className:"tempSpan"});t.startContainer.nodeName==="PRE"?e.childNodes[t.endOffset].parentElement.insertBefore(i,e.childNodes[t.endOffset]):t.startContainer.parentElement.insertBefore(i,t.startContainer)},r.prototype.applyFormats=function(e){var t=this.parent.nodeSelection.getRange(this.parent.currentDocument),i=!1;this.parent.editableElement===t.endContainer&&!u(this.parent.editableElement.children[t.endOffset-1])&&this.parent.editableElement.children[t.endOffset-1].tagName==="TABLE"&&!t.collapsed&&(i=!0);var n=this.parent.nodeSelection.save(t,this.parent.currentDocument);this.parent.domNode.setMarker(n);var s=this.parent.domNode.blockNodes(!0);if(e.enterAction==="BR"){this.setSelectionBRConfig();var o=this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument),a=this.parent.nodeSelection.getSelectionNodes(o),l=[];a.length===0&&a.push(s[0]);for(var h=0;h<a.length;h++){for(var c=a[h],p=void 0;!this.parent.domNode.isBlockNode(c)&&c!==this.parent.editableElement;)p=c,c=c.parentElement;this.parent.domNode.isBlockNode(c)&&c===this.parent.editableElement&&l.push(p)}for(var h=0;h<l.length;h++)if(!this.parent.domNode.isBlockNode(l[h])){for(var c=l[h],d=c;c===this.parent.editableElement;)d=c,c=c.parentElement;var f=void 0;this.parent.domNode.isBlockNode(d.parentElement)&&d.parentElement===this.parent.editableElement?(f=B("div"),d.parentElement.insertBefore(f,d),f.appendChild(d)):f=d;for(var m=f.previousSibling;!u(m)&&m.nodeName!=="BR"&&!this.parent.domNode.isBlockNode(m);)f.firstChild.parentElement.insertBefore(m,f.firstChild),m=f.previousSibling;!u(m)&&m.nodeName==="BR"&&w(m);for(var g=f.nextSibling;!u(g)&&g.nodeName!=="BR"&&!this.parent.domNode.isBlockNode(g);)f.appendChild(g),g=f.nextSibling;!u(g)&&g.nodeName==="BR"&&w(g)}this.setSelectionBRConfig(),s=this.parent.domNode.blockNodes()}for(var h=0;h<s.length;h++){var v=void 0,O=void 0;if(e.subCommand.toLowerCase()==="blockquote"?(v=this.getParentNode(s[h]),O=this.parent.domNode.isList(v)||v.tagName==="TABLE"?v.outerHTML:v.innerHTML):(v=s[h],O=v.innerHTML),!(e.subCommand.toLowerCase()===v.tagName.toLowerCase()&&(e.subCommand.toLowerCase()!=="pre"&&e.subCommand.toLowerCase()!=="blockquote"||!u(e.exeValue)&&e.exeValue.name==="dropDownSelect")||u(v.parentNode)||v.tagName==="TABLE"&&e.subCommand.toLowerCase()==="pre")){this.cleanFormats(v,e.subCommand);var C=e.subCommand.toLowerCase()==="pre"&&v.tagName.toLowerCase()==="pre"?"p":e.subCommand,x=e.subCommand.toLowerCase()===v.tagName.toLowerCase()&&e.subCommand.toLowerCase()==="blockquote"&&this.parent.domNode.isList(v.firstElementChild),M=e.subCommand.toLowerCase()===v.tagName.toLowerCase()&&e.subCommand.toLowerCase()==="blockquote",k=void 0;if(x)k=O.replace(/>\s+</g,"><");else if(M){var A=e.enterAction=="BR"||e.enterAction=="P"?"P":e.enterAction;k=this.parent.domNode.createTagString(A,v,O.replace(/>\s+</g,"><"))}else k=this.parent.domNode.createTagString(C,v,O.replace(/>\s+</g,"><"));v.tagName==="LI"?(v.innerHTML="",v.insertAdjacentHTML("beforeend",k)):this.parent.domNode.replaceWith(v,k)}}this.preFormatMerge();var j=this.parent.editableElement.querySelector("."+De.startSelection),U=this.parent.editableElement.querySelector("."+De.endSelection);!u(j)&&!u(U)&&(j=j.lastChild,U=U.lastChild),n=this.parent.domNode.saveMarker(n,null),gt()&&ki(this.parent.editableElement,e.selector),i?this.parent.nodeSelection.setSelectionText(this.parent.currentDocument,j,U,0,U.textContent.length):n.restore(),e.callBack&&e.callBack({requestType:e.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.domNode.blockNodes()})},r.prototype.setSelectionBRConfig=function(){var e=this.parent.editableElement.querySelector("."+De.startSelection),t=this.parent.editableElement.querySelector("."+De.endSelection);u(t)?this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,e,0):this.parent.nodeSelection.setSelectionText(this.parent.currentDocument,e,t,0,0)},r.prototype.preFormatMerge=function(){var e=this.parent.editableElement.querySelectorAll("PRE");if(!u(e))for(var t=0;t<e.length;t++){var i=e[t].previousElementSibling;!u(i)&&i.tagName==="PRE"&&(i.insertAdjacentHTML("beforeend","<br>"+e[t].innerHTML),w(e[t]))}},r.prototype.cleanFormats=function(e,t){var i=["display","font-size","margin-top","margin-bottom","margin-left","margin-right","font-weight"];t=t.toLowerCase();for(var n=0;n<i.length&&t!=="p"&&t!=="blockquote"&&t!=="pre";n++)e.style.removeProperty(i[n])},r}();var Pt=function(){function r(){}return r.Insert=function(e,t,i,n,s){var o;if(typeof t=="string"){var a=document.createElement("div");a.innerHTML=t,o=n?a:a.firstChild}else if(n&&!(!u(t)&&!u(t.classList)&&t.classList.contains("pasteContent"))){var a=document.createElement("div");a.appendChild(t),o=a}else o=t;var l=new xt,h=new In,c=l.getRange(e);if(c.startContainer===i&&c.startContainer===c.endContainer&&c.startOffset===0&&c.startOffset===c.endOffset&&i.textContent.length===0&&(i.children[0].tagName==="P"||i.children[0].tagName==="DIV"||i.children[0].tagName==="BR")&&(l.setSelectionText(e,c.startContainer.children[0],c.startContainer.children[0],0,0),c=l.getRange(e)),c.startContainer===i&&c.startContainer===c.endContainer&&c.startOffset===0&&c.startOffset===c.endOffset&&i.textContent.trim().length>0){var p=this.findFirstTextNode(c.startContainer);u(p)||(l.setSelectionText(e,p,p,0,0),c=l.getRange(e))}if(c.startContainer.nodeName==="BR"&&c.startOffset===0&&c.startOffset===c.endOffset&&c.startContainer===c.endContainer){var d=Array.prototype.slice.call(c.startContainer.parentElement.childNodes).indexOf(c.startContainer);l.setSelectionText(e,c.startContainer.parentElement,c.startContainer.parentElement,d,d),c=l.getRange(e)}var f=c.startOffset===c.endOffset&&c.startOffset===0&&c.startContainer===c.endContainer,m=c.collapsed,g=this.getNodeCollection(c,l,o),v=o.nodeName.toLowerCase()==="table"?this.closestEle(g[0].parentNode,i):g[0];if(v&&v.nodeName==="LI"&&o.nodeName.toLowerCase()==="table"){this.insertTableInList(c,o,v,g[0],h);return}if(n||!u(o)&&!u(o.classList)&&o.classList.contains("pasteContent")){this.pasteInsertHTML(g,o,c,l,h,e,m,v,i,s);return}if(i!==c.startContainer&&(!m&&!(v.nodeType===Node.ELEMENT_NODE&&pa.indexOf(v.tagName.toLocaleLowerCase())!==-1)||o.nodeName.toLowerCase()==="table"&&v&&pa.indexOf(v.tagName.toLocaleLowerCase())===-1)){var O=h.GetSpliceNode(c,v),C=O.previousSibling,x=O.parentNode;if(g.length===1||o.nodeName.toLowerCase()==="table"&&O.childElementCount===0)l.setSelectionContents(e,O),c=l.getRange(e);else{var M=h.GetSpliceNode(c,g[g.length-1].parentElement);M=u(M)?O:M,l.setSelectionText(e,O,M,0,M.nodeType===3?M.textContent.length:M.childNodes.length),c=l.getRange(e)}c.startContainer.parentElement.closest("ol,ul")!==null&&c.endContainer.parentElement.closest("ol,ul")!==null?LN(c):c.extractContents(),t.tagName==="TABLE"&&this.removeEmptyElements(i);for(var k=0;k<g.length;k++)if(g[k].nodeType!==3&&g[k].parentNode!=null){if(g[k].nodeName==="IMG")continue;g[k].parentNode.removeChild(g[k])}if(C)Xe.AppendBefore(o,C,!0);else{for(var A=null;x!==i&&x.firstChild&&x.textContent.trim()==="";){var j=x.parentNode;A=x,x=j}A!==null&&(x=A),x.firstChild&&(x!==i||o.nodeName==="TABLE"&&f&&x===c.startContainer&&x===c.endContainer)?x.textContent.trim()===""&&x!==i?(Xe.AppendBefore(o,x,!1),w(x)):Xe.AppendBefore(o,x.firstChild,!1):u(O.previousSibling)&&t.tagName==="TABLE"?x.prepend(o):x.appendChild(o)}o.nodeName==="IMG"?this.imageFocus(o,l,e):o.nodeType!==3?l.setSelectionText(e,o,o,0,o.childNodes.length):l.setSelectionText(e,o,o,0,o.textContent.length)}else{if(c.deleteContents(),f&&c.startContainer.textContent===""&&c.startContainer.nodeName!=="BR"&&(c.startContainer.innerHTML=""),N.isIE){var U=e.createDocumentFragment();U.appendChild(o),c.insertNode(U)}else if(c.startContainer.nodeType===1&&c.startContainer.nodeName.toLowerCase()==="hr"&&c.endContainer.nodeName.toLowerCase()==="hr"){var q=c.startContainer.nextElementSibling;q&&(q.querySelector("br")&&w(q.querySelector("br")),q.appendChild(o))}else c.startContainer.nodeName==="BR"?c.startContainer.parentElement.insertBefore(o,c.startContainer):c.insertNode(o);o.nodeType!==3&&o.childNodes.length>0?l.setSelectionText(e,o,o,1,1):o.nodeName==="IMG"?this.imageFocus(o,l,e):o.nodeType!==3?l.setSelectionContents(e,o):l.setSelectionText(e,o,o,o.textContent.length,o.textContent.length)}},r.findFirstTextNode=function(e){if(e.nodeType===Node.TEXT_NODE)return e;for(var t=0;t<e.childNodes.length;t++){var i=this.findFirstTextNode(e.childNodes[t]);if(!u(i))return i}return null},r.pasteInsertHTML=function(e,t,i,n,s,o,a,l,h,c){var p=i.startOffset===i.endOffset&&i.startContainer===i.endContainer;if(p&&i.startContainer===h&&h.textContent===""){var d=this.getImmediateBlockNode(e[e.length-1],h);n.setSelectionText(o,d,d,0,0),i=n.getRange(o)}var f,m,g,v;h!==i.startContainer&&(!a&&!(l.nodeType===Node.ELEMENT_NODE&&pa.indexOf(l.tagName.toLocaleLowerCase())!==-1)||t.nodeName.toLowerCase()==="table"&&l&&pa.indexOf(l.tagName.toLocaleLowerCase())===-1)&&(a?v=s.SplitNode(i,l,!0):v=s.SplitNode(i,l,!1),m=u(v.previousSibling)?v.parentNode.previousSibling:v.previousSibling,e.length===1?(n.setSelectionContents(o,v),i=n.getRange(o),g=!0):(f=s.GetSpliceNode(i,e[e.length-1].parentElement),f=u(f)?v:f,n.setSelectionText(o,v,f,0,f.nodeType===3?f.textContent.length:f.childNodes.length),i=n.getRange(o),g=!1));var O=!1;this.removingComments(t);for(var C=t.childNodes,x=0;x<C.length;x++)if(An.indexOf(C[x].nodeName.toLocaleLowerCase())>=0){O=!0;break}var M,k=document.createDocumentFragment();if(O){for(var ie=i.startContainer;!u(ie)&&ie.nodeName!=="PRE"&&ie!==h;)ie=ie.parentElement;if(!u(t)&&!u(ie)&&ie.nodeName==="PRE")i.insertNode(t),M=t.lastChild;else{this.insertTempNode(i,t,e,s,h);var se=!0,H=void 0,z=void 0,Y=void 0;for(this.contentsDeleted||(!a&&i.startContainer.parentElement.textContent.length===0&&i.startContainer.nodeName==="BR"&&i.startContainer.parentElement.nodeName==="P"&&h.removeChild(i.startContainer.parentElement),i.deleteContents());t.firstChild;){if(t.firstChild.nodeName==="#text"&&t.firstChild.textContent.trim()===""){w(t.firstChild);continue}if(t.firstChild.nodeName==="#text"&&se||this.inlineNode.indexOf(t.firstChild.nodeName.toLocaleLowerCase())>=0&&se){if(M=t.firstChild,u(t.previousElementSibling)){var P=c==="DIV"?B("div"):B("p");t.parentElement.insertBefore(P,t)}t.previousElementSibling.nodeName==="BR"?t.parentElement.insertBefore(t.firstChild,t):t.previousElementSibling.appendChild(t.firstChild)}else M=t.firstChild,t.firstChild.nodeName==="#text"||this.inlineNode.indexOf(t.firstChild.nodeName.toLocaleLowerCase())>=0?(H?(Y.appendChild(t.firstChild),k.appendChild(Y)):(z=c==="DIV"?B("div"):B("p"),z.appendChild(t.firstChild),k.appendChild(z)),Y=z,H=!0):(k.appendChild(t.firstChild),H=!1),se=!1}t.parentNode.replaceChild(k,t)}}else if(p){var U=B("span",{className:"tempSpan"}),q=S(i.startContainer.parentElement,"a");if(i.startContainer.nodeType===3&&q&&S(q,"span")){var K=this.getImmediateBlockNode(i.startContainer,h);K.querySelectorAll("br").length>0&&w(K.querySelector("br"));var oe=S(q,"span");oe.appendChild(U)}else i.insertNode(U);for(;t.firstChild;)M=t.firstChild,k.appendChild(t.firstChild);U.parentNode.replaceChild(k,U)}else{for(;t.firstChild;)M=t.firstChild,k.appendChild(t.firstChild);if(g)v.parentNode.replaceChild(k,v);else{var A=i.startContainer.parentNode,j=Array.prototype.indexOf.call(A.childNodes,i.startContainer);i.deleteContents(),i.setStart(A,j),i.setEnd(A,j),u(f)||w(f),u(m)?i.insertNode(k):m.parentNode===h?m.appendChild(k):m.parentNode.appendChild(k)}}M.nodeName==="#text"?this.placeCursorEnd(M,t,n,o,h):this.cursorPos(M,t,n,o,h,c)},r.placeCursorEnd=function(e,t,i,n,s){for(e=e.nodeName==="BR"?u(e.previousSibling)?e.parentNode:e.previousSibling:e;!u(e)&&e.nodeName!=="#text"&&e.nodeName!=="IMG"&&e.nodeName!=="BR"&&e.nodeName!=="HR";){if(!u(e.lastChild)&&e.lastChild.nodeName==="P"&&e.lastChild.innerHTML===""){var o=B("br");e.lastChild.appendChild(o)}e=e.lastChild}e=u(e)?t:e,e.nodeName==="IMG"?this.imageFocus(e,i,n):i.setSelectionText(n,e,e,e.textContent.length,e.textContent.length),this.removeEmptyElements(s)},r.getNodeCollection=function(e,t,i){var n=[];return e.startOffset===e.endOffset&&e.startContainer===e.endContainer&&e.startContainer.nodeName!=="BR"&&e.startContainer.childNodes.length>0&&(e.startContainer.nodeName==="TD"||e.startContainer.nodeType!==3&&i.classList&&i.classList.contains("pasteContent"))?n.push(e.startContainer.childNodes[e.endOffset]):n=t.getInsertNodeCollection(e),n},r.insertTempNode=function(e,t,i,n,s){if(e.startContainer===s&&!u(e.startContainer.childNodes[e.endOffset-1])&&e.startContainer.childNodes[e.endOffset-1].nodeName==="TABLE")u(e.startContainer.childNodes[e.endOffset-1].nextSibling)?e.startContainer.appendChild(t):e.startContainer.insertBefore(t,e.startContainer.childNodes[e.endOffset-1].nextSibling);else if(e.startContainer===s&&!u(e.startContainer.childNodes[e.endOffset])&&e.startContainer.childNodes[e.endOffset].nodeName==="TABLE")e.startContainer.insertBefore(t,e.startContainer.childNodes[e.endOffset]);else if(e.startContainer===e.endContainer&&e.startContainer.nodeType!==3&&t.firstChild.nodeName==="HR")e.startContainer.classList.contains("e-content")||e.startContainer.nodeName==="BODY"?e.startContainer.appendChild(t):e.startContainer.parentNode.insertBefore(t,e.startContainer);else{var o=this.getImmediateBlockNode(i[i.length-1],s);if((u(o)||u(o.parentElement))&&e.endContainer.nodeType!==3&&(o=e.endContainer,e.setEnd(o,e.endContainer.textContent.length)),o.nodeName==="BODY"&&e.startContainer===e.endContainer&&e.startContainer.nodeType===1&&(o=e.startContainer),o.closest("LI")&&t&&t.firstElementChild&&(t.firstElementChild.tagName==="OL"||t.firstElementChild.tagName==="UL"))for(var a=void 0;t.firstElementChild.lastElementChild&&t.firstElementChild.lastElementChild.tagName==="LI";)a=t.firstElementChild.lastElementChild,a.style.removeProperty("margin-left"),a.style.removeProperty("margin-top"),a.style.removeProperty("margin-bottom"),t.firstElementChild.insertAdjacentElement("afterend",a);if(o.nodeName==="TD"||o.nodeName==="TH"||o.nodeName==="TR"){var l=B("span",{className:"tempSpan"});e.insertNode(l),l.parentNode.replaceChild(t,l)}else{var h=new xt,c=this.getNodeCollection(e,h,t)[this.getNodeCollection(e,h,t).length-1],p=void 0;if((c.nodeName==="BR"||c.nodeName==="HR"||c.nodeName==="#text"&&!u(c.parentElement)&&c.parentElement.nodeName==="LI")&&!u(c.parentElement)&&c.parentElement.textContent.trim().length===0)p=c,c.parentElement.nodeName==="LI"&&!u(c.nextSibling)&&c.nextSibling.nodeName==="BR"&&w(c.nextSibling);else if((c.nodeName==="#text"||c.nodeName==="BR")&&!u(c.parentElement)&&(c.parentElement.nodeName==="LI"||o===s&&c.parentElement===o)&&c.parentElement.textContent.trim().length>0){p=c,c.parentElement.nodeName==="LI"&&!u(c.nextSibling)&&c.nextSibling.nodeName==="BR"&&w(c.nextSibling),e.collapsed||e.deleteContents(),e.insertNode(t),this.contentsDeleted=!0;return}else p=n.GetSpliceNode(e,o);p.parentNode.replaceChild(t,p)}}},r.cursorPos=function(e,t,i,n,s,o){e.classList.add("lastNode"),s.innerHTML=EN(s.innerHTML,o),e=s.querySelector(".lastNode"),u(e)||(this.placeCursorEnd(e,t,i,n,s),e.classList.remove("lastNode"),e.classList.length===0&&e.removeAttribute("class"))},r.imageFocus=function(e,t,i){var n=document.createTextNode(" ");if(e.parentNode&&e.parentNode.nodeName==="A"){var s=e.parentNode,o=s.parentNode;o.insertBefore(n,s.nextSibling),o.insertBefore(e,n)}else e.parentNode.insertBefore(n,e.nextSibling);t.setSelectionText(i,e.nextSibling,e.nextSibling,0,0)},r.getImmediateBlockNode=function(e,t){do e=e.parentNode;while(e&&An.indexOf(e.nodeName.toLocaleLowerCase())<0);return e},r.removingComments=function(e){var t=e.innerHTML;t=t.replace(/<!--[\s\S]*?-->/g,""),e.innerHTML=t},r.findDetachEmptyElem=function(e){var t;if(u(e.parentElement))t=null;else{var i=e.parentElement.textContent.length>0&&e.parentElement.textContent.match(/\u00a0/g)&&e.parentElement.textContent.match(/\u00a0/g).length>0;!i&&e.parentElement.textContent.trim()===""&&e.parentElement.contentEditable!=="true"&&u(e.parentElement.querySelector("img"))?t=this.findDetachEmptyElem(e.parentElement):t=e}return t},r.removeEmptyElements=function(e){for(var t=e.querySelectorAll(":empty"),i=Array.from(t).filter(function(a){return!a.closest("svg")&&!a.closest("canvas")}),n=0;n<i.length;n++){var s=!0;if(i[n].tagName==="DIV"&&(s=i[n].style.borderBottom==="none"||i[n].style.borderBottom===""),KN.indexOf(i[n].tagName.toLowerCase())<0&&s){var o=this.findDetachEmptyElem(i[n]);u(o)||w(o)}}},r.closestEle=function(e,t){var i=e;if(S(i,"li"))return S(i,"li");for(;i&&i.nodeType===1;){if(i.parentNode===t||!u(i.parentNode.tagName)&&cn.indexOf(i.parentNode.tagName.toLocaleLowerCase())!==-1)return i;i=i.parentNode}return null},r.insertTableInList=function(e,t,i,n,s){if(e.collapsed){var o=e.startOffset===0,a=e.startContainer.textContent.trimEnd().length===e.startOffset;if(o||a)o?Xe.AppendBefore(t,n,!1):Xe.AppendBefore(t,n,!0);else{var l=s.SplitNode(e,i,!0),h=l.previousSibling;h.appendChild(t)}}else e.deleteContents(),i.appendChild(t);t.classList.add("ignore-table")},r.inlineNode=["a","abbr","acronym","audio","b","bdi","bdo","big","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","font","i","iframe","img","input","ins","kbd","label","map","mark","meter","noscript","object","output","picture","progress","q","ruby","s","samp","script","select","slot","small","span","strong","sub","sup","svg","template","textarea","time","u","tt","var","video","wbr"],r.contentsDeleted=!1,r}();var tx=function(){function r(e){this.parent=e,this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.observer.on(Ld,this.linkCommand,this)},r.prototype.linkCommand=function(e){switch(e.value.toString().toLocaleLowerCase()){case"createlink":case"editlink":this.createLink(e);break;case"openlink":this.openLink(e);break;case"removelink":this.removeLink(e);break}},r.prototype.createLink=function(e){var t=!u(e.item.selectParent)&&e.item.selectParent.length>0&&S(e.item.selectParent[0],"a");if(t=u(t)?!u(e.item.selectParent)&&e.item.selectParent.length>0?e.item.selectParent[0]:null:t,!u(t)&&t.tagName==="A"){var i=t,n="";if(u(e.item.url)||i.setAttribute("href",e.item.url),u(e.item.title)||i.setAttribute("title",e.item.title),!u(e.item.text)&&e.item.text!==""&&(n=i.innerText,i.innerText=e.item.text),u(e.item.target)?(i.removeAttribute("target"),i.removeAttribute("aria-label")):(i.setAttribute("target",e.item.target),i.setAttribute("aria-label",e.item.ariaLabel)),n===e.item.text)e.item.selection.setSelectionText(this.parent.currentDocument,i,i,1,1),e.item.selection.restore();else{var s=e.item.action==="Paste"?i.childNodes[0].textContent.length:0;e.item.selection.setSelectionText(this.parent.currentDocument,i.childNodes[0],i.childNodes[0],s,i.childNodes[0].textContent.length)}}else{var o=new xt,a=o.getRange(this.parent.currentDocument);a.endContainer.nodeName==="#text"&&a.startContainer.textContent.length===a.endOffset+1&&a.endContainer.textContent.charAt(a.endOffset)===" "&&!u(a.endContainer.nextSibling)&&a.endContainer.nextSibling.nodeName==="A"&&(o.setSelectionText(this.parent.currentDocument,a.startContainer,a.endContainer,a.startOffset,a.endOffset+1),a=o.getRange(this.parent.currentDocument));var l=u(e.item.text)?!0:e.item.text.replace(/ /g,"").localeCompare(a.toString().replace(/\n/g," ").replace(/ /g,""))<0;if(e.event&&e.event.type==="keydown"&&(e.event.keyCode===32||e.event.keyCode===13)||e.item.action==="Paste"||a.collapsed||l){var h=this.createAchorNode(e);h.innerText=e.item.text===""?e.item.url:e.item.text;var c=h.innerText,p=c.replace(/  +/g,function(f){return"\xA0".repeat(f.length)});if(h.innerText=p,e.item.selection.restore(),Pt.Insert(this.parent.currentDocument,h,this.parent.editableElement),e.event&&e.event.type==="keydown"&&(e.event.keyCode===32||e.event.keyCode===13)){var d=e.item.selection.range.startContainer;d.textContent=this.removeText(d.textContent,e.item.text)}else{var s=e.item.action==="Paste"?h.childNodes[0].textContent.length:0;e.item.selection.setSelectionText(this.parent.currentDocument,h.childNodes[0],h.childNodes[0],s,h.childNodes[0].textContent.length)}}else this.createLinkNode(e)}e.callBack&&e.callBack({requestType:"Links",editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},r.prototype.createLinkNode=function(e){for(var t=new xt,i=new In,n=t.getRange(this.parent.currentDocument),s=this.getSelectionNodes(t.getNodeCollection(n)),o=t.save(n,this.parent.currentDocument),a=[],l=[],h,c=[],p=[],d=[],f,m=0;m<s.length;m++)s[m]=i.GetSpliceNode(n,s[m]),a[m]=s[m];for(var g=0;g<a.length;g++){var v=!0;for(h=a[g];v===!0;){if(h.parentNode.nodeName==="A"){var O=h.parentNode;h.parentNode.parentNode.insertBefore(O.firstChild,O),h.parentNode.removeChild(O)}this.isBlockNode(h.parentNode)||a.length===0||g===0||g===a.length-1||n.startContainer.nodeType===3?(l[g]=h,v=!1):h=h.parentNode}}for(var g=0,C=0;g<l.length;g++)if(g===0&&(d[C]=l[g]),l.length>1&&g<l.length-1){if(l[g].parentElement===l[g+1].parentElement&&l[g]===l[g+1])continue;d[C+1]=l[g+1],C++}var x=0;p[x]=this.createAchorNode(e);for(var g=0;g<d.length;g++)if(g===0&&(f=d[g].cloneNode(!0),p[g].appendChild(f)),g<d.length-1)if(d[g].parentNode===d[g+1].parentNode){var M=d[g+1].cloneNode(!0);p[x].appendChild(M)}else x=x+1,p[x]=this.createAchorNode(e),f=d[g+1].cloneNode(!0),p[x].appendChild(f);this.parent.nodeSelection.setRange(document,o.range);for(var g=0,k=0,A=0;g<=d.length;g++)g===0&&(d[g].parentNode.insertBefore(p[k],d[g].nextSibling),this.parent.domNode.blockNodes().length===1&&p.length===1&&this.parent.nodeSelection.setSelectionNode(this.parent.currentDocument,p[k]),c[A]=d[g],A++),g<d.length-1&&(d[g].parentNode===d[g+1].parentNode?(c[A]=d[g+1],A++):(k=k+1,d[g+1].parentNode.insertBefore(p[k],d[g+1]),c[A]=d[g+1],A++));for(var g=0;g<c.length;g++)c[g].parentNode&&c[g].parentNode.removeChild(c[g])},r.prototype.createAchorNode=function(e){var t=B("a",{className:"e-rte-anchor",attrs:{href:e.item.url,title:u(e.item.title)||e.item.title===""?e.item.url:e.item.title}});return u(e.item.target)||t.setAttribute("target",e.item.target),u(e.item.ariaLabel)||t.setAttribute("aria-label",e.item.ariaLabel),t},r.prototype.getSelectionNodes=function(e){e=e.reverse();for(var t=0;t<e.length;t++)(e[t].nodeType!==3||e[t].textContent.trim()==="")&&e[t].nodeName!=="IMG"&&(e.splice(t,1),t--);return e.reverse()},r.prototype.isBlockNode=function(e){return!!e&&e.nodeType===Node.ELEMENT_NODE&&An.indexOf(e.tagName.toLowerCase())>=0},r.prototype.removeText=function(e,t){for(var i=e.split(" "),n=0;n<i.length;n++)i[n]===t&&(i.splice(n,1),n--);return i.join(" ")+" "},r.prototype.openLink=function(e){document.defaultView.open(e.item.url,e.item.target),this.callBack(e)},r.prototype.removeLink=function(e){var t=this.parent.domNode.blockNodes();if(t.length<2){this.parent.domNode.setMarker(e.item.selection);for(var i=S(e.item.selectParent[0],"a"),n=i||e.item.selectParent[0],s=n.parentNode,o=[];n.firstChild;null)o.push(s.insertBefore(n.firstChild,n));s.removeChild(n),o&&o.length===1&&(e.item.selection.startContainer=e.item.selection.getNodeArray(o[o.length-1],!0),e.item.selection.endContainer=e.item.selection.startContainer),e.item.selection=this.parent.domNode.saveMarker(e.item.selection)}else for(var a=0;a<t.length;a++)for(var l=t[a].querySelectorAll("a"),h=0;h<l.length;h++)this.parent.currentDocument.getSelection().containsNode(l[h],!0)&&(l[h].outerHTML=l[h].innerHTML);e.item.selection.restore(),this.callBack(e)},r.prototype.callBack=function(e){e.callBack&&e.callBack({requestType:e.item.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},r}();var ix=function(){function r(e){this.alignments={JustifyLeft:"left",JustifyCenter:"center",JustifyRight:"right",JustifyFull:"justify"},this.parent=e,this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.observer.on(_d,this.applyAlignment,this),this.parent.observer.on(Be,this.onKeyDown,this)},r.prototype.onKeyDown=function(e){switch(e.event.action){case"justify-center":this.applyAlignment({subCommand:"JustifyCenter",callBack:e.callBack}),e.event.preventDefault();break;case"justify-full":this.applyAlignment({subCommand:"JustifyFull",callBack:e.callBack}),e.event.preventDefault();break;case"justify-left":this.applyAlignment({subCommand:"JustifyLeft",callBack:e.callBack}),e.event.preventDefault();break;case"justify-right":this.applyAlignment({subCommand:"JustifyRight",callBack:e.callBack}),e.event.preventDefault();break}},r.prototype.getTableNode=function(e){var t=e.startContainer.nodeType===Node.ELEMENT_NODE?e.startContainer:e.startContainer.parentNode,i=S(t,"td,th");return[i]},r.prototype.applyAlignment=function(e){var t=e.value==="Table",i=this.parent.nodeSelection.getRange(this.parent.currentDocument),n=this.parent.nodeSelection.save(i,this.parent.currentDocument);if(t)he(this.getTableNode(i)[0],{"text-align":this.alignments[e.subCommand]});else{this.parent.domNode.setMarker(n);for(var s=this.parent.domNode.blockNodes(),o=0;o<s.length;o++){var a=s[o];he(a,{"text-align":this.alignments[e.subCommand]})}for(var l=this.parent.domNode.getImageTagInSelection(),o=0;o<l.length;o++){var h=[];h.push(l[o]),this.parent.imgObj.imageCommand({item:{selectNode:h},subCommand:e.subCommand,value:e.subCommand,callBack:e.callBack,selector:e.selector})}this.parent.editableElement.focus(),n=this.parent.domNode.saveMarker(n),gt()&&ki(this.parent.editableElement,e.selector),n.restore()}e.callBack&&e.callBack({requestType:e.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:t?this.getTableNode(i):this.parent.domNode.blockNodes()})},r}();var nx=function(){function r(e){this.indentValue=20,this.parent=e,this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.observer.on(Fd,this.applyIndents,this),this.parent.observer.on(Be,this.onKeyDown,this)},r.prototype.onKeyDown=function(e){switch(e.event.action){case"indents":this.applyIndents({subCommand:"Indent",callBack:e.callBack}),e.event.preventDefault();break;case"outdents":this.applyIndents({subCommand:"Outdent",callBack:e.callBack}),e.event.preventDefault();break}},r.prototype.applyIndents=function(e){var t=this.parent.editableElement,i=t.classList.contains("e-rtl"),n=this.parent.nodeSelection.getRange(this.parent.currentDocument),s=this.parent.nodeSelection.save(n,this.parent.currentDocument);this.parent.domNode.setMarker(s);for(var o=this.parent.domNode.blockNodes(),a=o.slice(),l=[],h=0;h<a.length;h++)a[h].tagName!=="LI"&&a[h].parentNode.tagName==="LI"?(o.splice(o.indexOf(a[h]),1),l.push(a[h].parentNode)):a[h].tagName==="LI"&&(o.splice(o.indexOf(a[h]),1),l.push(a[h]));l.length>0&&this.parent.observer.notify(Be,{event:{preventDefault:function(){},stopPropagation:function(){},shiftKey:e.subCommand!=="Indent",which:9,action:"indent"},ignoreDefault:!0});for(var h=0;h<o.length;h++){var c=o[h],p=i?c.style.marginRight:c.style.marginLeft,d=void 0;e.subCommand==="Indent"?(d=p===""?this.indentValue+"px":parseInt(p,null)+this.indentValue+"px",i?c.style.marginRight=d:c.style.marginLeft=d):(d=p===""||p==="0px"?"":parseInt(p,null)-this.indentValue+"px",i?c.style.marginRight=d:c.style.marginLeft=d)}t.focus(),gt()&&ki(t,e.selector),s=this.parent.domNode.saveMarker(s),s.restore(),e.callBack&&e.callBack({requestType:e.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.domNode.blockNodes()})},r}();var tr="e-imgright",ir="e-imgleft",fa="e-imgcenter",rx="e-video-right",sx="e-video-left",ox="e-video-center",Zd="e-imgbreak",ax="e-audio-break",lx="e-video-break",vt="e-img-caption";var yy="e-caption-inline",hx="e-imginline",by="e-audio-inline",Oy="e-clickelem",Hc="e-video-clickelem",Xd="e-rte-audio",ma="e-rte-video",_c="e-audio-wrap",cx="e-video-wrap",Cy="e-embed-video-wrap",Sy="e-audio-focus",My="e-video-focus",Ty="e-video-inline";var ux=function(){function r(e){this.parent=e,this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.observer.on(Uc,this.imageCommand,this)},r.prototype.imageCommand=function(e){switch(e.value.toString().toLowerCase()){case"image":case"replace":this.createImage(e);break;case"insertlink":this.insertImageLink(e);break;case"openimagelink":this.openImageLink(e);break;case"editimagelink":this.editImageLink(e);break;case"removeimagelink":this.removeImageLink(e);break;case"remove":this.removeImage(e);break;case"alttext":this.insertAltTextImage(e);break;case"dimension":this.imageDimension(e);break;case"caption":this.imageCaption(e);break;case"justifyleft":this.imageJustifyLeft(e);break;case"justifycenter":this.imageJustifyCenter(e);break;case"justifyright":this.imageJustifyRight(e);break;case"inline":this.imageInline(e);break;case"break":this.imageBreak(e);break}},r.prototype.createImage=function(e){var t=!1;if(e.item.url=u(e.item.url)||e.item.url==="undefined"?e.item.src:e.item.url,!u(e.item.selectParent)&&e.item.selectParent[0].tagName==="IMG"){var i=e.item.selectParent[0];t=!0,this.setStyle(i,e,t)}else{var n=B("img");this.setStyle(n,e),u(e.item.selection)||e.item.selection.restore(),!u(e.selector)&&e.selector==="pasteCleanupModule"?e.callBack({requestType:"Images",editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:[n]}):Pt.Insert(this.parent.currentDocument,n,this.parent.editableElement)}if(e.callBack&&(u(e.selector)||!u(e.selector)&&e.selector!=="pasteCleanupModule")){var s=this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)[0],o=e.value==="Replace"||t?e.item.selectParent[0]:N.isIE?s.previousSibling:s.previousElementSibling,a=this,l=function(){e.callBack({requestType:e.value==="Replace"?(e.item.subCommand="Replace","Replace"):"Images",editorMode:"HTML",event:e.event,range:a.parent.nodeSelection.getRange(a.parent.currentDocument),elements:[o]}),o.removeEventListener("load",l)};o.addEventListener("load",l)}},r.prototype.setStyle=function(e,t,i){u(t.item.url)||e.setAttribute("src",t.item.url);var n;if(i)for(var s={"e-imgcenter":"e-imgcenter","e-imgright":"e-imgright","e-imgleft":"e-imgleft"},o=e.classList,a=[],l=0;l<o.length;l++)u(s[o[l]])||(n=s[o[l]]);e.setAttribute("class","e-rte-image"+(u(t.item.cssClass)?"":" "+t.item.cssClass)+(u(n)?"":" "+n)),u(t.item.altText)||e.setAttribute("alt",t.item.altText),!u(t.item.width)&&!u(t.item.width.width)&&e.setAttribute("width",this.calculateStyleValue(t.item.width.width)),!u(t.item.height)&&!u(t.item.height.height)&&e.setAttribute("height",this.calculateStyleValue(t.item.height.height)),!u(t.item.width)&&!u(t.item.width.minWidth)&&(e.style.minWidth=this.calculateStyleValue(t.item.width.minWidth)),!u(t.item.width)&&!u(t.item.width.maxWidth)&&(e.style.maxWidth=this.calculateStyleValue(t.item.width.maxWidth)),!u(t.item.height)&&!u(t.item.height.minHeight)&&(e.style.minHeight=this.calculateStyleValue(t.item.height.minHeight)),!u(t.item.height)&&!u(t.item.height.maxHeight)&&(e.style.maxHeight=this.calculateStyleValue(t.item.height.maxHeight))},r.prototype.calculateStyleValue=function(e){var t;return typeof e=="string"&&(e.indexOf("px")||e.indexOf("%")||e.indexOf("auto"))?t=e:t=e+"px",t},r.prototype.insertImageLink=function(e){var t=B("a",{attrs:{href:e.item.url}});e.item.selectNode[0].parentElement.classList.contains("e-img-wrap")&&(e.item.selection.restore(),t.setAttribute("contenteditable","true")),t.appendChild(e.item.selectNode[0]),u(e.item.target)||t.setAttribute("target",e.item.target),u(e.item.ariaLabel)||t.setAttribute("aria-label",e.item.ariaLabel),Pt.Insert(this.parent.currentDocument,t,this.parent.editableElement),this.callBack(e)},r.prototype.openImageLink=function(e){document.defaultView.open(e.item.url,e.item.target),this.callBack(e)},r.prototype.removeImageLink=function(e){var t=e.item.selectParent[0];if(t.classList.contains("e-img-caption")){var i=$(".e-img-wrap",t),n=$(".e-img-inner",t),s=n.cloneNode(!0);w($("a",t)),w(n),i.appendChild(e.item.insertElement),i.appendChild(s)}else w(t),N.isIE&&e.item.selection&&e.item.selection.restore(),Pt.Insert(this.parent.currentDocument,e.item.insertElement,this.parent.editableElement);this.callBack(e)},r.prototype.editImageLink=function(e){e.item.selectNode[0].parentElement.href=e.item.url,u(e.item.target)?(e.item.selectNode[0].parentElement.removeAttribute("target"),e.item.selectNode[0].parentElement.removeAttribute("aria-label")):(e.item.selectNode[0].parentElement.target=e.item.target,e.item.selectNode[0].parentElement.ariaLabel=e.item.ariaLabel),this.callBack(e)},r.prototype.removeImage=function(e){S(e.item.selectNode[0],"a")?e.item.selectNode[0].parentElement.nodeName==="A"&&!u(e.item.selectNode[0].parentElement.innerText)?u(S(e.item.selectNode[0],"."+vt))?w(e.item.selectNode[0]):w(S(e.item.selectNode[0],"."+vt)):w(S(e.item.selectNode[0],"a")):u(S(e.item.selectNode[0],"."+vt))?w(e.item.selectNode[0]):w(S(e.item.selectNode[0],"."+vt)),this.callBack(e)},r.prototype.insertAltTextImage=function(e){e.item.selectNode[0].setAttribute("alt",e.item.altText),this.callBack(e)},r.prototype.imageDimension=function(e){var t=e.item.selectNode[0];t.style.height="",t.style.width="",e.item.width!=="auto"?t.style.width=W(e.item.width):t.removeAttribute("width"),e.item.height!=="auto"?t.style.height=W(e.item.height):t.removeAttribute("height"),this.callBack(e)},r.prototype.imageCaption=function(e){Pt.Insert(this.parent.currentDocument,e.item.insertElement,this.parent.editableElement),this.callBack(e)},r.prototype.imageJustifyLeft=function(e){var t=e.item.selectNode[0];u(t)||(t.removeAttribute("class"),E([t],"e-rte-image"),u(S(t,"."+vt))||(L([S(t,"."+vt)],tr),E([S(t,"."+vt)],ir)),t.parentElement.nodeName==="A"?(L([t.parentElement],tr),E([t.parentElement],ir),E([t],ir)):E([t],ir),this.callBack(e))},r.prototype.imageJustifyCenter=function(e){var t=e.item.selectNode[0];u(t)||(t.removeAttribute("class"),E([t],"e-rte-image"),u(S(t,"."+vt))||(L([S(t,"."+vt)],ir),L([S(t,"."+vt)],tr),E([S(t,"."+vt)],fa)),t.parentElement.nodeName==="A"?(L([t.parentElement],ir),L([t.parentElement],tr),E([t.parentElement],fa),E([t],fa)):E([t],fa),this.callBack(e))},r.prototype.imageJustifyRight=function(e){var t=e.item.selectNode[0];u(t)||(t.removeAttribute("class"),E([t],"e-rte-image"),u(S(t,"."+vt))||(L([S(t,"."+vt)],ir),E([S(t,"."+vt)],tr)),t.parentElement.nodeName==="A"?(L([t.parentElement],ir),E([t.parentElement],tr),E([t],tr)):E([t],tr),this.callBack(e))},r.prototype.imageInline=function(e){var t=e.item.selectNode[0];t.removeAttribute("class"),E([t],"e-rte-image"),E([t],hx),u(S(t,"."+vt))||(L([S(t,"."+vt)],Zd),L([S(t,"."+vt)],fa),L([S(t,"."+vt)],ir),L([S(t,"."+vt)],tr),E([S(t,"."+vt)],yy)),this.callBack(e)},r.prototype.imageBreak=function(e){var t=e.item.selectNode[0];t.removeAttribute("class"),E([t],Zd),E([t],"e-rte-image"),u(S(t,"."+vt))||(L([S(t,"."+vt)],yy),L([S(t,"."+vt)],fa),L([S(t,"."+vt)],ir),L([S(t,"."+vt)],tr),E([S(t,"."+vt)],Zd)),this.callBack(e)},r.prototype.callBack=function(e){e.callBack&&e.callBack({requestType:e.item.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},r}();var px=function(){function r(e){this.parent=e,this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.observer.on(Ed,this.audioCommand,this)},r.prototype.audioCommand=function(e){var t,i=e.value.toString().toLowerCase();switch((i==="inline"||i==="break"||i==="audioremove")&&(t=e.item.selectNode[0]),i){case"audio":case"audioreplace":this.createAudio(e);break;case"inline":t.removeAttribute("class"),t.closest("."+_c).style.display="inline-block",E([t],[Xd,by,Sy]),this.callBack(e);break;case"break":t.removeAttribute("class"),t.closest("."+_c).style.display="block",E([t],[ax,Xd,Sy]),this.callBack(e);break;case"audioremove":w(t),this.callBack(e);break}},r.prototype.createAudio=function(e){var t=this,i=!1,n;if(!u(e.item.selectParent)&&e.item.selectParent[0].classList&&(e.item.selectParent[0].classList.contains(Oy)||e.item.selectParent[0].classList.contains(_c))){var s=e.item.selectParent[0].querySelector("source");this.setStyle(s,e),i=!0}else{n=B("span",{className:_c,attrs:{contentEditable:"false",title:e.item.fileName}});var o=B("audio",{className:Xd+" "+by,attrs:{controls:""}}),a=B("source"),l=B("span",{className:Oy});if(this.setStyle(a,e),o.appendChild(a),l.appendChild(o),n.appendChild(l),u(e.item.selection)||e.item.selection.restore(),Pt.Insert(this.parent.currentDocument,n,this.parent.editableElement),n.nextElementSibling===null){var h=B("br");n.parentNode.insertBefore(h,n.nextSibling)}}if(e.callBack&&(u(e.selector)||!u(e.selector)&&e.selector!=="pasteCleanupModule")){var c=this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)[0],p=e.value==="AudioReplace"||i?e.item.selectParent[0].querySelector("audio"):N.isIE?c:c.querySelector("audio");p.addEventListener("loadeddata",function(){(e.value!=="AudioReplace"||!i)&&e.callBack({requestType:"Audios",editorMode:"HTML",event:e.event,range:t.parent.nodeSelection.getRange(t.parent.currentDocument),elements:[p]})}),i&&p.load()}},r.prototype.setStyle=function(e,t){u(t.item.url)||e.setAttribute("src",t.item.url);var i=t.item.fileName?t.item.fileName.split(".").pop().toLowerCase():t.item.url?t.item.url.split(".").pop().toLowerCase():"";i==="opus"?e.type="audio/ogg":i==="m4a"?e.type="audio/mp4":e.type=t.item.fileName&&t.item.fileName.split(".").length>0?"audio/"+t.item.fileName.split(".")[t.item.fileName.split(".").length-1]:t.item.url&&t.item.url.split(".").length>0?"audio/"+t.item.url.split(".")[t.item.url.split(".").length-1]:""},r.prototype.callBack=function(e){e.callBack&&e.callBack({requestType:e.item.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},r}();var dx=function(){function r(e){this.parent=e,this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.observer.on(kd,this.videoCommand,this)},r.prototype.videoCommand=function(e){var t,i,n,s=e.value.toString().toLowerCase();switch(s!=="video"&&s!=="videoreplace"&&(t=e.item.selectNode[0],i=t.closest("."+Cy),n=t.closest("."+Hc)),s){case"video":case"videoreplace":this.createVideo(e);break;case"videodimension":this.videoDimension(e);break;case"inline":t.removeAttribute("class"),i&&(i.style.display="inline-block"),n&&(t.parentElement.style.cssFloat=""),E([t],[ma,Ty,My]),this.callBack(e);break;case"break":t.removeAttribute("class"),i&&(i.style.display="block"),n&&(t.parentElement.style.cssFloat=""),E([t],[lx,ma,My]),this.callBack(e);break;case"justifyleft":t.removeAttribute("class"),i&&(i.style.display="block"),n&&(t.parentElement.style.cssFloat="left"),E([t],[ma,sx]),this.callBack(e);break;case"justifycenter":t.removeAttribute("class"),i&&(i.style.display="block"),n&&(t.parentElement.style.cssFloat=""),E([t],[ma,ox]),this.callBack(e);break;case"justifyright":t.removeAttribute("class"),i&&(i.style.display="block"),n&&(t.parentElement.style.cssFloat="right"),E([t],[ma,rx]),this.callBack(e);break;case"videoremove":w(t.parentElement),this.callBack(e);break}},r.prototype.createVideo=function(e){var t=this,i=!1,n,s,o;if(e.value==="VideoReplace"&&!u(e.item.selectParent)&&e.item.selectParent[0].tagName==="VIDEO"){var a=e.item.selectParent[0].querySelector("source");this.setStyle(a,e,a),i=!0}else if(e.value==="VideoReplace"&&!u(e.item.selectParent)&&e.item.selectParent[0].classList&&e.item.selectParent[0].classList.contains(Hc))e.item.selectParent[0].innerHTML=e.item.fileName,this.setStyle(e.item.selectParent[0].firstElementChild,e,e.item.selectParent[0].firstElementChild);else{if(!e.item.isEmbedUrl)n=B("span",{className:cx,attrs:{contentEditable:"false",title:e.item.fileName}}),s=B("video",{className:ma+" "+Ty,attrs:{controls:""}}),o=B("source"),this.setStyle(o,e,s),s.appendChild(o),n.appendChild(s);else{n=B("span",{className:Cy,attrs:{contentEditable:"false"}});var l=B("span",{className:Hc}),h=B("template");h.innerHTML=e.item.fileName,l.appendChild(h.content),s=o=l.firstElementChild,this.setStyle(o,e,s),n.appendChild(l)}if(u(e.item.selection)||e.item.selection.restore(),Pt.Insert(this.parent.currentDocument,n,this.parent.editableElement),n.nextElementSibling===null){var c=B("br");n.parentNode.insertBefore(c,n.nextSibling)}}if(e.callBack&&(u(e.selector)||!u(e.selector)&&e.selector!=="pasteCleanupModule")){var p=this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)[0],d=e.value==="VideoReplace"||i?e.item.isEmbedUrl?e.item.selectParent[0].querySelector("iframe"):e.item.selectParent[0]:N.isIE?p:e.item.isEmbedUrl?p.querySelector("iframe"):p.lastElementChild;d.addEventListener(d.tagName!=="IFRAME"?"loadeddata":"load",function(){(e.value!=="VideoReplace"||!i)&&(e.item.isEmbedUrl&&d&&d.classList.add("e-rte-embed-url"),e.callBack({requestType:"Videos",editorMode:"HTML",event:e.event,range:t.parent.nodeSelection.getRange(t.parent.currentDocument),elements:[d]}))}),i&&d.load(),N.userAgent.indexOf("Firefox")!==-1&&(s.addEventListener("play",function(){t.editAreaVideoClick(e)}),s.addEventListener("pause",function(){t.editAreaVideoClick(e)}))}},r.prototype.editAreaVideoClick=function(e){e.callBack({requestType:"VideosPlayPause",editorMode:"HTML",event:e.event})},r.prototype.setStyle=function(e,t,i){t.item.url!==""&&!u(t.item.url)&&e.setAttribute("src",t.item.url),t.item.isEmbedUrl||(e.type=t.item.fileName&&t.item.fileName.split(".").length>0?"video/"+t.item.fileName.split(".")[t.item.fileName.split(".").length-1]:t.item.url&&t.item.url.split(".").length>0?"video/"+t.item.url.split(".")[t.item.url.split(".").length-1]:""),!u(t.item.width)&&!u(t.item.width.width)&&i.setAttribute("width",W(t.item.width.width)),!u(t.item.height)&&!u(t.item.height.height)&&i.setAttribute("height",W(t.item.height.height)),!u(t.item.width)&&!u(t.item.width.minWidth)&&(i.style.minWidth=W(t.item.width.minWidth)),!u(t.item.width)&&!u(t.item.width.maxWidth)&&(i.style.maxWidth=W(t.item.width.maxWidth)),!u(t.item.height)&&!u(t.item.height.minHeight)&&(i.style.minHeight=W(t.item.height.minHeight)),!u(t.item.height)&&!u(t.item.height.maxHeight)&&(i.style.maxHeight=W(t.item.height.maxHeight))},r.prototype.videoDimension=function(e){var t=e.item.selectNode[0].classList.contains(Hc)?e.item.selectNode[0].querySelector("iframe"):e.item.selectNode[0];t.style.height="",t.style.width="",e.item.width!=="auto"?t.style.width=W(e.item.width):t.removeAttribute("width"),e.item.height!=="auto"?t.style.height=W(e.item.height):t.removeAttribute("height"),this.callBack(e)},r.prototype.callBack=function(e){e.callBack&&e.callBack({requestType:e.item.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},r}();var fx=function(){function r(e){this.parent=e,this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.observer.on(Dd,this.createTable,this),this.parent.observer.on(Ad,this.insertRow,this),this.parent.observer.on(Id,this.insertColumn,this),this.parent.observer.on(Pd,this.deleteRow,this),this.parent.observer.on(jd,this.deleteColumn,this),this.parent.observer.on(zd,this.removeTable,this),this.parent.observer.on(Rd,this.tableHeader,this),this.parent.observer.on(Bd,this.tableVerticalAlign,this),this.parent.observer.on(Qd,this.cellMerge,this),this.parent.observer.on(Hd,this.HorizontalSplit,this),this.parent.observer.on(Ud,this.VerticalSplit,this),this.parent.observer.on(GN,this.tableMove,this)},r.prototype.createTable=function(e){var t=B("table",{className:"e-rte-table"}),i=B("tbody");u(e.item.width.width)||(t.style.width=this.calculateStyleValue(e.item.width.width)),u(e.item.width.minWidth)||(t.style.minWidth=this.calculateStyleValue(e.item.width.minWidth)),u(e.item.width.maxWidth)||(t.style.maxWidth=this.calculateStyleValue(e.item.width.maxWidth));for(var n=parseInt(e.item.width.width,10)>100?100/e.item.columns:parseInt(e.item.width.width,10)/e.item.columns,s=0;s<e.item.rows;s++){for(var o=B("tr"),a=0;a<e.item.columns;a++){var l=B("td");l.appendChild(B("br")),l.style.width=n+"%",o.appendChild(l)}i.appendChild(o)}if(t.appendChild(i),e.item.selection.restore(),Pt.Insert(this.parent.currentDocument,t,this.parent.editableElement),e.item.selection.setSelectionText(this.parent.currentDocument,t.querySelector("td"),t.querySelector("td"),0,0),t.nextElementSibling===null&&!t.classList.contains("ignore-table")){var h=void 0;e.enterAction==="DIV"?(h=B("div"),h.appendChild(B("br"))):e.enterAction==="BR"?h=B("br"):(h=B("p"),h.appendChild(B("br"))),this.insertAfter(h,t)}return t.classList.contains("ignore-table")&&t.classList.remove("ignore-table"),t.querySelector("td").classList.add("e-cell-select"),e.callBack&&e.callBack({requestType:"Table",editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:[t]}),t},r.prototype.calculateStyleValue=function(e){var t;return typeof e=="string"&&(e.indexOf("px")>=0||e.indexOf("%")>=0||e.indexOf("auto")>=0)?t=e:t=e+"px",t},r.prototype.insertAfter=function(e,t){t.parentNode.insertBefore(e,t.nextSibling)},r.prototype.getSelectedCellMinMaxIndex=function(e){for(var t=this.curTable.querySelectorAll(".e-cell-select"),i=0,n=e.length,s=0,o=e[0].length,a=0,l=0;i<t.length;i++){var h=this.getCorrespondingIndex(t[i],e),c=this.FindIndex(h[0],h[1],e);n=Math.min(h[0],n),s=Math.max(c[0],s),o=Math.min(h[1],o),a=Math.max(c[1],a)}return{startRow:n,endRow:s,startColumn:o,endColumn:a}},r.prototype.insertRow=function(e){var t=e.item.subCommand!=="InsertRowBefore",i=e.item.selection.range.startContainer;if(i.nodeName==="TH"||i.nodeName==="TD"||(i=S(i.parentElement,"td,th")),!(i.nodeName.toLowerCase()==="th"&&e.item.subCommand==="InsertRowBefore")){if(this.curTable=S(this.parent.nodeSelection.range.startContainer.parentElement,"table"),this.curTable.querySelectorAll(".e-cell-select").length===0){var n=this.curTable.rows[this.curTable.rows.length-1],s=n.cloneNode(!0);s.removeAttribute("rowspan"),this.insertAfter(s,n)}else{for(var o=this.getCorrespondingColumns(),a=this.getSelectedCellMinMaxIndex(o),l=t?a.endRow:a.startRow,h=B("tr"),c=this.curTable.querySelectorAll("th.e-cell-select").length>0,p=0;p<o[l].length;p++)if(t&&l<o.length-1&&o[l][p]===o[l+1][p]||!t&&0<l&&o[l][p]===o[l-1][p])(p===0||0<p&&o[l][p]!==o[l][p-1])&&o[l][p].setAttribute("rowspan",(parseInt(o[l][p].getAttribute("rowspan"),10)+1).toString());else{var d=B("td");d.appendChild(B("br")),h.appendChild(d),d.setAttribute("style",o[c&&t&&o[l+1]?l+1:l][p].getAttribute("style"))}var f=void 0;c&&t?f=this.curTable.querySelector("tbody").childNodes[0]:f=this.curTable.rows[l],e.item.subCommand==="InsertRowBefore"||c?f.parentElement.insertBefore(h,f):this.insertAfter(h,f)}e.item.selection.setSelectionText(this.parent.currentDocument,e.item.selection.range.startContainer,e.item.selection.range.startContainer,0,0),e.callBack&&e.callBack({requestType:e.item.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})}},r.prototype.insertColumn=function(e){var t=e.item.selection.range.startContainer;t.nodeName==="TH"||t.nodeName==="TD"||(t=S(t.parentElement,"td,th"));for(var i=S(t,"tr"),n,s=S(i,"table").rows,o=Array.prototype.slice.call(i.querySelectorAll(":scope > td, :scope > th")).indexOf(t),a=parseInt(e.item.width,10)/i.querySelectorAll(":scope > td, :scope > th").length,l=parseInt(e.item.width,10)/(i.querySelectorAll(":scope > td, :scope > th").length+1),h=S(i,"table"),c=S(i,"table").querySelectorAll("th,td"),p=0;p<c.length;p++)c[p].dataset.oldWidth=c[p].offsetWidth/h.offsetWidth*100+"%";for(var p=0;p<s.length;p++){n=s[p].querySelectorAll(":scope > td, :scope > th")[o];var d=n.cloneNode(!0);d.innerHTML="",d.appendChild(B("br")),d.removeAttribute("class"),d.removeAttribute("colspan"),d.removeAttribute("rowspan"),e.item.subCommand==="InsertColumnLeft"?n.parentElement.insertBefore(d,n):this.insertAfter(d,n),d.style.width=l.toFixed(4)+"%",delete d.dataset.oldWidth}for(var p=0;p<c.length;p++)c[p].style.width=(Number(c[p].dataset.oldWidth.split("%")[0])*l/a).toFixed(4)+"%",delete c[p].dataset.oldWidth;e.item.selection.setSelectionText(this.parent.currentDocument,t,t,0,0),e.callBack&&e.callBack({requestType:e.item.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},r.prototype.deleteColumn=function(e){var t=e.item.selection.range.startContainer;t.nodeType===3&&(t=S(t.parentElement,"td,th"));var i=S(t,t.tagName==="TH"?"thead":"tbody"),n=i&&Array.prototype.indexOf.call(i.childNodes,t.parentNode);this.curTable=S(t,"table");var s=S(t,"tr");if(s.querySelectorAll("th,td").length===1)e.item.selection.restore(),w(S(t.parentElement,"table"));else{for(var o=void 0,a=this.getCorrespondingColumns(),l=this.getSelectedCellMinMaxIndex(a),h=l.startColumn,c=l.endColumn,p=0;p<a.length;p++)for(var d=a[p],f=0;f<d.length;f++){var m=d[f],g=this.getCorrespondingIndex(m,a),v=parseInt(m.getAttribute("colspan"),10)||1;g[1]+(v-1)>=h&&g[1]<=c&&(v>1?m.setAttribute("colspan",(v-1).toString()):(w(m),o=f,N.isIE&&(e.item.selection.setSelectionText(this.parent.currentDocument,this.curTable.querySelector("td"),this.curTable.querySelector("td"),0,0),this.curTable.querySelector("td, th").classList.add("e-cell-select"))))}if(o>-1){var O=i.children[n],C=O&&O.children[o<=O.children.length-1?o:o-1];C&&(e.item.selection.setSelectionText(this.parent.currentDocument,C,C,0,0),C.classList.add("e-cell-select"))}}if(e.callBack){var x=this.parent.nodeSelection.getRange(this.parent.currentDocument).startContainer;if(x.nodeName!=="TD"){var M=this.parent.nodeSelection.getRange(this.parent.currentDocument).startOffset,k=x.children[M];k&&this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,k,0)}e.callBack({requestType:e.item.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})}},r.prototype.deleteRow=function(e){var t=e.item.selection.range.startContainer;t.nodeType===3&&(t=S(t.parentElement,"td,th"));var i=Array.prototype.indexOf.call(t.parentNode.childNodes,t);this.curTable=S(t,"table");var n,s=this.getCorrespondingColumns(),o=this.getSelectedCellMinMaxIndex(s),a,l;if(this.curTable.rows.length===1)e.item.selection.restore(),w(S(t.parentElement,"table"));else for(a=o.endRow;a>=o.startRow;a--){for(n=this.curTable.rows[a],l=0;l<s[a].length;l++){if((l===0||s[a][l]!==s[a][l-1])&&1<parseInt(s[a][l].getAttribute("rowspan"),10)){var h=parseInt(s[a][l].getAttribute("rowspan"),10)-1;if(h===1){s[a][l].removeAttribute("rowspan");var c=this.getMergedRow(this.getCorrespondingColumns())[l];if(c){var p=c.cloneNode(!0);p.innerHTML="<br>",c.parentElement&&c.parentElement.insertBefore(p,c)}}else s[a][l].setAttribute("rowspan",h.toString())}if(a<s.length-1&&s[a][l]===s[a+1][l]&&(a===0||s[a][l]!==s[a-1][l])){var d=s[a][l],f=void 0;for(f=l;0<f&&s[a][f]===s[a][f-1];f--)f===0?this.curTable.rows[a+1].prepend(d):s[a+1][f-1].insertAdjacentElement("afterend",d)}}var m=n.rowIndex;this.curTable.deleteRow(m);var g=u(this.curTable.rows[m])?this.curTable.querySelectorAll("tbody tr")[m-1]:this.curTable.querySelectorAll("tbody tr")[m],v=g&&g.querySelectorAll("td")[i];v?(e.item.selection.setSelectionText(this.parent.currentDocument,v,v,0,0),v.classList.add("e-cell-select")):(e.item.selection.setSelectionText(this.parent.currentDocument,this.curTable.querySelector("td"),this.curTable.querySelector("td"),0,0),this.curTable.querySelector("td, th").classList.add("e-cell-select"))}e.callBack&&e.callBack({requestType:e.item.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},r.prototype.getMergedRow=function(e){for(var t,i=0;i<e.length;i++)e[i].length!==this.curTable.rows[0].childNodes.length&&(t=e[i]);return t},r.prototype.removeTable=function(e){var t=e.item.selection.range.startContainer;t=t.nodeType===3?t.parentNode:t;var i=S(t.parentElement,"table");i&&(e.item.selection.restore(),w(i)),e.callBack&&e.callBack({requestType:e.item.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},r.prototype.tableHeader=function(e){var t=!1,i=e.item.selection.range.startContainer;i=i.nodeType===3?i.parentNode:i;var n=S(i.parentElement,"table");if([].slice.call(n.childNodes).forEach(function(d){d.nodeName==="THEAD"&&(t=!0)}),n&&!t){for(var s=n.querySelector("tr").childElementCount,o=0,a=0;a<s;a++)o=o+(parseInt(n.querySelector("tr").children[a].getAttribute("colspan"),10)||1);for(var l=n.createTHead(),h=l.insertRow(0),c=0;c<o;c++){var p=B("th");p.appendChild(B("br")),h.appendChild(p)}}else n.deleteTHead();e.callBack&&e.callBack({requestType:e.item.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},r.prototype.tableVerticalAlign=function(e){var t="";switch(e.item.subCommand){case"AlignTop":t="top";break;case"AlignMiddle":t="middle";break;case"AlignBottom":t="bottom";break}e.item.tableCell.style.verticalAlign=t,t&&t!==""&&e.item.tableCell.getAttribute("valign")&&e.item.tableCell.removeAttribute("valign"),e.callBack&&e.callBack({requestType:e.item.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},r.prototype.cellMerge=function(e){u(this.curTable)&&(this.curTable=S(this.parent.nodeSelection.range.startContainer.parentElement,"table"));var t=this.curTable.querySelectorAll(".e-cell-select");if(!(t.length<2)){this.mergeCellContent();var i=this.getSelectedMinMaxIndexes(this.getCorrespondingColumns()),n=t[0],s=n.parentElement.querySelectorAll(".e-cell-select");i.startColumn<i.endColumn&&n.setAttribute("colspan",(i.endColumn-i.startColumn+1).toString()),i.startRow<i.endRow&&n.setAttribute("rowspan",(i.endRow-i.startRow+1).toString());for(var o=0,a,l=s.length-1;l>=0;l--)if(!u(s[l].style.width)&&s[l].style.width!==""){if(!a){var h=s[l].style.width.match(/^([\d.]+)([a-z%]+)$/i);a=h?h[2]:"%"}o=o+parseFloat(s[l].style.width)}else o=o+s[l].offsetWidth/this.curTable.offsetWidth*100,a="%";n.style.width=o+a;for(var c=1;c<=t.length-1;c++)w(t[c]);for(var c=0;c<this.curTable.rows.length;c++)this.curTable.rows[c].innerHTML===""&&w(this.curTable.rows[c]);this.updateRowSpanStyle(i.startRow,i.endRow,this.getCorrespondingColumns()),this.updateColSpanStyle(i.startColumn,i.endColumn,this.getCorrespondingColumns()),e.item.selection.setSelectionText(this.parent.currentDocument,e.item.selection.range.startContainer,e.item.selection.range.startContainer,0,0),this.parent.nodeSelection&&n&&this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,n,0),e.callBack&&e.callBack({requestType:e.item.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})}},r.prototype.updateColSpanStyle=function(e,t,i){var n,s,o,a=0,l,h=0,c=i;if(e<(t=Math.min(t,c[0].length-1))){for(s=e;s<=t;s++)if(!(e<s&&c[0][s]===c[0][s-1])&&1<(a=Math.min(parseInt(c[0][s].getAttribute("colspan"),10)||1,t-e+1))&&c[0][s]===c[0][s+1])for(h=a-1,n=1;n<c.length;n++){if(c[n][s]!==c[n-1][s]){for(o=s;o<s+a;o++)if(1<(l=parseInt(c[n][o].getAttribute("colspan"),10)||1)&&c[n][o]===c[n][o+1])o+=h=Math.min(h,l-1);else if(!(h=Math.max(0,h-1)))break}if(!h)break}h&&this.updateCellAttribute(c,h,"colspan",0,c.length-1,e,t)}},r.prototype.updateRowSpanStyle=function(e,t,i){var n,s,o,a=0,l,h=0,c=i;if(e<(t=Math.min(t,c.length-1))){for(n=e;n<=t;n++)if(!(e<n&&c[n][0]===c[n-1][0])&&c[n][0]&&1<(a=Math.min(parseInt(c[n][0].getAttribute("rowspan"),10)||1,t-e+1))&&c[n][0]===c[n+1][0]){for(h=a-1,s=1;s<c[0].length;s++)if(c[n][s]!==c[n][s-1]){for(o=n;o<n+a;o++)if(1<(l=parseInt(c[o][s].getAttribute("rowspan"),10)||1)&&c[o][s]===c[o+1][s])o+=h=Math.min(h,l-1);else if(!(h=Math.max(0,h-1)))break;if(!h)break}}h&&this.updateCellAttribute(c,h,"rowspan",e,t,0,c[0].length-1)}},r.prototype.updateCellAttribute=function(e,t,i,n,s,o,a){var l,h,c;for(l=n;l<=s;l++)for(h=o;h<=a;h++)n<l&&e[l][h]===e[l-1][h]||o<h&&e[l][h]===e[l][h-1]||1<(c=parseInt(e[l][h].getAttribute(i),10)||1)&&(1<c-t?e[l][h].setAttribute(i,(c-t).toString()):e[l][h].removeAttribute(i))},r.prototype.mergeCellContent=function(){for(var e=this.curTable.querySelectorAll(".e-cell-select"),t=e[0].innerHTML==="<br>"?"":e[0].innerHTML,i=1;i<e.length;i++)e[i].innerHTML!=="<br>"&&(t=t?t+"<br>"+e[i].innerHTML:t+e[i].innerHTML);e[0].innerHTML=t},r.prototype.getSelectedMinMaxIndexes=function(e){var t=this.curTable.querySelectorAll(".e-cell-select");if(0<t.length){for(var i=e.length,n=0,s=e[0].length,o=0,a=0;a<t.length;a++){var l=this.getCorrespondingIndex(t[a],e),h=this.FindIndex(l[0],l[1],e);i=Math.min(l[0],i),n=Math.max(h[0],n),s=Math.min(l[1],s),o=Math.max(h[1],o)}return{startRow:i,endRow:n,startColumn:s,endColumn:o}}return null},r.prototype.HorizontalSplit=function(e){var t=e.item.selection.range.startContainer;if(this.curTable=S(t.parentElement,"table"),!(this.curTable.querySelectorAll(".e-cell-select").length>1)){this.activeCell=this.curTable.querySelector(".e-cell-select");var i=this.activeCell.cloneNode(!0);i.removeAttribute("class"),i.innerHTML="</br>";var n=this.getCorrespondingIndex(this.activeCell,this.getCorrespondingColumns()),s=this.getCorrespondingColumns(),o=this.activeCell.getAttribute("rowspan")?parseInt(this.activeCell.getAttribute("rowspan"),10):1;if(o>1){var a=Math.ceil(o/2);1<a?this.activeCell.setAttribute("rowspan",a.toString()):this.activeCell.removeAttribute("rowspan"),1<o-a?i.setAttribute("rowspan",(o-a).toString()):i.removeAttribute("rowspan");var l=void 0,h=void 0;for(l=n[0]+Math.ceil(o/2),h=n[1]===0?n[1]:n[1]-1;0<=h&&(s[l][h]===s[l][h-1]||0<l&&s[l][h]===s[l-1][h]);)h--;h===-1?this.curTable.rows[l].firstChild?this.curTable.rows[l].prepend(i):this.curTable.appendChild(i):s[l][h].insertAdjacentElement("afterend",i)}else{var c=B("tr");c.appendChild(i);for(var p=s[n[0]],d=0;d<=p.length-1;d++)p[d]!==p[d-1]&&p[d]!==this.activeCell&&p[d].setAttribute("rowspan",((parseInt(p[d].getAttribute("rowspan"),10)?parseInt(p[d].getAttribute("rowspan"),10):1)+1).toString());this.activeCell.parentNode.insertAdjacentElement("afterend",c)}e.callBack&&e.callBack({requestType:e.item.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})}},r.prototype.VerticalSplit=function(e){var t=e.item.selection.range.startContainer;if(this.curTable=S(t.parentElement,"table"),!(this.curTable.querySelectorAll(".e-cell-select").length>1)){this.activeCell=this.curTable.querySelector(".e-cell-select");var i=this.curTable.rows,n=this.activeCell.cloneNode(!0);n.removeAttribute("class"),n.innerHTML="</br>";var s=parseFloat(this.activeCell.style.width)/2;if(this.activeCell.tagName==="TH"&&isNaN(s)){for(var o=this.curTable.querySelector("tr").childElementCount,a=0,l=0;l<o;l++)a=a+(parseInt(this.curTable.querySelector("tr").children[l].getAttribute("colspan"),10)||1);s=parseFloat((this.activeCell.offsetWidth/2/this.curTable.offsetWidth*100).toFixed(1))}var h=this.getCorrespondingIndex(this.activeCell,this.getCorrespondingColumns()),c=this.getCorrespondingColumns(),p=parseInt(this.activeCell.getAttribute("colspan"),10);if(p>1)1<Math.ceil(p/2)?this.activeCell.setAttribute("colspan",(p/2).toString()):this.activeCell.removeAttribute("colspan"),1<p-p/2?n.setAttribute("colspan",(p-p/2).toString()):n.removeAttribute("colspan");else for(var l=0;l<=i.length-1;l++)if(l===0||c[l][h[1]]!==c[l-1][h[1]]){var d=c[l][h[1]];d!==this.activeCell&&d.setAttribute("colspan",((parseInt(d.getAttribute("colspan"),10)?parseInt(d.getAttribute("colspan"),10):1)+1).toString())}this.activeCell.style.width=s+"%",n.style.width=s+"%",this.activeCell.parentNode.insertBefore(n,this.activeCell.nextSibling),e.callBack&&e.callBack({requestType:e.item.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})}},r.prototype.getCorrespondingColumns=function(){for(var e=[],t=this,i=0,n=t.curTable.rows,s=0;s<=n.length-1;s++)for(var o=n[s],a=0,l=0;l<=o.children.length-1;l++){for(var h=o.children[l],c=h,p=parseInt(c.getAttribute("colspan"),10)||1,d=parseInt(c.getAttribute("rowspan"),10)||1,f=s;f<s+d;f++)for(var m=a;m<a+p;m++)e[f]||(e[f]=[]),e[f][m]?a++:e[f][m]=h;a+=i}return e},r.prototype.FindIndex=function(e,t,i){var n,s;for(n=e+1,s=t+1;n<i.length;){if(i[n][t]!==i[e][t]){n--;break}n++}for(n===i.length&&n--;s<i[e].length;){if(i[e][s]!==i[e][t]){s--;break}s++}return s===i[e].length&&s--,[n,s]},r.prototype.getCorrespondingIndex=function(e,t){for(var i=0;i<t.length;i++)for(var n=0;n<t[i].length;n++)if(t[i][n]===e)return[i,n];return[]},r.prototype.highlightCells=function(e,t,i,n,s){var o,a,l,h,c=e,p=t,d=i,f=n,m=new zj;for(o=c;o<=p;o++){for(((1<(parseInt(s[o][d].getAttribute("rowspan"),10)||1)||1<(parseInt(s[o][d].getAttribute("colspan"),10)||1))&&(h=this.FindIndex((l=this.getCorrespondingIndex(s[o][d],s))[0],l[1],s))||(1<(parseInt(s[o][f].getAttribute("rowspan"),10)||1)||1<(parseInt(s[o][f].getAttribute("colspan"),10)||1))&&(h=this.FindIndex((l=this.getCorrespondingIndex(s[o][f],s))[0],l[1],s)))&&(c=Math.min(l[0],c),p=Math.max(h[0],p),d=Math.min(l[1],d),f=Math.max(h[1],f)),a=d;a<=f;a++)((1<(parseInt(s[c][a].getAttribute("rowspan"),10)||1)||1<(parseInt(s[c][a].getAttribute("colspan"),10)||1))&&(h=this.FindIndex((l=this.getCorrespondingIndex(s[c][a],s))[0],l[1],s))||(1<(parseInt(s[p][a].getAttribute("rowspan"),10)||1)||1<(parseInt(s[p][a].getAttribute("colspan"),10)||1))&&(h=this.FindIndex((l=this.getCorrespondingIndex(s[p][a],s))[0],l[1],s)))&&(c=Math.min(l[0],c),p=Math.max(h[0],p),d=Math.min(l[1],d),f=Math.max(h[1],f));m=c===e&&p===t&&d===i&&f===n?{startRow:e,endRow:t,startColumn:i,endColumn:n}:this.highlightCells(c,p,d,f,s)}return m},r.prototype.tableMove=function(e){this.activeCell=e.selectNode[0];var t=e.event.target,i=this.activeCell.tagName,n=t.tagName;if(this.curTable=S(t,"table"),this.curTable.querySelectorAll(".e-cell-select").length>1&&this.parent.nodeSelection.Clear(this.parent.currentDocument),!(t.tagName!=="TD"&&t.tagName!=="TH"&&i!==n)){for(var s=Array.prototype.slice.call(this.activeCell.parentElement.parentElement.children).indexOf(this.activeCell.parentElement),o=Array.prototype.slice.call(this.activeCell.parentElement.children).indexOf(this.activeCell),a=Array.prototype.slice.call(t.parentElement.parentElement.children).indexOf(t.parentElement),l=Array.prototype.slice.call(t.parentElement.children).indexOf(t),h=this.curTable.querySelectorAll(".e-cell-select"),c=h.length-1;c>=0;c--)this.activeCell!==h[c]&&h[c].classList.remove("e-cell-select");if(!(s===a&&o===l)){for(var p=this.getCorrespondingColumns(),d=this.getCorrespondingIndex(this.activeCell,p),f=this.getCorrespondingIndex(t,p),m=this.highlightCells(Math.min(d[0],f[0]),Math.max(d[0],f[0]),Math.min(d[1],f[1]),Math.max(d[1],f[1]),p),g=m.startRow;g<=m.endRow;g++)for(var v=m.startColumn;v<=m.endColumn;v++)p[g][v].classList.add("e-cell-select");this.parent.nodeSelection.range&&(this.parent.nodeSelection.setSelectionText(this.parent.currentDocument,this.parent.nodeSelection.range.endContainer,this.parent.nodeSelection.range.endContainer,0,0),this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,this.parent.nodeSelection.range.endContainer,0))}}},r}();var zj=function(){function r(){}return r}();var Li=function(){function r(){}return r.prototype.getFormattedNode=function(e,t,i){var n=this.getFormatParent(e,t,i);return n!==null&&n!==i?n:null},r.prototype.getFormatParent=function(e,t,i){do e=e.parentNode;while(e&&e!==i&&!this.isFormattedNode(e,t));return e},r.prototype.isFormattedNode=function(e,t){switch(t){case"bold":return r.isBold(e);case"italic":return r.isItalic(e);case"underline":return r.isUnderline(e);case"strikethrough":return r.isStrikethrough(e);case"superscript":return r.isSuperscript(e);case"subscript":return r.isSubscript(e);case"fontcolor":return this.isFontColor(e);case"fontname":return this.isFontName(e);case"fontsize":return this.isFontSize(e);case"backgroundcolor":return this.isBackgroundColor(e);default:return!1}},r.isBold=function(e){var t=["strong","b"];return t.indexOf(e.nodeName.toLowerCase())!==-1?!0:!!(this.inlineTags.indexOf(e.nodeName.toLowerCase())!==-1&&e.style&&e.style.fontWeight==="bold")},r.isItalic=function(e){var t=["em","i"];return t.indexOf(e.nodeName.toLowerCase())!==-1?!0:!!(this.inlineTags.indexOf(e.nodeName.toLowerCase())!==-1&&e.style&&e.style.fontStyle==="italic")},r.isUnderline=function(e){var t=["u"];return t.indexOf(e.nodeName.toLowerCase())!==-1?!0:!!(this.inlineTags.indexOf(e.nodeName.toLowerCase())!==-1&&e.style&&(e.style.textDecoration==="underline"||e.style.textDecorationLine==="underline"))},r.isStrikethrough=function(e){var t=["del","strike"];return t.indexOf(e.nodeName.toLowerCase())!==-1?!0:!!(this.inlineTags.indexOf(e.nodeName.toLowerCase())!==-1&&e.style&&(e.style.textDecoration==="line-through"||e.style.textDecorationLine==="line-through"))},r.isSuperscript=function(e){var t=["sup"];return t.indexOf(e.nodeName.toLowerCase())!==-1},r.isSubscript=function(e){var t=["sub"];return t.indexOf(e.nodeName.toLowerCase())!==-1},r.prototype.isFontColor=function(e){var t=e.style&&e.style.color;return r.inlineTags.indexOf(e.nodeName.toLowerCase())!==-1&&t!==null&&t!==""&&t!==void 0},r.prototype.isBackgroundColor=function(e){var t=e.style&&e.style.backgroundColor;return r.inlineTags.indexOf(e.nodeName.toLowerCase())!==-1&&t!==null&&t!==""&&t!==void 0},r.prototype.isFontSize=function(e){var t=e.style&&e.style.fontSize;return r.inlineTags.indexOf(e.nodeName.toLowerCase())!==-1&&t!==null&&t!==""&&t!==void 0},r.prototype.isFontName=function(e){var t=e.style&&e.style.fontFamily;return r.inlineTags.indexOf(e.nodeName.toLowerCase())!==-1&&t!==null&&t!==""&&t!==void 0},r.inlineTags=["a","abbr","acronym","b","bdo","big","cite","code","dfn","em","font","i","kbd","label","q","samp","small","span","strong","sub","sup","tt","u","var","del"],r}();var Fc=function(){function r(){}return r.applyFormat=function(e,t,i,n,s,o,a){this.enterAction=n;var l=["bold","italic","underline","strikethrough","superscript","subscript","uppercase","lowercase","fontcolor","fontname","fontsize","backgroundcolor"];if(l.indexOf(t)>-1||s==="formatPainter"){t==="backgroundcolor"&&s===""&&(s="transparent");var h=new xt,c=new da(i,e),p=new In,d=new Li,f=h.getRange(e),m=f.startContainer.parentElement;if(f.collapsed&&!u(m)&&m.tagName==="A"&&(f.startOffset===m.textContent.length||f.startOffset===0)){var g=document.createTextNode("");f.startOffset===0?m.parentNode.insertBefore(g,m):u(m.nextSibling)?m.parentNode.appendChild(g):m.parentElement.insertBefore(g,m.nextSibling);var v=e.createRange();f.setStart(g,0),f.setEnd(g,0),f.collapse(!0),h.setRange(e,v)}if(N.userAgent.indexOf("Firefox")!==-1&&f.startContainer===f.endContainer&&!u(i)&&f.startContainer===i){for(var O=f.startContainer.childNodes,C=O[f.startOffset>0?f.startOffset-1:f.startOffset]||f.startContainer,x=f.endContainer.childNodes[f.endOffset>0?f.endOffset-1:f.endOffset]||f.endContainer,M=x.lastChild.nodeName==="BR"?u(x.lastChild.previousSibling)?x:x.lastChild.previousSibling:x.firstChild;!u(M)&&M.nodeName!=="#text"&&M.nodeName!=="IMG"&&M.nodeName!=="BR"&&M.nodeName!=="HR";)M=M.lastChild;h.setSelectionText(e,C,M,0,0),f=h.getRange(e)}var k=h.save(f,e),A=f.collapsed?h.getSelectionNodeCollection(f):h.getSelectionNodeCollectionBr(f),j=!1,U=!1,q=!1,K=!1,oe=["fontcolor","fontname","fontsize","backgroundcolor"].indexOf(t)>-1;if(f.collapsed){var ie=d.getFormattedNode(f.startContainer,t,i),se=u(ie)?null:ie.getAttribute("style")===null?ie.nodeName:ie.nodeName+"[style='"+ie.getAttribute("style")+"']";if(A.length>0)j=!0,f=p.GetCursorRange(e,f,A[0]);else if(f.startContainer.nodeType===3&&(f.startContainer.parentElement.childElementCount>0&&f.startOffset>0&&f.startContainer.parentElement.firstElementChild.tagName.toLowerCase()!=="br"||!u(ie)&&ie===f.startContainer.parentElement.closest(se)&&f.startContainer.parentElement.closest(se).textContent.replace(new RegExp("\u200B","g"),"").trim().length!==0))j=!0,f=p.GetCursorRange(e,f,f.startContainer),A.push(f.startContainer);else{var H=this.insertCursorNode(e,h,f,d,p,t,s,i);h.endContainer=h.startContainer=h.getNodeArray(H,!0);var z=H.nodeName==="BR"&&H.parentNode.childNodes;!u(z)&&z.length===1&&z[0].nodeName==="BR"&&A.length===0?(h.setSelectionText(e,f.startContainer,f.endContainer,0,0),K=!0):h.endOffset=h.startOffset=1,H.nodeName==="BR"&&H.parentNode.textContent.length===0&&(K=!0)}}q=f.collapsed;for(var Y=!1,P=0;P<A.length;P++){var V=d.getFormattedNode(A[P],t,i);V===null&&(t==="subscript"?(V=d.getFormattedNode(A[P],"superscript",i),Y=V!==null):t==="superscript"&&(V=d.getFormattedNode(A[P],"subscript",i),Y=V!==null)),P===0&&V===null&&(U=!0),V!==null&&(!U||oe)?A[P]=this.removeFormat(A,P,V,q,U,oe,f,p,t,s,h,i,c):A[P]=this.insertFormat(e,A,P,V,q,U,oe,f,p,t,s,a,c,i),h=this.applySelection(A,h,p,P,j)}gt()&&ki(i,o),K||k.restore(),Y&&this.applyFormat(e,t,i,n)}},r.insertCursorNode=function(e,t,i,n,s,o,a,l){var h=t.getNodeCollection(i),c=new da(l,e),p=h.length>0?h.length>1&&i.startContainer===i.endContainer?this.getCursorFormat(n,h,o,l):n.getFormattedNode(h[0],o,l):null,d=null;if(p){if(d=h[0],p.firstChild.textContent.charCodeAt(0)===8203&&p.firstChild.nodeType===3){var f=new RegExp("\u200B","g"),m=void 0;p.firstChild===d?(d.textContent=p.parentElement&&(c.isBlockNode(p.parentElement)&&p.parentElement.textContent.length<=1?p.parentElement.childElementCount>1:p.childElementCount===0)&&(p.parentElement.textContent.length>1||p.parentElement.firstChild&&p.parentElement.firstChild.nodeType===1)?d.textContent:d.textContent.replace(f,""),m=d):(p.firstChild.textContent=p.firstChild.textContent.replace(f,""),m=p.firstChild);var g=void 0;if(m.textContent.length===0){if(!u(m.previousSibling))d=m.previousSibling,g=m.textContent.length-1,t.setCursorPoint(e,m,g);else if(!u(m.parentElement)&&m.parentElement.textContent.length===0){var v=document.createElement("BR");m.parentElement.appendChild(v),w(m),d=v,t.setCursorPoint(e,d.parentElement,0)}}}["fontcolor","fontname","fontsize","backgroundcolor"].indexOf(o)>-1?(o==="fontcolor"?p.style.color=a:o==="fontname"?p.style.fontFamily=a:o==="fontsize"?p.style.fontSize=a:p.style.backgroundColor=a,d=p):Xe.unwrap(p)}else h.length>1&&i.startOffset>0&&h[0].firstElementChild&&h[0].firstElementChild.tagName.toLowerCase()==="br"&&(h[0].innerHTML=""),h.length===1&&i.startOffset===0&&(h[0].nodeName==="BR"||!u(h[0].nextSibling)&&h[0].nextSibling.nodeName==="BR")&&w(h[0].nodeName==="#text"?h[0].nextSibling:h[0]),d=this.getInsertNode(e,i,o,a).firstChild;return d},r.getCursorFormat=function(e,t,i,n){for(var s,o=0;o<t.length;o++)s=t[o].lastElementChild?t[o].lastElementChild:t[o];return e.getFormattedNode(s,i,n)},r.removeFormat=function(e,t,i,n,s,o,a,l,h,c,p,d,f){var m=null,g=a.startContainer.nodeName==="#text"?a.startContainer.textContent.substring(a.startOffset,a.startContainer.textContent.length):a.startContainer.textContent,v=e[t].textContent;if(a.startContainer===a.endContainer&&a.startOffset===0&&a.endOffset===a.startContainer.length){if(o&&!e[t].contains(i)&&e[t].nodeType===3&&e[t].textContent!==i.textContent){for(var k=e[t].textContent===e[t].wholeText,A=e[t],j=this.GetFormatNode(h,c);A&&A.textContent===A.parentElement.textContent;)A=A.parentElement;if(k&&i.textContent!==A.textContent){var U=[],q=this.getPriorityFormatNode(A,d);return q&&q.textContent===A.textContent&&(A=q),U.push(A),this.applyStyles(U,0,j),e[t]}}}else{var O=[],C=e[t];do O.push(p.getIndex(C)),C=C.parentNode;while(C&&C!==i);if(e[t].nodeName!=="BR"&&(C=m=n&&i.textContent.length-1===a.startOffset?l.SplitNode(a,i,!0):l.GetSpliceNode(a,i)),n){for(var M=m;M.firstChild!==null&&M.firstChild.nodeType!==3;null)M=M.firstChild;M.innerHTML="&#8203;",e[t]=M.firstChild}else{for(;C&&C.childNodes.length>0&&O.length-1>=0&&C.childNodes.length>O[O.length-1];)C=C.childNodes[O[O.length-1]],O.pop();if(e[t].nodeName!=="BR")if(C.nodeType===3&&!(n&&C.nodeValue===""))e[t]=C;else{var x=document.createElement("div");x.innerHTML="&#8203;",C.nodeType!==3?(C.insertBefore(x.firstChild,C.firstChild),e[t]=C.firstChild):(C.parentNode.insertBefore(x.firstChild,C),e[t]=C.previousSibling,C.parentNode.removeChild(C))}}}var K;h==="backgroundcolor"&&(K=i.style.fontSize);var oe;if(h==="fontsize"){var ie=S(e[t].parentElement,"span[style*=background-color]");u(ie)||(oe=ie.style.backgroundColor)}var se=i.getAttribute("style"),H=i.tagName,z;if(H==="A"&&h==="underline")i.style.textDecoration="none",z=[i];else if(Li.inlineTags.indexOf(H.toLowerCase())!==-1&&o&&H.toLocaleLowerCase()!=="span"){var Y=i.style;Y.color&&h==="fontcolor"?i.nodeName==="A"?Y.color=c:Y.color="":Y.backgroundColor&&h==="backgroundcolor"?Y.backgroundColor="":Y.fontSize&&h==="fontsize"?Y.fontSize="":Y.fontFamily&&h==="fontname"&&(Y.fontFamily=""),i.getAttribute("style")===""&&i.removeAttribute("style"),z=[i]}else{z=Xe.unwrap(i);var P=e[t].parentElement;!u(P)&&P.tagName.toLowerCase()!=="li"&&(P=S(P,"li")),!u(P)&&P.tagName.toLowerCase()==="li"&&P.textContent.trim()===e[t].textContent.trim()&&(h==="bold"?P.style.fontWeight="normal":h==="italic"&&(P.style.fontStyle="normal"))}if(z[0]&&!o)for(var A=z[t]?z[t]:z[0],V=A;A&&A.parentElement&&A.parentElement!==d;A=A){var G=void 0;if(i.nodeName==="SPAN"?G=A.parentElement.tagName.toLocaleLowerCase()===i.tagName.toLocaleLowerCase()&&A.parentElement.getAttribute("style")===se:G=A.parentElement.tagName.toLocaleLowerCase()===i.tagName.toLocaleLowerCase(),A.parentElement&&G&&(A.parentElement.childElementCount>1||a.startOffset>1)){if(V.parentElement&&V.parentElement.tagName.toLocaleLowerCase()===i.tagName.toLocaleLowerCase()&&a.startOffset===a.endOffset&&V.nodeType!==1&&!u(V.textContent)&&V.parentElement.childElementCount>1&&(a.setStart(V,0),a.setEnd(V,V.textContent.length),l.SplitNode(a,V.parentElement,!1)),A.parentElement.tagName.toLocaleLowerCase()==="span"&&i.style.textDecoration==="underline"&&A.parentElement.style.textDecoration!=="underline"){A=A.parentElement;continue}Xe.unwrap(A.parentElement),A=!u(A.parentElement)&&!f.isBlockNode(A.parentElement)?V:A.parentElement}else A=A.parentElement}if(z.length>0&&o){for(var te=0;te<z.length;te++)if(z[te].nodeType!==3||z[te].textContent&&z[te].textContent.trim().length>0){z[te]=Xe.Wrap(z[te],this.GetFormatNode(h,c,H,se));var P=e[t].parentElement;!u(P)&&P.tagName.toLowerCase()!=="li"&&(P=S(P,"li")),!u(P)&&P.tagName.toLowerCase()==="li"&&P.textContent.trim()===e[t].textContent.trim()&&h==="fontname"&&(P.style.fontFamily=c),z[te].textContent===g&&(te===0?a.setStartBefore(z[te]):te===z.length-1&&a.setEndAfter(z[te]))}var xe=e[t].parentElement;if(!u(K)&&K!==""&&(xe.style.fontSize=K),!u(oe)&&oe!==""&&(xe.style.backgroundColor=oe),h==="backgroundcolor"&&!u(K)&&K!==""&&xe.parentElement.innerHTML===xe.outerHTML){var Me=xe.parentElement;Me.parentElement.insertBefore(xe,Me),w(Me)}if(h==="fontsize"||h==="fontcolor"){for(var P=e[t].parentElement,Le=e[t].parentElement;!u(Le)&&Le.tagName.toLowerCase()!=="li";)Le=Le.parentElement,P=Le;for(var te=t,rt="";te>=0&&!u(P)&&P.tagName.toLowerCase()==="li"&&P.contains(e[te])&&P.textContent.replace("/\u200B/g","").trim().includes(e[te].textContent.trim());)rt=" "+e[te].textContent.trim()+rt,te--;var kt=!1,oi=0,Gi=!1;if(!u(P)&&P.childNodes)for(var Bi=0;Bi<P.childNodes.length;Bi++)P.childNodes[Bi].nodeName==="OL"&&(oi++,kt=!0);if(!u(P)&&P.tagName.toLowerCase()==="li"&&P.textContent.split("\u200B").join("").trim()===rt.split("\u200B").join("").trim())h==="fontsize"?P.style.fontSize=c:(P.style.color=c,P.style.textDecoration="inherit");else if(!u(P)&&P.tagName.toLowerCase()==="li"&&kt){if(kt&&oi>0)for(var ct=0;ct<P.childNodes.length;ct++)e[t].textContent===P.childNodes[ct].textContent&&e[t].textContent===v&&P.textContent.replace("/\u200B/g","").trim().includes(rt.split("\u200B").join("").trim())&&(Gi=!0);if(Gi){for(var Yr=0;Yr<P.childNodes.length;Yr++)P.childNodes[Yr].nodeName==="OL"&&(P.childNodes[Yr].style.fontSize="initial");h==="fontsize"?P.style.fontSize=c:(P.style.color=c,P.style.textDecoration="inherit")}}}}return e[t]},r.insertFormat=function(e,t,i,n,s,o,a,l,h,c,p,d,f,m){if(s)if(c!=="uppercase"&&c!=="lowercase"){var g=this.getInsertNode(e,l,c,p);t[i]=g.firstChild,h.position=1}else h.position=l.startOffset;else if(n===null&&o||a){if(t[i].nodeName!=="BR"&&(t[i]=h.GetSpliceNode(l,t[i]),t[i].textContent=h.TrimLineBreak(t[i].textContent)),c==="uppercase"||c==="lowercase")t[i].textContent=c==="uppercase"?t[i].textContent.toLocaleUpperCase():t[i].textContent.toLocaleLowerCase();else if(!(a===!0&&p==="")){var g=this.GetFormatNode(c,p);if(p==="formatPainter"||a){for(var v=t[i].parentElement,O=t[i].parentElement;!u(O)&&O.tagName.toLowerCase()!=="li";)O=O.parentElement,v=O;if(c==="fontcolor"||c==="fontname"){var C=t[i].parentElement;if(!u(C)&&C.childNodes)for(var x=0;x<C.childNodes.length;x++){if(this.concatenateTextExcludingList(t,i)===t[i].textContent){var M=void 0;if(C.tagName==="LI"?M=C:C.closest("li")&&(M=C.closest("li")),!u(M))switch(c){case"fontcolor":M.style.color=p;break;case"fontname":M.style.fontFamily=p;break;default:break}}var k=C.childNodes[x];if(k.tagName==="OL"||k.tagName==="UL")switch(c){case"fontcolor":k.style.color="initial";break;case"fontname":k.style.fontFamily="initial";break;default:break}}}if(!u(v)&&v.tagName.toLowerCase()==="li"&&v.textContent.trim()===t[i].textContent.trim()&&(c==="fontsize"?v.style.fontSize=p:c==="fontcolor"?(v.style.color=p,v.style.textDecoration="inherit"):c==="fontname"&&(v.style.fontFamily=p)),p==="formatPainter")return this.insertFormatPainterElem(t,i,l,h,d,f);var A=t[i],j=this.getPriorityFormatNode(A,m);if(!u(j)||a){var U=u(j)?A:j;if(U=!u(j)&&j.style.fontSize!==""?U.firstChild:U,u(j)||c==="fontsize")for(;U;){var q=U.parentElement.textContent.trim()===t[i].textContent.trim(),K=U.parentElement;if(!f.isBlockNode(K)&&q&&!(K.nodeName==="SPAN"&&K.classList.contains("e-img-inner")))U=K;else break}var oe=[];if(c==="fontcolor"){var ie=S(t[i].parentElement,"A");!u(ie)&&ie.firstChild.textContent.trim()===t[i].textContent.trim()&&(U=t[i])}t[i].textContent.trim()!==U.textContent.trim()&&(U=t[i]),oe[0]=U,this.applyStyles(oe,0,g)}else t[i]=this.applyStyles(t,i,g)}else{t[i]=this.applyStyles(t,i,g);var v=t[i].parentElement;!u(v)&&v.tagName.toLowerCase()!=="li"&&(v=S(v,"li")),!u(v)&&v.tagName.toLowerCase()==="li"&&v.textContent.trim()===t[i].textContent.trim()&&(c==="bold"?v.style.fontWeight="bold":c==="italic"&&(v.style.fontStyle="italic"))}}}else t[i]=h.GetSpliceNode(l,t[i]);return t[i]},r.applyStyles=function(e,t,i){return e[t].nodeName==="BR"&&this.enterAction==="BR"||(e[t]=t===e.length-1||e[t].nodeName==="BR"?Xe.Wrap(e[t],i):Xe.WrapBefore(e[t],i,!0),e[t]=this.getChildNode(e[t],i)),e[t]},r.getPriorityFormatNode=function(e,t){var i=new Li,n=i.getFormattedNode(e,"fontsize",t),s,o,a;return u(n)?(o=i.getFormattedNode(e,"backgroundcolor",t),u(o)?(a=i.getFormattedNode(e,"fontname",t),u(a)?(s=i.getFormattedNode(e,"fontcolor",t),u(s)?null:s):a):o):n},r.getInsertNode=function(e,t,i,n){var s=this.GetFormatNode(i,n);if(s.innerHTML="&#8203;",N.isIE){var o=e.createDocumentFragment();o.appendChild(s),t.insertNode(o)}else t.insertNode(s);return s},r.getChildNode=function(e,t){return e==null&&(t.innerHTML="&#8203;",e=t.firstChild),e},r.applySelection=function(e,t,i,n,s){return e.length===1&&!s?(t.startContainer=t.getNodeArray(e[n],!0),t.endContainer=t.startContainer,t.startOffset=0,t.endOffset=e[n].textContent.length):e.length===1&&s?(t.startContainer=t.getNodeArray(e[n],!0),t.endContainer=t.startContainer,t.startOffset=i.position,t.endOffset=i.position):n===0?(t.startContainer=t.getNodeArray(e[n],!0),t.startOffset=0):n===e.length-1&&(t.endContainer=t.getNodeArray(e[n],!1),t.endOffset=e[n].textContent.length),t},r.GetFormatNode=function(e,t,i,n){var s;switch(e){case"bold":return document.createElement("strong");case"italic":return document.createElement("em");case"underline":return s=document.createElement("span"),this.updateStyles(s,i,n),s.style.textDecoration="underline",s;case"strikethrough":return s=document.createElement("span"),this.updateStyles(s,i,n),s.style.textDecoration="line-through",s;case"superscript":return document.createElement("sup");case"subscript":return document.createElement("sub");case"fontcolor":return s=document.createElement("span"),this.updateStyles(s,i,n),s.style.color=t,s.style.textDecoration="inherit",s;case"fontname":return s=document.createElement("span"),this.updateStyles(s,i,n),s.style.fontFamily=t,s;case"fontsize":return s=document.createElement("span"),this.updateStyles(s,i,n),s.style.fontSize=t,s;default:return s=document.createElement("span"),this.updateStyles(s,i,n),s.style.backgroundColor=t,s}},r.updateStyles=function(e,t,i){i!==null&&t==="SPAN"&&e.setAttribute("style",i)},r.insertFormatPainterElem=function(e,t,i,n,s,o){var a=o.isBlockNode(e[t].parentElement)?e[t]:e[t].parentElement;if(!o.isBlockNode(a))for(;a.textContent.trim()===a.parentElement.textContent.trim()&&!o.isBlockNode(a.parentElement);)a=a.parentElement;!u(a)&&a.nodeType===1&&!(a.classList.contains("e-rte-img-caption")||a.classList.contains("e-img-inner"))&&this.formatPainterCleanup(t,e,a,i,n,o);var l=s.element;if(!u(l)){var h=l.cloneNode(!0),c=h.querySelectorAll(s.lastChild.nodeName),p=void 0;c.length>0?p=c[c.length-1]:!u(h)&&h.nodeName===s.lastChild.nodeName&&(p=h),p.textContent=e[t].textContent;var d=p.childNodes[0];e[t]=Xe.Wrap(e[t],h),e[t].textContent="",e[t]=d}return e[t]},r.formatPainterCleanup=function(e,t,i,n,s,o){var a=["A","AUDIO","IMG","VIDEO","IFRAME"];if(e===0&&i.textContent.trim()!==t[e].textContent.trim()){s.SplitNode(n,i,!0);for(var l=t[e].parentElement.childNodes,h=0;h<l.length;h++)if(l[h].textContent.trim()===t[h].textContent.trim()){i.parentNode.insertBefore(l[h],i);break}for(var c=i.parentElement.childNodes,p=0;p<c.length;p++)(c[p].textContent.trim()===""||c[p].textContent.length===0)&&w(c[p])}else if(i.textContent.trim()!==t[e].textContent.trim())i.parentElement.insertBefore(t[e],i);else for(;!u(i)&&i.nodeType!==3&&!o.isBlockNode(i);){for(var d=void 0,h=0;h<i.childNodes.length;h++){var f=i.childNodes[h];f.textContent.trim().length!==0&&f.nodeType!==3&&(d=i.childNodes[h])}a.indexOf(i.tagName)===-1&&Xe.unwrap(i),i=d}},r.concatenateTextExcludingList=function(e,t){for(var i="",n=e[t].parentElement,s=0;s<n.childNodes.length;s++){var o=n.childNodes[s];(o.nodeType===3||o.nodeType===1&&o.tagName!=="OL"&&o.tagName!=="UL")&&(i+=o.textContent)}return i},r.enterAction="P",r}();var mx=function(){function r(e){this.parent=e,this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.observer.on(Vd,this.applySelection,this),this.parent.observer.on(Be,this.keyDownHandler,this)},r.prototype.keyDownHandler=function(e){var t=["bold","italic","underline","strikethrough","superscript","subscript","uppercase","lowercase"];(e.event.ctrlKey||e.event.metaKey)&&t.indexOf(e.event.action)>-1&&(e.event.preventDefault(),Fc.applyFormat(this.parent.currentDocument,e.event.action,this.parent.editableElement,e.enterAction),this.callBack(e,e.event.action))},r.prototype.applySelection=function(e){Fc.applyFormat(this.parent.currentDocument,e.subCommand.toLocaleLowerCase(),this.parent.editableElement,e.enterAction,e.value,e.selector),this.callBack(e,e.subCommand)},r.prototype.callBack=function(e,t){e.callBack&&e.callBack({requestType:t,event:e.event,editorMode:"HTML",range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},r}();var gx=function(){function r(e){this.parent=e,this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.observer.on($d,this.applyHtml,this)},r.prototype.applyHtml=function(e){if(Pt.Insert(this.parent.currentDocument,e.value,this.parent.editableElement,!0,e.enterAction),e.subCommand==="pasteCleanup"){var t=this.parent.editableElement.querySelectorAll(".pasteContent_RTE"),i=[].slice.call(t),n=this.parent.editableElement.querySelectorAll(".pasteContent_Img"),s=[].slice.call(n);e.callBack({requestType:e.subCommand,editorMode:"HTML",elements:i,imgElem:s})}else e.callBack&&e.callBack({requestType:e.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},r}();var vx=function(){function r(){}return r.clear=function(e,t,i,n,s){this.domNode=new da(t,e),this.defaultTag=i==="P"?this.defaultTag:"div";var o=new xt,a=new In,l=o.getRange(e),h=l.collapsed?o.getSelectionNodeCollection(l):o.getSelectionNodeCollectionBr(l),c=o.save(l,e),p=!1;l.collapsed&&s!=="ClearFormat"&&(p=!0,l=a.GetCursorRange(e,l,h[0]));var d=l.collapsed;if(!d){var f=void 0;if(h.length>0&&h[0].nodeName==="BR"&&S(h[0],"table")?f=a.GetSpliceNode(l,S(h[0],"table")):f=a.GetSpliceNode(l,h[h.length>1&&h[0].nodeName==="IMG"?1:0]),h.length===1)o.setSelectionContents(e,f),l=o.getRange(e);else if(h.length>1){for(var m=1,g=h[h.length-m];h.length<=m&&h[h.length-m].nodeName==="BR";)m++,g=h[h.length-m];var v=a.GetSpliceNode(l,g);o.setSelectionText(e,f,v,0,v.nodeType===3?v.textContent.length:v.childNodes.length),l=o.getRange(e)}var O=o.getNodeCollection(l),C=O.slice();this.clearInlines(o.getSelectionNodes(C),C,o.getRange(e),a,t),this.reSelection(e,c,O),l=o.getRange(e),O=o.getNodeCollection(l);var x=O.slice();this.clearBlocks(e,x,t,a,o),gt()&&ki(t,n),this.reSelection(e,c,O)}p&&o.setCursorPoint(e,l.endContainer,l.endOffset)},r.reSelection=function(e,t,i){var n=t.getInsertNodes(i);t.startContainer=t.getNodeArray(n[0],!0,e),t.startOffset=0,t.endContainer=t.getNodeArray(n[n.length-1],!1,e);var s=n[n.length-1];t.endOffset=s.nodeType===3?s.textContent.length:s.childNodes.length,t.restore()},r.clearBlocks=function(e,t,i,n,s){for(var o=[],a=0;a<t.length;a++)this.BLOCK_TAGS.indexOf(t[a].nodeName.toLocaleLowerCase())>-1&&o.indexOf(t[a])===-1?o.push(t[a]):this.BLOCK_TAGS.indexOf(t[a].parentNode.nodeName.toLocaleLowerCase())>-1&&o.indexOf(t[a].parentNode)===-1&&i!==t[a].parentNode&&o.push(t[a].parentNode);o=this.spliceParent(o,t)[0],o=this.removeParent(o),this.unWrap(e,o,n,s)},r.spliceParent=function(e,t){for(var i=0;i<e.length;i++)for(var n=e[i].childNodes.length,s=0;s<n;s++)if(t.indexOf(e[i].childNodes[s])>0&&e[i].childNodes[s].childNodes.length>0&&(t=this.spliceParent([e[i].childNodes[s]],t)[1]),t.indexOf(e[i].childNodes[s])<=-1&&e[i].childNodes[s].textContent.trim()!==""){for(var o=0;o<n;o++)t.indexOf(e[i].childNodes[o])>-1&&t.splice(t.indexOf(e[i].childNodes[o]),1);s=e[i].childNodes.length;var a=e.indexOf(e[i].parentNode),l=t.indexOf(e[i].parentNode);a>-1&&e.splice(a,1),l>-1&&t.splice(l,1);var h=t.indexOf(e[i]);h>-1&&t.splice(h,1),e.splice(i,1),i--}return[e,t]},r.removeChild=function(e,t){var i=t.childNodes.length;if(i>0)for(var n=0;n<i;n++)e.indexOf(t.childNodes[n])>-1&&(e=this.removeChild(e,t.childNodes[n]),e.splice(e.indexOf(t.childNodes[n]),1));return e},r.removeParent=function(e){for(var t=0;t<e.length;t++)e.indexOf(e[t].parentNode)>-1&&(e=this.removeChild(e,e[t]),e.splice(t,1),t--);return e},r.unWrap=function(e,t,i,n){for(var s=0;s<t.length;s++)if(this.NONVALID_TAGS.indexOf(t[s].nodeName.toLowerCase())>-1&&t[s].parentNode&&this.NONVALID_PARENT_TAGS.indexOf(t[s].parentNode.nodeName.toLowerCase())>-1&&(n.setSelectionText(e,t[s],t[s],0,t[s].childNodes.length),Xe.unwrap(i.GetSpliceNode(n.getRange(e),t[s].parentNode))),t[s].nodeName.toLocaleLowerCase()!=="p"){this.NONVALID_PARENT_TAGS.indexOf(t[s].nodeName.toLowerCase())<0&&t[s].parentNode.nodeName.toLocaleLowerCase()!=="p"&&!((t[s].nodeName.toLocaleLowerCase()==="blockquote"||t[s].nodeName.toLocaleLowerCase()==="li")&&this.IGNORE_PARENT_TAGS.indexOf(t[s].childNodes[0].nodeName.toLocaleLowerCase())>-1)&&!(t[s].childNodes.length===1&&t[s].childNodes[0].nodeName.toLocaleLowerCase()==="p")&&Xe.Wrap(t[s],e.createElement(this.defaultTag));var o=Xe.unwrap(t[s]);o.length===1&&o[0].parentNode.nodeName.toLocaleLowerCase()==="p"&&(Xe.Wrap(t[s],e.createElement(this.defaultTag)),Xe.unwrap(t[s]));for(var a=0;a<o.length;a++)if(this.NONVALID_TAGS.indexOf(o[a].nodeName.toLowerCase())>-1)this.unWrap(e,[o[a]],i,n);else if(this.BLOCK_TAGS.indexOf(o[a].nodeName.toLocaleLowerCase())>-1&&o[a].nodeName.toLocaleLowerCase()!=="p"){var l=this.removeParent([o[a]]);this.unWrap(e,l,i,n)}else this.BLOCK_TAGS.indexOf(o[a].nodeName.toLocaleLowerCase())>-1&&o[a].parentNode.nodeName.toLocaleLowerCase()===o[a].nodeName.toLocaleLowerCase()?Xe.unwrap(o[a]):this.BLOCK_TAGS.indexOf(o[a].nodeName.toLocaleLowerCase())>-1&&o[a].nodeName.toLocaleLowerCase()==="p"&&(Xe.Wrap(o[a],e.createElement(this.defaultTag)),Xe.unwrap(o[a]))}else Xe.Wrap(t[s],e.createElement(this.defaultTag)),Xe.unwrap(t[s])},r.clearInlines=function(e,t,i,n,s){for(var o=0;o<e.length;o++){for(var a=e[o],l=void 0;!this.domNode.isBlockNode(a)&&a.parentElement&&!a.parentElement.classList.contains("e-img-inner");)l=a,a=a.parentElement;l&&Li.inlineTags.indexOf(l.nodeName.toLocaleLowerCase())>-1&&(n.GetSpliceNode(i,l),this.removeInlineParent(l))}},r.removeInlineParent=function(e){for(var t=Xe.unwrap(e),i=0;i<t.length;i++)t[i].parentNode.childNodes.length===1&&!t[i].parentNode.classList.contains("e-img-inner")&&Li.inlineTags.indexOf(t[i].parentNode.nodeName.toLocaleLowerCase())>-1?this.removeInlineParent(t[i].parentNode):Li.inlineTags.indexOf(t[i].nodeName.toLocaleLowerCase())>-1&&this.removeInlineParent(t[i])},r.BLOCK_TAGS=["address","article","aside","blockquote","details","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","li","main","nav","noscript","ol","p","pre","section","ul"],r.NONVALID_PARENT_TAGS=["thead","tbody","ul","ol","table","tfoot","tr"],r.IGNORE_PARENT_TAGS=["ul","ol","table"],r.NONVALID_TAGS=["thead","tbody","figcaption","td","tr","th","tfoot","figcaption","li"],r.defaultTag="p",r}();var yx=function(){function r(e){this.parent=e,this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.observer.on(qd,this.applyClear,this),this.parent.observer.on(Be,this.onKeyDown,this)},r.prototype.onKeyDown=function(e){switch(e.event.action){case"clear-format":this.applyClear({subCommand:"ClearFormat",callBack:e.callBack,enterAction:e.enterAction}),e.event.preventDefault();break}},r.prototype.applyClear=function(e){e.subCommand==="ClearFormat"&&(vx.clear(this.parent.currentDocument,this.parent.editableElement,e.enterAction,e.selector,e.subCommand),e.callBack&&e.callBack({requestType:e.subCommand,event:e.event,editorMode:"HTML",range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)}))},r}();var bx=function(){function r(e,t){this.undoRedoStack=[],this.parent=e,this.undoRedoSteps=u(t)?30:t.undoRedoSteps,this.undoRedoTimer=u(t)?300:t.undoRedoTimer,this.addEventListener()}return r.prototype.addEventListener=function(){var e=Ji(this.keyUp,this.undoRedoTimer);this.parent.observer.on(Ci,e,this),this.parent.observer.on(Be,this.keyDown,this),this.parent.observer.on(Lr,this.onAction,this),this.parent.observer.on(Ln,this.onPropertyChanged,this)},r.prototype.onPropertyChanged=function(e){for(var t=0,i=Object.keys(e.newProp);t<i.length;t++){var n=i[t];switch(n){case"undoRedoSteps":this.undoRedoSteps=e.newProp.undoRedoSteps;break;case"undoRedoTimer":this.undoRedoTimer=e.newProp.undoRedoTimer;break}}},r.prototype.removeEventListener=function(){this.parent.observer.off(Ci,this.keyUp),this.parent.observer.off(Be,this.keyDown),this.parent.observer.off(Lr,this.onAction)},r.prototype.onAction=function(e){e.subCommand==="Undo"?this.undo(e):this.redo(e)},r.prototype.destroy=function(){this.removeEventListener()},r.prototype.keyDown=function(e){var t=e.event,i=this;switch(t.action){case"undo":t.preventDefault(),i.undo(e);break;case"redo":t.preventDefault(),i.redo(e);break}},r.prototype.keyUp=function(e){e.event.keyCode!==17&&!e.event.ctrlKey&&this.saveData(e)},r.prototype.getTextContentFromFragment=function(e){for(var t="",i=0;i<e.childNodes.length;i++){var n=e.childNodes[i];n.nodeType===Node.TEXT_NODE?t+=n.textContent:n.nodeType===Node.ELEMENT_NODE&&(t+=this.getTextContentFromFragment(n))}return t},r.prototype.isElementStructureEqual=function(e,t){if(e.childNodes.length!==t.childNodes.length)return!1;for(var i=0;i<e.childNodes.length;i++){var n=e.childNodes[i],s=t.childNodes[i];if(!n||!s||n.nodeType!==s.nodeType||n.outerHTML!==s.outerHTML)return!1}return!0},r.prototype.saveData=function(e){for(var t=new xt().getRange(this.parent.currentDocument),i=this.parent.editableElement===t.startContainer.parentElement?t.startContainer.parentElement:t.startContainer,n=i.childNodes.length-1;n>=0;n--)!u(i.childNodes[n])&&i.childNodes[n].nodeName==="#text"&&i.childNodes[n].textContent.length===0&&i.childNodes[n].nodeName!=="IMG"&&i.childNodes[n].nodeName!=="BR"&&i.childNodes[n].nodeName&&w(i.childNodes[n]);t=new xt().getRange(this.parent.currentDocument);for(var s=new xt().save(t,this.parent.currentDocument),o=this.parent.editableElement.cloneNode(!0),a=document.createDocumentFragment();o.firstChild;)a.appendChild(o.firstChild);var l={text:a,range:s};this.undoRedoStack.length>=this.steps&&(this.undoRedoStack=this.undoRedoStack.slice(0,this.steps+1)),!(this.undoRedoStack.length>1&&this.undoRedoStack[this.undoRedoStack.length-1].range.range.collapsed===t.collapsed&&this.undoRedoStack[this.undoRedoStack.length-1].range.startOffset===s.range.startOffset&&this.undoRedoStack[this.undoRedoStack.length-1].range.endOffset===s.range.endOffset&&this.undoRedoStack[this.undoRedoStack.length-1].range.range.startContainer===s.range.startContainer&&this.getTextContentFromFragment(this.undoRedoStack[this.undoRedoStack.length-1].text).trim()===this.getTextContentFromFragment(l.text).trim()&&this.isElementStructureEqual(this.undoRedoStack[this.undoRedoStack.length-1].text,l.text))&&(this.undoRedoStack.push(l),this.steps=this.undoRedoStack.length-1,this.steps>this.undoRedoSteps&&(this.undoRedoStack.shift(),this.steps--),e&&e.callBack&&e.callBack())},r.prototype.undo=function(e){if(this.steps>0){var t=this.undoRedoStack[this.steps-1].range,i=this.undoRedoStack[this.steps-1].text;this.parent.editableElement.innerHTML="",this.parent.editableElement.appendChild(i.cloneNode(!0)),this.parent.editableElement.focus(),gt()&&ki(this.parent.editableElement,e.selector),t.restore(),this.steps--,e.callBack&&e.callBack({requestType:"Undo",editorMode:"HTML",range:t,elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument),event:e.event})}},r.prototype.redo=function(e){if(this.undoRedoStack[this.steps+1]!=null){var t=this.undoRedoStack[this.steps+1].range,i=this.undoRedoStack[this.steps+1].text;this.parent.editableElement.innerHTML="",this.parent.editableElement.appendChild(i.cloneNode(!0)),this.parent.editableElement.focus(),gt()&&ki(this.parent.editableElement,e.selector),t.restore(),this.steps++,e.callBack&&e.callBack({requestType:"Redo",editorMode:"HTML",range:t,elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument),event:e.event})}},r.prototype.getUndoStatus=function(){var e={undo:!1,redo:!1};return this.steps>0&&(e.undo=!0),this.undoRedoStack[this.steps+1]!=null&&(e.redo=!0),e},r}();var Ox=function(){function r(e){this.olData=["decimal","lower-alpha","lower-roman","upper-alpha","upper-roman","lower-greek"],this.ulData=["disc","square","circle","disc","square","circle"],this.ignorableNodes=["A","APPLET","B","BLOCKQUOTE","BR","BUTTON","CENTER","CODE","COL","COLGROUP","DD","DEL","DFN","DIR","DIV","DL","DT","EM","FIELDSET","FONT","FORM","FRAME","FRAMESET","H1","H2","H3","H4","H5","H6","HR","I","IMG","IFRAME","INPUT","INS","LABEL","LI","OL","OPTION","P","PARAM","PRE","Q","S","SELECT","SPAN","STRIKE","STRONG","SUB","SUP","TABLE","TBODY","TD","TEXTAREA","TFOOT","TH","THEAD","TITLE","TR","TT","U","UL"],this.blockNode=["div","p","h1","h2","h3","h4","h5","h6","address","blockquote","button","center","dd","dir","dl","dt","fieldset","frameset","hr","iframe","isindex","li","map","menu","noframes","noscript","object","ol","pre","table","tbody","td","tfoot","th","thead","tr","ul","header","article","nav","footer","section","aside","main","figure","figcaption"],this.borderStyle=["border-top","border-right","border-bottom","border-left"],this.upperRomanNumber=["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII","XIII","XIV","XV","XVI","XVII","XVIII","XIX","XX"],this.lowerRomanNumber=["i","ii","iii","iv","v","vi","vii","viii","ix","x","xi","xii","xiii","xiv","xv","xvi","xvii","xviii","xix","xx"],this.lowerGreekNumber=["\u03B1","\u03B2","\u03B3","\u03B4","\u03B5","\u03B6","\u03B7","\u03B8","\u03B9","\u03BA","\u03BB","\u03BC","\u03BD","\u03BE","\u03BF","\u03C0","\u03C1","\u03C3","\u03C4","\u03C5","\u03C6","\u03C7","\u03C8","\u03C9"],this.removableElements=["o:p","style"],this.listContents=[],this.cropImageDimensions=[],this.parent=e,this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.observer.on(gd,this.wordCleanup,this)},r.prototype.wordCleanup=function(e){var t=u(e.allowedStylePropertiesArray)?[]:e.allowedStylePropertiesArray,i=[],n=e.args.clipboardData.getData("text/HTML"),s=e.args.clipboardData.getData("text/rtf"),o=B("p");o.setAttribute("id","MSWord-Content"),o.innerHTML=n,this.addDoubleBr(o);var a=/class='?Mso|style='[^ ]*\bmso-/i,l=/class="?Mso|style="[^ ]*\bmso-/i,h=/(class="?Mso|class='?Mso|class="?Xl|class='?Xl|class=Xl|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument)/gi,c=/style='mso-width-source:/i;if(a.test(n)||l.test(n)||h.test(n)||c.test(n)){var p=this.findSource(o);n=n.replace(/<img[^>]+>/i,""),this.addListClass(o),i=this.cleanUp(o,i),!u(i[0])&&i[0].parentElement.tagName!=="UL"&&i[0].parentElement.tagName!=="OL"&&this.listConverter(i),this.imageConversion(o,s),this.cleanList(o,"UL"),this.cleanList(o,"OL"),this.styleCorrection(o,t),this.removingComments(o),this.removeUnwantedElements(o),this.removeEmptyElements(o),this.removeEmptyAnchorTag(o),this.breakLineAddition(o),this.processMargin(o),this.removeClassName(o),c.test(n)&&this.addTableBorderClass(o),e.callBack(o.innerHTML,this.cropImageDimensions,p)}else e.callBack(o.innerHTML)},r.prototype.addDoubleBr=function(e){var t=e.querySelector(".Apple-interchange-newline");if(!u(t)&&N.userAgent.indexOf("Chrome")!==-1&&t.parentElement.nodeName==="P"&&e!==t.parentElement)for(var i=0;i<e.childNodes.length;i++){var n=e.childNodes[i];if(n.nodeType===Node.COMMENT_NODE&&n.nodeValue.includes("StartFragment")){var s=document.createElement("p");s.innerHTML="<br>";var o=t.parentElement.style.cssText,a=s.getAttribute("style")||"",l=a+o;s.setAttribute("style",l),e.insertBefore(s,n.nextSibling),w(t);break}}},r.prototype.cleanList=function(e,t){for(var i=e.querySelectorAll(t+" div"),n=i.length-1;n>=0;n--){for(var s=i[n].parentNode;i[n].firstChild;)s.insertBefore(i[n].firstChild,i[n]);var o=this.findClosestListElem(i[n]);o&&this.insertAfter(i[n],o)}},r.prototype.insertAfter=function(e,t){t.parentNode.insertBefore(e,t.nextSibling)},r.prototype.findClosestListElem=function(e){for(var t;!u(e);)e=!u(e.closest("ul"))&&e.tagName!=="UL"?e.closest("ul"):e.tagName!=="OL"?e.closest("ol"):null,t=u(e)?t:e;return t},r.prototype.addListClass=function(e){for(var t=e.querySelectorAll("*"),i=0;i<t.length;i++)!u(t[i].getAttribute("style"))&&t[i].getAttribute("style").replace(/ /g,"").replace(`
`,"").indexOf("mso-list:l")>=0&&t[i].className.toLowerCase().indexOf("msolistparagraph")===-1&&t[i].tagName.charAt(0)!=="H"&&t[i].tagName!=="LI"&&t[i].tagName!=="OL"&&t[i].tagName!=="UL"&&t[i].classList.add("msolistparagraph")},r.prototype.addTableBorderClass=function(e){for(var t=e.querySelectorAll("table"),i=!1,n=0;n<t.length;n++){for(var s=0;s<this.borderStyle.length;s++)if(t[n].innerHTML.indexOf(this.borderStyle[s])>=0){i=!0;break}i&&(t[n].classList.add("e-rte-table-border"),i=!1)}},r.prototype.imageConversion=function(e,t){this.checkVShape(e);for(var i=e.querySelectorAll("img"),n=0;n<i.length;n++)!u(i[n].getAttribute("v:shapes"))&&i[n].getAttribute("v:shapes").indexOf("Picture")<0&&i[n].getAttribute("v:shapes").indexOf("\u5716\u7247")<0&&i[n].getAttribute("v:shapes").indexOf("Grafik")<0&&i[n].getAttribute("v:shapes").toLowerCase().indexOf("image")<0&&i[n].getAttribute("v:shapes").indexOf("Graphic")<0&&i[n].getAttribute("v:shapes").indexOf("_x0000_s")<0&&i[n].getAttribute("v:shapes").indexOf("_x0000_i")<0&&i[n].classList.add("e-rte-image-unsupported"),i[n].removeAttribute("v:shapes");i=e.querySelectorAll("img");var s=[],o=[],a=[],l=new RegExp(/([^\S]|^)(((https?\:\/\/)|(www\.))(\S+))/gi);if(i.length>0){for(var n=0;n<i.length;n++)s.push(i[n].getAttribute("src")),a.push(i[n].getAttribute("src").split("/")[i[n].getAttribute("src").split("/").length-1].split(".")[0]);for(var h=this.hexConversion(t),n=0;n<h.length;n++)o.push({base64Data:u(h[n].hex)?null:this.convertToBase64(h[n]),isCroppedImage:h[n].isCroppedImage}),h[n].isCroppedImage&&this.cropImageDimensions.push({goalWidth:h[n].goalWidth,goalHeight:h[n].goalHeight,cropLength:h[n].cropLength,cropTop:h[n].cropTop,cropR:h[n].cropR,cropB:h[n].cropB});i=e.querySelectorAll("img:not(.e-rte-image-unsupported");for(var n=0;n<i.length;n++)s[n].match(l)?i[n].setAttribute("src",s[n]):(!u(o[n])&&!u(o[n].base64Data)?i[n].setAttribute("src",o[n].base64Data):(i[n].removeAttribute("src"),i[n].classList.add("e-rte-image-unsupported")),!u(o[n])&&o[n].isCroppedImage&&i[n].classList.add("e-img-cropped")),i[n].setAttribute("id","msWordImg-"+a[n]);i=e.querySelectorAll(".e-rte-image-unsupported");for(var n=0;n<i.length;n++)i[n].removeAttribute("src")}},r.prototype.checkVShape=function(e){for(var t=e.querySelectorAll("*"),i=0;i<t.length;i++)switch(t[i].nodeName){case"V:SHAPETYPE":w(t[i]);break;case"V:SHAPE":if(t[i].firstElementChild.nodeName==="V:IMAGEDATA"){var n=t[i].firstElementChild.getAttribute("src"),s=B("img");s.setAttribute("src",n),t[i].parentElement.insertBefore(s,t[i]),w(t[i])}break}},r.prototype.convertToBase64=function(e){var t=this.conHexStringToBytes(e.hex),i=this.conBytesToBase64(t),n=e.type?"data:"+e.type+";base64,"+i:null;return n},r.prototype.conBytesToBase64=function(e){for(var t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=e.length,s=0;s<n;s+=3){var o=e.slice(s,s+3),a=o.length,l=[];if(a<3)for(var h=a;h<3;h++)o[h]=0;l[0]=(o[0]&252)>>2,l[1]=(o[0]&3)<<4|o[1]>>4,l[2]=(o[1]&15)<<2|(o[2]&192)>>6,l[3]=o[2]&63;for(var h=0;h<4;h++)h<=a?t+=i.charAt(l[h]):t+="="}return t},r.prototype.conHexStringToBytes=function(e){for(var t=[],i=e.length/2,n=0;n<i;n++)t.push(parseInt(e.substr(n*2,2),16));return t},r.prototype.hexConversion=function(e){var t=/\{\\pict[\s\S]+?\\bliptag\-?\d+(\\blipupi\-?\d+)?(\{\\\*\\blipuid\s?[\da-fA-F]+)?[\s\}]*?/,i=new RegExp("(?:("+t.source+"))([\\da-fA-F\\s]+)\\}","g"),n=e.match(i),s,o=[];if(!u(n)){for(var a=0;a<n.length;a++)if(!(n[a].indexOf("fIsBullet")!==-1&&n[a].indexOf("wzName")===-1)){var l=!1,h=0,c=0,p=0,d=0,f=0,m=0;if(t.test(n[a])){if(n[a].indexOf("\\pngblip")!==-1)s="image/png";else if(n[a].indexOf("\\jpegblip")!==-1)s="image/jpeg";else if(n[a].indexOf("\\emfblip")!==-1)s=null;else continue;l=!!(this.extractCropValue("cropl",n[a])>0&&this.extractCropValue("cropt",n[a])>0||this.extractCropValue("cropr",n[a])>0||this.extractCropValue("cropb",n[a])),l&&(h=this.extractCropValue("wgoal",n[a]),c=this.extractCropValue("hgoal",n[a]),p=this.extractCropValue("cropl",n[a]),d=this.extractCropValue("cropt",n[a]),f=this.extractCropValue("cropr",n[a]),m=this.extractCropValue("cropb",n[a])),o.push({hex:s?n[a].replace(t,"").replace(/[^\da-fA-F]/g,""):null,type:s,isCroppedImage:l,goalWidth:h,goalHeight:c,cropLength:p,cropTop:d,cropR:f,cropB:m})}}}return o},r.prototype.extractCropValue=function(e,t){var i=new RegExp("\\\\pic"+e+"(\\-?\\d+)\\\\").exec(t.replace(/\r\n\\/g,"\\").replace(/\n/g,"\\"))[1];return parseInt(i,10)},r.prototype.removeClassName=function(e){for(var t=e.querySelectorAll("*[class]:not(.e-img-cropped):not(.e-rte-image-unsupported)"),i=0;i<t.length;i++)t[i].removeAttribute("class")},r.prototype.breakLineAddition=function(e){for(var t=e.querySelectorAll("*"),i=0;i<t.length;i++)if(t[i].children.length===0&&t[i].innerHTML==="&nbsp;"&&t[i].innerHTML==="&nbsp;"&&!t[i].closest("li")&&!t[i].closest("td")&&(t[i].nodeName!=="SPAN"||t[i].nodeName==="SPAN"&&u(t[i].previousElementSibling)&&u(t[i].nextElementSibling))){var n=this.findDetachElem(t[i]),s=B("br"),o=n.textContent.length>0&&n.textContent.match(/\u00a0/g)&&n.textContent.match(/\u00a0/g).length>0;!o&&!u(n.parentElement)&&(n.parentElement.insertBefore(s,n),w(n))}},r.prototype.findDetachElem=function(e){var t;return!u(e.parentElement)&&e.parentElement.textContent.trim()===""&&e.parentElement.tagName!=="TD"&&u(e.parentElement.querySelector("img"))?t=this.findDetachElem(e.parentElement):t=e,t},r.prototype.removeUnwantedElements=function(e){var t=e.querySelector("style");u(t)||w(t);for(var i=e.innerHTML,n=0;n<this.removableElements.length;n++){var s=new RegExp("<"+this.removableElements[n]+">","g"),o=new RegExp("</"+this.removableElements[n]+">","g");i=i.replace(s,""),i=i.replace(o,"")}e.innerHTML=i,e.querySelectorAll(":empty")},r.prototype.findDetachEmptyElem=function(e){var t;if(u(e.parentElement))t=null;else{var i=e.parentElement.textContent.length>0&&e.parentElement.textContent.match(/\u00a0/g)&&e.parentElement.textContent.match(/\u00a0/g).length>0;!i&&e.parentElement.textContent.trim()===""&&e.parentElement.getAttribute("id")!=="MSWord-Content"&&!this.hasParentWithClass(e,"MsoListParagraph")&&u(e.parentElement.querySelector("img"))?t=this.findDetachEmptyElem(e.parentElement):t=e}return t},r.prototype.hasParentWithClass=function(e,t){for(var i=e.parentElement;!u(i);){if(i.classList.contains(t))return!0;i=i.parentElement}return!1},r.prototype.removeEmptyElements=function(e){for(var t=e.querySelectorAll(":empty"),i=0;i<t.length;i++){!u(t[i].closest("td"))&&!u(t[i].closest("td").querySelector(".MsoNormal"))&&(t[i].innerHTML="-");var n=!0;if(t[i].tagName==="DIV"&&(n=t[i].style.borderBottom==="none"||t[i].style.borderBottom===""),t[i].tagName!=="IMG"&&t[i].tagName!=="BR"&&t[i].tagName!=="IFRAME"&&t[i].tagName!=="TD"&&t[i].tagName!=="HR"&&n){var s=this.findDetachEmptyElem(t[i]);u(s)||w(s)}}},r.prototype.styleCorrection=function(e,t){var i=e.querySelectorAll("style"),n=[];if(i.length>0){u(i[0].innerHTML.match(/[\S ]+\s+{[\s\S]+?}/gi))?i.length>1&&(n=i[1].innerHTML.match(/[\S ]+\s+{[\s\S]+?}/gi)):n=i[0].innerHTML.match(/[\S ]+\s+{[\s\S]+?}/gi);var s=u(n)?null:this.findStyleObject(n);if(!u(s)){var o=Object.keys(s),a=o.map(function(M){return s[""+M]});a=this.removeUnwantedStyle(a,t),this.filterStyles(e,t);for(var l=void 0,h=!1,c=0;c<o.length;c++){if(o[c].split(".")[0]==="")l=e.getElementsByClassName(o[c].split(".")[1]),h=!0;else{if(o[c].split(".").length===1&&o[c].split(".")[0].indexOf("@")>=0)continue;o[c].split(".").length===1&&o[c].split(".")[0].indexOf("@")<0?l=e.getElementsByTagName(o[c]):l=e.querySelectorAll(o[c])}for(var p=0;p<l.length;p++)if(!(l[p].closest("li")&&o[c]==="p")){var d=l[p].getAttribute("style");if(!u(d)&&d.trim()!==""){var f=a[c].split(";");if(!h)for(var m=0;m<f.length;m++)d.indexOf(f[m].split(":")[0])>=0&&(f.splice(m,1),m--);var g=d+f.join(";")+";";l[p].setAttribute("style",g)}else a[c]=a[c].replace(/text-indent:-(.*?)(?=;|$)/gm,""),l[p].setAttribute("style",a[c])}h=!1}for(var v=["MsoListParagraphCxSpFirst","MsoListParagraphCxSpMiddle","MsoListParagraphCxSpLast"],c=0;c<v.length;c++)if(o.indexOf("li."+v[c])>-1)for(var O=e.querySelectorAll("ol."+v[c]+", ul."+v[c]),p=0;p<O.length;p++){var d=O[p].getAttribute("style");if(!u(d)&&d.trim()!==""&&O[p].style.marginLeft!==""){for(var f=a[o.indexOf("li."+v[c])].split(";"),m=0;m<f.length;m++)if("margin-left".indexOf(f[m].split(":")[0])>=0&&!u(f[m].split(":")[1])&&f[m].split(":")[1].indexOf("in")>=0&&O[p].style.marginLeft.indexOf("in")>=0){var C=parseFloat(f[m].split(":")[1].split("in")[0]),x=parseFloat(O[p].style.marginLeft.split("in")[0]);O[p].style.marginLeft=x-C+"in"}}}}}},r.prototype.filterStyles=function(e,t){for(var i=e.querySelectorAll("*[style]"),n=0;n<i.length;n++){for(var s=i[n].getAttribute("style").split(";"),o="",a=0;a<s.length;a++)t.indexOf(s[a].split(":")[0].trim())>=0&&(o+=s[a]+";");i[n].setAttribute("style",o)}},r.prototype.removeUnwantedStyle=function(e,t){for(var i=0;i<e.length;i++){var n=e[i].split(";");e[i]="";for(var s=0;s<n.length;s++)t.indexOf(n[s].split(":")[0])>=0&&(e[i]+=n[s]+";")}return e},r.prototype.findStyleObject=function(e){for(var t={},i=0;i<e.length;i++){var n=e[i],s=n.replace(/([\S ]+\s+){[\s\S]+?}/gi,"$1"),o=n.replace(/[\S ]+\s+{([\s\S]+?)}/gi,"$1");s=s.replace(/^[\s]|[\s]$/gm,""),o=o.replace(/^[\s]|[\s]$/gm,""),s=s.replace(/\n|\r|\n\r/g,""),o=o.replace(/\n|\r|\n\r/g,"");for(var a=s.split(", "),l=0;l<a.length;l++)t[a[l]]=o}return t},r.prototype.removingComments=function(e){var t=e.innerHTML;t=t.replace(/<!--[\s\S]*?-->/g,""),e.innerHTML=t},r.prototype.cleanUp=function(e,t){for(var i=[],n,s=e.querySelectorAll("*"),o=0;o<s.length;o++){if(this.ignorableNodes.indexOf(s[o].nodeName)===-1||s[o].nodeType===3&&s[o].textContent.trim()===""){i.push(s[o]);continue}else s[o].className&&s[o].className.toLowerCase().indexOf("msolistparagraph")!==-1&&!u(s[o].getAttribute("style"))&&s[o].getAttribute("style").indexOf("mso-list:")>=0&&(s[o].className.indexOf("MsoListParagraphCxSpFirst")>=0&&t.length>0&&t[t.length-1]!==null&&t.push(null),t.push(s[o]));n&&this.blockNode.indexOf(s[o].nodeName.toLowerCase())!==-1&&!(s[o].className&&s[o].className.toLowerCase().indexOf("msolistparagraph")!==-1&&!u(s[o].getAttribute("style"))&&s[o].getAttribute("style").indexOf("mso-list:")>=0)&&t.push(null),this.blockNode.indexOf(s[o].nodeName.toLowerCase())!==-1&&(s[o].className&&s[o].className.toLowerCase().indexOf("msolistparagraph")!==-1&&!u(s[o].getAttribute("style"))&&s[o].getAttribute("style").indexOf("mso-list:")>=0?n=!0:n=!1)}return t.length&&t[t.length-1]!==null&&t.push(null),t},r.prototype.listConverter=function(e){for(var t,i=[],n,s=[],o="",a,l="",h=0;h<e.length;h++){if(e[h]===null){i.push({content:this.makeConversion(s),node:e[h-1]}),s=[];continue}if(e[h].getAttribute("style")&&e[h].getAttribute("style").indexOf("mso-outline-level")!==-1&&e[h].setAttribute("style",e[h].getAttribute("style").replace("mso-outline-level","mso-outline")),o=e[h].getAttribute("style"),o&&o.indexOf("level")!==-1?t=parseInt(o.charAt(o.indexOf("level")+5),null):t=1,o&&o.indexOf("mso-list:")!==-1){var c=void 0;if(o.match(/mso-list:[^;]+;?/)){var p=o.replace(`
`,"").split(" ").join("");c=p.match(/mso-list:[^;]+;?/)[0].split(":l"),n=u(c)?null:parseInt(c[1].split("level")[0],10)}else n=null}this.listContents=[],this.getListContent(e[h]);var d=void 0,f=void 0,m=void 0,g=void 0;if(!u(this.listContents[0])){if(d=this.listContents[0].trim().length>1?"ol":"ul",f=this.getlistStyleType(this.listContents[0],d),d==="ol"&&(h===0||e[h-1]===null)){var v=this.listContents[0].split(".")[0],O=["A","a","I","i","\u03B1","1","1-"];O.indexOf(v)===-1&&(f==="decimal"?isNaN(parseInt(v,10))||(m=parseInt(v,10)):f==="upper-alpha"?m=v.split(".")[0].charCodeAt(0)-64:f==="lower-alpha"?m=v.split(".")[0].charCodeAt(0)-96:f==="upper-roman"?m=this.upperRomanNumber.indexOf(this.listContents[0].split(".")[0])+1:f==="lower-roman"?m=this.lowerRomanNumber.indexOf(this.listContents[0].split(".")[0])+1:f==="lower-greek"&&(m=this.lowerGreekNumber.indexOf(this.listContents[0].split(".")[0])+1))}e[h].style.marginLeft!==""&&(g=e[h].style.marginLeft);for(var C=[],x=1;x<this.listContents.length;x++)C.push(this.listContents[x]);var M=void 0;u(e[h].className)||(M=e[h].className),u(e[h].getAttribute("style"))||(e[h].setAttribute("style",e[h].getAttribute("style").replace("text-align:start;","")),e[h].style.textIndent="",l=e[h].getAttribute("style")),s.push({listType:d,content:C,nestedLevel:t,listFormatOverride:n,class:M,listStyle:l,listStyleTypeName:f,start:m,styleMarginLeft:g})}}for(a=e.shift();a;){for(var k=[],A=0;A<i.length;A++)if(i[A].node===a){for(var j=0;j<i[A].content.childNodes.length;j++)k.push(i[A].content.childNodes[j]);for(var j=0;j<k.length;j++)a.parentElement.insertBefore(k[j],a);break}a.remove(),a=e.shift(),a||(a=e.shift())}},r.prototype.getlistStyleType=function(e,t){var i;if(t==="ol"){var n=e.split(".")[0].charCodeAt(0);switch(!0){case this.upperRomanNumber.indexOf(e.split(".")[0])>-1:i="upper-roman";break;case this.lowerRomanNumber.indexOf(e.split(".")[0])>-1:i="lower-roman";break;case this.lowerGreekNumber.indexOf(e.split(".")[0])>-1:i="lower-greek";break;case(n>64&&n<91):i="upper-alpha";break;case(n>96&&n<123):i="lower-alpha";break;default:i="decimal";break}}else switch(e.split(".")[0]){case"o":i="circle";break;case"\xA7":i="square";break;default:i="disc";break}return i},r.prototype.makeConversion=function(e){for(var t=B("div"),i,n=1,s,o=0,a,l=e[0].listFormatOverride,h=0;h<e.length;h++){for(var c=["MsoListParagraphCxSpFirst","MsoListParagraphCxSpMiddle","MsoListParagraphCxSpLast"],p=!1,d=0;d<c.length;d++)if(c[d].indexOf(e[h].class)>=0){p=!0;break}!u(s)&&h!==0&&e[h-1].listType!==e[h].listType&&!p&&(s=null);var f=B("p",{className:"MsoNormal"});if(f.innerHTML=e[h].content.join(" "),e[h].nestedLevel===1&&(o===0||l!==e[h].listFormatOverride)&&e[h].content)t.appendChild(i=B(e[h].listType,{className:e[h].class})),s=B("li"),s.appendChild(f),i.appendChild(s),i.setAttribute("level",e[h].nestedLevel.toString()),e[h].class!=="msolistparagraph"?i.style.marginLeft=e[h].styleMarginLeft:E([i],"marginLeftIgnore"),i.style.listStyleType=e[h].listStyleTypeName;else if(e[h].nestedLevel===n&&l===e[h].listFormatOverride)!u(s)&&!u(s.parentElement)&&s.parentElement.tagName.toLowerCase()===e[h].listType?(s.parentElement.appendChild(s=B("li")),s.appendChild(f)):u(s)?(i=B(e[h].listType),i.style.listStyleType=e[h].listStyleTypeName,s=B("li"),s.appendChild(f),i.appendChild(s),i.setAttribute("level",e[h].nestedLevel.toString()),t.appendChild(i)):(i=B(e[h].listType),i.style.listStyleType=e[h].listStyleTypeName,s.parentElement.parentElement.appendChild(i),s=B("li"),s.appendChild(f),i.appendChild(s),i.setAttribute("level",e[h].nestedLevel.toString()));else if(e[h].nestedLevel>n)if(u(s))if(e[h].nestedLevel>n&&p){var g=B(e[h].listType);s=B("li"),g.appendChild(s),g.style.listStyleType="none";for(var m=0;m<e[h].nestedLevel-1;m++)s.appendChild(i=B(e[h].listType)),s=B("li"),i.appendChild(s),i.style.listStyleType="none";s.appendChild(f),t.appendChild(g),i.setAttribute("level",e[h].nestedLevel.toString()),i.style.listStyleType=e[h].listStyleTypeName}else t.appendChild(i=B(e[h].listType)),s=B("li"),s.appendChild(f),i.appendChild(s),i.setAttribute("level",e[h].nestedLevel.toString()),e[h].class!=="msolistparagraph"?i.style.marginLeft=e[h].styleMarginLeft:E([i],"marginLeftIgnore"),i.style.listStyleType=e[h].listStyleTypeName;else{for(var m=0;m<e[h].nestedLevel-n;m++)s.appendChild(i=B(e[h].listType)),s=B("li"),m!==e[h].nestedLevel-n-1&&e[h].nestedLevel-n>1&&(s.style.listStyleType="none"),i.appendChild(s);s.appendChild(f),i.setAttribute("level",e[h].nestedLevel.toString()),i.style.listStyleType=e[h].listStyleTypeName}else if(e[h].nestedLevel===1)t.lastChild.tagName.toLowerCase()===e[h].listType?i=t.lastChild:(t.appendChild(i=B(e[h].listType)),i.style.listStyleType=e[h].listStyleTypeName),s=B("li"),s.appendChild(f),i.appendChild(s),i.setAttribute("level",e[h].nestedLevel.toString());else for(a=s;a.parentElement;)if(a=a.parentElement,a.attributes.getNamedItem("level")){if(parseInt(a.attributes.getNamedItem("level").textContent,null)===e[h].nestedLevel&&l===e[h].listFormatOverride){s=B("li"),s.appendChild(f),a.appendChild(s);break}else if(parseInt(a.attributes.getNamedItem("level").textContent,null)===e[h].nestedLevel&&l!==e[h].listFormatOverride){if(i=B(e[h].listType),s=B("li"),i.appendChild(s),e[h].nestedLevel>1)for(var v=0;v<e[h].nestedLevel-1;v++)s.appendChild(i=B(e[h].listType)),s=B("li"),i.appendChild(s),i.style.listStyleType="none";s.appendChild(f),a.appendChild(i),i.setAttribute("level",e[h].nestedLevel.toString()),i.style.listStyleType=e[h].listStyleTypeName;break}else if(e[h].nestedLevel>parseInt(a.attributes.getNamedItem("level").textContent,10)){a.appendChild(i=B(e[h].listType)),s=B("li"),s.appendChild(f),i.appendChild(s),i.setAttribute("level",e[h].nestedLevel.toString()),i.style.listStyleType=e[h].listStyleTypeName;break}}s.setAttribute("class",e[h].class),s.setAttribute("style",u(e[h].listStyle)?"":e[h].listStyle),n=e[h].nestedLevel,l=e[h].listFormatOverride,o++,u(e[h].start&&e[h].start!==1&&e[h].listType==="ol")||i.setAttribute("start",e[h].start.toString())}return t},r.prototype.getListContent=function(e){var t="",i=e.firstElementChild;if(i.textContent.trim()===""&&!u(i.firstElementChild)&&i.firstElementChild.nodeName==="IMG")t=e.innerHTML.trim(),this.listContents.push(""),this.listContents.push(t);else if(i.childNodes.length>0){for(var n=i.querySelectorAll('[style*="mso-list"]'),s=0;s<n.length;s++)n[s].setAttribute("style",n[s].getAttribute("style").replace(/\n/g,""));var o=i.querySelector('span[style="mso-list:Ignore"]');u(o)||(this.listContents.push(o.textContent.trim()),w(o),this.removingComments(e),this.removeUnwantedElements(e))}this.listContents.push(e.innerHTML)},r.prototype.processMargin=function(e){var t=e.querySelectorAll("li");if(t.length>0)for(var i=0;i<t.length;i++)!u(t[i].style.marginLeft)&&!t[i].parentElement.classList.contains("marginLeftIgnore")&&(t[i].style.marginLeft="");var n=e.querySelectorAll("table");if(n.length>0)for(var i=0;i<n.length;i++)!u(n[i].style.marginLeft)&&n[i].style.marginLeft.indexOf("-")>=0&&(n[i].style.marginLeft="");var s=e.querySelectorAll(".marginLeftIgnore li");if(s.length>0){for(var i=0;i<s.length;i++)if(!u(s[i].style.marginLeft)&&s[i].style.marginLeft!==""){var o=s[i].style.marginLeft,a=parseFloat(o.split("in")[0]),l=a-.5;s[i].style.marginLeft=l.toString()+"in"}}},r.prototype.removeEmptyAnchorTag=function(e){for(var t=e.querySelectorAll("a:not([href])"),i=t.length-1;i>=0;i--){for(var n=t[i].parentNode;t[i].firstChild;)n.insertBefore(t[i].firstChild,t[i]);n.removeChild(t[i])}},r.prototype.findSource=function(e){for(var t=e.querySelectorAll("meta"),i=0;i<t.length;i++){var n=t[i],s=n.getAttribute("content"),o=n.getAttribute("name");if(o&&o.toLowerCase().indexOf("generator")>=0&&s&&s.toLowerCase().indexOf("microsoft")>=0){for(var a=0;a<Wd.length;a++)if(s.toLowerCase().indexOf(Wd[a])>=0)return Wd[a]}}return"html"},r}();var Cx=function(){function r(e){this.parent=e,this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.observer.on(Yd,this.insertText,this)},r.prototype.insertText=function(e){var t=document.createTextNode(e.value);Pt.Insert(this.parent.currentDocument,t,this.parent.editableElement),e.callBack&&e.callBack({requestType:e.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},r}();var xy=fd(),Sx=function(){function r(){}return r.get=function(e,t,i,n,s,o){for(var a=JSON.parse(JSON.stringify(xy)),l=JSON.parse(JSON.stringify(xy)),h=new xt,c=h.getRange(e),p=o?[o]:c.collapsed?h.getNodeCollection(c):h.getSelectionNodeCollectionBr(c),d=p.length,f=!1,m=0;m<p.length;m++){for(;p[m].nodeType===3&&c.startContainer.nodeType===3&&p[m].parentNode&&p[m].parentNode.lastElementChild&&p[m].parentNode.lastElementChild.nodeName!=="BR"&&this.getImmediateBlockNode(p[m].parentNode).textContent.replace(/\u200B/g,"").length===0&&c.startContainer.textContent.replace(/\u200B/g,"").length===0&&h.get(e).toString().replace(/\u200B/g,"").length===0;)p[m]=p[m].parentNode.lastElementChild.firstChild,f=!0;f&&p[m]&&(h.setCursorPoint(e,p[m],p[m].textContent.length),f=!1),(p[m].nodeName!=="BR"&&p[m].nodeType!==3||d>1&&p[m].nodeType===3&&p[m].textContent.trim()==="")&&(p.splice(m,1),m--)}for(var m=0;m<p.length;m++)a=this.getFormatParent(e,a,p[m],t,i,n,s),(m===0&&a.bold||!a.bold)&&(l.bold=a.bold),(m===0&&a.insertcode||!a.insertcode)&&(l.insertcode=a.insertcode),(m===0&&a.italic||!a.italic)&&(l.italic=a.italic),(m===0&&a.underline||!a.underline)&&(l.underline=a.underline),(m===0&&a.strikethrough||!a.strikethrough)&&(l.strikethrough=a.strikethrough),(m===0&&a.superscript||!a.superscript)&&(l.superscript=a.superscript),(m===0&&a.subscript||!a.subscript)&&(l.subscript=a.subscript),(m===0&&a.fontcolor||!a.fontcolor)&&(l.fontcolor=a.fontcolor),m===0&&a.fontname?l.fontname=a.fontname:l.fontname=a.fontname===l.fontname?a.fontname:"empty",m===0&&a.fontsize?l.fontsize=a.fontsize:l.fontsize=a.fontsize===l.fontsize?a.fontsize:"empty",(m===0&&a.backgroundcolor||!a.backgroundcolor)&&(l.backgroundcolor=a.backgroundcolor),(m===0&&a.orderedlist||!a.orderedlist)&&(l.orderedlist=a.orderedlist),(m===0&&a.unorderedlist||!a.unorderedlist)&&(l.unorderedlist=a.unorderedlist),(m===0&&a.alignments||!a.alignments)&&(l.alignments=a.alignments),m===0&&a.formats?l.formats=a.formats:l.formats=a.formats===l.formats?a.formats:"empty",(m===0&&a.createlink||!a.createlink)&&(l.createlink=a.createlink),(m===0&&a.numberFormatList||!a.numberFormatList)&&(l.numberFormatList=a.numberFormatList),(m===0&&a.bulletFormatList||!a.bulletFormatList)&&(l.bulletFormatList=a.bulletFormatList),a=JSON.parse(JSON.stringify(xy));return l},r.getImmediateBlockNode=function(e){do e=e.parentNode;while(e&&An.indexOf(e.nodeName.toLocaleLowerCase())<0);return e},r.getFormatParent=function(e,t,i,n,s,o,a){var l=!1,h=!1;if(n.contains(i)||i.nodeType===3&&n.nodeType!==3&&n.contains(i.parentNode))do t=this.isFormattedNode(e,t,i,l,h,s,o,a),(t.orderedlist||t.unorderedlist)&&(l=!0),(t.bulletFormatList||t.numberFormatList)&&(h=!0),i=i.parentNode;while(i&&i!==n);return t},r.isFormattedNode=function(e,t,i,n,s,o,a,l){return t.bold||(t.bold=Li.isBold(i)),t.italic||(t.italic=Li.isItalic(i)),t.underline||(t.underline=Li.isUnderline(i)),t.strikethrough||(t.strikethrough=Li.isStrikethrough(i)),t.superscript||(t.superscript=Li.isSuperscript(i)),t.subscript||(t.subscript=Li.isSubscript(i)),t.fontcolor||(t.fontcolor=this.isFontColor(e,i)),t.fontname||(t.fontname=this.isFontName(e,i,l)),t.fontsize||(t.fontsize=this.isFontSize(e,i,a)),t.backgroundcolor||(t.backgroundcolor=this.isBackgroundColor(i)),!t.orderedlist&&!n&&(t.orderedlist=this.isOrderedList(i)),!t.unorderedlist&&!n&&(t.unorderedlist=this.isUnorderedList(i)),t.alignments||(t.alignments=this.isAlignment(i)),t.formats||(t.formats=this.isFormats(i,o),t.formats==="pre"&&(t.insertcode=!0)),t.createlink||(t.createlink=this.isLink(i)),!t.numberFormatList&&!s&&(t.numberFormatList=this.isNumberFormatList(i)),!t.bulletFormatList&&!s&&(t.bulletFormatList=this.isBulletFormatList(i)),t},r.isFontColor=function(e,t){var i=t.style&&t.style.color;return(i==null||i==="")&&t.nodeType!==3&&(i=this.getComputedStyle(e,t,"color")),i!==null&&i!==""&&i!==void 0?i:null},r.isLink=function(e){return e.nodeName.toLocaleLowerCase()==="a"},r.isBackgroundColor=function(e){var t=e.style&&e.style.backgroundColor;return t!==null&&t!==""&&t!==void 0?t:null},r.isFontSize=function(e,t,i){var n=t.style&&t.style.fontSize;return(n==null||n==="")&&t.nodeType!==3&&t.parentElement.classList.contains("e-content")&&(n=this.getComputedStyle(e,t,"font-size")),n!==null&&n!==""&&n!==void 0&&(i==null||i.indexOf(n)>-1)?n:null},r.isFontName=function(e,t,i){var n=t.style&&t.style.fontFamily;(n==null||n==="")&&t.nodeType!==3&&(n=this.getComputedStyle(e,t,"font-family"));var s=null;return n!==null&&n!==""&&n!==void 0&&(i==null||i.filter(function(o,a){var l=new RegExp(n,"i");(o.replace(/"/g,"").replace(/ /g,"").toLowerCase()===n.replace(/"/g,"").replace(/ /g,"").toLowerCase()||o.split(",")[0]&&!u(o.split(",")[0].trim().match(l))&&o.split(",")[0].trim()===o.split(",")[0].trim().match(l)[0])&&(s=a)})&&s!==null)?s!==null?i[s]:n.replace(/"/g,""):null},r.isOrderedList=function(e){return e.nodeName.toLocaleLowerCase()==="ol"},r.isUnorderedList=function(e){return e.nodeName.toLocaleLowerCase()==="ul"},r.isAlignment=function(e){var t=e.style&&e.style.textAlign;return t==="left"?"justifyleft":t==="center"?"justifycenter":t==="right"?"justifyright":t==="justify"?"justifyfull":null},r.isFormats=function(e,t){return t==null&&An.indexOf(e.nodeName.toLocaleLowerCase())>-1||t!=null&&t.indexOf(e.nodeName.toLocaleLowerCase())>-1?e.nodeName.toLocaleLowerCase():null},r.getComputedStyle=function(e,t,i){return e.defaultView.getComputedStyle(t,null).getPropertyValue(i)},r.isNumberFormatList=function(e){var t=e.style&&e.style.listStyleType;return t==="lower-alpha"?"Lower Alpha":t==="number"?"Number":t==="upper-alpha"?"Upper Alpha":t==="lower-roman"?"Lower Roman":t==="upper-roman"?"Upper Roman":t==="lower-greek"?"Lower Greek":t==="none"?"None":this.isOrderedList(e)?!0:null},r.isBulletFormatList=function(e){var t=e.style&&e.style.listStyleType;return t==="circle"?"Circle":t==="square"?"Square":t==="none"?"None":t==="disc"?"Disc":this.isUnorderedList(e)?!0:null},r}();var Mx=function(){function r(e){this.parent=e,this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.observer.on(bd,this.emojiInsert,this)},r.prototype.emojiInsert=function(e){for(var t=document.createTextNode(e.value),i=this.parent.currentDocument.getSelection(),n=i.getRangeAt(0),s=n.startOffset,o=s-1;o>=s-15;o--){var a=i.focusNode.textContent.substring(o-1,o),l=/:$/.test(a);if(l){this.beforeApplyFormat(!0);break}}var h=/:$/.test(i.focusNode.textContent.charAt(s-1)),c=i.focusNode.textContent.charAt(s-2),p=/\s/.test(c);h&&(p||i.focusOffset===1)&&this.beforeApplyFormat(!0),Pt.Insert(this.parent.currentDocument,t,this.parent.editableElement),e.callBack&&e.callBack({requestType:e.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},r.prototype.beforeApplyFormat=function(e){var t=this.parent.nodeSelection.getRange(this.parent.currentDocument),i=this.parent.nodeSelection.getNodeCollection(t)[0],n=!(i.parentElement.innerHTML.replace(/&nbsp;|<br>/g,"").trim()===":"||i.textContent.trim().indexOf("/")===0),s=i;if(n&&e)for(;s!==this.parent.editableElement;)s=s.parentElement;for(var o=t.startOffset;this.parent.nodeSelection.getRange(document).toString().indexOf(":")===-1;)this.parent.nodeSelection.setSelectionText(document,i,i,o,t.endOffset),o--;var a=this.parent.nodeSelection.getRange(this.parent.currentDocument),l=this.parent.nodeCutter.GetSpliceNode(a,i);l.parentNode.removeChild(l)},r}();var Tx=function(){function r(e,t){this.INVALID_TAGS=["A","AUDIO","IMG","VIDEO","IFRAME"],this.parent=e,this.settings=t,this.addEventListener(),this.setDeniedFormats()}return r.prototype.addEventListener=function(){this.parent.observer.on(Bc,this.actionHandler,this),this.parent.observer.on(Ln,this.onPropertyChanged,this)},r.prototype.onPropertyChanged=function(e){e&&e.module==="formatPainter"&&(u(e.newProp.formatPainterSettings.allowedFormats)||(this.settings.allowedFormats=e.newProp.formatPainterSettings.allowedFormats),u(e.newProp.formatPainterSettings.deniedFormats)||(this.settings.deniedFormats=e.newProp.formatPainterSettings.deniedFormats,this.setDeniedFormats()))},r.prototype.removeEventListener=function(){this.parent.observer.off(Bc,this.actionHandler),this.parent.observer.off(Ln,this.onPropertyChanged)},r.prototype.destroy=function(){this.removeEventListener(),this.INVALID_TAGS=null,this.copyCollection=null,this.deniedFormatsCollection=null,this.newElem=null,this.newElemLastChild=null,this.settings=null,this.parent=null},r.prototype.actionHandler=function(e){if(this.settings.allowedContext=["Text","List","Table"],!u(e)&&!u(e.item)&&!u(e.item.formatPainterAction)){switch(e.item.formatPainterAction){case"format-copy":this.copyAction();break;case"format-paste":this.pasteAction();break;case"escape":this.escapeAction();break}this.callBack(e)}},r.prototype.callBack=function(e){e.callBack&&e.callBack({requestType:"FormatPainter",action:e.item.formatPainterAction,event:e.event,editorMode:"HTML",range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},r.prototype.generateElement=function(){var e=this.copyCollection.slice();e.reverse();for(var t=e.length,i=B("div",{className:"e-format-paste-wrapper"}),n,s=0;s<t;s++){var o=e[s],a=o.attrs,l=o.className,h=o.styles,c=o.tagName,p=B(c);l!==""&&(p.className=l);for(var d=0;d<a.length;d++){var f=a[d].name,m=a[d].value;p.setAttribute(f,m)}for(var g=0;g<h.length;g++){var f=h[g].property,m=h[g].value,v=h[g].priority;p.style.setProperty(f,m,v)}i.childElementCount===0?(i.append(p),n=p):(n.append(p),n=p)}for(var O=this.removeDeniedFormats(i),C=O;C;)C.firstChild===null?(n=C,C=void 0):C=C.firstChild;this.newElem=O,this.newElemLastChild=n},r.prototype.pasteAction=function(){if(u(this.copyCollection)||this.copyCollection.length===0){this.paintPlainTextFormat();return}this.insertFormatNode(this.newElem,this.newElemLastChild)},r.prototype.removeDeniedFormats=function(e){if(!u(this.deniedFormatsCollection)&&this.deniedFormatsCollection.length>0)for(var t=this.deniedFormatsCollection,i=t.length,n=0;n<i;n++){var s=t[n].tag;if(t[n].tag)for(var o=e.querySelectorAll(s),a=0;a<o.length;a++){if(t[n].classes.length>0){for(var l=t[n].classes,h=l.length,c=0;c<h;c++)o[a].classList.contains(l[c])&&L([o[a]],l[c].trim());o[a].classList.length===0&&o[a].removeAttribute("class")}if(t[n].styles.length>0){for(var p=t[n].styles,d=p.length,c=0;c<d;c++)o[a].style.removeProperty(p[c].trim());o[a].style.length===0&&o[a].removeAttribute("style")}if(t[n].attributes.length>0)for(var f=t[n].attributes,m=f.length,c=0;c<m;c++)o[a].removeAttribute(f[c].trim())}}return e.firstElementChild},r.prototype.copyAction=function(){var e=[],t=this.parent.nodeSelection.getRange(this.parent.currentDocument),i=this.parent.nodeSelection,n=t.collapsed?i.getSelectionNodeCollection(t):i.getSelectionNodeCollectionBr(t);if(!(n.length===0&&i.getSelectionNodeCollectionBr(t).length===0)){n=n.length===0?i.getSelectionNodeCollectionBr(t):n;for(var s=n[0].parentElement,o=this.findCurrentContext(s),a=this.settings.allowedFormats.indexOf(";")>-1?this.settings.allowedFormats.split(";"):[this.settings.allowedFormats],l=0;l<a.length;l++)a[l]=a[l].trim();var h=this.getRangeParentElem(o,s),c=h[0],p=h[1];if(o===null&&(o=p),!u(o)&&this.settings.allowedContext.indexOf(o)>-1){t.startContainer.nodeName==="#text"&&(s=t.startContainer.parentElement);var d=s;do{if(a.indexOf(s.nodeName.toLowerCase())>-1){for(var f=s.attributes,m=[],l=0;l<f.length;l++)f[l].name!=="class"&&f[l].name!=="style"&&m.push(f[l]);for(var g=s.className,v=s.style,O=[],l=0;l<v.length;l++){var C=v[l],x=v.getPropertyValue(C),M=v.getPropertyPriority(C);O.push({property:C,value:x,priority:M})}e.push({attrs:m,className:g,styles:O,tagName:s.nodeName})}if(c===s?s=void 0:u(s.parentElement)||(s=s.parentElement),d===s)break}while(!u(s)||s===this.parent.editableElement);this.copyCollection=e}this.generateElement()}},r.prototype.getRangeParentElem=function(e,t){var i=t,n;switch(i.nodeType===3&&(i=i.parentElement),e){case"Table":n=S(i,"td"),u(n)&&(n=S(i,"th"));break;case"List":n=S(i,"li");break;case"Text":n=S(i,"p");break}if(u(n)){var s=this.getNearestBlockParentElement(t);!u(s)&&s!=="UL"&&s!=="OL"&&s!=="LI"&&(n=S(i,s),e="Text")}return e==="List"&&(n=n.parentElement),[n,e]},r.prototype.getNearestBlockParentElement=function(e){var t=e;for(t.nodeType===3&&(t=t.parentNode);t&&t!==this.parent.editableElement;){if(!u(t)&&this.isBlockElement(t))return t.nodeName;t=t.parentNode}return null},r.prototype.isBlockElement=function(e){var t=["P","DIV","UL","OL","LI","H1","H2","H3","H4","H5","H6","ADDRESS","ARTICLE","ASIDE","BLOCKQUOTE","FIGCAPTION","FIGURE","FOOTER","HEADER","HR","MAIN","NAV","SECTION","SUMMARY","PRE"];return t.indexOf(e.nodeName)>-1},r.prototype.escapeAction=function(){this.copyCollection=[]},r.prototype.paintPlainTextFormat=function(){var e=this.parent.nodeSelection.getRange(this.parent.currentDocument),t=this.parent.nodeSelection,i=e.collapsed?t.getSelectionNodeCollection(e):t.getSelectionNodeCollectionBr(e),n;if(i.length>1)for(var s=0;s<i.length;s++)n=this.validateELementTag(i[s]);else n=this.validateELementTag(e.startContainer)&&this.validateELementTag(e.endContainer);n||this.parent.execCommand("Clear","ClearFormat",null,null)},r.prototype.validateELementTag=function(e){return e.nodeType===3&&(e=e.parentElement),this.INVALID_TAGS.indexOf(e.tagName)>-1},r.prototype.findCurrentContext=function(e){var t=S(e,"p"),i=S(e,"li");return t&&!i?"Text":S(e,"li")?!u(t)&&!u(i)&&t.textContent.trim()!==i.textContent.trim()?"Text":"List":S(e,"td")||S(e,"tr")||S(e,"th")?"Table":null},r.prototype.insertFormatNode=function(e,t){var i=e.cloneNode(!0);if(!this.isBlockElement(e)){var n=B("P");n.appendChild(e),i=n.cloneNode(!0)}for(var s=this.parent.editableElement,o=this.parent.currentDocument,a=i.firstChild,l;a;)if(this.isBlockElement(a))a=a.firstChild;else{l=a.parentNode.removeChild(a);break}var h={element:l,lastChild:t};Fc.applyFormat(o,null,s,"P","formatPainter",null,h);var c=this.parent.nodeSelection.getRange(o),p=c.collapsed,d=this.parent.domNode.blockNodes(),f=this.isListCopied();if(f)for(var m=0;m<d.length;m++)S(d[m],"li")&&(d[m]=S(d[m],"li"));var g=!1;d.length===1&&(g=d[0].textContent.trim()===c.toString().trim()),(this.isBlockElement(i)&&p||d.length>1||g)&&this.insertBlockNode(i,c,o,d)},r.prototype.isListCopied=function(){for(var e=!1,t=0;t<this.copyCollection.length;t++)if(this.copyCollection[t].tagName==="OL"||this.copyCollection[t].tagName==="UL"){e=!0;break}return e},r.prototype.insertBlockNode=function(e,t,i,n){var s=this.parent.nodeSelection,o=s.save(t,i);this.parent.domNode.setMarker(o);var a,l,h=!1;(e.nodeName==="UL"||e.nodeName==="OL")&&(l=e.cloneNode(!0),a=l.firstChild);for(var c=u(l)?e:e.firstChild,p=0;p<n.length;p++)if(!(this.INVALID_TAGS.indexOf(n[p].nodeName)>-1||n[p].querySelectorAll("img,audio,video,iframe").length>0)){for(var d=c.cloneNode(!1);n[p].firstChild;)n[p].textContent.trim().length!==0?d.appendChild(n[p].firstChild):n[p].removeChild(n[p].firstChild);if(n[p].nodeName==="TD"||n[p].nodeName==="TH")if(u(l)){n[p].appendChild(d);continue}else if(p===0&&!u(l)){n[p].appendChild(l),l.appendChild(d);continue}else{n[p].appendChild(d);continue}if(u(l)||(h=this.isSameListType(e,n[p])),d.nodeName==="LI"&&!h?this.insertNewList(t,n,p,l,d):h?this.insertSameList(n,p,l,d):n[p].parentNode.replaceChild(d,n[p]),d.nodeName!=="LI"&&(d.parentElement.nodeName==="OL"||d.parentElement.nodeName==="UL")){var f=d.parentElement;if(this.parent.nodeCutter.SplitNode(t,f,!0),u(f.previousElementSibling))f.parentElement.prepend(d);else if(f.previousElementSibling.after(d),d.childNodes.length>1)for(var m=0;m<d.childNodes.length;m++){var g=d.childNodes[m];(g.nodeName==="OL"||g.nodeName==="UL")&&d.after(g)}}}u(a)||w(a),this.cleanEmptyLists();var v=this.parent.domNode.saveMarker(o,null);v.restore()},r.prototype.insertNewList=function(e,t,i,n,s){if(i===0){var o=t[i].nodeName;t[i]=t[i].parentNode.replaceChild(n,t[i]);var a=o==="LI"?n.parentElement:n;if(this.parent.nodeCutter.SplitNode(e,a,!0),t[i].nodeName==="LI"&&!u(a))n.append(s),u(a.parentNode)||a.parentNode.insertBefore(n,a);else if(u(a))n.append(s);else if(!u(a.previousElementSibling)&&a.previousElementSibling.nodeName===n.nodeName){var l=a.previousElementSibling;for(l.append(s);l.firstChild;)n.append(l.firstChild)}else if(!u(a.nextElementSibling)&&a.nextElementSibling.nodeName===n.nodeName){var l=a.nextElementSibling;for(l.prepend(s);l.firstChild;)n.append(l.firstChild)}else n.append(s)}else n.append(s);this.detachEmptyBlockNodes(t[i])},r.prototype.insertSameList=function(e,t,i,n){if(t===0){if(!u(e[t].parentNode)&&(e[t].parentNode.nodeName==="UL"||e[t].parentNode.nodeName==="OL")){if(e.length===1){for(;n.firstChild;)e[t].append(n.firstChild);for(var s=0;s<e[t].parentNode.childNodes.length;s++){var o=e[t].parentNode.childNodes[s];i.append(o.cloneNode(!0))}}else i.append(n);e[t].parentNode.parentNode.replaceChild(i,e[t].parentNode)}}else i.append(n);this.detachEmptyBlockNodes(e[t])},r.prototype.isSameListType=function(e,t){var i=!1,n=S(t,"ol, ul");return!u(n)&&n.querySelectorAll("li").length>0&&(n.nodeName===e.nodeName?i=!0:i=!1),i},r.prototype.cleanEmptyLists=function(){for(var e=this.parent.editableElement.querySelectorAll("ol, ul"),t=0;t<e.length;t++)e[t].textContent.trim()===""&&w(e[t])},r.prototype.setDeniedFormats=function(){var e=[];if(!(u(this.settings)||u(this.settings.deniedFormats))){for(var t=this.settings.deniedFormats.indexOf(";")>-1?this.settings.deniedFormats.split(";"):[this.settings.deniedFormats],i=t.length,n=0;n<i;n++){var s=t[n];if(s!==""){s.trim();var o=this.makeDeniedFormatsCollection(s);u(o)||e.push(o)}}this.deniedFormatsCollection=e}},r.prototype.detachEmptyBlockNodes=function(e){!u(e)&&e.textContent.trim()===""&&w(e)},r.prototype.makeDeniedFormatsCollection=function(e){var t=e.indexOf("("),i=e.indexOf(")"),n=e.indexOf("["),s=e.indexOf("]"),o=e.indexOf("{"),a=e.indexOf("}"),l=[],h="",c="",p="",d=[],f=[],m=[];t>-1&&i>-1&&(l=e.substring(t+1,i).split(" "),d=l[0].split(")")[0].split(",")),n>-1&&s>-1&&(h=e.substring(n+1,s),f=h.split(",")),o>-1&&a>-1&&(c=e.substring(o+1,a),m=c.split(","));var g=[t,n,o];g=g.filter(function(C){return C>-1});var v=g.length,O;return v===1?O=g[0]:v===2?O=Math.min(g[0],g[1]):v===3&&(O=Math.min(g[0],g[1],g[2])),p=e.substring(0,O),p=p.trim(),{tag:p,styles:m,classes:d,attributes:f}},r}();var Nx=function(){function r(e){this.currentDocument=e.document,this.editableElement=e.editableElement,this.nodeSelection=new xt,this.nodeCutter=new In,this.domNode=new da(this.editableElement,this.currentDocument),this.observer=new tn(this),this.listObj=new JN(this),this.formatObj=new ex(this),this.alignmentObj=new ix(this),this.indentsObj=new nx(this),this.linkObj=new tx(this),this.imgObj=new ux(this),this.audioObj=new px(this),this.videoObj=new dx(this),this.selectionObj=new mx(this),this.inserthtmlObj=new gx(this),this.insertTextObj=new Cx(this),this.clearObj=new yx(this),this.tableObj=new fx(this),this.undoRedoManager=new bx(this,e.options),this.msWordPaste=new Ox(this),this.formatPainterEditor=new Tx(this,e.formatPainterSettings),this.emojiPickerObj=new Mx(this),this.wireEvents()}return r.prototype.wireEvents=function(){this.observer.on(Ml,this.editorKeyDown,this),this.observer.on(lo,this.editorKeyUp,this),this.observer.on(lo,this.editorKeyUp,this),this.observer.on(ua,this.onPropertyChanged,this),this.observer.on(PN,this.onWordPaste,this),this.observer.on(vd,this.onBegin,this),this.observer.on(jN,this.editorMouseDown,this)},r.prototype.onWordPaste=function(e){this.observer.notify(gd,e)},r.prototype.onPropertyChanged=function(e){this.observer.notify(Ln,e)},r.prototype.editorKeyDown=function(e){this.observer.notify(Be,e)},r.prototype.editorKeyUp=function(e){this.observer.notify(Ci,e)},r.prototype.onBegin=function(e){this.observer.notify(yd,e)},r.prototype.execCommand=function(e,t,i,n,s,o,a,l){switch(e.toLowerCase()){case"lists":this.observer.notify(md,{subCommand:t,event:i,callBack:n,selector:a,item:o,enterAction:l});break;case"formats":this.observer.notify(ao,{subCommand:t,event:i,callBack:n,selector:a,exeValue:o,enterAction:l});break;case"alignments":this.observer.notify(_d,{subCommand:t,event:i,callBack:n,selector:a,value:o});break;case"indents":this.observer.notify(Fd,{subCommand:t,event:i,callBack:n,selector:a});break;case"links":this.observer.notify(Ld,{command:e,value:t,item:o,event:i,callBack:n});break;case"files":this.observer.notify(Uc,{command:e,value:"Image",item:o,event:i,callBack:n,selector:a});break;case"images":this.observer.notify(Uc,{command:e,value:t,item:o,event:i,callBack:n,selector:a});break;case"audios":this.observer.notify(Ed,{command:e,value:t,item:o,event:i,callBack:n,selector:a});break;case"videos":this.observer.notify(kd,{command:e,value:t,item:o,event:i,callBack:n,selector:a});break;case"table":switch(t.toString().toLocaleLowerCase()){case"createtable":this.observer.notify(Dd,{item:o,event:i,callBack:n,enterAction:l});break;case"insertrowbefore":case"insertrowafter":this.observer.notify(Ad,{item:o,event:i,callBack:n});break;case"insertcolumnleft":case"insertcolumnright":this.observer.notify(Id,{item:o,event:i,callBack:n});break;case"deleterow":this.observer.notify(Pd,{item:o,event:i,callBack:n});break;case"deletecolumn":this.observer.notify(jd,{item:o,event:i,callBack:n});break;case"tableremove":this.observer.notify(zd,{item:o,event:i,callBack:n});break;case"tableheader":this.observer.notify(Rd,{item:o,event:i,callBack:n});break;case"aligntop":case"alignmiddle":case"alignbottom":this.observer.notify(Bd,{item:o,event:i,callBack:n});break;case"merge":this.observer.notify(Qd,{item:o,event:i,callBack:n});break;case"horizontalsplit":this.observer.notify(Hd,{item:o,event:i,callBack:n});break;case"verticalsplit":this.observer.notify(Ud,{item:o,event:i,callBack:n});break}break;case"font":case"style":case"effects":case"casing":this.observer.notify(Vd,{subCommand:t,event:i,callBack:n,value:s,selector:a,enterAction:l});break;case"inserthtml":this.observer.notify($d,{subCommand:t,callBack:n,value:s,enterAction:l});break;case"inserttext":this.observer.notify(Yd,{subCommand:t,callBack:n,value:s});break;case"clear":this.observer.notify(qd,{subCommand:t,event:i,callBack:n,selector:a,enterAction:l});break;case"actions":this.observer.notify(Lr,{subCommand:t,event:i,callBack:n,selector:a});break;case"formatpainter":this.observer.notify(Bc,{item:o,subCommand:t,event:i,callBack:n});break;case"emojipicker":this.observer.notify(bd,{item:o,subCommand:t,value:s,event:i,callBack:n})}},r.prototype.editorMouseDown=function(e){e.args.detail===3&&this.tripleClickSelection(e.args)},r.prototype.tripleClickSelection=function(e){var t=this.nodeSelection.getRange(this.currentDocument),i=this.nodeSelection.get(this.currentDocument);if(i.rangeCount>0&&i.toString()!==""){var n=this.getParentBlockNode(t.startContainer),s=this.getParentBlockNode(t.endContainer);if(n&&s&&n===s){var o=this.currentDocument.createRange(),a=this.getFirstTextNode(n),l=this.getLastTextNode(s);a&&l&&(o.setStart(a,0),o.setEnd(l,l.textContent.length),this.nodeSelection.setRange(this.currentDocument,o),e.preventDefault())}}},r.prototype.getParentBlockNode=function(e){var t=this.currentDocument.createTreeWalker(this.editableElement,NodeFilter.SHOW_ELEMENT,{acceptNode:function(n){var s=window.getComputedStyle(n).display;return s.indexOf("inline")<0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});t.currentNode=e;var i=t.parentNode();return i},r.prototype.getLastTextNode=function(e){for(var t=this.currentDocument.createTreeWalker(e,NodeFilter.SHOW_TEXT,null),i=null,n=t.nextNode();n;)i=n,n=t.nextNode();return i},r.prototype.getFirstTextNode=function(e){var t=this.currentDocument.createTreeWalker(e,NodeFilter.SHOW_TEXT,null),i=t.nextNode();return i},r}();var Rj=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),xx=function(r){Rj(e,r);function e(t){var i=r.call(this)||this;return i.initialize(),ae(i,i,t,!0),i.currentDocument&&i.element&&i.updateFormatter(i.element,i.currentDocument,t.options,t.formatPainterSettings),i}return e.prototype.initialize=function(){this.keyConfig=QN},e.prototype.updateFormatter=function(t,i,n,s){t&&i&&(this.editorManager=new Nx({document:i,editableElement:t,options:n,formatPainterSettings:s}))},e}(Od);var wy=function(){function r(e){this.parent=e,this.toolbarStatus=this.prevToolbarStatus=fd(),this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.on(Cn,this.onRefreshHandler,this),this.parent.on(ue,this.removeEventListener,this)},r.prototype.removeEventListener=function(){this.parent.off(Cn,this.onRefreshHandler),this.parent.off(ue,this.removeEventListener)},r.prototype.onRefreshHandler=function(e){if(!this.parent.readonly){var t=[],i=[],n=[];this.parent.fontSize.items.forEach(function(o){t.push(o.value)}),this.parent.fontFamily.items.forEach(function(o){i.push(o.value)}),this.parent.format.types.forEach(function(o){n.push(o.value.toLocaleLowerCase())}),this.toolbarStatus=Sx.get(this.parent.contentModule.getDocument(),this.parent.contentModule.getEditPanel(),n,t,i,e.documentNode);var s=JSON.stringify(this.toolbarStatus);this.parent.notify(Ni,this.toolbarStatus),JSON.stringify(this.prevToolbarStatus)!==s&&(this.parent.notify(Yo,{html:JSON.parse(s),markdown:null}),this.prevToolbarStatus=JSON.parse(s))}},r}();var Gd=function(){function r(e,t){this.parent=e,this.serviceLocator=t}return r.prototype.renderPanel=function(){var e=this.parent,t=this.parent.createElement("div",{className:"e-rte-content",id:this.parent.getID()+"rte-view"}),i=ia(e.value,e);this.editableElement=this.parent.createElement("div",{className:"e-content",id:this.parent.getID()+"_rte-edit-view",attrs:{contenteditable:"true"},innerHTML:i}),t.appendChild(this.editableElement),this.setPanel(t),e.element.appendChild(t)},r.prototype.getPanel=function(){return this.contentPanel},r.prototype.getEditPanel=function(){return this.editableElement},r.prototype.getText=function(){var e=this.getEditPanel().innerText;return e===`
`?"":e},r.prototype.setPanel=function(e){this.contentPanel=e},r.prototype.getDocument=function(){return this.getEditPanel().ownerDocument},r}();var Bj=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Qj=`
<!DOCTYPE html> 
    <html>
         <head>
            <meta charset='utf-8' /> 
            <style>
                @charset "UTF-8";
                body {
                    font-family: "Roboto", sans-serif;
                    font-size: 14px;
                }
                html, body{height: 100%;margin: 0;}
                body.e-cursor{cursor:default}
                span.e-selected-node	{background-color: #939393;color: white;}
                span.e-selected-node.e-highlight {background-color: #1d9dd8;}
                body{color:#333;word-wrap:break-word;padding: 8px;box-sizing: border-box;}
                .e-rte-image, .e-rte-video {border: 0;cursor: pointer;display:
                    block;float: none;height: auto;margin: 5px auto;max-width: 100%;position: relative;}
                .e-rte-audio {border: 0;cursor: pointer;display:
                        block;float: none;margin: 5px auto;max-width: 100%;position: relative;}
                .e-rte-image.e-imginline, .e-rte-audio.e-audio-inline, .e-rte-video.e-video-inline {display: inline-block;float: none;
                    margin-left: 5px;margin-right: 5px;max-width: calc(100% - (2 * 5px));padding: 1px;vertical-align: bottom;}
                .e-rte-image.e-imgcenter, .e-rte-video.e-video-center {cursor: pointer;display: block;float: none;margin: 5px auto;max-width: 100%;position: relative;}
                .e-rte-image.e-imgright, .e-rte-video.e-video-right { float: right; margin: 0 auto;margin-left: 5px;text-align: right;}
                .e-rte-image.e-imgleft, .e-rte-video.e-video-left {float: left;margin: 0 auto;margin-right: 5px;text-align: left;}
                .e-img-caption { display: inline-block; float: none; margin: 5px auto; max-width: 100%;position: relative;}
                .e-img-caption.e-caption-inline {display: inline-block;float: none;
                    margin: 5px auto;margin-left: 5px;margin-right: 5px;max-width: calc(100% - (2 * 5px));
                    position: relativetext-align: center;vertical-align: bottom;}
                .e-rte-img-caption.e-imgcenter {display: contents; margin-left: auto; margin-right: auto;}
                .e-rte-img-caption.e-imgright {display: contents; margin-left: auto; margin-right: 0;}
                .e-rte-img-caption.e-imgleft {display: contents;margin-left: 0;margin-right: auto;}
                .e-img-caption.e-rte-img-caption.e-imgbreak {display: contents;}
                .e-img-inner {box-sizing: border-box;display: block;font-size: 16px;font-weight: initial;
                    margin: auto;opacity: .9;text-align: center;width: 100%;}
                .e-img-wrap {display: inline-block;margin: auto;padding: 0;text-align: center;width: 100%;}
                .e-imgleft, .e-video-left {float: left;margin: 0 5px 0 0;text-align: left;}
                .e-imgright, .e-video-right {float: right;margin: 0 0 0 5px;text-align: right;}
                .e-imgcenter, .e-video-center {cursor: pointer;display: block;float: none;height: auto;margin: 5px auto;max-width: 100%;position: relative;}
                .e-control img:not(.e-resize) {border: 2px solid transparent; z-index: 1000}
                .e-imginline , .e-audio-inline, .e-video-inline {display: inline-block;float: none;margin-left: 5px;margin-right: 5px;
                    max-width: calc(100% - (2 * 5px));vertical-align: bottom;}
                .e-imgbreak, .e-audio-break, .e-video-break {border: 0;cursor: pointer;
                    display: block;float: none;height: auto;margin: 5px auto;max-width: 100%;position: relative;}
                .e-rte-image.e-img-focus:not(.e-resize), .e-audio-focus:not(.e-resize), .e-video-focus:not(.e-resize) {border: solid 2px #4a90e2;}
                img.e-img-focus::selection, audio.e-audio-focus::selection, .e-video-focus::selection { background: transparent;color: transparent;}
                span.e-rte-imageboxmark, span.e-rte-videoboxmark {  width: 10px; height: 10px; position: absolute; display: block;
                    background: #4a90e2; border: 1px solid #fff; z-index: 1000;}
                .e-mob-rte.e-mob-span span.e-rte-imageboxmark, .e-mob-rte.e-mob-span span.e-rte-videoboxmark { background: #4a90e2; border: 1px solid #fff; }
                .e-mob-rte span.e-rte-imageboxmark, .e-mob-rte span.e-rte-videoboxmark { background: #fff; border: 1px solid #4a90e2;
                    border-radius: 15px; height: 20px; width: 20px; }
                .e-mob-rte.e-mob-span span.e-rte-imageboxmark, .e-mob-rte.e-mob-span span.e-rte-videoboxmark { background: #4a90e2; border: 1px solid #fff; }
                .e-rte-content .e-content img.e-resize, .e-rte-content .e-content video.e-resize { z-index: 1000; }
                .e-img-caption .e-img-inner { outline: 0; }
                .e-rte-img-caption.e-imgleft .e-img-inner { float: left; text-align: left; }
                .e-rte-img-caption.e-imgright .e-img-inner { float: right; text-align: right; }
                .e-rte-img-caption.e-imgleft .e-img-wrap, .e-rte-img-caption.e-imgright .e-img-wrap { display: contents; }
                .e-img-caption a:focus-visible { outline: none; }
                .e-rte-img-caption .e-rte-image.e-imgright { margin-left: auto; margin-right: 0; }
                .e-rte-img-caption .e-rte-image.e-imgleft { margin: 0; }
                body{box-sizing: border-box;min-height: 100px;outline: 0 solid transparent;
                    overflow-x: auto;padding: 16px;position: relative;text-align: inherit;z-index: 2;}
                p{margin: 0 0 10px;margin-bottom: 10px;}
                li{margin-bottom: 10px;}
                h1{font-size: 2.17em;font-weight: 400;line-height: 1;margin: 10px 0;}
                h2{font-size: 1.74em;font-weight: 400;margin: 10px 0;}
                h3{font-size: 1.31em;font-weight: 400;margin: 10px 0;}
                h4{font-size: 16px;font-weight: 400;line-height: 1.5;margin: 0;}
                h5{font-size: 00.8em;font-weight: 400;margin: 0;}
                h6{font-size: 00.65em;font-weight: 400;margin: 0;}
                blockquote{margin: 10px 0;margin-left: 0;padding-left: 5px;border-left: solid 2px #5c5c5c;}
                pre{background-color: inherit;border: 0;border-radius: 0;color: #333;
                    font-size: inherit;line-height: inherit;margin: 0 0 10px;overflow: visible;padding: 0;
                    white-space: pre-wrap;word-break: inherit;word-wrap: break-word;}
                strong, b{font-weight: 700;}
                a{text-decoration: none;user-select: auto;}
                a:hover{text-decoration: underline;};
                p:last-child, pre:last-child, blockquote:last-child{margin-bottom: 0;}
                h3+h4, h4+h5, h5+h6{margin-top: 00.6em;}
                ul:last-child{margin-bottom: 0;}
                table { border-collapse: collapse; empty-cells: show;}
                table td,table th {border: 1px solid #BDBDBD; height: 20px; padding: 2px 5px; vertical-align: middle;}
                table.e-alternate-border tbody tr:nth-child(2n) {background-color: #F5F5F5;}
                table th {background-color: #E0E0E0;}
                table.e-dashed-border td,table.e-dashed-border th { border: 1px dashed #BDBDBD} 
                table .e-cell-select {border: 1px double #4a90e2;}
                span.e-table-box { cursor: nwse-resize; display: block; height: 10px; position: absolute; width: 10px; }
                span.e-table-box.e-rmob {height: 14px;width: 14px;}
                .e-row-resize, .e-column-resize { background-color: transparent; background-repeat: repeat;
                    bottom: 0;cursor: col-resize;height: 1px;overflow: visible;position: absolute;width: 1px; }
                .e-row-resize { cursor: row-resize; height: 1px;}
                .e-table-rhelper { cursor: col-resize; opacity: .87;position: absolute;}
                .e-table-rhelper.e-column-helper { width: 1px; }
                .e-table-rhelper.e-row-helper {height: 1px;}
                .e-reicon::before { border-bottom: 6px solid transparent; border-right: 6px solid;
                    border-top: 6px solid transparent; content: ''; display: block; height: 0;
                    position: absolute; right: 4px; top: 4px; width: 20px; }
                .e-reicon::after { border-bottom: 6px solid transparent; border-left: 6px solid;
                    border-top: 6px solid transparent; content: ''; display: block;
                    height: 0; left: 4px; position: absolute; top: 4px; width: 20px; z-index: 3; }
                .e-row-helper.e-reicon::after { top: 10px; transform: rotate(90deg); }
                .e-row-helper.e-reicon::before { left: 4px; top: -20px; transform: rotate(90deg); }
                span.e-table-box { background-color: #ffffff; border: 1px solid #BDBDBD; }
                span.e-table-box.e-rbox-select { background-color: #BDBDBD; border: 1px solid #BDBDBD; }
                .e-table-rhelper { background-color: #4a90e2;}
                .e-rtl { direction: rtl; }
                .e-rte-placeholder::before { content: attr(placeholder); opacity: 0.54; overflow: hidden; padding-top: 16px; position: absolute; text-align: start; top: 0; z-index: 1; }
                li ol, li ul { margin-block-start: 10px;}
            </style>
        </head>`,wx=function(r){Bj(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.renderPanel=function(){var t=this.parent,i=ia(t.value,t),n='<body spellcheck="false" autocorrect="off" contenteditable="true">'+i+"</body></html>",s=Qj+n,o=this.parent.createElement("iframe",{id:this.parent.getID()+"_rte-view",className:"e-rte-content",styles:"display:block;",attrs:{srcdoc:s}});o.setAttribute("role","none"),this.setPanel(o),t.element.appendChild(o),o.contentDocument.body.id=this.parent.getID()+"_rte-edit-view",o.contentDocument.body.setAttribute("aria-owns",this.parent.getID()),o.contentDocument.open(),s=this.setThemeColor(s,{color:"#333"}),o.contentDocument.write(s),o.contentDocument.close(),t.enableRtl&&this.contentPanel.contentDocument.body.setAttribute("class","e-rtl")},e.prototype.setThemeColor=function(t,i){var n=getComputedStyle(this.parent.element,".e-richtexteditor").getPropertyValue("color");return t.replace(i.color,n)},e.prototype.getEditPanel=function(){var t;return u(this.contentPanel.contentDocument)?t=this.parent.inputElement:t=this.contentPanel.contentDocument.body,t},e.prototype.getDocument=function(){return this.getEditPanel().ownerDocument},e}(Gd);var Ex=function(){function r(e){this.parent=e,this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.on(Hs,this.enableXhtmlValidation,this),this.parent.on(ue,this.removeEventListener,this)},r.prototype.removeEventListener=function(){this.parent.off(Hs,this.enableXhtmlValidation),this.parent.off(ue,this.removeEventListener)},r.prototype.enableXhtmlValidation=function(){this.parent.enableXhtml&&(u(this.parent.inputElement)?this.currentElement=this.parent.element:this.currentElement=this.parent.inputElement,this.clean(this.currentElement),this.ImageTags(),this.removeTags(),this.RemoveUnsupported(),this.currentElement.innerHTML=this.selfEncloseValidation(this.currentElement.innerHTML,this.currentElement.innerText===`
`?this.currentElement.innerText.length:this.currentElement.innerText.trim().length),this.parent.setProperties({value:this.currentElement.innerHTML},!0))},r.prototype.selfEncloseValidation=function(e,t){if(t===0&&e.indexOf("table")<0&&e.indexOf("img")<0&&e.includes("&nbsp;")){var i=e.split("&nbsp;");i[i.length-1]="&#8203;"+i[i.length-1],e=i.join("")}e=e.replace(/<br>/g,"<br/>").replace(/<hr>/g,"<hr/>").replace(/ /g," ");for(var n,s=[],o=[],a=[/<img(.*?)>/gi,/<area(.*?)>/gi,/<base(.*?)>/gi,/<col (.*?)>/gi,/<embed(.*?)>/gi,/<input(.*?)>/gi,/<link(.*?)>/gi,/<meta(.*?)>/gi,/<param(.*?)>/gi,/<source(.*?)>/gi,/<track(.*?)>/gi,/<wbr(.*?)>/gi],l=0;l<a.length;l++){for(n=a[l].exec(e);n!==null;)s.push(n[0].toString()),n=a[l].exec(e);o=s.slice(0);for(var h=0;h<s.length;h++)(s[h].indexOf("/")===-1||s[h].lastIndexOf("/")!==s[h].length-2)&&(s[h]=s[h].substr(0,s[h].length-1)+" /"+s[h].substr(s[h].length-1,s[h].length));for(var c=0;c<=s.length-1;c++)e=e.replace(o[c],s[c])}return e},r.prototype.clean=function(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];i.nodeType===8||i.nodeName==="V:IMAGE"?(e.removeChild(i),t--):i.nodeType===1&&this.clean(i)}return this.currentElement.innerHTML},r.prototype.ImageTags=function(){for(var e=this.currentElement.querySelectorAll("IMG"),t=e.length-1;t>=0;t--)if(!e[t].hasAttribute("alt")){var i=e[t];i.setAttribute("alt","")}},r.prototype.removeTags=function(){for(var e=[["br","ul"],["br","ol"],["table","span"],["div","span"],["p","span"]],t=0;t<e.length;t++)this.RemoveElementNode(e[t][0],e[t][1])},r.prototype.RemoveElementNode=function(e,t){for(var i=this.currentElement.querySelectorAll(t),n=0;n<i.length;n++)for(var s=i[n].querySelectorAll(e),o=s.length;o>0;o--)w(s[o-1])},r.prototype.RemoveUnsupported=function(){for(var e=this.currentElement.querySelectorAll("u"),t=e.length-1;t>=0;t--){var i=this.parent.createElement("span");i.style.textDecoration="underline",i.innerHTML=e[t].innerHTML,e[t].parentNode.insertBefore(i,e[t]),w(e[t])}for(var n=this.currentElement.querySelectorAll("strong"),t=n.length-1;t>=0;t--){var s=this.parent.createElement("b");s.innerHTML=n[t].innerHTML,n[t].parentNode.insertBefore(s,n[t]),w(n[t])}for(var o=["language","role","target","contenteditable","cellspacing","cellpadding","border","valign","colspan"],t=0;t<=o.length;t++)this.RemoveAttributeByName(o[t])},r.prototype.RemoveAttributeByName=function(e){if(this.currentElement.firstChild!==null&&this.currentElement.firstChild.nodeType!==3)for(var t=0;t<this.currentElement.childNodes.length;t++){var i=this.currentElement.childNodes[t];if(i.nodeType!==3&&i.nodeName!=="TABLE"&&i.nodeName!=="TBODY"&&i.nodeName!=="THEAD"&&i.nodeName!=="TH"&&i.nodeName!=="TR"&&i.nodeName!=="TD"&&(i.hasAttribute(e)&&i.removeAttribute(e),i.hasChildNodes()))for(var n=0;n<i.childNodes.length;n++){var s=i.childNodes[n];if(s.nodeType!==3&&s.nodeName!=="TABLE"&&s.nodeName!=="TBODY"&&s.nodeName!=="THEAD"&&s.nodeName!=="TH"&&s.nodeName!=="TR"&&s.nodeName!=="TD"&&s.hasAttribute(e)&&!s.classList.contains("e-mention-chip")&&s.removeAttribute(e),s.hasChildNodes())for(var o=0;o<s.childNodes.length;o++)s.childNodes[o].nodeType!==3&&s.childNodes[o].nodeName!=="TABLE"&&s.childNodes[o].nodeName!=="TBODY"&&s.childNodes[o].nodeName!=="THEAD"&&s.childNodes[o].nodeName!=="TH"&&s.childNodes[o].nodeName!=="TR"&&s.childNodes[o].nodeName!=="TD"&&s.childNodes[o].hasAttribute(e)&&s.childNodes[o].removeAttribute(e)}}},r}();var kx=function(){function r(e,t){this.rangeCollection=[],this.isImageDelete=!1,this.parent=e,this.locator=t,this.renderFactory=this.locator.getService("rendererFactory"),this.xhtmlValidation=new Ex(e),this.addEventListener()}return r.prototype.destroy=function(){this.removeEventListener()},r.prototype.sanitizeHelper=function(e){return e=gM(e,this.parent),e},r.prototype.addEventListener=function(){this.parent.isDestroyed||(this.nodeSelectionObj=new xt,this.colorPickerModule=new dd(this.parent,this.locator),this.parent.on(Es,this.instantiateRenderer,this),this.parent.on(ph,this.onToolbarClick,this),this.parent.on(ot,this.onKeyDown,this),this.parent.on(At,this.onKeyUp,this),this.parent.on(Fa,this.renderColorPicker,this),this.parent.on(bt,this.render,this),this.parent.on(Je,this.onPropertyChanged,this),this.parent.on(ue,this.destroy,this),this.parent.on(js,this.selectAll,this),this.parent.on($o,this.selectRange,this),this.parent.on(zs,this.getSelectedHtml,this),this.parent.on(Zt,this.onSelectionSave,this),this.parent.on(Xt,this.onSelectionRestore,this),this.parent.on(Us,this.updateReadOnly,this),this.parent.on(Rs,this.onPaste,this),this.parent.on(ws,this.isTableClassAdded,this),this.parent.on(ip,this.onHandleFontsizeChange,this))},r.prototype.updateReadOnly=function(){this.parent.readonly?(pe(this.parent.contentModule.getEditPanel(),{contenteditable:"false"}),E([this.parent.element],$s)):(pe(this.parent.contentModule.getEditPanel(),{contenteditable:"true"}),L([this.parent.element],$s))},r.prototype.onSelectionSave=function(){var e=this.contentRenderer.getDocument(),t=this.nodeSelectionObj.getRange(e);this.saveSelection=this.nodeSelectionObj.save(t,e)},r.prototype.onSelectionRestore=function(e){this.parent.isBlur=!1,(u(this.saveSelection)||u(S(this.saveSelection.range.startContainer.parentElement,".e-img-caption"))||S(this.saveSelection.range.startContainer.parentElement,".e-img-caption").getAttribute("contenteditable")!="false")&&this.contentRenderer.getEditPanel().focus(),(u(e.items)||e.items)&&this.saveSelection.restore()},r.prototype.isTableClassAdded=function(){for(var e=this.parent.inputElement.querySelectorAll("table"),t=0;t<e.length;t++)!e[t].classList.contains("e-rte-table")&&!e[t].classList.contains("e-rte-paste-table")&&e[t].classList.add("e-rte-table")},r.prototype.onHandleFontsizeChange=function(e){var t=e.args,i={name:"dropDownSelect"};i.item={command:"Font",subCommand:"FontSize"};var n=this.parent.fontSize.items,s;if(this.parent.toolbarModule&&this.parent.toolbarModule.dropDownModule&&this.parent.toolbarModule.dropDownModule.fontSizeDropDown&&!u(this.parent.toolbarModule.dropDownModule.fontSizeDropDown.activeElem[0].textContent)&&this.parent.toolbarModule.dropDownModule.fontSizeDropDown.activeElem[0].textContent!=="")s=this.parent.toolbarModule.dropDownModule.fontSizeDropDown.activeElem[0].textContent;else{var o=void 0,a=this.parent.contentModule.getDocument().getSelection();a&&a.focusNode&&a.focusNode.parentElement?o=document.defaultView.getComputedStyle(a.focusNode.parentElement,null).getPropertyValue("font-size"):o=this.parent.fontSize.width,o=u(o)?this.parent.fontSize.width:o;var l=o.match(/^([\d.]+)(\D+)$/),h=parseInt(l[1],10),c=l[2],p=n[0].value.match(/^([\d.]+)(\D+)$/);if(p[2]===c){var d=n.findIndex(function(C){var x=C.value;return parseInt(x,10)>=h});s=n[d].text}else{var f=this.convertFontSize(h,c,p[2]),d=n.findIndex(function(x){var M=x.value;return parseInt(M,10)>=f});s=n[d].text}}var m=n.findIndex(function(C){return C.text===s});if(t.action==="increase-fontsize"&&m!==-1)if(m>=n.length-1){var g=n[m].value.match(/^([\d.]+)(\D+)$/);if(g){var v=parseInt(g[1],10),c=g[2],O=v%10===0?Math.ceil((v+1)/10)*10:Math.ceil(v/10)*10;i.item.value=O.toLocaleString()+c,i.item.text=O.toLocaleString()+" "+c}this.parent.fontSize.items.push(i.item)}else i.item.value=n[m+1].value,i.item.text=n[m+1].text;else t.action==="decrease-fontsize"&&m!==-1&&m>0?(i.item.value=n[m-1].value,i.item.text=n[m-1].text):m>=0&&m<n.length&&n[m]&&(i.item.value=n[m].value,i.item.text=n[m].text);this.parent.formatter.process(this.parent,i,t)},r.prototype.convertFontSize=function(e,t,i){(vg.indexOf(t)!==-1||vg.indexOf(i)!==-1)&&(t="px");var n=e*NS[t][i];return n},r.prototype.onKeyUp=function(e){var t=e.args,i=[8,9,13,16,17,18,20,27,37,38,39,40,44,45,46,91,112,113,114,115,116,117,118,119,120,121,122,123],n=this.parent.getRange(),s=new RegExp("\u200B","g"),o=n.startContainer===n.endContainer&&n.startOffset===n.endOffset&&n.startOffset===1&&n.startContainer.textContent.length===1&&n.startContainer.textContent.charCodeAt(0)==8203&&n.startContainer.textContent.replace(s,"").length===0,a,l=!1;if(i.indexOf(t.keyCode)<0&&!t.shiftKey&&!t.ctrlKey&&!t.altKey&&!o){if(a=n.startOffset,n.startContainer.nodeName==="#text"?n.startContainer.parentElement!==this.parent.inputElement?n.startContainer.parentElement.classList.add("currentStartMark"):l=!0:n.startContainer.classList.add("currentStartMark"),n.startContainer.textContent.charCodeAt(0)===8203){var h=n.startContainer.textContent.length,c=n.startOffset;n.startContainer.textContent=n.startContainer.textContent.replace(s,""),a=c===0?c:c-(h-n.startContainer.textContent.length),this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(),n.startContainer,a)}var p=this.parent.inputElement.innerHTML.length,d=this.parent.inputElement.innerHTML.replace(s,"").length,f=n.startContainer;if(p>d&&!l){if(f.textContent.trim().length!==0&&f.previousSibling){var m=document.createElement("span");m.className="tempSpan",n.insertNode(m)}for(var g=this.parent.inputElement.firstChild;!u(g)&&g.textContent.replace(s,"").trim().length>0;)g.innerHTML=g.innerHTML.replace(s,""),g=g.nextElementSibling;var v=this.parent.inputElement.querySelector(".tempSpan");if(v&&v.previousSibling&&f.textContent.trim().length!==0){f=v.previousSibling,a=v.previousSibling.textContent.length;var O=v.parentNode;O.removeChild(v),v=null}var C=this.parent.inputElement.querySelector(".currentStartMark").childNodes;if(C.length>1)for(var x=0;x<C.length;x++)C[x].nodeName==="#text"&&C[x].textContent.length===0&&(w(C[x]),x--),!u(C[x])&&f.textContent.replace(s,"")===C[x].textContent&&(a=f.textContent.length>1?f.textContent===C[x].textContent?a:a-(f.textContent.length-f.textContent.replace(s,"").length):f.textContent.length,f=C[x]);else C.length===1&&f.textContent.replace(s,"")===C[0].textContent&&(f=C[0]);this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(),f,a)}var M=this.parent.inputElement.querySelector(".currentStartMark");u(M)||(M.classList.remove("currentStartMark"),M.getAttribute("class").trim()===""&&M.removeAttribute("class")),!u(n.startContainer.previousSibling)&&!u(n.startContainer.previousSibling.parentElement)&&n.startContainer.parentElement===n.startContainer.previousSibling.parentElement&&n.startContainer.previousSibling.textContent.charCodeAt(0)===8203&&n.startContainer.previousSibling.textContent.length<=1&&(n.startContainer.previousSibling.textContent=n.startContainer.previousSibling.textContent.replace(s,"")),n.endContainer.textContent.charCodeAt(n.endOffset)===8203&&(a=n.startOffset,n.endContainer.textContent=n.endContainer.textContent.replace(s,""),this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(),n.startContainer,a))}},r.prototype.onKeyDown=function(e){var t=this,i,n=e.args;if(N.info.name==="chrome"&&(i=this.parent.getRange(),this.backSpaceCleanup(e,i),this.deleteCleanup(e,i)),n.keyCode===9&&this.parent.enableTabKey&&!u(n.target)&&u(S(n.target,".e-rte-toolbar"))){var s=this.nodeSelectionObj.getRange(this.contentRenderer.getDocument()),o=this.nodeSelectionObj.getParentNodeCollection(s);if(!((o[0].nodeName==="LI"||S(o[0],"li")||S(o[0],"table"))&&s.startOffset===0)){if(n.preventDefault(),!n.shiftKey)Pt.Insert(this.contentRenderer.getDocument(),"&nbsp;&nbsp;&nbsp;&nbsp;"),this.rangeCollection.push(this.nodeSelectionObj.getRange(this.contentRenderer.getDocument()));else if(this.rangeCollection.length>0&&this.rangeCollection[this.rangeCollection.length-1].startContainer.textContent.length===4){var a=this.rangeCollection[this.rangeCollection.length-1].startContainer;this.nodeSelectionObj.setSelectionText(this.contentRenderer.getDocument(),a,a,0,a.textContent.length),Pt.Insert(this.contentRenderer.getDocument(),document.createTextNode("")),this.rangeCollection.pop()}}}if((e.args.action==="space"||e.args.action==="enter"||e.args.keyCode===13)&&(this.spaceLink(e.args),this.parent.editorMode==="HTML"&&!this.parent.readonly)){var l=this.parent.getText().trim().replace(/(\r\n|\n|\r|\t)/gm,"").replace(/\u200B/g,"").length,h=this.parent.getSelection().length,c=l-h+1;if(!(this.parent.maxLength===-1||c<=this.parent.maxLength)&&e.args.keyCode===13){e.args.preventDefault();return}else{this.parent.notify(xh,{args:e.args});var p=this.parent.getRange();!u(p.startContainer)&&this.parent.height!=="auto"&&p.startContainer.nodeName!=="#text"&&!this.parent.iframeSettings.enable&&p.startContainer.getBoundingClientRect().bottom>this.parent.element.getBoundingClientRect().bottom?this.parent.element.querySelector(".e-rte-content").scrollTop+=p.startContainer.getBoundingClientRect().bottom-this.parent.element.getBoundingClientRect().bottom:!u(p.startContainer)&&this.parent.height==="auto"&&p.startContainer.nodeName!=="#text"&&!this.parent.iframeSettings.enable&&window.innerHeight<p.startContainer.getBoundingClientRect().top&&p.startContainer.scrollIntoView({block:"end",inline:"nearest"})}}if(e.args.action==="space"){var d=this.parent.getRange(),f=d.startContainer.textContent.slice(0,d.startOffset),m=this.isOrderedList(f),g=this.isUnOrderedList(f);if(m&&!g||g&&!m){var v={callBack:null,event:e.args,name:"keydown-handler"},O={cancel:!1,item:{command:"Lists",subCommand:m?"OL":"UL"},name:"actionBegin",originalEvent:e.args,requestType:m?"OL":"UL"};this.parent.trigger(Ht,O,function(C){C.cancel||(t.parent.formatter.editorManager.observer.notify(vd,v),t.parent.trigger(ei,{editorMode:t.parent.editorMode,elements:t.parent.formatter.editorManager.domNode.blockNodes(),event:e.args,name:ei,range:t.parent.getRange(),requestType:m?"OL":"UL"}))})}}N.info.name==="chrome"&&(!u(this.rangeElement)&&!u(this.oldRangeElement)||!u(this.deleteRangeElement)&&!u(this.deleteOldRangeElement))&&i.startContainer.parentElement.tagName!=="TD"&&i.startContainer.parentElement.tagName!=="TH"&&(this.rangeElement=null,this.oldRangeElement=null,this.deleteRangeElement=null,this.deleteOldRangeElement=null,this.isImageDelete||n.preventDefault(),n.preventDefault())},r.prototype.isOrderedList=function(e){e=e.replace(/\u200B/g,"");var t=[/^[1]+[.]+$/,/^[i]+[.]+$/,/^[a]+[.]+$/];if(!u(e)){for(var i=0;i<t.length;i++)if(t[i].test(e))return!0}return!1},r.prototype.isUnOrderedList=function(e){e=e.replace(/\u200B/g,"");var t=[/^[*]$/,/^[-]$/];if(!u(e)){for(var i=0;i<t.length;i++)if(t[i].test(e))return!0}return!1},r.prototype.backSpaceCleanup=function(e,t){var i=!1,n=!0;!u(t.startContainer.previousSibling)&&t.startContainer.previousSibling.nodeName==="SPAN"&&(n=t.startContainer.previousSibling.contentEditable!=="false");var s=t.startContainer.nodeName==="#text"?t.startContainer.parentElement:t.startContainer,o=S(t.startContainer.nodeName==="#text"?t.startContainer.parentElement:t.startContainer,"li")?s.nodeName!=="li"&&u(s.previousSibling):!0;if(e.args.code==="Backspace"&&e.args.keyCode===8&&t.startOffset===0&&t.endOffset===0&&this.parent.getSelection().length===0&&t.startContainer.textContent.length>0&&t.startContainer.parentElement.tagName!=="TD"&&t.startContainer.parentElement.tagName!=="TH"&&n&&o){if(!this.parent.formatter.editorManager.domNode.isBlockNode(s)&&!u(s.previousSibling)&&s.previousSibling.nodeName==="BR"||!u(t.startContainer.previousSibling)&&t.startContainer.previousSibling.nodeName==="BR")return;if(this.rangeElement=this.getRootBlockNode(t.startContainer),this.rangeElement.tagName==="OL"||this.rangeElement.tagName==="UL"){var a=this.getRangeLiNode(t.startContainer);a.previousElementSibling&&a.previousElementSibling.childElementCount>0&&(this.oldRangeElement=a.previousElementSibling.lastElementChild.nodeName==="BR"?a.previousElementSibling:a.previousElementSibling.lastChild,!u(a.lastElementChild)&&a.lastElementChild.nodeName!=="BR"&&u(a.lastElementChild.previousSibling)&&a.lastChild.nodeName!=="#text"?(this.rangeElement=a.lastElementChild,i=!0):this.rangeElement=a)}else{if(this.rangeElement===this.parent.inputElement||this.rangeElement.tagName==="TABLE"||!u(this.rangeElement.previousElementSibling)&&this.rangeElement.previousElementSibling.tagName==="TABLE")return;this.oldRangeElement=this.rangeElement.previousElementSibling}if(u(this.oldRangeElement))return;(this.oldRangeElement.tagName==="OL"||this.oldRangeElement.tagName==="UL")&&(this.oldRangeElement=this.oldRangeElement.lastElementChild.lastElementChild?this.oldRangeElement.lastElementChild.lastElementChild:this.oldRangeElement.lastElementChild);for(var l=this.oldRangeElement.lastChild?this.oldRangeElement.lastChild:this.oldRangeElement;l.nodeType!==3&&l.nodeName!=="#text"&&l.nodeName!=="BR";)l=l.lastChild;if(this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(),l,l.textContent.length),this.oldRangeElement.nodeName!=="#text"&&this.oldRangeElement.querySelectorAll("BR").length===1&&w(this.oldRangeElement.querySelector("BR")),!u(this.rangeElement)&&this.oldRangeElement!==this.rangeElement){for(;this.rangeElement.firstChild;)this.oldRangeElement.nodeName==="#text"?this.oldRangeElement.parentElement.appendChild(this.rangeElement.childNodes[0]):this.oldRangeElement.appendChild(this.rangeElement.childNodes[0]);i?w(this.rangeElement.parentElement):w(this.rangeElement),this.oldRangeElement.normalize()}}},r.prototype.deleteCleanup=function(e,t){var i=!1,n,s;if(e.args.code==="Delete"&&e.args.keyCode===46&&this.parent.contentModule.getText().trim().replace(/(\r\n|\n|\r|\t)/gm,"").replace(/\u200B/g,"").length!==0&&this.parent.getSelection().length===0&&t.startContainer.parentElement.tagName!=="TD"&&t.startContainer.parentElement.tagName!=="TH"){if(this.deleteRangeElement=s=this.getRootBlockNode(t.startContainer),this.deleteRangeElement.tagName==="OL"||this.deleteRangeElement.tagName==="UL")n=this.getRangeLiNode(t.startContainer),n.nextElementSibling&&n.nextElementSibling.childElementCount>0&&!n.nextElementSibling.querySelector("BR")?u(n.lastElementChild)?this.deleteRangeElement=n:(this.deleteRangeElement=n.lastElementChild,i=!0):this.deleteRangeElement=this.getRangeElement(n);else if(this.deleteRangeElement.nodeType===3||this.deleteRangeElement.tagName==="TABLE"||!u(this.deleteRangeElement.nextElementSibling)&&this.deleteRangeElement.nextElementSibling.tagName==="TABLE")return;var o=!1;if(this.deleteRangeElement.querySelectorAll("img").length>0&&this.deleteRangeElement.textContent.trim()===""&&(o=!0),this.getCaretIndex(t,this.deleteRangeElement)===this.deleteRangeElement.textContent.length&&!o){if(u(n)?this.deleteOldRangeElement=this.deleteRangeElement.nextElementSibling:i||!u(n.nextElementSibling)?this.deleteOldRangeElement=this.getRangeElement(n.nextElementSibling):this.deleteOldRangeElement=s.nextElementSibling,u(this.deleteOldRangeElement))return;t.startOffset===0&&t.endOffset===1&&this.deleteRangeElement.childNodes[0].nodeName==="IMG"?(this.parent.formatter.editorManager.nodeSelection.setSelectionText(this.parent.contentModule.getDocument(),this.deleteRangeElement,this.deleteRangeElement,0,1),this.isImageDelete=!0):(this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(),this.deleteRangeElement,this.deleteRangeElement.childNodes.length),this.isImageDelete=!1);var a=this.deleteRangeElement.querySelector("BR");if(a&&a.classList.contains("e-rte-image-remove-focus")){L([a],["e-rte-image-focus"]);return}else a&&w(a);if(!u(this.deleteRangeElement)&&this.deleteOldRangeElement.tagName!=="OL"&&this.deleteOldRangeElement.tagName!=="UL"&&this.deleteOldRangeElement!==this.deleteRangeElement){for(;this.deleteOldRangeElement.firstChild;)this.deleteRangeElement.appendChild(this.deleteOldRangeElement.childNodes[0]);i?w(this.deleteOldRangeElement.parentElement):w(this.deleteOldRangeElement),this.deleteRangeElement.normalize()}else this.deleteRangeElement=null,this.deleteOldRangeElement=null}else this.deleteRangeElement=null}},r.prototype.getCaretIndex=function(e,t){var i=0;if(this.parent.contentModule.getDocument().getSelection().rangeCount!==0){var n=e.cloneRange();n.selectNodeContents(t),n.setEnd(e.endContainer,e.endOffset),i=n.toString().length}return i},r.prototype.getRangeElement=function(e){var t=e.lastElementChild?e.lastElementChild.tagName==="BR"?e.lastElementChild.previousElementSibling?e.lastElementChild.previousElementSibling:e:e.lastElementChild:e;return t},r.prototype.getRootBlockNode=function(e){for(;e&&this.parent&&this.parent.inputElement!==e&&e.parentElement!==this.parent.inputElement;e=e)e=e.parentElement;return e},r.prototype.getRangeLiNode=function(e){for(var t=e.parentElement;t!==this.parent.inputElement&&!(t.nodeType===1&&t.tagName==="LI");)t=t.parentElement;return t},r.prototype.onPaste=function(e){var t=new RegExp(/([^\S]|^)(((https?\:\/\/)|(www\.))(\S+))/gi);if(e.text.match(t)){if(e.isWordPaste)return;e.args.preventDefault();for(var i=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),n=this.parent.formatter.editorManager.nodeSelection.save(i,this.parent.contentModule.getDocument()),s=new RegExp(/([^\S]|^)(((https?\:\/\/)))/gi),o=new RegExp(/([^\S]|^)(((www\.))(\S+))/gi),a=e.text.split(`
`),l="",h=0;h<a.length;h++)if(a[h].trim()==="")l+=mp(this.parent);else{for(var c="",p=!0,d=a[h].split(" "),f=0;f<d.length;f++)d[f].trim()===""?c+=p?"&nbsp;":" ":(p=!1,c+=d[f]+" ");h===0?l+="<span>"+c.trim()+"</span>":l+="<p>"+c.trim()+"</p>"}var m=this.parent.createElement("div");m.setAttribute("class","pasteContent"),m.style.display="inline",m.innerHTML=l.replace("&para","&amp;para");for(var g=m.querySelectorAll("span, p"),h=0;h<g.length;h++){for(var v=g[h].innerHTML.split(" "),O="",f=0;f<v.length;f++)v[f].match(s)||v[f].match(o)?O+='<a class="e-rte-anchor" href="'+v[f]+'" title="'+v[f]+'" target="_blank" aria-label="'+this.parent.serviceLocator.getService("rteLocale").getConstant("linkAriaLabel")+'">'+v[f]+" </a>":O+=v[f]+" ";g[h].innerHTML=O.trim()}u(this.parent.pasteCleanupModule)?this.parent.formatter.editorManager.execCommand("insertHTML",null,null,null,m):e.callBack(m.innerHTML)}},r.prototype.spaceLink=function(e){var t=this.nodeSelectionObj.getRange(this.contentRenderer.getDocument()),i=this.nodeSelectionObj.getParentNodeCollection(t),n=t.startContainer.textContent.substr(0,t.endOffset),s=n.split(" "),o=s[s.length-1],a=t.startOffset-(n.length-s[s.length-1].length);o=o.slice(0,a);var l=new RegExp(/([^\S]|^)(((https?\:\/\/)|(www\.))(\S+))/gi);if(i[0].nodeName!=="A"&&o.match(l)){var h=this.nodeSelectionObj.save(t,this.parent.contentModule.getDocument()),c=o.indexOf("http")>-1?o:"http://"+o,p=this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(t),d={url:c,selection:h,selectParent:p,text:o,title:"",target:"_blank"};this.parent.formatter.process(this.parent,{item:{command:"Links",subCommand:"CreateLink"}},e,d)}},r.prototype.onToolbarClick=function(e){var t=this,i,n,s,o=e.item,a=S(e.originalEvent.target,".e-rte-quick-popup"),l=e.originalEvent.target;if(this.parent.notify(Qh,{target:l}),o.command!=="FormatPainter")if(a&&!a.classList.contains("e-rte-inline-popup")&&!a.classList.contains("e-rte-text-popup")){if(!(o.subCommand==="SourceCode"||o.subCommand==="Preview"||o.subCommand==="FontColor"||o.subCommand==="BackgroundColor")){gt()&&o.command==="Images"&&this.nodeSelectionObj.restore();var h=this.nodeSelectionObj.getRange(this.parent.contentModule.getDocument());i=this.nodeSelectionObj.save(h,this.parent.contentModule.getDocument()),n=this.nodeSelectionObj.getNodeCollection(h),s=this.nodeSelectionObj.getParentNodeCollection(h)}o.command==="Images"&&this.parent.notify(yh,{member:"image",args:e,selectNode:n,selection:i,selectParent:s}),o.command==="Audios"&&this.parent.notify(KC,{member:"audio",args:e,selectNode:n,selection:i,selectParent:s}),o.command==="Videos"&&this.parent.notify(bh,{member:"video",args:e,selectNode:n,selection:i,selectParent:s}),o.command==="Links"&&this.parent.notify(Oh,{member:"link",args:e,selectNode:n,selection:i,selectParent:s}),o.command==="Table"&&this.parent.notify(Nh,{member:"table",args:e,selectNode:n,selection:i,selectParent:s})}else{var c=document.getElementById(this.parent.getID()+"_rtelink"),p=document.getElementById(this.parent.getID()+"_image");if(!(o.subCommand==="SourceCode"||o.subCommand==="Preview"||o.subCommand==="FontColor"||o.subCommand==="BackgroundColor")){var h=this.nodeSelectionObj.getRange(this.parent.contentModule.getDocument());u(c)&&u(p)&&(i=this.nodeSelectionObj.save(h,this.parent.contentModule.getDocument())),n=this.nodeSelectionObj.getNodeCollection(h),s=this.nodeSelectionObj.getParentNodeCollection(h)}switch(o.subCommand){case"Maximize":this.parent.notify(Bo,{args:e});break;case"Minimize":this.parent.notify(Qo,{args:e});break;case"CreateLink":this.parent.notify(Uo,{member:"link",args:e,selectNode:n,selection:i,selectParent:s});break;case"RemoveLink":this.parent.notify(qa,{member:"link",args:e,selectNode:n,selection:i,selectParent:s});break;case"Print":this.parent.print();break;case"Image":this.parent.notify(As,{member:"image",args:e,selectNode:n,selection:i,selectParent:s});break;case"Audio":this.parent.notify(eS,{member:"audio",args:e,selectNode:n,selection:i,selectParent:s});break;case"Video":this.parent.notify(Wa,{member:"video",args:e,selectNode:n,selection:i,selectParent:s});break;case"CreateTable":this.parent.notify(Th,{member:"table",args:e,selection:i});break;case"SourceCode":this.parent.notify(_o,{member:"viewSource",args:e});break;case"Preview":this.parent.notify(Sh,{member:"updateSource",args:e});break;case"FontColor":case"BackgroundColor":break;case"File":this.parent.notify(tp,{member:"fileManager",args:e,selectNode:n,selection:i,selectParent:s});break;case"EmojiPicker":this.parent.notify(qo,{member:"emojiPicker",args:e});break;default:this.parent.formatter.process(this.parent,e,e.originalEvent,null);break}}else e.originalEvent.detail===1?(clearTimeout(this.clickTimeout),this.clickTimeout=setTimeout(function(){t.parent.notify(CS,{member:"formatPainter",args:e})},200)):(clearTimeout(this.clickTimeout),this.parent.notify(SS,{member:"formatPainter",args:e}))},r.prototype.renderColorPicker=function(e){this.colorPickerModule.renderColorPickerInput(e)},r.prototype.instantiateRenderer=function(){this.parent.iframeSettings.enable?this.renderFactory.addRenderer(ve.Content,new wx(this.parent,this.locator)):this.renderFactory.addRenderer(ve.Content,new Gd(this.parent,this.locator))},r.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(bt,this.render),this.parent.off(Je,this.onPropertyChanged),this.parent.off(ph,this.onToolbarClick),this.parent.off(Fa,this.renderColorPicker),this.parent.off(ue,this.destroy),this.parent.off(ot,this.onKeyDown),this.parent.off(Es,this.instantiateRenderer),this.parent.off(js,this.selectAll),this.parent.off($o,this.selectRange),this.parent.off(zs,this.getSelectedHtml),this.parent.off(Zt,this.onSelectionSave),this.parent.off(Xt,this.onSelectionRestore),this.parent.off(Us,this.updateReadOnly),this.parent.off(Rs,this.onPaste),this.parent.off(ws,this.isTableClassAdded))},r.prototype.render=function(){this.contentRenderer=this.renderFactory.getRenderer(ve.Content);var e=this.contentRenderer.getEditPanel(),t={undoRedoSteps:this.parent.undoRedoSteps,undoRedoTimer:this.parent.undoRedoTimer};if(u(this.parent.formatter)){var i=new xx({currentDocument:this.contentRenderer.getDocument(),element:e,options:t,formatPainterSettings:this.parent.formatPainterSettings});this.parent.setProperties({formatter:i},!0)}else this.parent.formatter.updateFormatter(e,this.contentRenderer.getDocument(),t);this.parent.enableXhtml&&this.parent.notify(Hs,{}),this.parent.toolbarSettings.enable&&(this.toolbarUpdate=new wy(this.parent)),this.parent.inlineMode.enable&&(u(this.parent.fontFamily.default)||(e.style.fontFamily=this.parent.fontFamily.default),u(this.parent.fontSize.default)||(e.style.fontSize=this.parent.fontSize.default)),this.parent.notify(Ro,{})},r.prototype.onPropertyChanged=function(e){if(!u(e)&&!u(e.newProp.toolbarSettings)&&!u(e.newProp.toolbarSettings.enable)&&(this.toolbarUpdate=new wy(this.parent)),!u(e.newProp.formatter)){var t=this.contentRenderer.getEditPanel(),i={undoRedoSteps:this.parent.undoRedoSteps,undoRedoTimer:this.parent.undoRedoTimer};this.parent.formatter.updateFormatter(t,this.contentRenderer.getDocument(),i)}},r.prototype.getModuleName=function(){return"htmlEditor"},r.prototype.selectAll=function(){var e=Hg(this.parent.contentModule.getDocument(),this.parent.contentModule.getEditPanel());e.length>0&&this.parent.formatter.editorManager.nodeSelection.setSelectionText(this.parent.contentModule.getDocument(),e[0],e[e.length-1],0,e[e.length-1].textContent.length)},r.prototype.selectRange=function(e){this.parent.formatter.editorManager.nodeSelection.setRange(this.parent.contentModule.getDocument(),e.range)},r.prototype.getSelectedHtml=function(e){e.callBack(this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()).toString())},r}();var Uj=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Kd=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Dx=function(r){Uj(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Kd([b(null)],e.prototype,"downloadUrl",void 0),Kd([b(null)],e.prototype,"getImageUrl",void 0),Kd([b(null)],e.prototype,"uploadUrl",void 0),Kd([b(null)],e.prototype,"url",void 0),e}(de);var Lx=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Vt=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Hj=["NewFolder","Upload","Cut","Copy","Paste","Delete","Download","Rename","SortBy","Refresh","Selection","View","Details"],Ax=function(r){Lx(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Vt([b(Hj)],e.prototype,"items",void 0),Vt([b(!0)],e.prototype,"visible",void 0),e}(de);var R9=function(r){Lx(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Vt([b("")],e.prototype,"id",void 0),Vt([b("")],e.prototype,"text",void 0),Vt([b("auto")],e.prototype,"width",void 0),Vt([b("")],e.prototype,"cssClass",void 0),Vt([b(!1)],e.prototype,"showAlwaysInPopup",void 0),Vt([b(!1)],e.prototype,"disabled",void 0),Vt([b("")],e.prototype,"prefixIcon",void 0),Vt([b("")],e.prototype,"suffixIcon",void 0),Vt([b(!0)],e.prototype,"visible",void 0),Vt([b("None")],e.prototype,"overflow",void 0),Vt([b("")],e.prototype,"template",void 0),Vt([b("Button")],e.prototype,"type",void 0),Vt([b("Both")],e.prototype,"showTextOn",void 0),Vt([b(null)],e.prototype,"htmlAttributes",void 0),Vt([b("")],e.prototype,"tooltipText",void 0),Vt([b("Left")],e.prototype,"align",void 0),Vt([b(-1)],e.prototype,"tabIndex",void 0),Vt([b()],e.prototype,"name",void 0),e}(de);var _j=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Jd=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Ix=function(r){_j(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Jd([b(!0)],e.prototype,"allowSearchOnTyping",void 0),Jd([b("contains")],e.prototype,"filterType",void 0),Jd([b(!0)],e.prototype,"ignoreCase",void 0),Jd([b(null)],e.prototype,"placeholder",void 0),e}(de);var Fj=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Px=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Vj=[{field:"name",headerText:"Name",minWidth:120,isPrimaryKey:!0,template:'<span class="e-fe-text">${name}</span>',customAttributes:{class:"e-fe-grid-name"}},{field:"_fm_modified",headerText:"DateModified",type:"dateTime",format:"MMMM dd, yyyy HH:mm",minWidth:120,width:"190"},{field:"size",headerText:"Size",minWidth:90,width:"110",template:uh(function(r){return'<span class="e-fe-size">'+r.size+"</span>"}),format:"n2"}],jx=function(r){Fj(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Px([b(!0)],e.prototype,"columnResizing",void 0),Px([b(Vj)],e.prototype,"columns",void 0),e}(de);var $j=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ef=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Yj=["Open","|","Cut","Copy","|","Delete","Download","Rename","|","Details"],qj=["Open","|","Cut","Copy","Paste","|","Delete","Rename","Download","|","Details"],Wj=["SortBy","View","Refresh","|","Paste","|","NewFolder","Upload","|","Details","|","SelectAll"],zx=function(r){$j(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return ef([b(Yj)],e.prototype,"file",void 0),ef([b(qj)],e.prototype,"folder",void 0),ef([b(Wj)],e.prototype,"layout",void 0),ef([b(!0)],e.prototype,"visible",void 0),e}(de);var Zj=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),tf=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Rx=function(r){Zj(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return tf([b("650px")],e.prototype,"maxWidth",void 0),tf([b("240px")],e.prototype,"minWidth",void 0),tf([b(!0)],e.prototype,"visible",void 0),tf([b("None")],e.prototype,"sortOrder",void 0),e}(de);var Xj=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Nl=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Bx=function(r){Xj(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Nl([b("")],e.prototype,"allowedExtensions",void 0),Nl([b(!0)],e.prototype,"autoUpload",void 0),Nl([b(!1)],e.prototype,"autoClose",void 0),Nl([b(!1)],e.prototype,"directoryUpload",void 0),Nl([b(0)],e.prototype,"minFileSize",void 0),Nl([b(3e7)],e.prototype,"maxFileSize",void 0),e}(de);var Qx=function(){function r(e){this.parent=e,this.addEventListener()}return r.prototype.showFullScreen=function(e){var t=this;if(this.parent.toolbarSettings.enable===!0&&this.parent.editorMode!=="Markdown"&&!u(this.parent.quickToolbarModule)&&this.parent.quickToolbarModule.hideQuickToolbars(),this.parent.showTooltip&&!u(document.querySelector(".e-tooltip-wrap"))&&this.parent.notify(yr,{args:e}),this.scrollableParent=pl(this.parent.element),!this.parent.element.classList.contains(Ga)){var i={cancel:!1,requestType:"Maximize",targetItem:"Maximize",args:e};this.parent.trigger(Ht,i,function(n){if(!n.cancel){t.parent.toolbarSettings.enableFloating&&!t.parent.inlineMode.enable&&t.parent.toolbarSettings.enable&&(t.parent.getToolbarElement().style.width="100%",t.parent.getToolbarElement().style.top="0px"),t.parent.element.classList.add(Ga),t.toggleParentOverflow(!0);var s=t.parent.element.querySelectorAll(".e-toolbar-extended.e-popup-open").length>0;t.parent.setContentHeight("Maximize",s),t.parent.toolbarModule&&(t.parent.getBaseToolbarObject().toolbarObj.items[0].properties||t.parent.getBaseToolbarObject().toolbarObj.removeItems(0),N.isDevice&&t.parent.toolbarModule.removeFixedTBarClass(),t.parent.toolbarModule.updateItem({targetItem:"Maximize",updateItem:"Minimize",baseToolbar:t.parent.getBaseToolbarObject()})),t.parent.refreshUI(),t.parent.trigger(ei,{requestType:"Maximize",targetItem:"Maximize",args:e})}})}},r.prototype.hideFullScreen=function(e){var t=this;if(this.parent.toolbarSettings.enable===!0&&this.parent.editorMode!=="Markdown"&&!u(this.parent.quickToolbarModule)&&this.parent.quickToolbarModule.hideQuickToolbars(),this.parent.showTooltip&&!u(document.querySelector(".e-tooltip-wrap"))&&this.parent.notify(yr,{args:e}),this.parent.element.classList.contains(Ga)){var i={cancel:!1,requestType:"Minimize",targetItem:"Minimize",args:e};this.parent.trigger(Ht,i,function(n){if(!n.cancel){t.parent.element.classList.remove(Ga);for(var s=document.querySelectorAll(".e-rte-overflow"),o=0;o<s.length;o++)L([s[o]],["e-rte-overflow"]);var a=t.parent.element.querySelectorAll(".e-toolbar-extended.e-popup-open").length>0;t.parent.setContentHeight("Minimize",a),t.parent.toolbarModule&&(t.parent.getBaseToolbarObject().toolbarObj.items[0].properties||t.parent.getBaseToolbarObject().toolbarObj.removeItems(0),t.parent.toolbarModule.updateItem({targetItem:"Minimize",updateItem:"Maximize",baseToolbar:t.parent.getBaseToolbarObject()}),N.isDevice&&t.parent.inlineMode.enable&&t.parent.toolbarModule.addFixedTBarClass()),t.parent.refreshUI(),t.parent.trigger(ei,{requestType:"Minimize",targetItem:"Minimize",args:e})}})}},r.prototype.toggleParentOverflow=function(e){if(!u(this.scrollableParent))for(var t=0;t<this.scrollableParent.length;t++)if(this.scrollableParent[t].nodeName==="#document"){var i=document.querySelector("body");E([i],["e-rte-overflow"])}else{var i=this.scrollableParent[t];E([i],["e-rte-overflow"])}},r.prototype.onKeyDown=function(e){var t=e.args;switch(t.action){case"full-screen":this.showFullScreen(e.args),t.preventDefault();break;case"escape":this.hideFullScreen(e.args),t.preventDefault();break}},r.prototype.addEventListener=function(){this.parent.on(ot,this.onKeyDown,this),this.parent.on(ue,this.destroy,this),this.parent.on(Qe,this.moduleDestroy,this)},r.prototype.removeEventListener=function(){this.parent.off(ot,this.onKeyDown),this.parent.off(ue,this.destroy),this.parent.off(Qe,this.moduleDestroy)},r.prototype.destroy=function(){if(!u(this.parent)){this.parent.element.classList.contains(Ga)&&this.toggleParentOverflow(!1);for(var e=document.querySelectorAll(".e-rte-overflow"),t=0;t<e.length;t++)L([e[t]],["e-rte-overflow"]);this.removeEventListener()}},r.prototype.moduleDestroy=function(){this.parent=null},r}();function nf(r,e,t,i){var n;if(t){var s=e.contentModule.getDocument();n=s.querySelector("body")}else n=e.element;if(Object.keys(r).length)for(var o=0,a=Object.keys(r);o<a.length;o++){var l=a[o];if(l==="class")n.classList.add(r[""+l]);else if(l==="disabled"&&r[""+l]==="disabled")e.enabled=!1,e.setEnable();else if(l==="readonly"&&r[""+l]==="readonly")e.readonly=!0,e.setReadOnly(i);else if(l==="style")n.setAttribute("style",r[""+l]);else if(l==="tabindex")e.inputElement.setAttribute("tabindex",r[""+l]);else if(l==="placeholder")e.placeholder=r[""+l],e.setPlaceHolder();else{var h=["name","required"];h.indexOf(l)>-1?e.valueContainer.setAttribute(l,r[""+l]):n.setAttribute(l,r[""+l])}}}var Ux=function(){function r(e,t){this.parent=e,this.locator=t,this.i10n=t.getService("rteLocale"),this.renderFactory=this.locator.getService("rendererFactory"),this.baseToolbar=new Cl(this.parent,this.locator),this.addEventListener()}return r.prototype.destroy=function(){this.removeEventListener()},r.prototype.addEventListener=function(){this.parent.on(qo,this.toolbarClick,this),this.parent.on(Bs,this.docClick,this),this.parent.on(ot,this.onkeyPress,this),this.parent.on(At,this.onkeyUp,this),this.parent.on(vr,this.contentscroll,this),this.parent.on(gr,this.contentscroll,this)},r.prototype.toolbarClick=function(e){var t=this,i,n,s;u(this.parent.element.querySelector(".e-emoji"))?this.parent.inlineMode.enable&&(s=this.parent.element.ownerDocument.querySelector(".e-emoji")):s=this.parent.element.querySelector(".e-emoji"),this.divElement=s.closest("div"),this.parent.inputElement.contains(this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()).startContainer)||this.parent.contentModule.getEditPanel().focus();var o=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());this.save=this.parent.formatter.editorManager.nodeSelection.save(o,this.parent.contentModule.getDocument()),this.clickEvent=e.args;var a=this.parent.emojiPickerSettings.iconsSet;if(this.popupObj){if(L([this.divElement],"e-active"),this.popupObj.element.querySelector(".e-rte-emoji-search")||!this.parent.emojiPickerSettings.showSearchBox){this.popupObj.hide();return}this.popupObj.hide()}this.popDiv=this.parent.createElement("div",{className:"e-rte-emojipicker-popup",id:this.parent.getID()+"_emojiPicker"}),!u(this.parent.getToolbar())&&!this.parent.inlineMode.enable?this.parent.getToolbar().parentElement.appendChild(this.popDiv):this.parent.inlineMode.enable&&this.parent.element.appendChild(this.popDiv),y.add(this.popDiv,"keydown",this.onKeyDown,this),y.add(this.popDiv,"keyup",this.searchFilter,this);var l=this.parent.element.querySelector(".e-toolbar-extended"),h;if(u(l))h="10001";else{var c=window.getComputedStyle(l);h=c.getPropertyValue("z-index")}var p,d,f;if(!u(e.args)&&!this.parent.inlineMode.enable&&u(this.parent.quickToolbarSettings.text))p=e.args.originalEvent.target,p=p.classList.contains("e-toolbar-item")?p.firstChild:p.parentElement,d="left",f="bottom";else if(u(e.x)&&u(e.y)&&!this.parent.inlineMode.enable&&u(this.parent.quickToolbarSettings.text)){if(p=this.parent.inputElement,this.parent.contentModule.getDocument().getSelection().rangeCount>0){var m=this.getCoordinates();d=m.left,f=m.top}}else if(u(e.x)&&u(e.y)&&(this.parent.inlineMode.enable||!u(this.parent.quickToolbarSettings.text))){if(this.parent.notify(Wo,{}),this.parent.contentModule.getDocument().getSelection().rangeCount>0){var m=this.getCoordinates();d=m.left,f=m.top}}else p=this.parent.inputElement,d=e.x,f=e.y;if(this.popupObj=new _t(this.popDiv,{targetType:"relative",relateTo:p,collision:{X:"fit",Y:"none"},offsetY:8,viewPortElement:this.parent.element,position:{X:d,Y:f},enableRtl:this.parent.enableRtl,zIndex:parseInt(h,10)+1,actionOnScroll:"hide",close:function(te){t.parent.isBlur=!1,t.popupObj.destroy(),w(t.popupObj.element),t.popupObj=null}}),E([this.popupObj.element],"e-popup-open"),this.popupObj.refreshPosition(p),(!u(e.args)||u(e.x)&&u(e.y))&&this.parent.emojiPickerSettings.showSearchBox){var g=B("input",{id:"e-rte-emoji-search",className:"e-rte-emoji-search"});this.popDiv.append(g);var v=new oo({placeholder:this.i10n.getConstant("emojiPickerTypeToFind"),showClearButton:!0});v.appendTo(g),g.focus()}var O=this.popupObj.element.querySelector(".e-clear-icon");u(O)||y.add(O,"mousedown",this.searchFilter,this);var C=this.parent.createElement("div",{className:"e-rte-emojipicker-toolbar"});this.popDiv.appendChild(C);for(var x=[],M=0;M<this.parent.emojiPickerSettings.iconsSet.length;M++)u(this.parent.emojiPickerSettings.iconsSet[M].iconCss)?x.push({text:"&#x"+this.parent.emojiPickerSettings.iconsSet[M].code+";",htmlAttributes:(n={},n.title=this.parent.emojiPickerSettings.iconsSet[M].name,n)}):x.push({prefixIcon:this.parent.emojiPickerSettings.iconsSet[M].iconCss,htmlAttributes:(i={},i.title=this.parent.emojiPickerSettings.iconsSet[M].name,i)});var k=new Xp({items:x,clicked:this.emojiToolbarClick.bind(this)});k.appendTo(C);var A=this.parent.createElement("div",{className:"e-rte-emojipicker-btn"});this.popDiv.appendChild(A);var j,U=window.getComputedStyle(this.popDiv);if(u(e.args)&&!(u(e.x)&&u(e.y))||!this.parent.emojiPickerSettings.showSearchBox)j=this.popDiv.getBoundingClientRect().height-C.getBoundingClientRect().height-2*parseFloat(U.borderWidth)+"px",A.style.setProperty("height",j,"important");else{var q=this.parent.element.querySelector(".e-rte-emoji-search").parentElement,K=window.getComputedStyle(q);j=this.popDiv.getBoundingClientRect().height-C.getBoundingClientRect().height-q.getBoundingClientRect().height-parseFloat(K.marginTop)-parseFloat(K.marginBottom)-2*parseFloat(U.borderWidth)+"px",A.style.setProperty("height",j,"important")}for(var M=0;M<a.length;M++){var oe=this.parent.createElement("div",{className:"e-rte-emojipicker-group"});A.appendChild(oe);var ie=this.parent.createElement("div",{className:"e-rte-emojipicker-name"});ie.innerText=this.parent.emojiPickerSettings.iconsSet[M].name,ie.setAttribute("aria-label",this.parent.emojiPickerSettings.iconsSet[M].name),oe.appendChild(ie);var se=this.parent.createElement("div",{className:"e-rte-emojipickerbtn-group"});oe.appendChild(se);for(var H=0;H<a[M].icons.length;H++){var z=this.parent.createElement("button",{className:"e-btn  e-control"});z.innerHTML=this.buttoncode(this.parent.emojiPickerSettings.iconsSet[M].icons[H].code),z.setAttribute("aria-label",this.parent.emojiPickerSettings.iconsSet[M].icons[H].desc),z.setAttribute("title",this.parent.emojiPickerSettings.iconsSet[M].icons[H].desc),se.appendChild(z),z.innerHTML.length>2&&(z.style.fontSize="17px")}}y.add(A,"scroll",this.scrollEvent,this),y.add(A,"click",this.emojiBtnClick,this);var Y=this.parent.element.querySelectorAll(".e-rte-emojipicker-btn button");u(this.parent.element.querySelector(".e-rte-emoji-search"))&&!u(e.args)&&(Y[0].focus(),E([Y[0]],"e-focus"));var P=this.parent.element.querySelector(".e-rte-emojipicker-btn"),V=this.parent.element.querySelectorAll(".e-rte-emojipicker-toolbar button"),G;u(P)||(G=Math.round(P.scrollTop)),G<V[0].offsetHeight&&E([V[0]],"e-selected"),this.popupObj&&E([this.divElement],"e-active")},r.prototype.buttoncode=function(e){var t=e.split("-"),i=t.map(function(n){return String.fromCodePoint(parseInt(n,16))}).join("\u200D");return i},r.prototype.docClick=function(e){var t=e.args.target;t&&t.classList&&this.popupObj&&!S(t,"[id='"+this.popupObj.element.id+"']")&&!t.classList.contains("e-emoji")&&!t.classList.contains("e-toolbar-item")&&this.popupObj&&(L([this.divElement],"e-active"),this.popupObj.hide())},r.prototype.scrollEvent=function(){var e=this.parent.element.querySelector(".e-rte-emojipicker-btn"),t=this.parent.element.querySelectorAll(".e-rte-emojipicker-group"),i=this.parent.element.querySelectorAll(".e-rte-emojipicker-toolbar button"),n;u(e)||(n=Math.round(e.scrollTop));for(var s=0,o=0;o<i.length;o++)n<i[0].offsetHeight&&(u(i[o+1])||L([i[o+1]],"e-selected"),E([i[0]],"e-selected"));for(var a=0;a<t.length;a++)if(s+=Math.round(t[a].offsetHeight),n>=s){for(var l=0;l<i.length;l++)i[l].classList.contains("e-selected")&&L([i[l]],"e-selected");u(i[a+1])||E([i[a+1]],"e-selected")}},r.prototype.contentscroll=function(){if(u(this.clickEvent)&&this.popupObj){L([this.divElement],"e-active"),this.popupObj.hide();return}},r.prototype.emojiToolbarClick=function(e){for(var t={text:e.item.htmlAttributes.title},i=t.text,n=this.parent.element.querySelectorAll(".e-rte-emojipicker-group"),s=this.parent.element.querySelectorAll(".e-rte-emojipicker-btn button"),o=this.parent.element.querySelectorAll(".e-rte-emojipicker-toolbar button"),a=0;a<o.length;a++)o[a].classList.contains("e-selected")&&L([o[a]],"e-selected");for(var a=0;a<s.length;a++)s[a].classList.contains("e-focus")&&L([s[a]],"e-focus");var l=this.parent.element.querySelector(".e-rte-emojipicker-btn"),h=0;n.forEach(function(c){var p=c.childNodes[0],d=c.childNodes[1].childNodes[0],f=p.getAttribute("aria-label");i===f?p&&(l.scrollTop=h+10,E([d],"e-focus"),d.focus()):(h+=c.scrollHeight,L([d],"e-focus"))})},r.prototype.onKeyDown=function(e){var t=this.parent.element.querySelectorAll(".e-rte-emojipicker-btn button"),i=this.parent.element.querySelectorAll(".e-rte-emojipickerbtn-group"),n=this.parent.element.querySelector(".e-rte-emojisearch-btn button");if(e.keyCode===27&&this.popupObj&&(L([this.divElement],"e-active"),this.popupObj.hide()),e.keyCode===13){var s=document.activeElement;s.classList.contains("e-btn")&&(this.emojiBtnClick(e),e.preventDefault())}var o=e.srcElement;if(!u(o)&&o.classList.contains("e-rte-emoji-search")&&e.keyCode===40)for(var a=0;a<t.length;a++)t[a].classList.contains("e-focus")&&L([t[a]],"e-focus");if(!u(n))this.filterKeyHandler(e);else for(var a=0;a<t.length;a++){var l=a;if(t[a].classList.contains("e-focus")){if(e.keyCode===40){if(t.length-4>a){for(var h=0,c=0;c<i.length;c++)for(var p=0;p<i[c].childNodes.length;p++){var d=i[c].childNodes[p];if(d.classList.contains("e-focus")&&h!==1){var f=p,m=i[c].lastChild,g=Math.floor(p%6),v=i[c].childNodes.length-1,O=Math.floor(v%6);if(f!==-1){var C=f+6;if(u(i[c].childNodes[C]))if(u(i[c].childNodes[C])&&!m.classList.contains("e-focus")&&O<g){var x=t[a];L([x],"e-focus");var M=i[c].lastChild;E([M],"e-focus"),M.focus(),h=1;break}else{var x=t[a];L([x],"e-focus");var M=i[c+1].childNodes[g];E([M],"e-focus"),M.focus(),h=1;break}else{var x=t[a];L([x],"e-focus");var M=t[l+=6];E([M],"e-focus"),M.focus();break}}}}break}}else if(e.keyCode===38){if(a>=6)for(var h=0,c=0;c<i.length;c++)for(var p=0;p<i[c].childNodes.length;p++){var d=i[c].childNodes[p];if(d.classList.contains("e-focus")&&h!==1){var f=p,k=u(i[c-1])?null:i[c-1].childNodes.length%6||6;if(f!==-1){var A=f-6;if(u(i[c].childNodes[A]))if(u(i[c-1].childNodes[i[c-1].childNodes.length-(k-p)])){var x=t[a];L([x],"e-focus");var M=i[c-1].lastChild;E([M],"e-focus"),M.focus(),h=1;break}else{var x=t[a];L([x],"e-focus");var M=i[c-1].childNodes[i[c-1].childNodes.length-(k-p)];E([M],"e-focus"),M.focus(),h=1;break}else{var x=t[a];L([x],"e-focus");var M=t[l-=6];E([M],"e-focus"),M.focus();break}}}}else{var x=t[a];L([x],"e-focus");var M=t[l-=1],j=this.popupObj.element.querySelector(".e-rte-emoji-search");if(u(M)&&!u(j)){j.focus();break}E([M],"e-focus"),M.focus()}break}else if(e.keyCode===39){if(t.length!==a+1){var x=t[a];L([x],"e-focus");var M=t[l+=1];E([M],"e-focus"),t[l].focus()}break}else if(e.keyCode===37){if(a>0){var x=t[a];L([x],"e-focus");var M=t[l-=1];E([M],"e-focus"),t[l].focus()}break}}}if(e.keyCode===40){var x=this.parent.element.querySelector(".e-focus");if(u(x)){var M=t[0];E([M],"e-focus"),t[0].focus()}}},r.prototype.filterKeyHandler=function(e){var t=this.parent.element.querySelectorAll(".e-rte-emojisearch-btn button"),i=this.parent.element.querySelector(".e-focus");if(u(i)&&e.keyCode===40){var n=t[0];E([n],"e-focus"),t[0].focus()}else for(var s=0;s<t.length;s++){var o=s,a=t[s];if(a.classList.contains("e-focus")){if(e.keyCode===38)if(s>=6){var l=t[s];L([l],"e-focus");var n=t[o-=6];E([n],"e-focus"),n.focus();break}else{var h=t[s];L([h],"e-focus");var n=t[o-=1],c=this.popupObj.element.querySelector(".e-rte-emoji-search");if(u(n)&&!u(c)){c.focus();break}E([n],"e-focus"),n.focus()}else if(e.keyCode===40){if(t.length-6>s){var p=t[s];L([p],"e-focus");var n=t[o+=6];E([n],"e-focus"),n.focus();break}}else if(e.keyCode===39){if(t.length!==s+1){var d=t[s];L([d],"e-focus");var n=t[o+=1];E([n],"e-focus"),t[o].focus()}break}else if(e.keyCode===37&&s>0){var f=t[s];L([f],"e-focus");var n=t[o-=1];E([n],"e-focus"),t[o].focus();break}}}},r.prototype.searchFilter=function(e,t){var i=this.parent.element.querySelector(".e-rte-emoji-search"),n=this.parent.element.querySelector(".e-content");if(document.activeElement===i||document.activeElement===n){var s=void 0;t!==":"&&!u(t)?s=t.replace(/^:/,""):u(t)||(s=t);var o=u(i)?s:i.value,a=this.parent.element.querySelectorAll(".e-rte-emojipicker-btn button"),l=this.parent.element.querySelector(".e-rte-emojipicker-btn"),h=this.parent.element.querySelectorAll(".e-rte-emojipicker-group"),c=this.parent.element.querySelector(".e-rte-emojipicker-toolbar"),p=this.parent.element.querySelector(".e-rte-emojisearch-btn"),d=this.popDiv.childNodes[0],f=window.getComputedStyle(d),m=d.nodeName==="SPAN"?d.getBoundingClientRect().height+parseFloat(f.marginTop)+parseFloat(f.marginBottom):0,g=window.getComputedStyle(this.popDiv),v=u(p)?a:Array.from(a).filter(function(K){return!p.contains(K)});o===""||t===":"?(c.style.display="",l.style.height=this.popDiv.getBoundingClientRect().height-c.getBoundingClientRect().height-m-2*parseFloat(g.borderWidth)+"px",h.forEach(function(K){K.style.display=""})):(h.forEach(function(K){K.style.display="none"}),c.style.display="none",l.style.height=this.popDiv.getBoundingClientRect().height-m-2*parseFloat(g.borderWidth)+"px");var O=this.parent.createElement("div",{className:"e-rte-emojisearch-btn"}),C=this.parent.element.querySelector(".e-rte-emojisearch-btn");C&&C.remove();for(var x=this.parent.createElement("div",{className:"e-rte-emojiSearch-noEmoji"}),M=!0,k=0;k<v.length;k++)if(!u(v[k].getAttribute("title"))){for(var A=v[k].getAttribute("title").toLowerCase(),j=A.split(" "),U=0;U<j.length;U++)if(j[U].startsWith(o.toLowerCase())&&o!==""){var q=v[k].cloneNode(!0);O.appendChild(q),M=!1;break}}M&&!this.parent.element.querySelector(".e-rte-emojiSearch-noEmoji")&&o!==""&&t!==":"?(x.innerHTML='<span style="color: rgba(0, 0, 0, 0.75); font-weight: 500; font-size: 16px;">'+this.i10n.getConstant("emojiPickerNoResultFound")+' \u{1F625} </span><br><span style="color: rgba(0, 0, 0, 0.75);"> '+this.i10n.getConstant("emojiPickerTrySomethingElse")+" ? </span>",x.style.margin="55px",l.appendChild(x)):(!M&&this.parent.element.querySelector(".e-rte-emojiSearch-noEmoji")||o===""&&t===":"||o===""&&this.parent.element.querySelector(".e-rte-emojiSearch-noEmoji"))&&l.removeChild(this.parent.element.querySelector(".e-rte-emojiSearch-noEmoji")),l.appendChild(O)}else return},r.prototype.emojiBtnClick=function(e){for(var t=new MouseEvent("mouseleave",{bubbles:!0,cancelable:!0}),i=this.parent.element.querySelectorAll(".e-rte-emojipicker-popup [data-tooltip-id]"),n=0;n<i.length;n++)i[n].dispatchEvent(t);var s=e.target;if(s.tagName==="BUTTON"){s.focus();var o=this.save.startOffset,a=this.save.range.startContainer.textContent,l=a.substring(o,o+1);(!u(this.clickEvent)||l!==":")&&this.save.restore(),this.popupObj&&(L([this.divElement],"e-active"),this.popupObj.hide());var h=e;this.parent.formatter.process(this.parent,{item:{command:"EmojiPicker",subCommand:"EmojiPicker",value:s.innerHTML}},e,h)}},r.prototype.onkeyPress=function(e){var t=e.args,i=this.parent.iframeSettings.enable?this.parent.contentModule.getPanel().contentWindow.getSelection():this.parent.contentModule.getDocument().getSelection();if(!(i.rangeCount<=0)){var n=i.getRangeAt(0),s=n.startOffset,o=i.focusNode.textContent.substring(s-1,s),a=/\s/.test(o),l=i.focusNode.textContent.substring(s-1,s)===":",h=i.focusNode.textContent.charAt(s-1)===":";if(t.keyCode===186&&t.shiftKey&&(a||i.focusOffset===0)){var c=this.getCoordinates();this.parent.showEmojiPicker(c.left,c.top)}if(t.keyCode===8&&h&&this.popupObj&&(L([this.divElement],"e-active"),this.popupObj.hide()),t.keyCode===32&&l&&this.popupObj){L([this.divElement],"e-active");var p=this.parent.iframeSettings.enable?this.parent.contentModule.getPanel().ownerDocument:this.parent.contentModule.getDocument();this.parent.showTooltip&&!u(p.querySelector(".e-tooltip-wrap"))&&this.parent.notify(yr,{args:event}),this.popupObj.hide()}this.popupObj&&(t.keyCode===37||t.keyCode===38||t.keyCode===39||t.keyCode===27||t.keyCode===40)&&(this.onKeyDown(t),t.preventDefault())}},r.prototype.onkeyUp=function(e){var t=e.args,i=this.parent.iframeSettings.enable?this.parent.contentModule.getPanel().contentWindow.getSelection():this.parent.contentModule.getDocument().getSelection();if(!(i.rangeCount<=0)){for(var n=i.getRangeAt(0),s=n.startOffset,o,a=0,l=s-1;l>=s-15;l--){var h=i.focusNode.textContent.substring(l-1,l),c=/:$/.test(h);c&&!u(this.popDiv)&&a===0&&(o=n.startContainer.textContent.substring(l-1,s),this.searchFilter(t,o),a=1)}var p=i.focusNode.textContent.substring(s-1,s);p===":"&&!u(this.popupObj)&&(o=p,this.searchFilter(t,o))}},r.prototype.getCoordinates=function(){var e,t=this.parent.iframeSettings.enable?this.parent.contentModule.getPanel().contentWindow.getSelection():window.getSelection(),i=t.getRangeAt(0),n;(i.startContainer.nodeName==="P"||i.startContainer.nodeName==="DIV")&&i.startContainer.childNodes[0].nodeName!=="#text"&&(n=i.startContainer.childNodes[0]);var s=u(n)?i.getBoundingClientRect():n.getBoundingClientRect(),o=this.parent.element.querySelector(".e-rte-content"),a=this.parent.element,l=a.offsetHeight-o.offsetHeight,h=s.top-this.parent.inputElement.getBoundingClientRect().top,c=s.left-this.parent.inputElement.getBoundingClientRect().left,p=window.innerHeight,d=330,f=h,m=c+s.width;return a.getBoundingClientRect().top<0&&(f=f+o.getBoundingClientRect().top-l),s.top<d?f=f:s.top+d>p&&(f-=d+20),this.parent.inputElement&&(e={top:f+60,left:m+8}),e},r.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(qo,this.toolbarClick),this.parent.off(Bs,this.docClick),this.parent.off(ot,this.onkeyPress),this.parent.off(At,this.onkeyUp),this.parent.off(vr,this.contentscroll),this.parent.off(gr,this.contentscroll))},r.prototype.getModuleName=function(){return"emojiPicker"},r}();var Hx=function(){function r(e,t){this.parent=e,this.locator=t,this.renderer=this.locator.getService("rendererFactory"),this.addEventListener()}return r.prototype.render=function(){var e=this.parent;this.contentRenderer=this.renderer.getRenderer(ve.Content),this.contentRenderer.renderPanel()},r.prototype.refresh=function(e){e===void 0&&(e={requestType:"refresh"}),this.parent.notify(e.requestType+"-begin",e)},r.prototype.destroy=function(){u(this.parent)||this.removeEventListener()},r.prototype.moduleDestroy=function(){this.parent=null},r.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(Je,this.refresh,this),this.parent.on(At,this.keyUp,this),this.parent.on(Qe,this.moduleDestroy,this))},r.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(Je,this.refresh),this.parent.off(At,this.keyUp),this.parent.off(Qe,this.moduleDestroy))},r.prototype.keyUp=function(e){if(this.parent.editorMode==="HTML")switch(e.args.which){case 46:case 8:var t=this.parent.contentModule.getEditPanel().childNodes;if(t.length===0||t.length===1&&t[0].childNodes.length===0&&(t[0].tagName==="BR"||(t[0].tagName==="P"||t[0].tagName==="DIV")&&t[0].textContent==="")){var i=this.parent.contentModule.getEditPanel();this.parent.enterKey==="DIV"?i.innerHTML="<div><br/></div>":this.parent.enterKey==="BR"?i.innerHTML="<br/>":i.innerHTML="<p><br/></p>",this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(),i.childNodes[0],0)}break}},r}();var _x=function(){function r(e,t){this.parent=e,this.rteID=e.element.id,this.i10n=t.getService("rteLocale"),this.addEventListener(),this.serviceLocator=t,this.rendererFactory=t.getService("rendererFactory"),this.dialogRenderObj=t.getService("dialogRenderObject")}return r.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(Uo,this.linkDialog,this),this.parent.on(Eh,this.showDialog,this),this.parent.on(kh,this.closeDialog,this),this.parent.on(ot,this.onKeyDown,this),this.parent.on(Fn,this.showLinkQuickToolbar,this),this.parent.on(Fi,this.clearDialogObj,this),this.parent.on(Oh,this.onToolbarAction,this),this.parent.on(Ut,this.onIframeMouseDown,this),this.parent.on(qa,this.removeLink,this),this.parent.on(qu,this.editLink,this),this.parent.on(Ch,this.openLink,this),this.parent.on(xi,this.editAreaClickHandler,this),this.parent.on(dt,this.setCssClass,this),this.parent.on(ue,this.destroy,this),this.parent.on(Qe,this.moduleDestroy,this))},r.prototype.onToolbarAction=function(e){var t=e.args.item;switch(t.subCommand){case"OpenLink":this.parent.notify(Ch,e);break;case"EditLink":this.parent.notify(qu,e);break;case"RemoveLink":this.parent.notify(qa,e);break}},r.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(Uo,this.linkDialog),this.parent.off(Eh,this.showDialog),this.parent.off(kh,this.closeDialog),this.parent.off(ot,this.onKeyDown),this.parent.off(Fn,this.showLinkQuickToolbar),this.parent.off(Fi,this.clearDialogObj),this.parent.off(Oh,this.onToolbarAction),this.parent.off(qa,this.removeLink),this.parent.off(Ut,this.onIframeMouseDown),this.parent.off(qu,this.editLink),this.parent.off(Ch,this.openLink),this.parent.off(xi,this.editAreaClickHandler),this.parent.off(dt,this.setCssClass),this.parent.off(ue,this.destroy),this.parent.off(Qe,this.moduleDestroy))},r.prototype.onIframeMouseDown=function(){this.dialogObj&&this.dialogObj.hide({returnValue:!0})},r.prototype.updateCss=function(e,t){e&&t.cssClass&&(u(t.oldCssClass)?e.setProperties({cssClass:(e.cssClass+" "+t.cssClass).trim()}):e.setProperties({cssClass:(e.cssClass.replace(t.oldCssClass,"").trim()+" "+t.cssClass).trim()}))},r.prototype.setCssClass=function(e){this.updateCss(this.checkBoxObj,e),this.updateCss(this.dialogObj,e)},r.prototype.showLinkQuickToolbar=function(e){if(!u(e.args)&&e.args.action!=="enter"&&e.args.action!=="space"){var t=void 0,i=void 0;if(e.type!=="Links"||u(this.parent.quickToolbarModule)||u(this.parent.quickToolbarModule.linkQTBar))return;this.quickToolObj=this.parent.quickToolbarModule;var n=this.parent.element.getBoundingClientRect().top,s=this.parent.element.getBoundingClientRect().left,o=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),a;if([].forEach.call(e.elements,function(m,g){g===0&&(a=m.nodeName==="#text"?m.parentNode:m)}),e.isNotify){var l=this.parent.toolbarModule.getToolbarElement(),h=a.getBoundingClientRect().top,c=a.getBoundingClientRect().left,p=h-n,d=l?l.offsetHeight+this.parent.toolbarModule.getExpandTBarPopHeight():0;t=this.parent.iframeSettings.enable?s+c:a.getBoundingClientRect().left,i=window.pageYOffset+(this.parent.iframeSettings.enable?n+d+h:n+p)}else{var f=void 0;f=e.args.touches?e.args.changedTouches[0]:f=e.args,t=this.parent.iframeSettings.enable?window.pageXOffset+s+f.clientX:f.pageX,i=this.parent.iframeSettings.enable?window.pageYOffset+n+f.clientY:f.pageY}this.quickToolObj.linkQTBar&&this.quickToolObj.linkQTBar.showPopup(t,i,o.endContainer,"link")}},r.prototype.hideLinkQuickToolbar=function(){this.quickToolObj&&this.quickToolObj.linkQTBar&&document.body.contains(this.quickToolObj.linkQTBar.element)&&this.quickToolObj.linkQTBar.hidePopup()},r.prototype.editAreaClickHandler=function(e){if(this.parent.readonly){this.hideLinkQuickToolbar();return}var t=e.args,i=this.parent.quickToolbarSettings.showOnRightClick;if(!(t.which===2||i&&t.which===1||!i&&t.which===3)&&this.parent.editorMode==="HTML"&&this.parent.quickToolbarModule&&this.parent.quickToolbarModule.linkQTBar){this.quickToolObj=this.parent.quickToolbarModule;var n=t.target;n=this.getAnchorNode(n),this.contentModule=this.rendererFactory.getRenderer(ve.Content);var s=this.quickToolObj.linkQTBar.element.classList.contains("e-rte-pop");if(n.nodeName==="A"&&n.childNodes.length>0&&n.childNodes[0].nodeName!=="IMG"&&e.args.target.nodeName!=="IMG"&&!u(S(this.parent.getRange().startContainer.parentElement,"A"))&&!u(S(this.parent.getRange().endContainer.parentElement,"A"))){if(s)return;if(e.args.ctrlKey===!1)this.showLinkQuickToolbar({args:t,isNotify:!1,type:"Links",elements:[t.target]});else{var o=this.parent.formatter.editorManager.nodeSelection,a=o.getRange(this.parent.contentModule.getDocument()),l={args:{item:{subCommand:"OpenLink",command:"Links",name:""},originalEvent:e.args},selectNode:o.getNodeCollection(a),selectParent:o.getParentNodeCollection(a),selection:o.save(a,this.parent.contentModule.getDocument())};this.parent.notify(Ch,l)}}else this.hideLinkQuickToolbar()}},r.prototype.onKeyDown=function(e){var t=e.args;switch(t.action){case"escape":u(this.dialogObj)||this.dialogObj.close();break;case"insert-link":this.openDialog(!0,e),t.preventDefault();break}},r.prototype.openDialog=function(e,t){if(e||this.parent.contentModule.getEditPanel().focus(),this.parent.editorMode==="HTML"){var i=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),n=this.parent.formatter.editorManager.nodeSelection.save(i,this.parent.contentModule.getDocument()),s=this.parent.formatter.editorManager.nodeSelection.getNodeCollection(i),o=this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(i),a={args:t?t.args:{item:{command:"Links",subCommand:"CreateLink"},originalEvent:void 0,name:e?null:"showDialog"},selectNode:s,selection:n,selectParent:o};this.linkDialog(a)}else{var l=this.parent.contentModule.getEditPanel();this.parent.formatter.editorManager.markdownSelection.save(l.selectionStart,l.selectionEnd),this.linkDialog({args:{item:{command:"Links",subCommand:"Link"},originalEvent:t&&t.args},member:"link",text:this.parent.formatter.editorManager.markdownSelection.getSelectedText(this.parent.contentModule.getEditPanel()),module:"Markdown",name:"insertLink"})}},r.prototype.showDialog=function(){this.openDialog(!1),this.setCssClass({cssClass:this.parent.getCssClass()})},r.prototype.closeDialog=function(){this.dialogObj&&this.dialogObj.hide({returnValue:!0})},r.prototype.clearDialogObj=function(){this.dialogObj&&(this.dialogObj.destroy(),w(this.dialogObj.element),this.dialogObj=null)},r.prototype.linkDialog=function(e,t){var i=this;if(this.dialogObj){this.dialogObj.hide({returnValue:!0});return}if(this.parent.editorMode==="HTML"&&e.selectParent.length>0&&!u(e.selectParent[0].classList)&&e.selectParent[0].classList.contains("e-rte-anchor")&&u(t)){this.editLink(e);return}var n=this.i10n.getConstant("linkWebUrl"),s=this.i10n.getConstant("linkText"),o=this.i10n.getConstant("linkTooltipLabel"),a=this.i10n.getConstant("linkurl"),l=this.i10n.getConstant("textPlaceholder"),h=this.i10n.getConstant("linkTitle"),c=this.parent.createElement("div",{className:"e-rte-link-dialog"+this.parent.getCssClass(!0),id:this.rteID+"_rtelink"});this.parent.element.appendChild(c);var p=this.parent.createElement("div",{className:"e-rte-linkcontent"+this.parent.getCssClass(!0),id:this.rteID+"_linkContent"}),d=this.parent.editorMode==="HTML"?"<label>"+o+'</label></div><div class="e-rte-field'+this.parent.getCssClass(!0)+'"><input type="text" data-role ="none" spellcheck="false" placeholder = "'+h+'"aria-label="'+this.i10n.getConstant("linkTitle")+'" class="e-input e-rte-linkTitle'+this.parent.getCssClass(!0)+'"></div><div class="e-rte-label'+this.parent.getCssClass(!0)+'"></div><div class="e-rte-field'+this.parent.getCssClass(!0)+'"><input type="checkbox" class="e-rte-linkTarget'+this.parent.getCssClass(!0)+'"  data-role ="none"></div>':"",f='<div class="e-rte-label'+this.parent.getCssClass(!0)+'"><label>'+n+'</label></div><div class="e-rte-field'+this.parent.getCssClass(!0)+'"><input type="text" data-role ="none" spellcheck="false" placeholder="'+a+'"aria-label="'+this.i10n.getConstant("linkWebUrl")+'" class="e-input e-rte-linkurl'+this.parent.getCssClass(!0)+'"/></div><div class="e-rte-label'+this.parent.getCssClass(!0)+'"><label>'+s+'</label></div><div class="e-rte-field'+this.parent.getCssClass(!0)+'"> <input type="text" data-role ="none" spellcheck="false" class="e-input e-rte-linkText'+this.parent.getCssClass(!0)+'"aria-label="'+this.i10n.getConstant("linkText")+'" placeholder="'+l+'"></div><div class="e-rte-label'+this.parent.getCssClass(!0)+'">'+d,m=Nn(f);p.appendChild(m);var g=p.querySelector(".e-rte-linkTarget"),v=p.querySelector(".e-rte-linkurl"),O=p.querySelector(".e-rte-linkText"),C=p.querySelector(".e-rte-linkTitle"),x=this.i10n.getConstant("linkOpenInNewWindow");this.checkBoxObj=new Sp({label:x,checked:!0,enableRtl:this.parent.enableRtl,cssClass:this.parent.getCssClass()}),this.checkBoxObj.isStringTemplate=!0,this.checkBoxObj.createElement=this.parent.createElement,this.checkBoxObj.appendTo(g);var M=this.parent.editorMode==="HTML"?e.selection.getRange(this.parent.contentModule.getDocument()).toString():e.text,k=this.i10n.getConstant("dialogInsert"),A=this.i10n.getConstant("dialogCancel"),j=e.selection,U={selfLink:this,selection:e.selection,selectParent:e.selectParent,args:e.args},q={header:this.i10n.getConstant("linkHeader"),content:p,cssClass:at+this.parent.getCssClass(!0),enableRtl:this.parent.enableRtl,locale:this.parent.locale,showCloseIcon:!0,closeOnEscape:!0,width:N.isDevice?"290px":"310px",isModal:N.isDevice,buttons:[{click:this.insertlink.bind(U),buttonModel:{content:k,cssClass:"e-flat e-insertLink"+this.parent.getCssClass(!0),isPrimary:!0}},{click:this.cancelDialog.bind(U),buttonModel:{cssClass:"e-flat"+this.parent.getCssClass(!0),content:A}}],target:N.isDevice?document.body:this.parent.element,animationSettings:{effect:"None"},close:function(K){i.parent.isBlur=!1,K&&K.event.returnValue&&(i.parent.editorMode==="HTML"?j.restore():i.parent.formatter.editorManager.markdownSelection.restore(i.parent.contentModule.getEditPanel())),i.dialogObj.destroy(),w(i.dialogObj.element);var oe=i.dialogObj;i.dialogRenderObj.close(oe),i.dialogObj=null}};this.dialogObj=this.dialogRenderObj.render(q),this.dialogObj.createElement=this.parent.createElement,this.dialogObj.appendTo(c),c.style.maxHeight="inherit",!u(this.dialogObj)&&(u(t)||(v.value=t.url,O.value=t.text,C.value=t.title,t.target?this.checkBoxObj.checked=!0:this.checkBoxObj.checked=!1,this.dialogObj.header=t.header,this.dialogObj.element.querySelector(".e-insertLink").textContent=t.btnText),this.checkUrl(!1),(this.parent.editorMode==="HTML"&&u(t)&&(!u(M)&&M!==""&&e.selection.range.startOffset===0||e.selection.range.startOffset!==e.selection.range.endOffset)||e.module==="Markdown")&&(O.value=M),y.add(this.parent.element.ownerDocument,"mousedown",this.onDocumentClick,this),this.quickToolObj&&(this.hideLinkQuickToolbar(),this.quickToolObj.inlineQTBar&&document.body.contains(this.quickToolObj.inlineQTBar.element)&&this.quickToolObj.inlineQTBar.hidePopup(),this.quickToolObj.textQTBar&&this.parent.element.ownerDocument.body.contains(this.quickToolObj.textQTBar.element)&&this.quickToolObj.textQTBar.hidePopup()))},r.prototype.insertlink=function(e){var t=this.selfLink.dialogObj.element,i=t.querySelector(".e-rte-linkurl").value,n=t.querySelector(".e-rte-linkText").value,s;this.selfLink.parent.editorMode==="HTML"&&(s=t.querySelector(".e-rte-linkTitle").value);var o=this.selfLink.checkBoxObj.checked?"_blank":null,a=this.selfLink.checkBoxObj.checked?this.selfLink.i10n.getConstant("linkAriaLabel"):null;if(this.selfLink.parent.editorMode==="Markdown"&&i===""&&(i="http://"),i===""){this.selfLink.checkUrl(!0);return}this.selfLink.isUrl(i)?this.selfLink.checkUrl(!1):(this.selfLink.parent.editorMode==="Markdown"?n=n!==""?n:"":n=n===""?i:n,this.selfLink.parent.enableAutoUrl?i=i:i=i.indexOf("http")>-1?i:"http://"+i);var l=this.selfLink;if(l.parent.editorMode==="HTML"&&u(S(this.selection.range.startContainer.parentNode,"[id='"+l.parent.contentModule.getPanel().id+"']"))){l.parent.contentModule.getEditPanel().focus(),N.isIE&&l.parent.iframeSettings.enable&&this.selection.restore();var h=l.parent.formatter.editorManager.nodeSelection.getRange(l.parent.contentModule.getDocument());this.selection=l.parent.formatter.editorManager.nodeSelection.save(h,l.parent.contentModule.getDocument()),this.selectParent=l.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(h)}var c={url:i,text:n,title:s,target:o,ariaLabel:a,selection:this.selection,selectParent:this.selectParent};document.body.contains(l.dialogObj.element)&&this.selfLink.dialogObj.hide({returnValue:!1}),gt()&&l.parent.iframeSettings.enable&&$("iframe",l.parent.element).contentWindow.focus(),l.parent.editorMode==="HTML"&&this.selection.restore(),l.parent.formatter.getUndoRedoStack().length===0&&l.parent.formatter.saveData();var p;if(!u(this.args)&&this.args.code==="KeyK"){var d=this.args;ae(this.args,{item:{command:"Links",subCommand:"CreateLink"},originalEvent:d},!0);var f={item:{command:"Links",subCommand:"CreateLink"},originalEvent:d};p=f}else p=this.args;this.selfLink.parent.formatter.process(this.selfLink.parent,p,!u(this.args)&&this.args.originalEvent,c),this.selfLink.parent.contentModule.getEditPanel().focus()},r.prototype.isUrl=function(e){var t=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/gi;return t.test(e)},r.prototype.checkUrl=function(e){var t=this.dialogObj.element,i=t.querySelector(".e-rte-linkurl");e?(E([i],"e-error"),i.setSelectionRange(0,i.value.length),i.focus()):L([i],"e-error")},r.prototype.removeLink=function(e){this.parent.formatter.getUndoRedoStack().length===0&&this.parent.formatter.saveData();var t=this.getAnchorNode(e.selectParent[0]);this.parent.formatter.process(this.parent,e.args,e.args,{selectNode:e.selectNode,selectParent:e.selectParent,selection:e.selection,text:t.innerText,subCommand:e.args.item.subCommand}),gt()&&this.parent.iframeSettings.enable?$("iframe",this.parent.element).contentWindow.focus():this.parent.contentModule.getEditPanel().focus(),this.hideLinkQuickToolbar()},r.prototype.openLink=function(e){var t=this.getAnchorNode(e.selectParent[0]);(t.classList.contains("e-rte-anchor")||t.tagName==="A")&&this.parent.formatter.process(this.parent,e.args,e.args,{url:t.href,text:t.innerText,target:t.target===""?"_self":"_blank",selectNode:e.selectNode,subCommand:e.args.item.subCommand})},r.prototype.getAnchorNode=function(e){var t=S(e,"a");return t||e},r.prototype.editLink=function(e){var t=this.getAnchorNode(e.selectNode[0]),i=this.getAnchorNode(e.selectParent[0]);if(i=t.nodeName==="A"?t:i,i.classList.contains("e-rte-anchor")||i.tagName==="A"){var n=this.i10n.getConstant("dialogUpdate"),s={url:i.getAttribute("href"),text:i.innerText,title:i.title,target:i.target,header:this.i10n.getConstant("editLink"),btnText:n};this.linkDialog(e,s)}},r.prototype.cancelDialog=function(e){this.selfLink.parent.isBlur=!1,this.selfLink.dialogObj.hide({returnValue:!0}),gt()?this.selection.restore():this.selfLink.parent.contentModule.getEditPanel().focus()},r.prototype.onDocumentClick=function(e){var t=e.target;!u(this.dialogObj)&&(!S(t,"[id='"+this.dialogObj.element.id+"']")&&this.parent.toolbarSettings.enable&&this.parent.getToolbarElement()&&!this.parent.getToolbarElement().contains(e.target)||(this.parent.getToolbarElement()&&this.parent.getToolbarElement().contains(e.target)||this.parent.inlineMode.enable&&!S(t,"#"+this.dialogObj.element.id))&&!S(t,"#"+this.parent.getID()+"_toolbar_CreateLink")&&!t.querySelector("#"+this.parent.getID()+"_toolbar_CreateLink"))&&(this.parent.notify($n,{closedBy:"outside click"}),this.dialogObj.hide({returnValue:!0}),y.remove(this.parent.element.ownerDocument,"mousedown",this.onDocumentClick),this.parent.isBlur=!0,Tn(this.parent.element,"focusout"))},r.prototype.destroy=function(){u(this.parent)||this.removeEventListener()},r.prototype.moduleDestroy=function(){this.parent=null},r.prototype.getModuleName=function(){return"link"},r}();var Fx=function(){function r(e,t){this.isImgUploaded=!1,this.isAllowedTypes=!0,this.pageX=null,this.pageY=null,this.deletedImg=[],this.parent=e,this.rteID=e.element.id,this.i10n=t.getService("rteLocale"),this.rendererFactory=t.getService("rendererFactory"),this.dialogRenderObj=t.getService("dialogRenderObject"),this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(ot,this.onKeyDown,this),this.parent.on(At,this.onKeyUp,this),this.parent.on(As,this.insertImage,this),this.parent.on(Dh,this.showDialog,this),this.parent.on(Ah,this.closeDialog,this),this.parent.on(Ls,this.onWindowResize,this),this.parent.on(Fn,this.showImageQuickToolbar,this),this.parent.on(Fi,this.clearDialogObj,this),this.parent.on(yh,this.onToolbarAction,this),this.parent.on(Ku,this.caption,this),this.parent.on(Xu,this.deleteImg,this),this.parent.on(Wu,this.insertImgLink,this),this.parent.on(Zu,this.insertAltText,this),this.parent.on(xi,this.editAreaClickHandler,this),this.parent.on(Ut,this.onIframeMouseDown,this),this.parent.on(Ju,this.imageSize,this),this.parent.on(Hi,this.alignmentSelect,this),this.parent.on(bt,this.afterRender,this),this.parent.on(Vn,this.afterRender,this),this.parent.on(Rs,this.imagePaste,this),this.parent.on(dt,this.setCssClass,this),this.parent.on(ue,this.removeEventListener,this),this.parent.on(Qe,this.moduleDestroy,this))},r.prototype.removeEventListener=function(){if(!this.parent.isDestroyed){this.parent.off(ot,this.onKeyDown),this.parent.off(At,this.onKeyUp),this.parent.off(Ls,this.onWindowResize),this.parent.off(As,this.insertImage),this.parent.off(Dh,this.showDialog),this.parent.off(Ah,this.closeDialog),this.parent.off(Fn,this.showImageQuickToolbar),this.parent.off(Fi,this.clearDialogObj),this.parent.off(Ku,this.caption),this.parent.off(yh,this.onToolbarAction),this.parent.off(Xu,this.deleteImg),this.parent.off(Wu,this.insertImgLink),this.parent.off(Zu,this.insertAltText),this.parent.off(xi,this.editAreaClickHandler),this.parent.off(Ut,this.onIframeMouseDown),this.parent.off(Ju,this.imageSize),this.parent.off(Hi,this.alignmentSelect),this.parent.off(bt,this.afterRender),this.parent.off(Vn,this.afterRender),this.parent.off(Rs,this.imagePaste),this.parent.off(dt,this.setCssClass),this.parent.off(ue,this.removeEventListener),this.parent.off(Qe,this.moduleDestroy);var e=this.parent.iframeSettings.enable?this.parent.inputElement.ownerDocument:this.parent.inputElement;e.removeEventListener("drop",this.dragDrop.bind(this),!0),e.removeEventListener("dragstart",this.dragStart.bind(this),!0),e.removeEventListener("dragenter",this.dragEnter.bind(this),!0),e.removeEventListener("dragover",this.dragOver.bind(this),!0),u(this.contentModule)||(y.remove(this.contentModule.getEditPanel(),N.touchEndEvent,this.imageClick),this.parent.formatter.editorManager.observer.off(Qs,this.undoStack),this.parent.insertImageSettings.resize&&(y.remove(this.parent.contentModule.getEditPanel(),N.touchStartEvent,this.resizeStart),y.remove(this.parent.element.ownerDocument,"mousedown",this.onDocumentClick),y.remove(this.contentModule.getEditPanel(),"cut",this.onCutHandler),y.remove(this.contentModule.getDocument(),N.touchMoveEvent,this.resizing)))}},r.prototype.updateCss=function(e,t){e&&t.cssClass&&(u(t.oldCssClass)?e.setProperties({cssClass:(e.cssClass+" "+t.cssClass).trim()}):e.setProperties({cssClass:(e.cssClass.replace(t.oldCssClass,"").trim()+" "+t.cssClass).trim()}))},r.prototype.setCssClass=function(e){this.popupObj&&e.cssClass&&(u(e.oldCssClass)?E([this.popupObj.element],e.cssClass):(L([this.popupObj.element],e.oldCssClass),E([this.popupObj.element],e.cssClass))),this.updateCss(this.checkBoxObj,e),this.updateCss(this.widthNum,e),this.updateCss(this.heightNum,e),this.updateCss(this.uploadObj,e),this.updateCss(this.dialogObj,e)},r.prototype.onIframeMouseDown=function(){this.dialogObj&&this.dialogObj.hide({returnValue:!0})},r.prototype.afterRender=function(){this.contentModule=this.rendererFactory.getRenderer(ve.Content),y.add(this.contentModule.getEditPanel(),N.touchEndEvent,this.imageClick,this),this.parent.insertImageSettings.resize&&(y.add(this.parent.contentModule.getEditPanel(),N.touchStartEvent,this.resizeStart,this),y.add(this.parent.element.ownerDocument,"mousedown",this.onDocumentClick,this),y.add(this.contentModule.getEditPanel(),"cut",this.onCutHandler,this));var e=this.parent.iframeSettings.enable?this.parent.inputElement.ownerDocument:this.parent.inputElement;e.addEventListener("drop",this.dragDrop.bind(this),!0),e.addEventListener("dragstart",this.dragStart.bind(this),!0),e.addEventListener("dragenter",this.dragOver.bind(this),!0),e.addEventListener("dragover",this.dragOver.bind(this),!0)},r.prototype.undoStack=function(e){if(e.subCommand.toLowerCase()==="undo"||e.subCommand.toLowerCase()==="redo")for(var t=0;t<this.parent.formatter.getUndoRedoStack().length;t++){var i=this.parent.createElement("div"),n=this.parent.formatter.getUndoRedoStack()[t].text;i.appendChild(n.cloneNode(!0));var s=i.querySelectorAll("img");if(i.querySelector(".e-img-resize")&&s.length>0){for(var o=0;o<s.length;o++)s[o].style.outline="";w(i.querySelector(".e-img-resize"));for(var a=i.cloneNode(!0),l=document.createDocumentFragment();a.firstChild;)l.appendChild(a.firstChild);this.parent.formatter.getUndoRedoStack()[t].text=l}}},r.prototype.resizeEnd=function(e){this.resizeBtnInit(),this.imgEle.parentElement.style.cursor="auto",N.isDevice&&L([e.target.parentElement],"e-mob-span");var t={event:e,requestType:"images"};this.parent.trigger(Ya,t),this.parent.formatter.editorManager.observer.on(Qs,this.undoStack,this),this.parent.formatter.saveData()},r.prototype.resizeStart=function(e,t){var i=this;if(!this.parent.readonly){var n=t||e.target;if(this.prevSelectedImgEle=this.imgEle,n.tagName==="IMG"){this.parent.preventDefaultResize(e);var s=n;this.imgResizeDiv&&this.contentModule.getEditPanel().contains(this.imgResizeDiv)&&w(this.imgResizeDiv),this.imageResize(s)}if(n.classList.contains("e-rte-imageboxmark")){this.parent.formatter.getUndoRedoStack().length===0&&this.parent.formatter.saveData(),this.pageX=this.getPointX(e),this.pageY=this.getPointY(e),e.preventDefault(),e.stopImmediatePropagation(),this.resizeBtnInit(),this.quickToolObj&&this.quickToolObj.imageQTBar.hidePopup();for(var o=["topLeft","topRight","botLeft","botRight"],a=0;a<o.length;a++){var l=o[a];if(n.classList.contains("e-rte-"+l)){this.resizeBtnStat[l]=!0,this.currentResizeHandler=l,this.aspectRatio=this.findAspectRatio(this.imgEle);break}}if(N.isDevice&&this.contentModule.getEditPanel().contains(this.imgResizeDiv)&&!this.imgResizeDiv.classList.contains("e-mob-span"))E([this.imgResizeDiv],"e-mob-span");else{var h={event:e,requestType:"images"};this.parent.trigger(Va,h,function(c){c.cancel&&i.cancelResizeAction()})}y.add(this.contentModule.getDocument(),N.touchMoveEvent,this.resizing,this),y.add(this.contentModule.getDocument(),N.touchEndEvent,this.resizeEnd,this)}}},r.prototype.imageClick=function(e){N.isDevice&&(e.target.tagName==="IMG"&&e.target.parentElement.tagName==="A"||e.target.tagName==="IMG"?(this.contentModule.getEditPanel().setAttribute("contenteditable","false"),e.target.focus()):this.parent.readonly||this.contentModule.getEditPanel().setAttribute("contenteditable","true")),e.target.tagName==="IMG"&&e.target.parentElement.tagName==="A"&&e.preventDefault()},r.prototype.onCutHandler=function(){this.imgResizeDiv&&this.contentModule.getEditPanel().contains(this.imgResizeDiv)&&this.cancelResizeAction()},r.prototype.imageResize=function(e){this.resizeBtnInit(),this.imgEle=e,E([this.imgEle],"e-resize"),this.imgResizeDiv=this.parent.createElement("span",{className:"e-img-resize"+this.parent.getCssClass(!0),id:this.rteID+"_imgResize"}),this.imgResizeDiv.appendChild(this.parent.createElement("span",{className:"e-rte-imageboxmark e-rte-topLeft"+this.parent.getCssClass(!0),styles:"cursor: nwse-resize"})),this.imgResizeDiv.appendChild(this.parent.createElement("span",{className:"e-rte-imageboxmark e-rte-topRight"+this.parent.getCssClass(!0),styles:"cursor: nesw-resize"})),this.imgResizeDiv.appendChild(this.parent.createElement("span",{className:"e-rte-imageboxmark e-rte-botLeft"+this.parent.getCssClass(!0),styles:"cursor: nesw-resize"})),this.imgResizeDiv.appendChild(this.parent.createElement("span",{className:"e-rte-imageboxmark e-rte-botRight"+this.parent.getCssClass(!0),styles:"cursor: nwse-resize"})),N.isDevice&&E([this.imgResizeDiv],"e-mob-rte"),e.style.outline="2px solid #4a90e2",this.imgResizePos(e,this.imgResizeDiv),this.resizeImgDupPos(e),this.contentModule.getEditPanel().appendChild(this.imgResizeDiv)},r.prototype.getPointX=function(e){return e.touches&&e.touches.length?e.touches[0].pageX:e.pageX},r.prototype.getPointY=function(e){return e.touches&&e.touches.length?e.touches[0].pageY:e.pageY},r.prototype.imgResizePos=function(e,t){var i=this.calcPos(e),n=i.top,s=i.left,o=e.getBoundingClientRect().width,a=e.getBoundingClientRect().height,l=N.isDevice?4*parseInt(e.style.outline.slice(-3),10)+2:2*parseInt(e.style.outline.slice(-3),10)+2,h=N.isDevice?0:2;t.querySelector(".e-rte-botLeft").style.left=s-l+"px",t.querySelector(".e-rte-botLeft").style.top=a-l+n+"px",t.querySelector(".e-rte-botRight").style.left=o-(l-h)+s+"px",t.querySelector(".e-rte-botRight").style.top=a-l+n+"px",t.querySelector(".e-rte-topRight").style.left=o-(l-h)+s+"px",t.querySelector(".e-rte-topRight").style.top=n-l+"px",t.querySelector(".e-rte-topLeft").style.left=s-l+"px",t.querySelector(".e-rte-topLeft").style.top=n-l+"px"},r.prototype.calcPos=function(e){for(var t=["TD","TH","TABLE","A"],i={top:0,left:0},n,s=e.ownerDocument,o=(e.offsetParent&&(e.offsetParent.classList.contains("e-img-caption")||t.indexOf(e.offsetParent.tagName)>-1)?S(e,"#"+this.parent.getID()+"_rte-edit-view"):e.offsetParent)||s.documentElement;o&&(o===s.body||o===s.documentElement)&&o.style.position==="static";)o=o.parentNode;return o&&o!==e&&o.nodeType===1&&(i=o.getBoundingClientRect()),e.offsetParent&&e.offsetParent.classList.contains("e-img-caption")?(n=e.getBoundingClientRect(),{top:n.top-i.top,left:n.left-i.left}):{top:e.offsetTop,left:e.offsetLeft}},r.prototype.setAspectRatio=function(e,t,i){if(!u(e.width)){var n=e.width,s=e.height,o=n===s,a=this.parent.insertImageSettings.resizeByPercent?"%":"px",l=e.style.width===""&&e.style.height==="";!o&&!l?e.style.width!==""&&e.style.height!==""?this.parent.insertImageSettings.resizeByPercent?(this.setImageWidth(e,t,a),this.removeImageHeight(e)):(this.setImageWidth(e,t,a),this.setImageHeight(e,i,a)):e.style.width!==""?this.parent.insertImageSettings.resizeByPercent?(this.setImageWidth(e,t,a),this.removeImageHeight(e)):this.setImageWidth(e,t,a):e.style.height!==""&&(this.parent.insertImageSettings.resizeByPercent?(this.setImageWidth(e,t,a),this.removeImageHeight(e)):this.setImageHeight(e,i,a)):(this.setImageWidth(e,t,a),this.parent.insertImageSettings.resizeByPercent?this.removeImageHeight(e):this.setImageHeight(e,i,a))}},r.prototype.setImageWidth=function(e,t,i){e.style.width=this.getImageDimension(t,e)+i,this.parent.insertImageSettings.resizeByPercent||e.setAttribute("width",t.toString())},r.prototype.setImageHeight=function(e,t,i){e.style.height=this.getImageDimension(t,e)+i,this.parent.insertImageSettings.resizeByPercent||e.setAttribute("height",t.toString())},r.prototype.removeImageHeight=function(e){e.style.height="",e.removeAttribute("height")},r.prototype.getImageDimension=function(e,t){if(this.parent.insertImageSettings.resizeByPercent){var i=t.parentElement||t.previousElementSibling;return this.pixToPerc(e,i)}else return e},r.prototype.pixToPerc=function(e,t){return e/parseFloat(getComputedStyle(t).width)*100},r.prototype.imgDupMouseMove=function(e,t,i){var n=this,s={event:i,requestType:"images"};this.parent.trigger($a,s,function(o){if(o.cancel)n.cancelResizeAction();else{if(parseInt(n.parent.insertImageSettings.minWidth,10)>=parseInt(e,10)||parseInt(n.parent.getInsertImgMaxWidth(),10)<=parseInt(e,10)&&u(n.imgEle.style.width)||!n.parent.insertImageSettings.resizeByPercent&&(parseInt(n.parent.insertImageSettings.minHeight,10)>=parseInt(t,10)||parseInt(n.parent.insertImageSettings.maxHeight,10)<=parseInt(t,10)))return;n.imgEle.parentElement.style.cursor="pointer",n.setAspectRatio(n.imgEle,parseInt(e,10),parseInt(t,10)),n.resizeImgDupPos(n.imgEle),n.imgResizePos(n.imgEle,n.imgResizeDiv)}})},r.prototype.resizing=function(e){if(!this.parent){this.cancelResizeAction();return}if(this.resizeBtnStat.botRight||this.resizeBtnStat.botLeft||this.resizeBtnStat.topRight||this.resizeBtnStat.topLeft){var t=this.getPointX(e),i=this.getPointY(e),n=this.getResizeFactor(this.currentResizeHandler),s=t-this.pageX,o=i-this.pageY,a=this.imgEle.clientWidth,l=this.imgEle.clientHeight,h=s*n[0]+a,c=o*n[1]+l;h=h<16?16:h,c=c<16?16:c,Math.abs(s)>Math.abs(o)?(c=Math.round(h/this.aspectRatio),h=Math.round(c*this.aspectRatio)):(h=Math.round(c*this.aspectRatio),c=Math.round(h/this.aspectRatio)),this.pageX=t,this.pageY=i,this.imgDupMouseMove(h+"px",c+"px",e)}},r.prototype.getResizeFactor=function(e){return HN[e]},r.prototype.findAspectRatio=function(e){return e.clientWidth/e.clientHeight},r.prototype.cancelResizeAction=function(){y.remove(this.contentModule.getDocument(),N.touchMoveEvent,this.resizing),y.remove(this.contentModule.getDocument(),N.touchEndEvent,this.resizeEnd),this.imgEle&&this.imgResizeDiv&&this.contentModule.getEditPanel().contains(this.imgResizeDiv)&&(w(this.imgResizeDiv),this.imgEle.style.outline="",this.imgResizeDiv=null,this.pageX=null,this.pageY=null,this.currentResizeHandler=null,this.aspectRatio=null)},r.prototype.resizeImgDupPos=function(e){this.imgDupPos={width:e.style.width!==""&&this.parent.insertImageSettings&&!this.parent.insertImageSettings.resizeByPercent?this.imgEle.style.width:e.width+"px",height:e.style.height!==""?this.imgEle.style.height:e.height+"px"}},r.prototype.resizeBtnInit=function(){return this.aspectRatio=null,this.currentResizeHandler=null,this.resizeBtnStat={botLeft:!1,botRight:!1,topRight:!1,topLeft:!1}},r.prototype.onToolbarAction=function(e){gt()&&this.parent.notify(Xt,{});var t=e.args.item;switch(t.subCommand){case"Replace":this.parent.fileManagerSettings.enable?this.parent.notify(tp,e):this.parent.notify(As,e);break;case"Caption":this.parent.notify(Ku,e);break;case"InsertLink":this.parent.notify(Wu,e);break;case"AltText":this.parent.notify(Zu,e);break;case"Remove":this.parent.notify(Xu,e);break;case"Dimension":this.parent.notify(Ju,e);break;case"OpenImageLink":this.openImgLink(e);break;case"EditImageLink":this.editImgLink(e);break;case"RemoveImageLink":this.removeImgLink(e);break}},r.prototype.openImgLink=function(e){var t=e.selectParent[0].parentNode.target===""?"_self":"_blank";this.parent.formatter.process(this.parent,e.args,e.args,{url:e.selectParent[0].parentNode.href,target:t,selectNode:e.selectNode,subCommand:e.args.item.subCommand})},r.prototype.editImgLink=function(e){var t=e.selectParent[0].parentNode,i=this.i10n.getConstant("dialogUpdate"),n={url:t.href,target:t.target,header:"Edit Link",btnText:i};this.insertImgLink(e,n)},r.prototype.removeImgLink=function(e){N.isIE&&this.contentModule.getEditPanel().focus(),e.selection.restore();var t=!!(this.contentModule.getEditPanel().contains(this.captionEle)&&$("a",this.captionEle)),i=t?[this.captionEle]:[e.selectNode[0].parentElement];this.parent.formatter.process(this.parent,e.args,e.args,{insertElement:e.selectNode[0],selectParent:i,selection:e.selection,subCommand:e.args.item.subCommand}),this.quickToolObj&&document.body.contains(this.quickToolObj.imageQTBar.element)&&(this.quickToolObj.imageQTBar.hidePopup(),u(e.selectParent)||L([e.selectParent[0]],"e-img-focus")),t&&$(".e-img-inner",this.captionEle).focus()},r.prototype.onKeyDown=function(e){var t=e.args,i,n,s,o;this.deletedImg=[];var a,l=[27,112,113,114,115,116,117,118,119,120,121,122,123,44,45,9,16,17,18,19,20,33,34,35,36,37,38,39,40,91,92,93,144,145,182,183];if(this.parent.editorMode==="HTML"&&(i=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),a=i.startContainer===i.endContainer&&i.startOffset===i.endOffset),!a&&this.parent.editorMode==="HTML"&&l.indexOf(t.which)<0)for(var h=this.parent.formatter.editorManager.nodeSelection.getNodeCollection(i),c=0;c<h.length;c++)h[c].nodeName==="IMG"&&this.deletedImg.push(h[c]);if(this.parent.editorMode==="HTML"&&(t.which===8&&t.code==="Backspace"||t.which===46&&t.code==="Delete")){var p=i.startContainer===i.endContainer&&i.startOffset===i.endOffset;t.which===8&&t.code==="Backspace"&&p?this.checkImageBack(i):t.which===46&&t.code==="Delete"&&p&&this.checkImageDel(i)}if(!u(this.parent.formatter.editorManager.nodeSelection)&&t.code!=="KeyK"&&(i=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),s=this.parent.formatter.editorManager.nodeSelection.getNodeCollection(i),o=this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(i),!t.ctrlKey&&t.key&&(t.key.length===1||t.action==="enter")&&!u(o[0])&&o[0].tagName==="IMG"&&o[0].parentElement)){var d=o[0].parentElement.childNodes[0];this.contentModule.getEditPanel().querySelector(".e-img-resize")&&this.removeResizeEle(),this.parent.formatter.editorManager.nodeSelection.setSelectionText(this.contentModule.getDocument(),d,d,d.textContent.length,d.textContent.length),L([o[0]],"e-img-focus"),this.quickToolObj.imageQTBar.hidePopup()}if(t.ctrlKey&&(t.keyCode===89||t.keyCode===90)&&this.parent.editorMode!=="Markdown"&&this.undoStack({subCommand:t.keyCode===90?"undo":"redo"}),t.keyCode===8||t.keyCode===46){if(s&&s[0].nodeName==="IMG"&&s.length<1){u(this.parent.formatter.editorManager.nodeSelection)||(n=this.parent.formatter.editorManager.nodeSelection.save(i,this.parent.contentModule.getDocument())),t.preventDefault();var f={selectNode:s,selection:n,selectParent:o,args:{item:{command:"Images",subCommand:"Remove"},originalEvent:t}};this.deleteImg(f,t.keyCode)}this.parent.contentModule.getEditPanel().querySelector(".e-img-resize")&&this.removeResizeEle()}switch(t.code==="Backspace"&&(t.action="backspace"),t.action){case"escape":u(this.dialogObj)||this.dialogObj.close();break;case"backspace":case"delete":for(var c=0;c<this.deletedImg.length;c++){var m=this.deletedImg[c].src;this.imageRemovePost(m)}if(this.parent.editorMode!=="Markdown"){if(i.startContainer.nodeType===3)t.code==="Backspace"?i.startContainer.previousElementSibling&&i.startOffset===0&&i.startContainer.previousElementSibling.classList.contains(sn)&&i.startContainer.previousElementSibling.classList.contains(el)&&w(i.startContainer.previousElementSibling):i.startContainer.nextElementSibling&&i.endContainer.textContent.length===i.endOffset&&i.startContainer.nextElementSibling.classList.contains(sn)&&i.startContainer.nextElementSibling.classList.contains(el)&&w(i.startContainer.nextElementSibling);else if(i.startContainer.nodeType===1){if(i.startContainer.querySelector("."+sn+"."+el))w(i.startContainer.querySelector("."+sn+"."+el));else if(i.startContainer.querySelector("."+sn+"."+br))w(i.startContainer.querySelector("."+sn+"."+br));else if(i.startContainer.classList.contains("e-img-wrap")&&S(i.startContainer,"."+sn)){var g=i.startContainer.parentElement.parentElement;if(w(S(i.startContainer,"."+sn)),g&&g.textContent.trim()===""){var v=this.parent.createElement("br");v.classList.add("e-rte-image-remove-focus"),g.appendChild(v)}}}}break;case"insert-image":u(this.parent.formatter.editorManager.nodeSelection)||(n=this.parent.formatter.editorManager.nodeSelection.save(i,this.parent.contentModule.getDocument())),this.openDialog(!0,t,n,s,o),t.preventDefault();break}t.ctrlKey&&t.key==="a"&&this.handleSelectAll()},r.prototype.handleSelectAll=function(){this.cancelResizeAction();var e=this.parent.inputElement.querySelectorAll("."+nl);L(e,nl)},r.prototype.openDialog=function(e,t,i,n,s){var o,a,l,h;!e&&!u(this.parent.formatter.editorManager.nodeSelection)?(o=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),a=this.parent.formatter.editorManager.nodeSelection.save(o,this.parent.contentModule.getDocument()),l=this.parent.formatter.editorManager.nodeSelection.getNodeCollection(o),h=this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(o)):(a=i,l=n,h=s),this.parent.editorMode==="HTML"?this.insertImage({args:{item:{command:"Images",subCommand:"Image"},originalEvent:t,name:e?null:"showDialog"},selectNode:l,selection:a,selectParent:h}):this.insertImage({args:{item:{command:"Images",subCommand:"Image"},originalEvent:t,name:e?null:"showDialog"},member:"image",text:this.parent.formatter.editorManager.markdownSelection.getSelectedText(this.parent.contentModule.getEditPanel()),module:"Markdown",name:"insertImage"})},r.prototype.showDialog=function(){this.openDialog(!1),this.setCssClass({cssClass:this.parent.getCssClass()})},r.prototype.closeDialog=function(){this.dialogObj&&this.dialogObj.hide({returnValue:!0})},r.prototype.onKeyUp=function(e){if(!u(this.deletedImg)&&this.deletedImg.length>0)for(var t=0;t<this.deletedImg.length;t++){var i={element:this.deletedImg[t],src:this.deletedImg[t].getAttribute("src")};this.parent.trigger(pg,i)}},r.prototype.checkImageBack=function(e){e.startContainer.nodeName==="#text"&&e.startOffset===0&&!u(e.startContainer.previousSibling)&&e.startContainer.previousSibling.nodeName==="IMG"?this.deletedImg.push(e.startContainer.previousSibling):e.startContainer.nodeName!=="#text"&&!u(e.startContainer.childNodes[e.startOffset-1])&&e.startContainer.childNodes[e.startOffset-1].nodeName==="IMG"&&this.deletedImg.push(e.startContainer.childNodes[e.startOffset-1])},r.prototype.checkImageDel=function(e){e.startContainer.nodeName==="#text"&&e.startOffset===e.startContainer.textContent.length&&!u(e.startContainer.nextSibling)&&e.startContainer.nextSibling.nodeName==="IMG"?this.deletedImg.push(e.startContainer.nextSibling):e.startContainer.nodeName!=="#text"&&!u(e.startContainer.childNodes[e.startOffset])&&e.startContainer.childNodes[e.startOffset].nodeName==="IMG"&&this.deletedImg.push(e.startContainer.childNodes[e.startOffset])},r.prototype.alignmentSelect=function(e){var t=e.item;if(!(!document.body.contains(document.body.querySelector(".e-rte-quick-toolbar"))||t.command!=="Images")){var i=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),n=this.parent.formatter.editorManager.nodeSelection.getNodeCollection(i);n=n[0].nodeName==="IMG"?n:[this.imgEle];var s={args:e,selectNode:n};switch(this.parent.formatter.getUndoRedoStack().length===0&&this.parent.formatter.saveData(),t.subCommand){case"JustifyLeft":this.alignImage(s,"JustifyLeft");break;case"JustifyCenter":this.alignImage(s,"JustifyCenter");break;case"JustifyRight":this.alignImage(s,"JustifyRight");break;case"Inline":this.inline(s);break;case"Break":this.break(s);break}this.quickToolObj&&document.body.contains(this.quickToolObj.imageQTBar.element)&&(this.quickToolObj.imageQTBar.hidePopup(),L([n[0]],"e-img-focus")),this.cancelResizeAction()}},r.prototype.imageWithLinkQTBarItemUpdate=function(){for(var e,t=this.quickToolObj.imageQTBar.toolbarElement.querySelectorAll(".e-toolbar-item"),i=0;i<t.length;i++)t[i].getAttribute("title")===this.i10n.getConstant("openLink")||t[i].getAttribute("title")===this.i10n.getConstant("editLink")||t[i].getAttribute("title")===this.i10n.getConstant("removeLink")?(E([t[i]],"e-link-groups"),t[i].style.display="none"):t[i].getAttribute("title")==="Insert Link"?t[i].style.display="":t[i].classList.contains("e-rte-horizontal-separator")&&(e=t[i],w(t[i]));var n=this.quickToolObj.imageQTBar.toolbarElement.querySelectorAll(".e-toolbar-item:not(.e-link-groups)");this.quickToolObj.imageQTBar.addQTBarItem(["-"],Math.round(n.length/2))},r.prototype.showImageQuickToolbar=function(e){var t=this;if(!(e.type!=="Images"||u(this.parent.quickToolbarModule)||u(this.parent.quickToolbarModule.imageQTBar)||u(e.args))){this.quickToolObj=this.parent.quickToolbarModule;var i=e.args,n=e.elements;[].forEach.call(e.elements,function(a,l){l===0&&(n=a)}),n&&!S(n,"a")&&this.imageWithLinkQTBarItemUpdate(),n.nodeName==="IMG"&&E([n],["e-img-focus"]);var s=this.parent.iframeSettings.enable?window.pageYOffset+this.parent.element.getBoundingClientRect().top+i.clientY:i.pageY;if(this.parent.quickToolbarModule.imageQTBar)if(e.isNotify)setTimeout(function(){t.parent.formatter.editorManager.nodeSelection.Clear(t.contentModule.getDocument()),t.parent.formatter.editorManager.nodeSelection.setSelectionContents(t.contentModule.getDocument(),n),t.quickToolObj.imageQTBar.showPopup(i.pageX,s,n),t.resizeStart(e.args,n)},400);else{var o=n.getBoundingClientRect();this.quickToolObj.imageQTBar.showPopup(o.left,o.top,n,"Image")}}},r.prototype.hideImageQuickToolbar=function(){u(this.contentModule.getEditPanel().querySelector(".e-img-focus"))||(L([this.contentModule.getEditPanel().querySelector(".e-img-focus")],"e-img-focus"),this.quickToolObj&&this.quickToolObj.imageQTBar&&document.body.contains(this.quickToolObj.imageQTBar.element)&&this.quickToolObj.imageQTBar.hidePopup())},r.prototype.editAreaClickHandler=function(e){if(this.parent.readonly){this.hideImageQuickToolbar();return}var t=e.args,i=this.parent.quickToolbarSettings.showOnRightClick;if(t.which===2||i&&t.which===1||!i&&t.which===3){i&&t.which===1&&!u(t.target)&&t.target.tagName==="IMG"&&(this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument()),this.parent.formatter.editorManager.nodeSelection.setSelectionContents(this.contentModule.getDocument(),t.target));return}if(this.parent.editorMode==="HTML"&&this.parent.quickToolbarModule&&this.parent.quickToolbarModule.imageQTBar){this.quickToolObj=this.parent.quickToolbarModule;var n=t.target;this.contentModule=this.rendererFactory.getRenderer(ve.Content);var s=this.quickToolObj.imageQTBar.element.classList.contains("e-rte-pop");if(n.nodeName==="IMG"&&this.parent.quickToolbarModule){if(s)return;this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument()),this.parent.formatter.editorManager.nodeSelection.setSelectionContents(this.contentModule.getDocument(),n),gt()&&this.parent.notify(Zt,e),E([n],"e-img-focus");var o=this.quickToolObj.imageQTBar.toolbarElement.querySelectorAll(".e-toolbar-item"),a=void 0;if(S(n,"a")){for(var l=0;l<o.length;l++)o[l].getAttribute("title")===this.i10n.getConstant("openLink")||o[l].getAttribute("title")===this.i10n.getConstant("editLink")||o[l].getAttribute("title")===this.i10n.getConstant("removeLink")?(o[l].style.display="",L([o[l]],"e-link-groups")):o[l].getAttribute("title")==="Insert Link"?o[l].style.display="none":o[l].classList.contains("e-rte-horizontal-separator")&&(a=o[l],w(o[l]));var h=this.quickToolObj.imageQTBar.toolbarElement.querySelectorAll(".e-toolbar-item:not(.e-link-groups)");this.quickToolObj.imageQTBar.addQTBarItem(["-"],Math.round(h.length/2))}else S(n,"a")||this.imageWithLinkQTBarItemUpdate();this.showImageQuickToolbar({args:t,type:"Images",elements:[t.target]})}else this.hideImageQuickToolbar()}},r.prototype.insertImgLink=function(e,t){var i=this;if(e.selectNode[0].nodeName==="IMG"&&(this.imagDialog(e),!u(this.dialogObj))){var n=this.parent.createElement("div",{className:"e-img-linkwrap"+this.parent.getCssClass(!0)}),s=this.i10n.getConstant("linkurl"),o='<div class="e-rte-field'+this.parent.getCssClass(!0)+'"><input type="text" data-role ="none" class="e-input e-img-link'+this.parent.getCssClass(!0)+'" spellcheck="false" placeholder="'+s+'"/></div><div class="e-rte-label"></div><div class="e-rte-field"><input type="checkbox" class="e-rte-linkTarget'+this.parent.getCssClass(!0)+'"  data-role ="none"></div>',a=Nn(o);n.appendChild(a);var l=n.querySelector(".e-rte-linkTarget"),h=n.querySelector(".e-img-link"),c=this.i10n.getConstant("linkOpenInNewWindow");this.checkBoxObj=new Sp({label:c,checked:!0,enableRtl:this.parent.enableRtl,cssClass:this.parent.getCssClass(),change:function(g){g.checked?p="_blank":p=null}}),this.checkBoxObj.isStringTemplate=!0,this.checkBoxObj.createElement=this.parent.createElement,this.checkBoxObj.appendTo(l);var p=this.checkBoxObj.checked?"_blank":null,d=this.checkBoxObj.checked?this.i10n.getConstant("imageLinkAriaLabel"):null,f=this.i10n.getConstant("dialogUpdate"),m={args:e.args,selfImage:this,selection:e.selection,selectNode:e.selectNode,selectParent:e.selectParent,link:h,target:p,ariaLabel:d};this.dialogObj.setProperties({width:"290px",header:this.parent.localeObj.getConstant("imageInsertLinkHeader"),content:n,buttons:[{click:function(g){i.insertlink(m)},buttonModel:{content:f,cssClass:"e-flat e-update-link"+this.parent.getCssClass(!0),isPrimary:!0}}],cssClass:this.dialogObj.cssClass+" e-rte-img-link-dialog"}),u(this.parent.cssClass)||this.dialogObj.setProperties({cssClass:this.parent.cssClass}),u(t)||(h.value=t.url,t.target?this.checkBoxObj.checked=!0:this.checkBoxObj.checked=!1,this.dialogObj.header=t.header),this.dialogObj.element.style.maxHeight="inherit",this.dialogObj.content.querySelector("input").focus()}},r.prototype.insertAltText=function(e){var t=this;if(e.selectNode[0].nodeName==="IMG"){this.imagDialog(e);var i=this.i10n.getConstant("altText");if(!u(this.dialogObj)){var n=this.parent.createElement("div",{className:"e-img-altwrap"+this.parent.getCssClass(!0)}),s=this.i10n.getConstant("alternateHeader"),o=this.i10n.getConstant("dialogUpdate"),a=e.selectNode[0].getAttribute("alt")===null?"":e.selectNode[0].getAttribute("alt"),l='<div class="e-rte-field'+this.parent.getCssClass(!0)+'"><input type="text" spellcheck="false"  class="e-input e-img-alt'+this.parent.getCssClass(!0)+'" placeholder="'+i+'"/></div>',h=Nn(l);h.querySelector("input").setAttribute("value",a),n.appendChild(h);var c=n.querySelector(".e-img-alt"),p={args:e.args,selfImage:this,selection:e.selection,selectNode:e.selectNode,alt:c};this.dialogObj.setProperties({width:"290px",header:s,content:n,buttons:[{click:function(d){t.insertAlt(p)},buttonModel:{content:o,cssClass:"e-flat e-update-alt"+this.parent.getCssClass(!0),isPrimary:!0}}],cssClass:this.dialogObj.cssClass+" e-rte-img-alt-dialog"}),u(this.parent.cssClass)||this.dialogObj.setProperties({cssClass:this.parent.cssClass}),this.dialogObj.element.style.maxHeight="inherit",this.dialogObj.content.querySelector("input").focus()}}},r.prototype.insertAlt=function(e){if(!u(e.alt)){e.selection.restore(),this.parent.formatter.getUndoRedoStack().length===0&&this.parent.formatter.saveData();var t=e.alt.value;this.parent.formatter.process(this.parent,e.args,e.args,{altText:t,selectNode:e.selectNode,subCommand:e.args.item.subCommand}),this.dialogObj.hide({returnValue:!1})}},r.prototype.insertlink=function(e){if(e.selectNode[0].nodeName==="IMG"){var t=e.link.value;if(t===""){E([e.link],"e-error"),e.link.setSelectionRange(0,t.length),e.link.focus();return}this.isUrl(t)?L([e.link],"e-error"):t="http://"+t;var i=e.selfImage;if(i.parent.editorMode==="HTML"&&e.selection.restore(),i.parent.formatter.getUndoRedoStack().length===0&&i.parent.formatter.saveData(),e.selectNode[0].parentElement.nodeName==="A"){i.parent.formatter.process(i.parent,e.args,e.args,{url:t,target:i.checkBoxObj.checked?"_blank":null,ariaLabel:i.checkBoxObj.checked?this.i10n.getConstant("imageLinkAriaLabel"):null,selectNode:e.selectNode,subCommand:e.args.item.subCommand}),i.dialogObj.hide({returnValue:!0});return}i.parent.formatter.process(i.parent,e.args,e.args,{url:t,target:i.checkBoxObj.checked?"_blank":null,ariaLabel:i.checkBoxObj.checked?this.i10n.getConstant("imageLinkAriaLabel"):null,selectNode:e.selectNode,subCommand:e.args.item.subCommand,selection:e.selection});var n=S(e.selectNode[0],".e-img-caption");n&&$(".e-img-inner",n).focus(),n&&$(".e-img-inner",n).focus(),i.dialogObj.hide({returnValue:!1})}},r.prototype.isUrl=function(e){var t=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/gi;return t.test(e)},r.prototype.deleteImg=function(e,t){if(e.selectNode[0].nodeName==="IMG"){var i={element:e.selectNode[0],src:e.selectNode[0].getAttribute("src")};this.parent.formatter.getUndoRedoStack().length===0&&this.parent.formatter.saveData();var n=e.selection.range.startContainer;if(e.selection.range.startContainer.nodeName==="SPAN"&&n.classList.contains("e-img-wrap")&&n.parentElement.classList.contains("e-img-caption"))if(n=n.parentElement,u(n.previousSibling)){if(!u(n.nextSibling)){for(var o=n.nextSibling;o.nodeName!=="#text"&&o.nodeName!=="BR";)o=o.firstChild;this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.contentModule.getDocument(),o,0)}}else{for(var s=n.previousSibling;s.nodeName!=="#text"&&s.nodeName!=="BR";)s=s.lastChild;this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.contentModule.getDocument(),s,s.nodeName!=="BR"?s.textContent.length:0)}else e.selection.restore();this.contentModule.getEditPanel().querySelector(".e-img-resize")&&this.removeResizeEle(),this.parent.formatter.process(this.parent,e.args,e.args,{selectNode:e.selectNode,captionClass:sn,subCommand:e.args.item.subCommand}),this.imageRemovePost(i.src),this.quickToolObj&&document.body.contains(this.quickToolObj.imageQTBar.element)&&this.quickToolObj.imageQTBar.hidePopup(),this.cancelResizeAction(),u(t)&&this.parent.trigger(pg,i)}},r.prototype.imageRemovePost=function(e){var t=this,i="";if(!(u(this.parent.insertImageSettings.removeUrl)||this.parent.insertImageSettings.removeUrl==="")){e.indexOf("http://")>-1||e.indexOf("https://")>-1?i=e:i=new URL(e,document.baseURI).href,this.removingImgName=i.replace(/^.*[\\/]/,"");var n=new XMLHttpRequest;n.addEventListener("readystatechange",function(){this.readyState===4&&this.status===200&&t.triggerPost(this.response)}),n.open("GET",i),n.responseType="blob",n.send()}},r.prototype.triggerPost=function(e){var t=this.parent.insertImageSettings.removeUrl;if(!(u(t)||t==="")){var i=new File([e],this.removingImgName),n=new pr(t,"POST",!0,null),s=new FormData;s.append("UploadFiles",i),n.send(s)}},r.prototype.caption=function(e){var t=e.selectNode[0];if(t.nodeName==="IMG"){e.selection.restore(),this.parent.formatter.getUndoRedoStack().length===0&&this.parent.formatter.saveData(),this.cancelResizeAction(),E([t],"e-rte-image");var i=e.args.item?e.args.item.subCommand:"Caption";if(!u(S(t,"."+sn)))w(S(t,"."+sn)),N.isIE&&(this.contentModule.getEditPanel().focus(),e.selection.restore()),t.parentElement.tagName==="A"?this.parent.formatter.process(this.parent,e.args,e.args,{insertElement:t.parentElement,selectNode:e.selectNode,subCommand:i}):this.parent.formatter.process(this.parent,e.args,e.args,{insertElement:t,selectNode:e.selectNode,subCommand:i});else{this.captionEle=this.parent.createElement("span",{className:sn+" "+LS+this.parent.getCssClass(!0),attrs:{contenteditable:"false",draggable:"false",style:"width:"+this.parent.insertImageSettings.width}});var n=this.parent.createElement("span",{className:"e-img-wrap"+this.parent.getCssClass(!0)}),s=this.parent.createElement("span",{className:"e-img-inner"+this.parent.getCssClass(!0),attrs:{contenteditable:"true"}}),o=e.selectNode[0].parentElement;o.tagName==="A"&&o.setAttribute("contenteditable","true"),n.appendChild(o.tagName==="A"?o:e.selectNode[0]),n.appendChild(s);var a=this.i10n.getConstant("imageCaption");s.innerHTML=a,this.captionEle.appendChild(n),t.classList.contains(ts)&&E([this.captionEle],el),t.classList.contains(br)&&E([this.captionEle],br),t.classList.contains(Eg)&&E([this.captionEle],Eg),t.classList.contains(wg)&&E([this.captionEle],wg),t.classList.contains(kg)&&E([this.captionEle],kg),this.parent.formatter.process(this.parent,e.args,e.args,{insertElement:this.captionEle,selectNode:e.selectNode,subCommand:i}),this.parent.formatter.editorManager.nodeSelection.setSelectionText(this.contentModule.getDocument(),s.childNodes[0],s.childNodes[0],0,s.childNodes[0].textContent.length)}this.quickToolObj&&document.body.contains(this.quickToolObj.imageQTBar.element)&&(this.quickToolObj.imageQTBar.hidePopup(),L([t],"e-img-focus"))}},r.prototype.imageSize=function(e){var t=this;if(e.selectNode[0].nodeName==="IMG"&&(this.imagDialog(e),!u(this.dialogObj))){var i=this.i10n.getConstant("imageSizeHeader"),n=this.i10n.getConstant("dialogUpdate"),s=this.imgsizeInput(e),o={args:e.args,selfImage:this,selection:e.selection,selectNode:e.selectNode};this.dialogObj.setProperties({width:"290px",header:i,content:s,buttons:[{click:function(a){t.insertSize(o)},buttonModel:{content:n,cssClass:"e-flat e-update-size"+this.parent.getCssClass(!0),isPrimary:!0}}],cssClass:this.dialogObj.cssClass+" e-rte-img-size-dialog"}),u(this.parent.cssClass)||this.dialogObj.setProperties({cssClass:this.parent.cssClass}),this.dialogObj.element.style.maxHeight="inherit",this.dialogObj.content.querySelector("input").focus()}},r.prototype.break=function(e){if(e.selectNode[0].nodeName==="IMG"){var t=e.args.item?e.args.item.subCommand:"Break";this.parent.formatter.process(this.parent,e.args,e.args,{selectNode:e.selectNode,subCommand:t})}},r.prototype.inline=function(e){if(e.selectNode[0].nodeName==="IMG"){var t=e.args.item?e.args.item.subCommand:"Inline";this.parent.formatter.process(this.parent,e.args,e.args,{selectNode:e.selectNode,subCommand:t})}},r.prototype.alignImage=function(e,t){var i=e.args.item?e.args.item.subCommand:t;this.parent.formatter.process(this.parent,e.args,e.args,{selectNode:e.selectNode,subCommand:i})},r.prototype.clearDialogObj=function(){this.dialogObj&&(this.dialogObj.destroy(),w(this.dialogObj.element),this.dialogObj=null)},r.prototype.imagDialog=function(e){var t=this;if(this.dialogObj){this.dialogObj.hide({returnValue:!0});return}var i=this.parent.createElement("div",{className:"e-rte-img-dialog"+this.parent.getCssClass(!0),id:this.rteID+"_image"});this.parent.element.appendChild(i);var n=this.i10n.getConstant("dialogInsert"),s=this.i10n.getConstant("dialogCancel"),o=this.i10n.getConstant("imageHeader"),a=e.selection,l={selfImage:this,selection:e.selection,args:e.args,selectParent:e.selectParent},h={header:o,cssClass:at+this.parent.getCssClass(!0),enableRtl:this.parent.enableRtl,locale:this.parent.locale,showCloseIcon:!0,closeOnEscape:!0,width:N.isDevice?"290px":"340px",isModal:N.isDevice,buttons:[{click:this.insertImageUrl.bind(l),buttonModel:{content:n,cssClass:"e-flat e-insertImage"+this.parent.getCssClass(!0),isPrimary:!0,disabled:this.parent.editorMode!=="Markdown"}},{click:function(f){t.cancelDialog(f)},buttonModel:{cssClass:"e-flat e-cancel"+this.parent.getCssClass(!0),content:s}}],target:N.isDevice?document.body:this.parent.element,animationSettings:{effect:"None"},close:function(f){t.isImgUploaded&&t.uploadObj.remove(),t.parent.isBlur=!1,f&&f.event.returnValue&&(t.parent.editorMode==="HTML"?a.restore():t.parent.formatter.editorManager.markdownSelection.restore(t.parent.contentModule.getEditPanel())),t.dialogObj.destroy(),w(t.dialogObj.element),t.dialogRenderObj.close(f),t.dialogObj=null}},c=this.parent.createElement("div",{className:"e-img-content"+this.parent.getCssClass(!0)});(!u(this.parent.insertImageSettings.path)&&this.parent.editorMode==="Markdown"||this.parent.editorMode==="HTML")&&c.appendChild(this.imgUpload(e));var p=this.parent.createElement("div",{className:"e-linkheader"+this.parent.getCssClass(!0)}),d=this.i10n.getConstant("imageLinkHeader");this.parent.editorMode==="HTML"?p.innerHTML=d:p.innerHTML=this.i10n.getConstant("mdimageLink"),c.appendChild(p),c.appendChild(this.imageUrlPopup(e)),e.selectNode&&e.selectNode[0].nodeName==="IMG"&&(h.header=this.parent.localeObj.getConstant("editImageHeader")),h.content=c,this.dialogObj=this.dialogRenderObj.render(h),this.dialogObj.createElement=this.parent.createElement,this.dialogObj.appendTo(i),!u(this.dialogObj)&&(e.selectNode&&e.selectNode[0].nodeName==="IMG"&&e.name==="insertImage"&&(this.dialogObj.element.querySelector(".e-insertImage").textContent=this.parent.localeObj.getConstant("dialogUpdate")),i.style.maxHeight="inherit",this.quickToolObj&&(this.quickToolObj.imageQTBar&&document.body.contains(this.quickToolObj.imageQTBar.element)&&(this.quickToolObj.imageQTBar.hidePopup(),u(e.selectParent)||L([e.selectParent[0]],"e-img-focus")),this.quickToolObj.inlineQTBar&&document.body.contains(this.quickToolObj.inlineQTBar.element)&&this.quickToolObj.inlineQTBar.hidePopup(),this.quickToolObj.textQTBar&&this.parent.element.ownerDocument.body.contains(this.quickToolObj.textQTBar.element)&&this.quickToolObj.textQTBar.hidePopup()))},r.prototype.cancelDialog=function(e){this.parent.isBlur=!1,this.dialogObj.hide({returnValue:!0})},r.prototype.onDocumentClick=function(e){var t=e.target;if(t.nodeName==="IMG"&&(this.imgEle=t),!!this.parent&&(t.nodeName!=="#document"&&(this.parent.currentTarget=e.target),!u(this.dialogObj)&&(!S(t,"[id='"+this.dialogObj.element.id+"']")&&this.parent.toolbarSettings.enable&&this.parent.getToolbarElement()&&!this.parent.getToolbarElement().contains(e.target)||this.parent.getToolbarElement()&&this.parent.getToolbarElement().contains(e.target)&&!S(t,"#"+this.parent.getID()+"_toolbar_Image")&&!t.querySelector("#"+this.parent.getID()+"_toolbar_Image"))&&(e.offsetX>e.target.clientWidth||e.offsetY>e.target.clientHeight||(this.parent.notify($n,{closedBy:"outside click"}),this.dialogObj.hide({returnValue:!0}),this.parent.isBlur=!0,Tn(this.parent.element,"focusout"))),!(this.parent.iframeSettings.enable&&!u(this.parent.currentTarget)&&this.parent.currentTarget.nodeName==="IMG")&&e.target.tagName!=="IMG"&&this.imgResizeDiv&&!(this.quickToolObj&&this.quickToolObj.imageQTBar&&this.quickToolObj.imageQTBar.element.contains(e.target))&&this.contentModule.getEditPanel().contains(this.imgResizeDiv)&&this.cancelResizeAction(),this.contentModule.getEditPanel().querySelector(".e-img-resize")&&!(this.parent.iframeSettings.enable&&this.parent.currentTarget.nodeName==="IMG")&&(t.tagName!=="IMG"&&this.removeResizeEle(),t.tagName!=="IMG"&&!u(this.imgEle)?this.imgEle.style.outline="":!u(this.prevSelectedImgEle)&&this.prevSelectedImgEle!==t&&(this.prevSelectedImgEle.style.outline="")),t.tagName!=="IMG"))for(var i=this.contentModule.getEditPanel().querySelectorAll("img"),n=0;n<i.length;n++)L([i[n]],"e-img-focus"),L([i[n]],"e-resize")},r.prototype.removeResizeEle=function(){y.remove(this.contentModule.getDocument(),N.touchMoveEvent,this.resizing),y.remove(this.contentModule.getDocument(),N.touchEndEvent,this.resizeEnd),w(this.contentModule.getEditPanel().querySelector(".e-img-resize"))},r.prototype.onWindowResize=function(){!u(this.contentModule)&&!u(this.contentModule.getEditPanel().querySelector(".e-img-resize"))&&this.cancelResizeAction()},r.prototype.imageUrlPopup=function(e){var t=this,i=this.parent.createElement("div",{className:"imgUrl"+this.parent.getCssClass(!0)}),n=this.i10n.getConstant("imageUrl");if(this.inputUrl=this.parent.createElement("input",{className:"e-input e-img-url"+this.parent.getCssClass(!0),attrs:{placeholder:n,spellcheck:"false","aria-label":this.i10n.getConstant("imageLinkHeader")}}),this.inputUrl.addEventListener("input",function(){u(t.inputUrl)||(t.inputUrl.value.length===0?t.dialogObj.getButtons(0).element.disabled=!0:t.dialogObj.getButtons(0).element.removeAttribute("disabled"))}),e.selectNode&&e.selectNode[0].nodeName==="IMG"){var s=new RegExp(/([^\S]|^)(((https?\:\/\/)|(www\.))(\S+))/gi);this.inputUrl.value=e.selectNode[0].src.match(s)?e.selectNode[0].src:""}return i.appendChild(this.inputUrl),i},r.prototype.insertImageUrl=function(e){var t=this.selfImage;t.isImgUploaded=!1;var i=t.inputUrl.value;if(t.parent.editorMode==="Markdown"&&i===""&&(i="http://"),t.parent.formatter.getUndoRedoStack().length===0&&t.parent.formatter.saveData(),!u(t.uploadUrl)&&t.uploadUrl.url!=="")t.uploadUrl.cssClass=t.parent.insertImageSettings.display==="inline"?ts:br,t.dialogObj.hide({returnValue:!1}),t.parent.formatter.process(t.parent,this.args,this.args.originalEvent,t.uploadUrl),t.uploadUrl.url="",t.contentModule.getEditPanel().querySelector(".e-img-resize")&&(t.imgEle.style.outline="",t.removeResizeEle());else if(i!==""){if(t.parent.editorMode==="HTML"&&u(S(this.selection.range.startContainer.parentNode,"[id='"+t.contentModule.getPanel().id+"']"))){t.contentModule.getEditPanel().focus();var n=t.parent.formatter.editorManager.nodeSelection.getRange(t.contentModule.getDocument());this.selection=t.parent.formatter.editorManager.nodeSelection.save(n,t.contentModule.getDocument()),this.selectParent=t.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(n)}var s=/[\w-]+.(jpg|png|jpeg|gif)/g,o=!u(i.match(s))&&t.parent.editorMode==="HTML"?i.match(s)[0]:"",a={cssClass:t.parent.insertImageSettings.display==="inline"?ts:br,url:i,selection:this.selection,altText:o,selectParent:this.selectParent,width:{width:t.parent.insertImageSettings.width,minWidth:t.parent.insertImageSettings.minWidth,maxWidth:t.parent.getInsertImgMaxWidth()},height:{height:t.parent.insertImageSettings.height,minHeight:t.parent.insertImageSettings.minHeight,maxHeight:t.parent.insertImageSettings.maxHeight}};t.parent.formatter.process(t.parent,this.args,this.args.originalEvent,a),t.dialogObj.hide({returnValue:!1})}},r.prototype.imgsizeInput=function(e){var t=this,i=e.selectNode[0],n=this.i10n.getConstant("imageHeight"),s=this.i10n.getConstant("imageWidth"),o=this.parent.createElement("div",{className:"e-img-sizewrap"+this.parent.getCssClass(!0)}),a=u(this.changedWidthValue)&&(i.style.width.toString()==="auto"||i.style.width!=="")?i.style.width:u(this.changedWidthValue)?parseInt(i.getClientRects()[0].width.toString(),10).toString():this.changedWidthValue,l=u(this.changedHeightValue)&&(i.style.height.toString()==="auto"||i.style.height!=="")?i.style.height:u(this.changedHeightValue)?parseInt(i.getClientRects()[0].height.toString(),10).toString():this.changedHeightValue;i.style.width===""&&(a="auto"),i.style.height===""&&(l="auto"),this.changedWidthValue=null,this.changedHeightValue=null;var h='<div class="e-rte-label'+this.parent.getCssClass(!0)+'"><label>'+s+'</label></div><div class="e-rte-field'+this.parent.getCssClass(!0)+'"><input type="text" id="imgwidth" class="e-img-width'+this.parent.getCssClass(!0)+'"/></div><div class="e-rte-label'+this.parent.getCssClass(!0)+'"><label>'+n+'</label></div><div class="e-rte-field'+this.parent.getCssClass(!0)+'"> <input type="text" id="imgheight" class="e-img-height'+this.parent.getCssClass(!0)+'"/></div>',c=Nn(h);return c.getElementById("imgwidth").setAttribute("value",a),c.getElementById("imgheight").setAttribute("value",l),o.appendChild(c),this.widthNum=new oo({value:W(a),enableRtl:this.parent.enableRtl,cssClass:this.parent.getCssClass(),input:function(p){t.inputWidthValue=W(t.inputValue(p.value))}}),this.widthNum.createElement=this.parent.createElement,this.widthNum.appendTo(o.querySelector("#imgwidth")),this.heightNum=new oo({value:W(l),enableRtl:this.parent.enableRtl,cssClass:this.parent.getCssClass(),input:function(p){t.inputHeightValue=W(t.inputValue(p.value))}}),this.heightNum.createElement=this.parent.createElement,this.heightNum.appendTo(o.querySelector("#imgheight")),o},r.prototype.inputValue=function(e){return e==="auto"||e.indexOf("%")!==-1||e.indexOf("px")!==-1||e.match(/(\d+)/)?e:"auto"},r.prototype.insertSize=function(e){e.selection.restore();var t=e.selfImage;t.parent.formatter.getUndoRedoStack().length===0&&t.parent.formatter.saveData();var i=t.dialogObj.element;this.changedWidthValue=this.inputWidthValue,this.changedHeightValue=this.inputHeightValue;var n=i.querySelector(".e-img-width").value,s=i.parentElement.querySelector(".e-img-height").value;t.parent.formatter.process(this.parent,e.args,e.args,{width:n,height:s,selectNode:e.selectNode,subCommand:e.args.item.subCommand}),this.imgResizeDiv&&t.imgResizePos(e.selectNode[0],this.imgResizeDiv),t.dialogObj.hide({returnValue:!0})},r.prototype.insertImage=function(e){if(this.imagDialog(e),!u(this.dialogObj)){this.dialogObj.element.style.maxHeight="inherit";var t=this.dialogObj.element.querySelector(".e-img-content");!u(this.parent.insertImageSettings.path)&&this.parent.editorMode==="Markdown"||this.parent.editorMode==="HTML"?document.getElementById(this.rteID+"_insertImage").focus():t.querySelector(".e-img-url").focus()}},r.prototype.imgUpload=function(e){var t=this,i,n,s=this,o=s.parent.iframeSettings.enable;if(s.parent.editorMode==="HTML"&&(!o&&u(S(e.selection.range.startContainer.parentNode,"[id='"+this.parent.contentModule.getPanel().id+"']"))||o&&!tt(e.selection.range.startContainer.parentNode.ownerDocument.querySelector("body"),"e-lib"))){this.contentModule.getEditPanel().focus();var a=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());i=this.parent.formatter.editorManager.nodeSelection.save(a,this.parent.contentModule.getDocument()),n=this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(a)}else i=e.selection,n=e.selectParent;var l=this.parent.createElement("div",{className:"e-img-uploadwrap e-droparea"+this.parent.getCssClass(!0)}),h=this.i10n.getConstant("imageDeviceUploadMessage"),c=this.i10n.getConstant("imageUploadMessage"),p=this.parent.createElement("span",{className:"e-droptext"+this.parent.getCssClass(!0)}),d=this.parent.createElement("span",{className:"e-rte-upload-text"+this.parent.getCssClass(!0),innerHTML:N.isDevice?h:c});p.appendChild(d);var f=this.parent.createElement("button",{className:"e-browsebtn"+this.parent.getCssClass(!0),id:this.rteID+"_insertImage",attrs:{autofocus:"true",type:"button"}});p.appendChild(f),l.appendChild(p);var m=this.i10n.getConstant("browse");this.browseButton=new Ei({content:m,enableRtl:this.parent.enableRtl}),this.browseButton.isStringTemplate=!0,this.browseButton.createElement=this.parent.createElement,this.browseButton.appendTo(f);var g=N.isDevice?p:f;y.add(g,"click",this.fileSelect,this);var v=this.parent.createElement("input",{id:this.rteID+"_upload",attrs:{type:"File",name:"UploadFiles"},className:this.parent.getCssClass()});l.appendChild(v);var O,C,x;return this.uploadObj=new kc({asyncSettings:{saveUrl:this.parent.insertImageSettings.saveUrl,removeUrl:this.parent.insertImageSettings.removeUrl},dropArea:p,multiple:!1,enableRtl:this.parent.enableRtl,cssClass:this.parent.getCssClass(),allowedExtensions:this.parent.insertImageSettings.allowedTypes.toString(),selected:function(M){s.isImgUploaded=!0,C=M,x=M.filesData,t.parent.trigger(cS,C,function(k){if(!k.cancel&&(t.checkExtension(k.filesData[0]),O=k.filesData[0].name.replace(/\.[a-zA-Z0-9]+$/,""),t.parent.editorMode==="HTML"&&u(t.parent.insertImageSettings.path))){var A=new FileReader;A.addEventListener("load",function(j){var U=t.parent.insertImageSettings.saveFormat==="Base64"?A.result:URL.createObjectURL(ul(A.result));s.uploadUrl={url:U,selection:i,altText:O,selectParent:n,width:{width:s.parent.insertImageSettings.width,minWidth:s.parent.insertImageSettings.minWidth,maxWidth:s.parent.getInsertImgMaxWidth()},height:{height:s.parent.insertImageSettings.height,minHeight:s.parent.insertImageSettings.minHeight,maxHeight:s.parent.insertImageSettings.maxHeight}},s.inputUrl.setAttribute("disabled","true"),u(s.parent.insertImageSettings.saveUrl)&&t.isAllowedTypes&&!u(t.dialogObj)&&t.dialogObj.getButtons(0).element.removeAttribute("disabled")}),A.readAsDataURL(k.filesData[0].rawFile)}})},beforeUpload:function(M){t.parent.trigger(fg,M)},uploading:function(M){t.parent.isServerRendered||t.parent.trigger(hg,M)},success:function(M){t.parent.trigger(cg,M,function(k){if(!u(t.parent.insertImageSettings.path)){var A=t.parent.insertImageSettings.path+k.file.name,j={url:A,selection:i};s.uploadUrl={url:A,selection:i,altText:O,selectParent:n,width:{width:s.parent.insertImageSettings.width,minWidth:s.parent.insertImageSettings.minWidth,maxWidth:s.parent.getInsertImgMaxWidth()},height:{height:s.parent.insertImageSettings.height,minHeight:s.parent.insertImageSettings.minHeight,maxHeight:s.parent.insertImageSettings.maxHeight}},s.inputUrl.setAttribute("disabled","true")}k.operation==="upload"&&!u(t.dialogObj)&&t.dialogObj.getButtons(0).element.removeAttribute("disabled")})},failure:function(M){t.parent.trigger(ug,M)},removing:function(M){t.parent.trigger(uS,M,function(k){s.isImgUploaded=!1,t.dialogObj.getButtons(0).element.disabled=!0,s.inputUrl.removeAttribute("disabled"),s.uploadUrl&&(s.uploadUrl.url="")})}}),this.uploadObj.isStringTemplate=!0,this.uploadObj.createElement=this.parent.createElement,this.uploadObj.appendTo(v),l},r.prototype.checkExtension=function(e){this.uploadObj.allowedExtensions&&(this.uploadObj.allowedExtensions.toLocaleLowerCase().indexOf(("."+e.type).toLocaleLowerCase())===-1?(this.dialogObj.getButtons(0).element.setAttribute("disabled","disabled"),this.isAllowedTypes=!1):this.isAllowedTypes=!0)},r.prototype.fileSelect=function(){return this.dialogObj.element.getElementsByClassName("e-file-select-wrap")[0].querySelector("button").click(),!1},r.prototype.dragStart=function(e){if(e.target.nodeName==="IMG")this.parent.trigger(Ht,e,function(t){t.cancel?e.preventDefault():(e.dataTransfer.effectAllowed="copyMove",e.target.classList.add(Yh))});else return!0},r.prototype.dragEnter=function(e){e.dataTransfer.dropEffect="copy",e.preventDefault()},r.prototype.dragOver=function(e){if(N.info.name==="edge"&&e.dataTransfer.items[0].type.split("/")[0].indexOf("image")>-1||N.isIE&&e.dataTransfer.types[0]==="Files")e.preventDefault();else return!0},r.prototype.dragDrop=function(e){var t=this;this.parent.trigger(yS,e,function(i){var n=t.parent.inputElement.ownerDocument.querySelector("."+Yh),s=n&&n.tagName==="IMG"||i.dataTransfer.files.length>0;!i.cancel&&s?t.parent.trigger(Ht,i,function(o){if(o.cancel)i.preventDefault();else{if(S(i.target,"#"+t.parent.getID()+"_toolbar")||t.parent.inputElement.contentEditable==="false"){i.preventDefault();return}t.parent.element.querySelector("."+GS)&&w(t.imgResizeDiv),i.preventDefault();var a=void 0;t.contentModule.getDocument().caretRangeFromPoint?a=t.contentModule.getDocument().caretRangeFromPoint(i.clientX,i.clientY):i.rangeParent?(a=t.contentModule.getDocument().createRange(),a.setStart(i.rangeParent,i.rangeOffset)):a=t.getDropRange(i.clientX,i.clientY),t.parent.notify($o,{range:a});var l=t.parent.element.querySelector("."+KS);if(l)return;t.insertDragImage(i)}}):s&&i.preventDefault()})},r.prototype.getDropRange=function(e,t){var i=this.contentModule.getDocument().createRange();this.parent.formatter.editorManager.nodeSelection.setRange(this.contentModule.getDocument(),i);var n=this.contentModule.getDocument().elementFromPoint(e,t),s=n.childNodes.length>0?n.childNodes[0]:n,o=0;if(this.parent.inputElement.firstChild.innerHTML==="<br>")i.setStart(s,o),i.setEnd(s,o);else{var a=void 0;do o++,i.setStart(s,o),i.setEnd(s,o+1),a=i.getBoundingClientRect();while(a.left<e&&o<s.length-1)}return i},r.prototype.insertDragImage=function(e){var t=this;e.preventDefault();var i=this.parent.element.querySelector(""+Ig);this.parent.notify(wh,{args:e}),i&&i.classList.add(Go);var n=this.parent.inputElement.ownerDocument.querySelector("."+Yh);if(e.dataTransfer.files.length>0&&n===null){if(e.dataTransfer.files.length>1)return;for(var s=e.dataTransfer.files,o=s[0].name,a=o.substring(o.lastIndexOf(".")),l=this.parent.insertImageSettings.allowedTypes,h=0;h<l.length;h++)if(a.toLocaleLowerCase()===l[h].toLowerCase())if(this.parent.insertImageSettings.saveUrl)this.onSelect(e);else{var c={args:e,text:"",file:s[0]};e.preventDefault(),this.imagePaste(c)}}else{var p=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());if(n&&n.tagName==="IMG"){n.nextElementSibling&&n.nextElementSibling.classList.contains(JS)?p.insertNode(n.parentElement.parentElement):p.insertNode(n),n.classList.remove(Yh);var d={elements:[n]};n.addEventListener("load",function(){t.parent.trigger(ei,d)}),this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument());var c=e;this.resizeStart(c,n),this.hideImageQuickToolbar()}}},r.prototype.onSelect=function(e){var t=this,i=this,n=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),s=this.parent.createElement("ul",{className:eM});this.parent.element.appendChild(s);var o={name:"",size:0,status:"",statusCode:"",type:"",rawFile:e.dataTransfer.files[0],validationMessages:{}},a=this.parent.createElement("IMG");a.style.opacity="0.5",a.classList.add($h),a.classList.add(ts),a.classList.add(WS);var l=o.rawFile,h=new FileReader;h.addEventListener("load",function(){var p=URL.createObjectURL(ul(h.result));a.src=i.parent.insertImageSettings.saveFormat==="Blob"?p:h.result}),l&&h.readAsDataURL(l),n.insertNode(a),this.uploadMethod(e,a);var c={elements:[a]};a.addEventListener("load",function(){t.parent.trigger(ei,c)}),w(s)},r.prototype.uploadMethod=function(e,t){var i=this,n=!1,s=this,o=this.parent.createElement("div");this.parent.element.appendChild(o);var a=this.parent.createElement("input",{id:this.rteID+"_upload",attrs:{type:"File",name:"UploadFiles"}}),l=this.parent.iframeSettings.enable?-50:-90;this.popupObj=new _t(o,{relateTo:t,height:"85px",width:"300px",offsetY:l,content:a,viewPortElement:this.parent.element,position:{X:"center",Y:"top"},enableRtl:this.parent.enableRtl,zIndex:10001,close:function(p){i.parent.isBlur=!1,i.popupObj.destroy(),w(i.popupObj.element),i.popupObj=null,i.parent.inlineMode.enable||i.parent.toolbarModule.baseToolbar.toolbarObj.disable(!1)}}),this.popupObj.element.style.display="none",E([this.popupObj.element],Ig),E([this.popupObj.element],XS),u(this.parent.cssClass)||E([this.popupObj.element],this.parent.cssClass);var h=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),c=e.dataTransfer.files[0].size>1e6?300:100;setTimeout(function(){s.refreshPopup(t)},c),this.uploadObj=new kc({asyncSettings:{saveUrl:this.parent.insertImageSettings.saveUrl,removeUrl:this.parent.insertImageSettings.removeUrl},cssClass:tM+this.parent.getCssClass(!0),dropArea:this.parent.element,allowedExtensions:this.parent.insertImageSettings.allowedTypes.toString(),removing:function(){i.parent.inputElement.contentEditable="true",n=!1,w(t),i.popupObj.close()},canceling:function(){i.parent.inputElement.contentEditable="true",n=!1,w(t),i.popupObj.close(),i.quickToolObj.imageQTBar.hidePopup(),setTimeout(function(){i.uploadObj.destroy()},900)},beforeUpload:function(p){i.parent.trigger(fg,p),i.parent.inlineMode.enable||i.parent.toolbarModule.baseToolbar.toolbarObj.disable(!0)},uploading:function(p){i.parent.isServerRendered||(n=!0,i.parent.trigger(hg,p,function(d){d.cancel?(u(t)||w(t),u(i.popupObj.element)||w(i.popupObj.element)):i.parent.inputElement.contentEditable="false"}))},selected:function(p){n&&(p.cancel=!0)},failure:function(p){n=!1,i.parent.inputElement.contentEditable="true";var d={args:e,type:"Images",isNotify:void 0,elements:t};setTimeout(function(){i.uploadFailure(t,d,p)},900)},success:function(p){if(p.operation!=="cancel"){n=!1,i.parent.inputElement.contentEditable="true";var d={args:e,type:"Images",isNotify:void 0,elements:t};setTimeout(function(){i.uploadSuccess(t,e,d,p)},900)}}}),this.uploadObj.appendTo(this.popupObj.element.childNodes[0]),this.popupObj.element.querySelector(".e-rte-dialog-upload .e-file-select-wrap").style.display="none",h.selectNodeContents(t),this.parent.formatter.editorManager.nodeSelection.setRange(this.contentModule.getDocument(),h)},r.prototype.refreshPopup=function(e){var t=this.parent.iframeSettings.enable?this.parent.element.offsetTop+e.offsetTop:e.offsetTop,i=this.parent.element.offsetTop+this.parent.element.offsetHeight;t>i?(this.popupObj.relateTo=this.parent.inputElement,this.popupObj.offsetY=this.parent.iframeSettings.enable?-30:-65,this.popupObj.element.style.display="block"):this.popupObj&&(this.popupObj.refreshPosition(e),this.popupObj.element.style.display="block")},r.prototype.uploadFailure=function(e,t,i){w(e),this.popupObj&&this.popupObj.close(),this.parent.trigger(ug,i),this.uploadObj.destroy()},r.prototype.uploadSuccess=function(e,t,i,n){var s=this;e.style.opacity="1",e.classList.add(nl),n.element=e,this.parent.trigger(cg,n,function(o){if(!u(s.parent.insertImageSettings.path)){var a=s.parent.insertImageSettings.path+o.file.name;e.src=a,e.setAttribute("alt",o.file.name)}}),this.popupObj&&(this.popupObj.close(),this.uploadObj.destroy()),this.showImageQuickToolbar(i),this.resizeStart(t,e)},r.prototype.imagePaste=function(e){var t=this;if(e.text.length===0&&!u(e.file)){var i=this,n=new FileReader;e.args.preventDefault(),n.addEventListener("load",function(s){var o={cssClass:i.parent.insertImageSettings.display==="inline"?ts:br,url:t.parent.insertImageSettings.saveFormat==="Base64"||!u(e.callBack)?n.result:URL.createObjectURL(ul(n.result)),width:{width:i.parent.insertImageSettings.width,minWidth:i.parent.insertImageSettings.minWidth,maxWidth:i.parent.getInsertImgMaxWidth()},height:{height:i.parent.insertImageSettings.height,minHeight:i.parent.insertImageSettings.minHeight,maxHeight:i.parent.insertImageSettings.maxHeight}};if(u(e.callBack))i.parent.formatter.process(i.parent,{item:{command:"Images",subCommand:"Image"}},e.args,o),t.showPopupToolBar(e,o);else{e.callBack(o);return}}),n.readAsDataURL(e.file)}},r.prototype.showPopupToolBar=function(e,t){var i=this,n='img[src="'+t.url+'"]',s=this.parent.inputElement.querySelector(n);this.parent.quickToolbarModule.createQTBar("Image","MultiRow",this.parent.quickToolbarSettings.image,ve.ImageToolbar);var o={args:e.args,type:"Images",isNotify:void 0,elements:s};s&&setTimeout(function(){i.showImageQuickToolbar(o),i.resizeStart(e.args,s)},0)},r.prototype.destroy=function(){u(this.parent)||(this.prevSelectedImgEle=void 0,this.removeEventListener())},r.prototype.moduleDestroy=function(){this.parent=null},r.prototype.getModuleName=function(){return"image"},r}();var Vx=function(){function r(e,t){this.isVideoUploaded=!1,this.isAllowedTypes=!0,this.pageX=null,this.pageY=null,this.mouseX=null,this.deletedVid=[],this.parent=e,this.rteID=e.element.id,this.i10n=t.getService("rteLocale"),this.rendererFactory=t.getService("rendererFactory"),this.dialogRenderObj=t.getService("dialogRenderObject"),this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(ot,this.onKeyDown,this),this.parent.on(At,this.onKeyUp,this),this.parent.on(Wa,this.insertingVideo,this),this.parent.on(bt,this.afterRender,this),this.parent.on(Vn,this.afterRender,this),this.parent.on(Ls,this.onWindowResize,this),this.parent.on(Lh,this.showDialog,this),this.parent.on(Ih,this.closeDialog,this),this.parent.on(Hi,this.alignmentSelect,this),this.parent.on(Gu,this.deleteVideo,this),this.parent.on(bh,this.onToolbarAction,this),this.parent.on(xi,this.editAreaClickHandler,this),this.parent.on(Ut,this.onIframeMouseDown,this),this.parent.on(ep,this.videoSize,this),this.parent.on(Fn,this.showVideoQuickToolbar,this),this.parent.on(Fi,this.clearDialogObj,this),this.parent.on(ue,this.removeEventListener,this))},r.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(ot,this.onKeyDown),this.parent.off(At,this.onKeyUp),this.parent.off(Wa,this.insertingVideo),this.parent.off(Ls,this.onWindowResize),this.parent.off(bt,this.afterRender),this.parent.off(Vn,this.afterRender),this.parent.off(Lh,this.showDialog),this.parent.off(Ih,this.closeDialog),this.parent.off(Hi,this.alignmentSelect),this.parent.off(Gu,this.deleteVideo),this.parent.off(bh,this.onToolbarAction),this.parent.off(xi,this.editAreaClickHandler),this.parent.off(Ut,this.onIframeMouseDown),this.parent.off(ep,this.videoSize),this.parent.off(Fn,this.showVideoQuickToolbar),this.parent.off(Fi,this.clearDialogObj),this.parent.off(ue,this.removeEventListener),u(this.contentModule)||(y.remove(this.contentModule.getEditPanel(),N.touchEndEvent,this.videoClick),this.parent.formatter.editorManager.observer.off(Qs,this.undoStack),this.parent.insertVideoSettings.resize&&(y.remove(this.parent.contentModule.getEditPanel(),N.touchStartEvent,this.resizeStart),y.remove(this.parent.element.ownerDocument,"mousedown",this.onDocumentClick),y.remove(this.contentModule.getEditPanel(),"cut",this.onCutHandler),y.remove(this.contentModule.getDocument(),N.touchMoveEvent,this.resizing))))},r.prototype.afterRender=function(){this.contentModule=this.rendererFactory.getRenderer(ve.Content),y.add(this.contentModule.getEditPanel(),N.touchEndEvent,this.videoClick,this),this.parent.insertVideoSettings.resize&&(y.add(this.parent.contentModule.getEditPanel(),N.touchStartEvent,this.resizeStart,this),y.add(this.parent.element.ownerDocument,"mousedown",this.onDocumentClick,this),y.add(this.contentModule.getEditPanel(),"cut",this.onCutHandler,this))},r.prototype.clearDialogObj=function(){this.dialogObj&&(this.dialogObj.destroy(),w(this.dialogObj.element),this.dialogObj=null)},r.prototype.onKeyUp=function(e){if(!u(this.deletedVid)&&this.deletedVid.length>0)for(var t=0;t<this.deletedVid.length;t++){var i={element:this.deletedVid[t],src:this.deletedVid[t].tagName!=="IFRAME"?this.deletedVid[t].querySelector("source").getAttribute("src"):this.deletedVid[t].src};this.parent.trigger(dg,i)}},r.prototype.undoStack=function(e){if(e.subCommand.toLowerCase()==="undo"||e.subCommand.toLowerCase()==="redo")for(var t=0;t<this.parent.formatter.getUndoRedoStack().length;t++){var i=this.parent.createElement("div"),n=this.parent.formatter.getUndoRedoStack()[t].text;i.appendChild(n.cloneNode(!0));var s=i.querySelectorAll("video");if(i.querySelector(".e-vid-resize")&&s.length>0){for(var o=0;o<s.length;o++)s[o].style.outline="";w(i.querySelector(".e-vid-resize"));for(var a=i.cloneNode(!0),l=document.createDocumentFragment();a.firstChild;)l.appendChild(a.firstChild);this.parent.formatter.getUndoRedoStack()[t].text=l}}},r.prototype.onIframeMouseDown=function(){this.dialogObj&&this.dialogObj.hide({returnValue:!0})},r.prototype.videoSize=function(e){var t=this;if(!(e.selectNode[0].nodeName!=="VIDEO"&&!this.isEmbedVidElem(e.selectNode[0]))&&(this.insertVideo(e),!u(this.dialogObj))){var i=this.i10n.getConstant("videoSizeHeader"),n=this.i10n.getConstant("dialogUpdate"),s=this.vidsizeInput(e),o={args:e.args,selfVideo:this,selection:e.selection,selectNode:e.selectNode};this.dialogObj.setProperties({width:"290px",header:i,content:s,buttons:[{click:function(a){t.insertSize(o)},buttonModel:{content:n,cssClass:"e-flat e-update-size",isPrimary:!0}}]}),this.dialogObj.element.style.maxHeight="inherit",this.dialogObj.content.querySelector("input").focus()}},r.prototype.vidsizeInput=function(e){var t=this,i=e.selectNode[0],n=this.i10n.getConstant("videoHeight"),s=this.i10n.getConstant("videoWidth"),o=this.parent.createElement("div",{className:"e-video-sizewrap"}),a=u(this.changedWidthValue)&&(i.style.width.toString()==="auto"||i.style.width!=="")?i.style.width:u(this.changedWidthValue)?parseInt(i.getClientRects()[0].width.toString(),10).toString():this.changedWidthValue,l=u(this.changedHeightValue)&&(i.style.height.toString()==="auto"||i.style.height!=="")?i.style.height:u(this.changedHeightValue)?parseInt(i.getClientRects()[0].height.toString(),10).toString():this.changedHeightValue;this.changedWidthValue=null,this.changedHeightValue=null;var h='<div class="e-rte-label"><label>'+s+'</label></div><div class="e-rte-field"><input type="text" id="vidwidth" class="e-vid-width" value='+a+' /></div><div class="e-rte-label"><label>'+n+'</label></div><div class="e-rte-field"> <input type="text" id="vidheight" class="e-vid-height" value='+l+" /></div>",c=Nn(h);o.appendChild(c);var p=new oo({value:W(a),enableRtl:this.parent.enableRtl,input:function(f){t.inputWidthValue=W(f.value)}});p.createElement=this.parent.createElement,p.appendTo(o.querySelector("#vidwidth"));var d=new oo({value:W(l),enableRtl:this.parent.enableRtl,input:function(f){t.inputHeightValue=W(f.value)}});return d.createElement=this.parent.createElement,d.appendTo(o.querySelector("#vidheight")),o},r.prototype.insertSize=function(e){e.selection.restore();var t=e.selfVideo;t.parent.formatter.getUndoRedoStack().length===0&&t.parent.formatter.saveData();var i=t.dialogObj.element;this.changedWidthValue=this.inputWidthValue,this.changedHeightValue=this.inputHeightValue;var n=i.querySelector(".e-vid-width").value,s=i.parentElement.querySelector(".e-vid-height").value;t.parent.formatter.process(this.parent,e.args,e.args,{width:n,height:s,selectNode:e.selectNode,subCommand:e.args.item.subCommand}),this.vidResizeDiv&&(e.selectNode[0]=e.selectNode[0].tagName==="VIDEO"||e.selectNode[0].tagName==="IFRAME"?e.selectNode[0]:e.selectNode[0].querySelector("iframe"),t.vidResizePos(e.selectNode[0],this.vidResizeDiv)),t.dialogObj.hide({returnValue:!0})},r.prototype.resizeEnd=function(e){this.resizeBtnInit(),this.videoEle.parentElement.style.cursor="auto",N.isDevice&&L([e.target.parentElement],"e-mob-span");var t={event:e,requestType:"videos"};this.parent.trigger(Ya,t);var i=this.getPointX(e),n=this.parent.iframeSettings.enable?window.pageYOffset+this.parent.element.getBoundingClientRect().top+e.clientY:e.pageY;this.parent.formatter.editorManager.observer.on(Qs,this.undoStack,this),this.parent.formatter.saveData()},r.prototype.resizeStart=function(e,t){var i=this;if(!this.parent.readonly){var n=t||(this.isEmbedVidElem(e.target)?e.target.querySelector("iframe"):e.target);if(this.prevSelectedVidEle=this.videoEle,n.tagName==="VIDEO"||n.tagName==="IFRAME"){this.parent.preventDefaultResize(e);var s=n;this.vidResizeDiv&&this.contentModule.getEditPanel().contains(this.vidResizeDiv)&&w(this.vidResizeDiv),this.videoResize(s)}if(n.classList.contains("e-rte-videoboxmark")){if(this.parent.formatter.getUndoRedoStack().length===0&&this.parent.formatter.saveData(),this.pageX=this.getPointX(e),this.pageY=this.getPointY(e),e.preventDefault(),e.stopImmediatePropagation(),this.resizeBtnInit(),this.quickToolObj&&this.quickToolObj.videoQTBar.hidePopup(),n.classList.contains("e-rte-topLeft")&&(this.resizeBtnStat.topLeft=!0),n.classList.contains("e-rte-topRight")&&(this.resizeBtnStat.topRight=!0),n.classList.contains("e-rte-botLeft")&&(this.resizeBtnStat.botLeft=!0),n.classList.contains("e-rte-botRight")&&(this.resizeBtnStat.botRight=!0),N.isDevice&&this.contentModule.getEditPanel().contains(this.vidResizeDiv)&&!this.vidResizeDiv.classList.contains("e-mob-span"))E([this.vidResizeDiv],"e-mob-span");else{var o={event:e,requestType:"videos"};this.parent.trigger(Va,o,function(a){a.cancel&&i.cancelResizeAction()})}y.add(this.contentModule.getDocument(),N.touchEndEvent,this.resizeEnd,this)}}},r.prototype.videoClick=function(e){N.isDevice&&(e.target.tagName==="VIDEO"||this.isEmbedVidElem(e.target)?(this.contentModule.getEditPanel().setAttribute("contenteditable","false"),e.target.focus()):this.parent.readonly||this.contentModule.getEditPanel().setAttribute("contenteditable","true")),(e.target.tagName==="VIDEO"||this.isEmbedVidElem(e.target))&&e.preventDefault()},r.prototype.onCutHandler=function(){this.vidResizeDiv&&this.contentModule.getEditPanel().contains(this.vidResizeDiv)&&this.cancelResizeAction()},r.prototype.videoResize=function(e){this.resizeBtnInit(),this.videoEle=e,E([this.videoEle],"e-resize"),this.vidResizeDiv=this.parent.createElement("span",{className:"e-vid-resize",id:this.rteID+"_vidResize"}),this.vidResizeDiv.appendChild(this.parent.createElement("span",{className:"e-rte-videoboxmark e-rte-topLeft",styles:"cursor: nwse-resize"})),this.vidResizeDiv.appendChild(this.parent.createElement("span",{className:"e-rte-videoboxmark e-rte-topRight",styles:"cursor: nesw-resize"})),this.vidResizeDiv.appendChild(this.parent.createElement("span",{className:"e-rte-videoboxmark e-rte-botLeft",styles:"cursor: nesw-resize"})),this.vidResizeDiv.appendChild(this.parent.createElement("span",{className:"e-rte-videoboxmark e-rte-botRight",styles:"cursor: nwse-resize"})),N.isDevice&&E([this.vidResizeDiv],"e-mob-rte"),e.style.outline="2px solid #4a90e2",this.vidResizePos(e,this.vidResizeDiv),this.resizeVidDupPos(e),this.contentModule.getEditPanel().appendChild(this.vidResizeDiv),y.add(this.contentModule.getDocument(),N.touchMoveEvent,this.resizing,this)},r.prototype.getPointX=function(e){return e.touches&&e.touches.length?e.touches[0].pageX:e.pageX},r.prototype.getPointY=function(e){return e.touches&&e.touches.length?e.touches[0].pageY:e.pageY},r.prototype.vidResizePos=function(e,t){if(!u(t)){var i=this.calcPos(e),n=i.top,s=i.left,o=e.width!==0&&e.width!=="auto"&&e.width!=="NaN"?e.width:e.getBoundingClientRect().width,a=e.height!==0&&e.height!=="auto"&&e.height!=="NaN"?e.height:e.getBoundingClientRect().height,l=N.isDevice?4*parseInt(e.style.outline.slice(-3),10)+2:2*parseInt(e.style.outline.slice(-3),10)+2,h=N.isDevice?0:2;t.querySelector(".e-rte-botLeft").style.left=s-l+"px",t.querySelector(".e-rte-botLeft").style.top=parseInt(a.toString(),10)-l+n+"px",t.querySelector(".e-rte-botRight").style.left=parseInt(o.toString(),10)-(l-h)+s+"px",t.querySelector(".e-rte-botRight").style.top=parseInt(a.toString(),10)-l+n+"px",t.querySelector(".e-rte-topRight").style.left=parseInt(o.toString(),10)-(l-h)+s+"px",t.querySelector(".e-rte-topRight").style.top=n-l+"px",t.querySelector(".e-rte-topLeft").style.left=s-l+"px",t.querySelector(".e-rte-topLeft").style.top=n-l+"px"}},r.prototype.calcPos=function(e){for(var t=["TD","TH","TABLE","A"],i={top:0,left:0},n,s=e.ownerDocument,o=(e.offsetParent&&(e.offsetParent.classList.contains("e-video-clickelem")||t.indexOf(e.offsetParent.tagName)>-1)?S(e,"#"+this.parent.getID()+"_rte-edit-view"):e.offsetParent)||s.documentElement;o&&(o===s.body||o===s.documentElement)&&o.style.position==="static";)o=o.parentNode;return o&&o!==e&&o.nodeType===1&&(i=o.getBoundingClientRect()),e&&e.nodeType===1&&e.tagName==="IFRAME"?(n=e.getBoundingClientRect(),{top:n.top-i.top,left:n.left-i.left}):{top:e.offsetTop,left:e.offsetLeft}},r.prototype.setAspectRatio=function(e,t,i,n){var s=getComputedStyle(e);if(!u(s)){var o=s.width!==""?s.width.match(/^\d+(\.\d*)?%$/g)?parseFloat(s.width):parseInt(s.width,10):e.style.width!==""?e.style.width:e.width,a=s.height!==""?parseInt(s.height,10):e.style.height!==""?e.style.height:e.height;if(o=o.toString().match(/\b\d+(\.\d*)?(%|$)\b/g)?parseFloat(o.toString()):parseInt(o.toString(),10),a=a.toString().match(/\b\d+(\.\d*)?(%|$)\b/g)?parseFloat(a.toString()):parseInt(a.toString(),10),o>a)if(e.style.minWidth=this.parent.insertVideoSettings.minWidth===0?"200px":W(this.parent.insertVideoSettings.minWidth),e.style.minHeight=this.parent.insertVideoSettings.minHeight===0?"90px":W(this.parent.insertVideoSettings.minHeight),this.parent.insertVideoSettings.resizeByPercent)this.updateVidEleWidth(e,o,a,t,i);else if(e.style.width===""&&e.style.height!==""||s.width===""&&s.height!=="")e.style.height=i+"px";else if(e.style.width!==""&&e.style.height===""||s.width!==""&&s.height===""){var l=o/a*i+o/a<this.parent.inputElement.getBoundingClientRect().right-32?o/a*i+o/a:this.parent.inputElement.getBoundingClientRect().right-32;e.style.width=l.toString()+"px"}else if(e.style.width!==""||s.width!==""){var l=o/a*i<this.parent.inputElement.getBoundingClientRect().right-32?o/a*i:this.parent.inputElement.getBoundingClientRect().right-32;e.style.width=l+"px",e.style.height=i+"px"}else e.setAttribute("width",parseInt((o/a*i+o/a).toString(),10).toString());else a>o?this.parent.insertVideoSettings.resizeByPercent?this.updateVidEleWidth(e,o,a,t,i):e.style.width!==""||s.width!==""?(e.style.width=t+"px",e.style.height=a/o*t+"px"):e.setAttribute("width",this.resizeBtnStat.botRight?(this.getPointX(n.event)-e.getBoundingClientRect().left).toString():t.toString()):this.parent.insertVideoSettings.resizeByPercent?(e.style.width=this.pixToPerc(t,e.previousElementSibling||e.parentElement)+"%",e.style.height=null,e.removeAttribute("height")):(e.style.width=t+"px",e.style.height=t+"px")}},r.prototype.updateVidEleWidth=function(e,t,i,n,s){if(parseInt(""+e.getBoundingClientRect().width,10)!==0&&parseInt(""+t,10)!==0){var o=e.offsetWidth+this.mouseX,a=o/e.offsetWidth*(parseFloat(e.style.width).toString()==="NaN"?e.offsetWidth/parseFloat(getComputedStyle(this.parent.element).width)*100:parseFloat(e.style.width));e.style.width=(a>3?a:3)+"%"}else t>i?e.style.width=this.pixToPerc(t/i*s,e.previousElementSibling||e.parentElement)+"%":e.style.width=this.pixToPerc(n/i*s,e.previousElementSibling||e.parentElement)+"%";e.style.height=null,e.removeAttribute("height")},r.prototype.pixToPerc=function(e,t){return e/parseFloat(getComputedStyle(t).width)*100},r.prototype.vidDupMouseMove=function(e,t,i){var n=this,s={event:i,requestType:"videos"};this.parent.trigger($a,s,function(o){if(o.cancel)n.cancelResizeAction();else{if(parseInt(n.parent.insertVideoSettings.minWidth,10)>=parseInt(e,10)||parseInt(n.parent.getInsertVidMaxWidth(),10)<=parseInt(e,10)&&u(n.videoEle.style.width)||!n.parent.insertVideoSettings.resizeByPercent&&(parseInt(n.parent.insertVideoSettings.minHeight,10)>=parseInt(t,10)||parseInt(n.parent.insertVideoSettings.maxHeight,10)<=parseInt(t,10)))return;n.videoEle.parentElement.style.cursor="pointer",n.setAspectRatio(n.videoEle,parseInt(e,10),parseInt(t,10),s),n.resizeVidDupPos(n.videoEle),n.vidResizePos(n.videoEle,n.vidResizeDiv)}})},r.prototype.resizing=function(e){this.videoEle.offsetWidth>=this.parent.getInsertVidMaxWidth()&&(this.videoEle.style.maxHeight=this.videoEle.offsetHeight+"px");var t=this.getPointX(e),i=this.getPointY(e),n=this.resizeBtnStat.botLeft||this.resizeBtnStat.topLeft?-(t-this.pageX):t-this.pageX,s=this.resizeBtnStat.topLeft||this.resizeBtnStat.topRight?-(i-this.pageY):i-this.pageY,o=parseInt(this.vidDupPos.width,10)+n,a=parseInt(this.vidDupPos.height,10)+s;this.pageX=t,this.pageY=i,this.mouseX=n,this.resizeBtnStat.botRight?this.vidDupMouseMove(o+"px",a+"px",e):this.resizeBtnStat.botLeft?this.vidDupMouseMove(o+"px",a+"px",e):this.resizeBtnStat.topRight?this.vidDupMouseMove(o+"px",a+"px",e):this.resizeBtnStat.topLeft&&this.vidDupMouseMove(o+"px",a+"px",e)},r.prototype.cancelResizeAction=function(){y.remove(this.contentModule.getDocument(),N.touchMoveEvent,this.resizing),y.remove(this.contentModule.getDocument(),N.touchEndEvent,this.resizeEnd),this.videoEle&&this.vidResizeDiv&&this.contentModule.getEditPanel().contains(this.vidResizeDiv)&&(w(this.vidResizeDiv),this.videoEle.style.outline="",this.vidResizeDiv=null,this.pageX=null,this.pageY=null)},r.prototype.resizeVidDupPos=function(e){this.vidDupPos={width:e.style.width!==""&&this.parent.insertVideoSettings&&!this.parent.insertVideoSettings.resizeByPercent?this.videoEle.style.width:e.width!=="auto"&&e.width!==0&&e.width!=="NaN"?e.width+"px":parseInt(getComputedStyle(e).width,10)+"px",height:e.style.height!==""?this.videoEle.style.height:e.height!=="auto"&&e.height!==0&&e.height!=="NaN"?e.height+"px":parseInt(getComputedStyle(e).height,10)+"px"}},r.prototype.resizeBtnInit=function(){return this.resizeBtnStat={botLeft:!1,botRight:!1,topRight:!1,topLeft:!1}},r.prototype.onToolbarAction=function(e){gt()&&this.parent.notify(Xt,{});var t=e.args.item;switch(t.subCommand){case"VideoReplace":this.parent.notify(Wa,e);break;case"VideoRemove":this.parent.notify(Gu,e);break;case"VideoDimension":this.parent.notify(ep,e)}},r.prototype.onKeyDown=function(e){var t=e.args,i,n,s,o;this.deletedVid=[];var a,l=[27,112,113,114,115,116,117,118,119,120,121,122,123,44,45,9,16,17,18,19,20,33,34,35,36,37,38,39,40,91,92,93,144,145,182,183];if(this.parent.editorMode==="HTML"&&(i=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),a=i.startContainer===i.endContainer&&i.startOffset===i.endOffset),!a&&this.parent.editorMode==="HTML"&&l.indexOf(t.which)<0)for(var h=this.parent.formatter.editorManager.nodeSelection.getNodeCollection(i),c=0;c<h.length;c++)(h[c].nodeName==="VIDEO"||h[c].nodeName==="IFRAME")&&this.deletedVid.push(h[c]);if(this.parent.editorMode==="HTML"&&(t.which===8&&t.code==="Backspace"||t.which===46&&t.code==="Delete")){var p=i.startContainer===i.endContainer&&i.startOffset===i.endOffset;t.which===8&&t.code==="Backspace"&&p?this.checkVideoBack(i):t.which===46&&t.code==="Delete"&&p&&this.checkVideoDel(i)}if(!u(this.parent.formatter.editorManager.nodeSelection)&&t.code!=="KeyK"&&(i=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),s=this.parent.formatter.editorManager.nodeSelection.getNodeCollection(i),o=this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(i),!t.ctrlKey&&t.key&&(t.key.length===1||t.action==="enter")&&(!u(o[0])&&o[0].tagName==="VIDEO"||this.isEmbedVidElem(o[0]))&&o[0].parentElement)){var d=o[0].parentElement.childNodes[0];this.contentModule.getEditPanel().querySelector(".e-vid-resize")&&this.removeResizeEle(),this.parent.formatter.editorManager.nodeSelection.setSelectionText(this.contentModule.getDocument(),d,d,d.textContent.length,d.textContent.length),L([o[0]],on),this.quickToolObj.videoQTBar.hidePopup()}if(t.ctrlKey&&(t.keyCode===89||t.keyCode===90)&&this.undoStack({subCommand:t.keyCode===90?"undo":"redo"}),t.keyCode===8||t.keyCode===46){if(s&&(s[0].nodeName==="VIDEO"||this.isEmbedVidElem(s[0]))&&s.length<1){u(this.parent.formatter.editorManager.nodeSelection)||(n=this.parent.formatter.editorManager.nodeSelection.save(i,this.parent.contentModule.getDocument())),t.preventDefault();var f={selectNode:s,selection:n,selectParent:o,args:{item:{command:"Videos",subCommand:"VideoRemove"},originalEvent:t}};this.deleteVideo(f,t.keyCode)}this.parent.contentModule.getEditPanel().querySelector(".e-vid-resize")&&this.removeResizeEle()}switch(t.code==="Backspace"&&(t.action="backspace"),t.action){case"escape":u(this.dialogObj)||this.dialogObj.close();break;case"backspace":case"delete":for(var c=0;c<this.deletedVid.length;c++){var m=this.deletedVid[c].src;this.videoRemovePost(m)}this.parent.editorMode!=="Markdown"&&(i.startContainer.nodeType===3?t.code==="Backspace"?i.startContainer.previousElementSibling&&i.startOffset===0&&i.startContainer.previousElementSibling.classList.contains(Vs)&&w(i.startContainer.previousElementSibling):i.startContainer.nextElementSibling&&i.endContainer.textContent.length===i.endOffset&&i.startContainer.nextElementSibling.classList.contains(Vs)&&w(i.startContainer.nextElementSibling):i.startContainer.nodeType===1&&i.startContainer.classList&&i.startContainer.classList.contains(Vs)&&w(i.startContainer));break;case"insert-video":u(this.parent.formatter.editorManager.nodeSelection)||(n=this.parent.formatter.editorManager.nodeSelection.save(i,this.parent.contentModule.getDocument())),this.openDialog(!0,t,n,s,o),t.preventDefault();break}t.ctrlKey&&t.key==="a"&&this.handleSelectAll()},r.prototype.handleSelectAll=function(){this.cancelResizeAction();var e=this.parent.inputElement.querySelectorAll("."+on);L(e,on)},r.prototype.openDialog=function(e,t,i,n,s){var o,a,l,h;!e&&!u(this.parent.formatter.editorManager.nodeSelection)?(o=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),a=this.parent.formatter.editorManager.nodeSelection.save(o,this.parent.contentModule.getDocument()),l=this.parent.formatter.editorManager.nodeSelection.getNodeCollection(o),h=this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(o)):(a=i,l=n,h=s),this.parent.editorMode==="HTML"&&this.insertVideo({args:{item:{command:"Videos",subCommand:"Video"},originalEvent:t,name:e?null:"showDialog"},selectNode:l,selection:a,selectParent:h})},r.prototype.showDialog=function(){this.openDialog(!1)},r.prototype.closeDialog=function(){this.dialogObj&&this.dialogObj.hide({returnValue:!0})},r.prototype.checkVideoBack=function(e){e.startContainer.nodeName==="#text"&&e.startOffset===0&&!u(e.startContainer.previousSibling)&&(e.startContainer.previousSibling.nodeName==="VIDEO"||this.isEmbedVidElem(e.startContainer.previousSibling))?this.deletedVid.push(e.startContainer.previousSibling):e.startContainer.nodeName!=="#text"&&!u(e.startContainer.childNodes[e.startOffset-1])&&(e.startContainer.childNodes[e.startOffset-1].nodeName==="VIDEO"||this.isEmbedVidElem(e.startContainer.childNodes[e.startOffset-1]))&&this.deletedVid.push(e.startContainer.childNodes[e.startOffset-1])},r.prototype.checkVideoDel=function(e){e.startContainer.nodeName==="#text"&&e.startOffset===e.startContainer.textContent.length&&!u(e.startContainer.nextSibling)&&(e.startContainer.nextSibling.nodeName==="VIDEO"||this.isEmbedVidElem(e.startContainer.nextSibling))?this.deletedVid.push(e.startContainer.nextSibling):e.startContainer.nodeName!=="#text"&&!u(e.startContainer.childNodes[e.startOffset])&&(e.startContainer.childNodes[e.startOffset].nodeName==="VIDEO"||this.isEmbedVidElem(e.startContainer.childNodes[e.startOffset]))&&this.deletedVid.push(e.startContainer.childNodes[e.startOffset])},r.prototype.alignmentSelect=function(e){var t=e.item;if(!(!document.body.contains(document.body.querySelector(".e-rte-quick-toolbar"))||t.command!=="Videos")){var i=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),n=this.parent.formatter.editorManager.nodeSelection.getNodeCollection(i);n=n[0].nodeName==="VIDEO"?n:[this.videoEle];var s={args:e,selectNode:n};switch(this.parent.formatter.getUndoRedoStack().length===0&&this.parent.formatter.saveData(),t.subCommand){case"JustifyLeft":case"JustifyCenter":case"JustifyRight":this.alignVideo(s,t.subCommand);break;case"Inline":this.inline(s);break;case"Break":this.break(s);break}this.quickToolObj&&document.body.contains(this.quickToolObj.videoQTBar.element)&&(this.quickToolObj.videoQTBar.hidePopup(),L([n[0]],on)),this.cancelResizeAction()}},r.prototype.deleteVideo=function(e,t){if(!(e.selectNode[0].nodeName!=="VIDEO"&&!this.isEmbedVidElem(e.selectNode[0]))){this.isEmbedVidElem(e.selectNode[0])&&(e.selectNode[0]=e.selectNode[0].classList.contains(Fs)?e.selectNode[0]:e.selectNode[0].parentElement);var i={element:this.isEmbedVidElem(e.selectNode[0])?e.selectNode[0]:e.selectNode[0].querySelector("iframe"),src:this.isEmbedVidElem(e.selectNode[0])?e.selectNode[0].querySelector("iframe").getAttribute("src"):e.selectNode[0].querySelector("source").getAttribute("src")};this.parent.formatter.getUndoRedoStack().length===0&&this.parent.formatter.saveData(),e.selection.restore(),this.parent.formatter.process(this.parent,e.args,e.args,{selectNode:e.selectNode,subCommand:e.args.item.subCommand}),this.videoRemovePost(i.src),this.quickToolObj&&document.body.contains(this.quickToolObj.videoQTBar.element)&&this.quickToolObj.videoQTBar.hidePopup(),this.cancelResizeAction(),u(t)&&this.parent.trigger(dg,i)}},r.prototype.videoRemovePost=function(e){var t=this,i="";if(!(u(this.parent.insertVideoSettings.removeUrl)||this.parent.insertVideoSettings.removeUrl==="")){e.indexOf("http://")>-1||e.indexOf("https://")>-1?i=e:i=new URL(e,document.baseURI).href,this.removingVideoName=i.replace(/^.*[\\\/]/,"");var n=new XMLHttpRequest;n.addEventListener("readystatechange",function(){this.readyState===4&&this.status===200&&t.triggerPost(this.response)}),n.open("GET",i),n.responseType="blob",n.send()}},r.prototype.triggerPost=function(e){var t=this.parent.insertVideoSettings.removeUrl;if(!(u(t)||t==="")){var i=new File([e],this.removingVideoName),n=new pr(t,"POST",!0,null),s=new FormData;s.append("UploadFiles",i),n.send(s)}},r.prototype.onDocumentClick=function(e){var t=e.target;(t.nodeName==="VIDEO"||this.isEmbedVidElem(t))&&(this.videoEle=this.isEmbedVidElem(t)?t.querySelector("iframe"):t),!u(this.dialogObj)&&(!S(t,"[id='"+this.dialogObj.element.id+"']")&&this.parent.toolbarSettings.enable&&this.parent.getToolbarElement()&&!this.parent.getToolbarElement().contains(e.target)||this.parent.getToolbarElement()&&this.parent.getToolbarElement().contains(e.target)&&!S(t,"#"+this.parent.getID()+"_toolbar_Video")&&!t.querySelector("#"+this.parent.getID()+"_toolbar_Video"))&&(e.offsetX>e.target.clientWidth||e.offsetY>e.target.clientHeight||(this.parent.notify($n,{closedBy:"outside click"}),this.dialogObj.hide({returnValue:!0}),this.parent.isBlur=!0,Tn(this.parent.element,"focusout"))),this.contentModule.getEditPanel().querySelector(".e-vid-resize")&&(t.tagName!=="VIDEO"&&!this.isEmbedVidElem(t)&&this.removeResizeEle(),t.tagName!=="VIDEO"&&!this.isEmbedVidElem(t)&&!u(this.videoEle)?this.videoEle.style.outline="":!u(this.prevSelectedVidEle)&&this.prevSelectedVidEle!==(t.tagName==="IFRAME"||t.tagName==="VIDEO"?t:t.querySelector("iframe"))&&(this.prevSelectedVidEle.style.outline=""))},r.prototype.removeResizeEle=function(){y.remove(this.contentModule.getDocument(),N.touchMoveEvent,this.resizing),y.remove(this.contentModule.getDocument(),N.touchEndEvent,this.resizeEnd),w(this.contentModule.getEditPanel().querySelector(".e-vid-resize"))},r.prototype.onWindowResize=function(){!u(this.contentModule)&&!u(this.contentModule.getEditPanel().querySelector(".e-vid-resize"))&&this.cancelResizeAction()},r.prototype.break=function(e){if(!(e.selectNode[0].nodeName!=="VIDEO"&&!this.isEmbedVidElem(e.selectNode[0]))){var t=e.args.item?e.args.item.subCommand:"Break";this.parent.formatter.process(this.parent,e.args,e.args,{selectNode:e.selectNode,subCommand:t})}},r.prototype.inline=function(e){if(!(e.selectNode[0].nodeName!=="VIDEO"&&!this.isEmbedVidElem(e.selectNode[0]))){var t=e.args.item?e.args.item.subCommand:"Inline";this.parent.formatter.process(this.parent,e.args,e.args,{selectNode:e.selectNode,subCommand:t})}},r.prototype.alignVideo=function(e,t){var i=e.args.item?e.args.item.subCommand:t;this.parent.formatter.process(this.parent,e.args,e.args,{selectNode:e.selectNode,subCommand:i})},r.prototype.editAreaClickHandler=function(e){if(this.parent.readonly){this.hideVideoQuickToolbar();return}var t=e.args,i=this.parent.quickToolbarSettings.showOnRightClick;if(t.which===2||i&&t.which===1||!i&&t.which===3){i&&t.which===1&&!u(t.target)&&(t.target.tagName==="VIDEO"||this.isEmbedVidElem(t.target))&&(this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument()),this.parent.formatter.editorManager.nodeSelection.setSelectionContents(this.contentModule.getDocument(),t.target));return}if(this.parent.editorMode==="HTML"&&this.parent.quickToolbarModule&&this.parent.quickToolbarModule.videoQTBar){this.quickToolObj=this.parent.quickToolbarModule;var n=t.target;this.contentModule=this.rendererFactory.getRenderer(ve.Content);var s=this.quickToolObj.videoQTBar.element.classList.contains("e-rte-pop");if((n.nodeName==="VIDEO"||this.isEmbedVidElem(n))&&this.parent.quickToolbarModule){if(s)return;this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument()),this.parent.formatter.editorManager.nodeSelection.setSelectionContents(this.contentModule.getDocument(),n),gt()&&this.parent.notify(Zt,e),E([this.isEmbedVidElem(n)?n.querySelector("iframe"):n],on),this.showVideoQuickToolbar({args:t,type:"Videos",elements:[t.target]})}else this.hideVideoQuickToolbar()}},r.prototype.showVideoQuickToolbar=function(e){var t=this;if(!(e.type!=="Videos"||!u(e.args)&&e.args.detail===2||u(this.parent.quickToolbarModule)||u(this.parent.quickToolbarModule.videoQTBar)||u(e.args))){this.quickToolObj=this.parent.quickToolbarModule;var i=e.args,n=e.elements;[].forEach.call(e.elements,function(o,a){a===0&&(n=o)}),(n.tagName==="VIDEO"||this.isEmbedVidElem(n))&&E([!this.isEmbedVidElem(n)||n.tagName==="IFRAME"?n:n.querySelector("iframe")],[on]);var s=this.parent.iframeSettings.enable?window.pageYOffset+this.parent.element.getBoundingClientRect().top+i.clientY:i.pageY;this.parent.quickToolbarModule.videoQTBar&&(e.isNotify?setTimeout(function(){t.parent.formatter.editorManager.nodeSelection.Clear(t.contentModule.getDocument()),t.parent.formatter.editorManager.nodeSelection.setSelectionContents(t.contentModule.getDocument(),n),t.quickToolObj.videoQTBar.showPopup(i.pageX-50,s+n.getBoundingClientRect().height/2-n.offsetTop,n)},400):this.quickToolObj.videoQTBar.showPopup(i.pageX-50,s+n.getBoundingClientRect().height/2-n.offsetTop,n))}},r.prototype.hideVideoQuickToolbar=function(){u(this.contentModule.getEditPanel().querySelector("."+on))||(L([this.contentModule.getEditPanel().querySelector("."+on)],on),u(this.videoEle)||(this.videoEle.style.outline=""),u(this.contentModule.getEditPanel().querySelector(".e-vid-resize"))||w(this.contentModule.getEditPanel().querySelector(".e-vid-resize")),this.quickToolObj&&this.quickToolObj.videoQTBar&&document.body.contains(this.quickToolObj.videoQTBar.element)&&this.quickToolObj.videoQTBar.hidePopup())},r.prototype.isEmbedVidElem=function(e){return!!(e&&e.nodeType!==3&&e.nodeName!=="BR"&&e.classList&&e.classList.contains(Fs)||e&&e.nodeName==="IFRAME")},r.prototype.insertingVideo=function(e){if(this.insertVideo(e),!u(this.dialogObj)){this.dialogObj.element.style.maxHeight="inherit";var t=this.dialogObj.element.querySelector(".e-video-content");!u(this.parent.insertVideoSettings.path)||this.parent.editorMode==="HTML"?document.getElementById(this.rteID+"_insertVideo").focus():t.querySelector(".e-video-url").focus()}},r.prototype.insertVideo=function(e){var t=this;if(this.dialogObj){this.dialogObj.hide({returnValue:!0});return}var i=this.parent.createElement("div",{className:"e-rte-video-dialog",id:this.rteID+"_video"});this.parent.element.appendChild(i);var n=this.i10n.getConstant("dialogInsert"),s=this.i10n.getConstant("dialogCancel"),o=this.i10n.getConstant("videoHeader"),a=e.selection,l={selfVideo:this,selection:e.selection,args:e.args,selectParent:e.selectParent},h={header:o,cssClass:at,enableRtl:this.parent.enableRtl,locale:this.parent.locale,showCloseIcon:!0,closeOnEscape:!0,width:N.isDevice?"290px":"340px",isModal:N.isDevice,buttons:[{click:this.insertVideoUrl.bind(l),buttonModel:{content:n,cssClass:"e-flat e-insertVideo",isPrimary:!0,disabled:!0}},{click:function(g){t.cancelDialog(g)},buttonModel:{cssClass:"e-flat e-cancel",content:s}}],target:N.isDevice?document.body:this.parent.element,animationSettings:{effect:"None"},close:function(g){t.isVideoUploaded&&t.uploadObj.removing(),t.parent.isBlur=!1,g&&g.event.returnValue&&t.parent.editorMode==="HTML"&&a.restore(),t.dialogObj.destroy(),w(t.dialogObj.element),t.dialogRenderObj.close(g),t.dialogObj=null}},c=this.parent.createElement("div",{className:"e-video-content"});(!u(this.parent.insertVideoSettings.path)||this.parent.editorMode==="HTML")&&c.appendChild(this.videoUpload(e));var p=this.parent.createElement("div",{className:"e-videoheader"}),d=this.parent.createElement("div",{className:"e-embed-videoheader"}),f=this.i10n.getConstant("videoLinkHeader"),m=this.i10n.getConstant("embedVideoLinkHeader");this.parent.editorMode==="HTML"&&(p.innerHTML=f,d.innerHTML=m),c.appendChild(this.urlPopup(e)),e.selectNode&&e.selectNode[0].nodeType===1&&(e.selectNode[0].tagName==="VIDEO"||this.isEmbedVidElem(e.selectNode[0]))&&(h.header=this.parent.localeObj.getConstant("editVideoHeader")),h.content=c,this.dialogObj=this.dialogRenderObj.render(h),this.dialogObj.createElement=this.parent.createElement,this.dialogObj.appendTo(i),e.selectNode&&e.selectNode[0].nodeType===1&&(e.selectNode[0].tagName==="VIDEO"||this.isEmbedVidElem(e.selectNode[0]))&&e.name==="insertVideo"&&(this.dialogObj.element.querySelector(".e-insertVideo").textContent=this.parent.localeObj.getConstant("dialogUpdate")),i.style.maxHeight="inherit",this.quickToolObj&&(this.quickToolObj.videoQTBar&&document.body.contains(this.quickToolObj.videoQTBar.element)&&(this.quickToolObj.videoQTBar.hidePopup(),u(e.selectParent)||L([e.selectParent[0]],on)),this.quickToolObj.inlineQTBar&&document.body.contains(this.quickToolObj.inlineQTBar.element)&&this.quickToolObj.inlineQTBar.hidePopup(),this.quickToolObj.textQTBar&&this.parent.element.ownerDocument.body.contains(this.quickToolObj.textQTBar.element)&&this.quickToolObj.textQTBar.hidePopup())},r.prototype.urlPopup=function(e){var t=this,i=this.parent.createElement("div",{className:"e-video-url-wrap"}),n=this.parent.createElement("div",{id:"urlcontent"}),s=this.i10n.getConstant("videoUrl"),o='<input id="embedURL" type="radio"><input id="webURL" type="radio" >',a=Nn(o);if(i.appendChild(a),i.appendChild(n),this.embedInputUrl=this.parent.createElement("textarea",{className:"e-input e-embed-video-url",attrs:{placeholder:this.i10n.getConstant("pasteEmbeddedCodeHere"),type:"text",tabindex:"-1","aria-label":this.i10n.getConstant("embedVideoLinkHeader")}}),this.embedInputUrl.addEventListener("keyup",function(){u(t.embedInputUrl)||(t.embedInputUrl.value.length===0?t.dialogObj.getButtons(0).element.disabled=!0:t.dialogObj.getButtons(0).element.removeAttribute("disabled"))}),this.inputUrl=this.parent.createElement("input",{className:"e-input e-video-url",attrs:{placeholder:s,spellcheck:"false"}}),this.inputUrl.addEventListener("input",function(){u(t.inputUrl)||(t.inputUrl.value.length===0?t.dialogObj.getButtons(0).element.disabled=!0:t.dialogObj.getButtons(0).element.removeAttribute("disabled"))}),e.selectNode&&(e.selectNode[0]&&e.selectNode[0].nodeType!==3&&e.selectNode[0].nodeName!=="BR"&&e.selectNode[0].classList&&e.selectNode[0].classList.contains(Fs)||e.selectNode[0].nodeName==="IFRAME"||e.selectNode[0].nodeName==="VIDEO")){var l=new RegExp(/([^\S]|^)(((https?\:\/\/)|(www\.))(\S+))/gi),h=e.selectNode[0].querySelector("source");this.inputUrl.value=h.src.match(l)?h.src:""}var c=new nv({label:this.i10n.getConstant("embeddedCode"),checked:!0,name:"URL",created:function(){n.appendChild(t.embedInputUrl)},change:function(){n.innerHTML="",n.appendChild(t.embedInputUrl)}});c.appendTo(i.querySelector("#embedURL"));var p=new nv({label:this.i10n.getConstant("webUrl"),name:"URL",change:function(){n.innerHTML="",n.appendChild(t.inputUrl)}});return p.appendTo(i.querySelector("#webURL")),i},r.prototype.videoUpload=function(e){var t=this,i,n,s=this,o=s.parent.iframeSettings.enable;if(s.parent.editorMode==="HTML"&&(!o&&u(S(e.selection.range.startContainer.parentNode,"[id='"+this.parent.contentModule.getPanel().id+"']"))||o&&!tt(e.selection.range.startContainer.parentNode.ownerDocument.querySelector("body"),"e-lib"))){this.contentModule.getEditPanel().focus();var a=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());i=this.parent.formatter.editorManager.nodeSelection.save(a,this.parent.contentModule.getDocument()),n=this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(a)}else i=e.selection,n=e.selectParent;var l=this.parent.createElement("div",{className:"e-vid-uploadwrap e-droparea"}),h=this.i10n.getConstant("videoDeviceUploadMessage"),c=this.i10n.getConstant("videoUploadMessage"),p=this.parent.createElement("span",{className:"e-droptext"}),d=this.parent.createElement("span",{className:"e-rte-upload-text",innerHTML:N.isDevice?h:c});p.appendChild(d);var f=this.parent.createElement("button",{className:"e-browsebtn",id:this.rteID+"_insertVideo",attrs:{autofocus:"true",type:"button"}});p.appendChild(f),l.appendChild(p);var m=this.i10n.getConstant("browse"),g=new Ei({content:m,enableRtl:this.parent.enableRtl});g.isStringTemplate=!0,g.createElement=this.parent.createElement,g.appendTo(f);var v=N.isDevice?p:f;y.add(v,"click",this.fileSelect,this);var O=this.parent.createElement("input",{id:this.rteID+"_upload",attrs:{type:"File",name:"UploadFiles"}});l.appendChild(O);var C,x,M;return this.uploadObj=new kc({asyncSettings:{saveUrl:this.parent.insertVideoSettings.saveUrl,removeUrl:this.parent.insertVideoSettings.removeUrl},dropArea:p,multiple:!1,enableRtl:this.parent.enableRtl,allowedExtensions:this.parent.insertVideoSettings.allowedTypes.toString(),selected:function(k){s.isVideoUploaded=!0,x=k,M=k.filesData,t.parent.trigger(pS,x,function(A){if(!A.cancel&&(t.checkExtension(A.filesData[0]),C=A.filesData[0].name,t.parent.editorMode==="HTML"&&u(t.parent.insertVideoSettings.path))){var j=new FileReader;j.addEventListener("load",function(U){var q=t.parent.insertVideoSettings.saveFormat==="Base64"?j.result:URL.createObjectURL(ul(j.result));s.uploadUrl={url:q,selection:i,fileName:C,selectParent:n},s.inputUrl.setAttribute("disabled","true"),s.embedInputUrl.setAttribute("disabled","true"),u(s.parent.insertVideoSettings.saveUrl)&&t.isAllowedTypes&&!u(t.dialogObj)&&t.dialogObj.getButtons(0).element.removeAttribute("disabled")}),j.readAsDataURL(A.filesData[0].rawFile)}})},beforeUpload:function(k){t.parent.trigger(vS,k)},uploading:function(k){t.parent.isServerRendered||t.parent.trigger(dS,k)},success:function(k){t.parent.trigger(fS,k,function(A){if(!u(t.parent.insertVideoSettings.path)){var j=t.parent.insertVideoSettings.path+A.file.name,U={url:j,selection:i};s.uploadUrl={url:j,selection:i,fileName:C,selectParent:n,width:{width:s.parent.insertVideoSettings.width,minWidth:s.parent.insertVideoSettings.minWidth,maxWidth:s.parent.getInsertImgMaxWidth()},height:{height:s.parent.insertVideoSettings.height,minHeight:s.parent.insertVideoSettings.minHeight,maxHeight:s.parent.insertVideoSettings.maxHeight}},s.embedInputUrl.setAttribute("disabled","true")}A.operation==="upload"&&!u(t.dialogObj)&&t.dialogObj.getButtons(0).element.removeAttribute("disabled")})},failure:function(k){t.parent.trigger(mS,k)},removing:function(){t.parent.trigger(gS,e,function(k){s.isVideoUploaded=!1,t.dialogObj.getButtons(0).element.disabled=!0,s.inputUrl.getAttribute("disabled")&&s.inputUrl.removeAttribute("disabled"),s.embedInputUrl.getAttribute("disabled")&&s.embedInputUrl.removeAttribute("disabled"),s.uploadUrl&&(s.uploadUrl.url="")})}}),this.uploadObj.isStringTemplate=!0,this.uploadObj.createElement=this.parent.createElement,this.uploadObj.appendTo(O),l},r.prototype.checkExtension=function(e){this.uploadObj.allowedExtensions&&(this.uploadObj.allowedExtensions.toLocaleLowerCase().indexOf(("."+e.type).toLocaleLowerCase())===-1?(this.dialogObj.getButtons(0).element.setAttribute("disabled","disabled"),this.isAllowedTypes=!1):this.isAllowedTypes=!0)},r.prototype.fileSelect=function(){return this.dialogObj.element.getElementsByClassName("e-file-select-wrap")[0].querySelector("button").click(),!1},r.prototype.cancelDialog=function(e){this.parent.isBlur=!1,this.dialogObj.hide({returnValue:!0}),this.isVideoUploaded&&this.uploadObj.removing()},r.prototype.insertVideoUrl=function(e){var t=this.selfVideo;t.isVideoUploaded=!1;var i=t.inputUrl.value,n=t.embedInputUrl.value;if(t.parent.formatter.getUndoRedoStack().length===0&&t.parent.formatter.saveData(),!u(t.uploadUrl)&&t.uploadUrl.url!=="")t.uploadUrl.cssClass=t.parent.insertVideoSettings.layoutOption==="Inline"?Hh:Dg,t.dialogObj.hide({returnValue:!1}),t.parent.formatter.process(t.parent,this.args,this.args.originalEvent,t.uploadUrl),t.uploadUrl.url="";else if(t.parent.editorMode==="HTML"&&(i!==""||n!=="")){if(t.parent.editorMode==="HTML"&&u(S(this.selection.range.startContainer.parentNode,"[id='"+t.contentModule.getPanel().id+"']"))){t.contentModule.getEditPanel().focus();var s=t.parent.formatter.editorManager.nodeSelection.getRange(t.contentModule.getDocument());this.selection=t.parent.formatter.editorManager.nodeSelection.save(s,t.contentModule.getDocument()),this.selectParent=t.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(s)}var o=document.getElementById("webURL"),a=o.checked?i.split("/")[i.split("/").length-1]:n,l={cssClass:t.parent.insertVideoSettings.layoutOption==="Inline"?Hh:Dg,url:i,selection:this.selection,fileName:a,isEmbedUrl:!o.checked,selectParent:this.selectParent,width:{width:t.parent.insertVideoSettings.width,minWidth:t.parent.insertVideoSettings.minWidth,maxWidth:t.parent.getInsertImgMaxWidth()},height:{height:t.parent.insertVideoSettings.height,minHeight:t.parent.insertVideoSettings.minHeight,maxHeight:t.parent.insertVideoSettings.maxHeight}};t.parent.formatter.process(t.parent,this.args,this.args.originalEvent,l),t.dialogObj.hide({returnValue:!1})}},r.prototype.destroy=function(){this.prevSelectedVidEle=void 0,this.removeEventListener()},r.prototype.getModuleName=function(){return"video"},r}();var $x=function(){function r(e,t){this.parent=e;var i=t;this.rendererFactory=i.getService("rendererFactory"),this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.on(_o,this.sourceCode,this),this.parent.on(bt,this.onInitialEnd,this),this.parent.on(Sh,this.updateSourceCode,this),this.parent.on(ue,this.destroy,this),this.parent.on(Qe,this.moduleDestroy,this)},r.prototype.onInitialEnd=function(){this.parent.formatter.editorManager.observer.on(Be,this.onKeyDown,this)},r.prototype.removeEventListener=function(){this.unWireEvent(),this.parent.off(_o,this.sourceCode),this.parent.off(Sh,this.updateSourceCode),this.parent.off(bt,this.onInitialEnd),this.parent.off(ue,this.destroy),this.parent.off(Qe,this.moduleDestroy),this.parent.formatter.editorManager.observer.off(Be,this.onKeyDown)},r.prototype.getSourceCode=function(){return this.parent.createElement("textarea",{className:Mn+this.parent.getCssClass(!0)})},r.prototype.wireEvent=function(e){this.keyboardModule=new Rc(e,{keyAction:this.previewKeyDown.bind(this),keyConfigs:this.parent.formatter.keyConfig,eventName:"keydown"}),y.add(this.previewElement,"mousedown",this.mouseDownHandler,this)},r.prototype.unWireEvent=function(){this.keyboardModule&&this.keyboardModule.destroy(),this.previewElement&&y.remove(this.previewElement,"mousedown",this.mouseDownHandler)},r.prototype.wireBaseKeyDown=function(){this.parent.keyboardModule=new Rc(this.contentModule.getEditPanel(),{keyAction:this.parent.keyDown.bind(this.parent),keyConfigs:this.parent.formatter.keyConfig,eventName:"keydown"})},r.prototype.unWireBaseKeyDown=function(){this.parent.keyboardModule.destroy()},r.prototype.mouseDownHandler=function(e){this.parent.notify(Is,{args:e})},r.prototype.previewKeyDown=function(e){switch(e.action){case"html-source":this.updateSourceCode(e),e.preventDefault();break;case"toolbar-focus":if(this.parent.toolbarSettings.enable&&this.parent.getToolbarElement()){var t=this.parent.getToolbarElement().querySelector(".e-toolbar-item:not(.e-overlay)[title]");t.firstElementChild.removeAttribute("tabindex"),t.firstElementChild.focus()}break}},r.prototype.onKeyDown=function(e){switch(e.event.action){case"html-source":e.event.preventDefault(),this.sourceCode(e),e.callBack({requestType:"SourceCode",editorMode:"HTML",event:e.event});break}},r.prototype.sourceCode=function(e){var t=this;this.parent.notify(Wo,{}),this.parent.isBlur=!1,this.parent.trigger(Ht,{requestType:"SourceCode",targetItem:"SourceCode",args:e});var i=ge("."+Sn,this.parent.element);if(this.contentModule=this.rendererFactory.getRenderer(ve.Content),this.parent.notify(Ho,{targetItem:"SourceCode",updateItem:"Preview",baseToolbar:this.parent.getBaseToolbarObject()}),u(this.previewElement)&&(this.previewElement=this.getSourceCode()),this.parent.updateValueData(),this.parent.iframeSettings.enable){var n=void 0;u(this.parent.element.querySelector("#"+this.parent.getID()+"_source-view"))?n=this.parent.createElement("div",{className:"e-source-content",id:this.parent.getID()+"_source-view"}):n=this.parent.element.querySelector("#"+this.parent.getID()+"_source-view"),n.appendChild(this.previewElement),this.parent.element.appendChild(n),n.style.height=this.contentModule.getPanel().style.height,this.getPanel().value=this.getTextAreaValue(),this.contentModule.getPanel().style.display="none",n.style.display="block",this.getPanel().style.display="block"}else{var s=this.parent.inputElement.offsetHeight;this.contentModule.getPanel().appendChild(this.previewElement),this.getPanel().value=this.getTextAreaValue(),this.previewElement.style.height=s+"px",this.contentModule.getEditPanel().style.display="none",this.previewElement.style.display="block"}this.parent.isBlur=!1,this.parent.disableToolbarItem(this.parent.toolbarSettings.items),this.parent.enableToolbarItem("SourceCode"),this.parent.getToolbar()&&L([this.parent.getToolbar()],[Cr]),L(i,[Or]);var o=this.parent.element.querySelectorAll(".e-toolbar-extended.e-popup-open").length>0;if(this.parent.setContentHeight("SourceCode",o),this.wireEvent(this.previewElement),this.unWireBaseKeyDown(),this.previewElement.focus(),this.parent.updateValue(),!u(this.parent.placeholder)&&!this.parent.iframeSettings.enable){var a=this.parent.element.querySelector(".rte-placeholder.e-rte-placeholder");a&&(a.style.display="none")}this.parent.trigger(ei,{requestType:"SourceCode",targetItem:"SourceCode",args:e}),this.parent.invokeChangeEvent(),!u(this.parent.saveInterval)&&this.parent.saveInterval>0&&this.parent.autoSaveOnIdle&&(this.codeViewTimeInterval=setInterval(function(){t.parent.notify(Rh,{})},this.parent.saveInterval))},r.prototype.updateSourceCode=function(e){this.parent.isBlur=!1,this.parent.trigger(Ht,{requestType:"Preview",targetItem:"Preview",args:e});var t=this.getPanel();this.parent.notify(Ho,{targetItem:"Preview",updateItem:"SourceCode",baseToolbar:this.parent.getBaseToolbarObject()});var i=this.parent.serializeValue(t.value),n;i===null||i===""?this.parent.enterKey==="DIV"?n="<div><br/></div>":this.parent.enterKey==="BR"?n="<br/>":n="<p><br/></p>":n=i,this.parent.iframeSettings.enable?(t.parentElement.style.display="none",t.style.display="none",this.contentModule.getPanel().style.display="block",this.contentModule.getEditPanel().innerHTML=n):(t.style.display="none",this.contentModule.getEditPanel().style.display="block",this.contentModule.getEditPanel().innerHTML=n),this.parent.isBlur=!1,this.parent.enableToolbarItem(this.parent.toolbarSettings.items),this.parent.getToolbar()&&L([this.parent.getToolbar()],[Cr]);var s=this.parent.element.querySelectorAll(".e-toolbar-extended.e-popup-open").length>0;if(this.parent.setContentHeight("Preview",s),this.unWireEvent(),this.wireBaseKeyDown(),this.contentModule.getEditPanel().focus(),this.parent.updateValue(),!u(this.parent.placeholder)&&this.contentModule.getEditPanel().innerText.length===0){var o=this.parent.element.querySelector(".rte-placeholder.e-rte-placeholder");o.style.display="block"}this.parent.trigger(ei,{requestType:"Preview",targetItem:"Preview",args:e}),this.parent.formatter.enableUndo(this.parent),this.parent.addAudioVideoWrapper(),clearTimeout(this.codeViewTimeInterval),this.parent.invokeChangeEvent(),this.parent.notify(ws,{})},r.prototype.getTextAreaValue=function(){return this.contentModule.getEditPanel().innerHTML==="<p><br></p>"||this.contentModule.getEditPanel().innerHTML==="<div><br></div>"||this.contentModule.getEditPanel().innerHTML==="<br>"||this.contentModule.getEditPanel().childNodes.length===1&&this.contentModule.getEditPanel().childNodes[0].tagName==="P"&&this.contentModule.getEditPanel().innerHTML.length===7||this.contentModule.getEditPanel().childNodes[0].tagName==="DIV"&&this.contentModule.getEditPanel().innerHTML.length===11?"":this.parent.value},r.prototype.getPanel=function(){return this.parent.element&&this.parent.element.querySelector(".e-rte-srctextarea")},r.prototype.getViewPanel=function(){return this.parent.iframeSettings.enable&&this.getPanel()?this.getPanel().parentElement:this.getPanel()},r.prototype.destroy=function(){u(this.parent)||this.removeEventListener()},r.prototype.moduleDestroy=function(){this.parent=null},r}();var Yx=function(){function r(e,t){this.ensureInsideTableList=!0,this.pageX=null,this.pageY=null,this.moveEle=null,this.currentColumnResize="",this.resizeEndTime=0,this.parent=e,this.rteID=e.element.id,this.l10n=t.getService("rteLocale"),this.rendererFactory=t.getService("rendererFactory"),this.dialogRenderObj=t.getService("dialogRenderObject"),this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(Th,this.renderDlgContent,this),this.parent.on(bt,this.afterRender,this),this.parent.on(Vn,this.afterRender,this),this.parent.on(Ph,this.showDialog,this),this.parent.on(jh,this.closeDialog,this),this.parent.on(Bs,this.docClick,this),this.parent.on(Ut,this.onIframeMouseDown,this),this.parent.on(xi,this.editAreaClickHandler,this),this.parent.on(Fi,this.clearDialogObj,this),this.parent.on(Nh,this.onToolbarAction,this),this.parent.on(Hi,this.dropdownSelect,this),this.parent.on(ot,this.keyDown,this),this.parent.on(At,this.keyUp,this),this.parent.on(Ds,this.selectionTable,this),this.parent.on(mh,this.tableModulekeyUp,this),this.parent.on(dt,this.setCssClass,this),this.parent.on(ue,this.destroy,this),this.parent.on(Qe,this.moduleDestroy,this),this.parent.on(zh,this.afterKeyDown,this))},r.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(Th,this.renderDlgContent),this.parent.off(bt,this.afterRender),this.parent.off(Vn,this.afterRender),this.parent.off(Bs,this.docClick),this.parent.off(Ut,this.onIframeMouseDown),this.parent.off(Ph,this.showDialog),this.parent.off(jh,this.closeDialog),this.parent.off(xi,this.editAreaClickHandler),this.parent.off(Fi,this.clearDialogObj),this.parent.off(Nh,this.onToolbarAction),this.parent.off(Hi,this.dropdownSelect),this.parent.off(li,this.cellSelect),this.parent.off(Vo,this.setBGColor),this.parent.off(ot,this.keyDown),this.parent.off(At,this.keyUp),this.parent.off(Ds,this.selectionTable),this.parent.off(mh,this.tableModulekeyUp),this.parent.off(dt,this.setCssClass),this.parent.off(ue,this.destroy),this.parent.off(Qe,this.moduleDestroy),this.parent.off(zh,this.afterKeyDown),!N.isDevice&&this.parent.tableSettings.resize&&y.remove(this.contentModule.getEditPanel(),"mouseover",this.resizeHelper))},r.prototype.updateCss=function(e,t){e&&t.cssClass&&(u(t.oldCssClass)?e.setProperties({cssClass:(e.cssClass+" "+t.cssClass).trim()}):e.setProperties({cssClass:(e.cssClass.replace(t.oldCssClass,"").trim()+" "+t.cssClass).trim()}))},r.prototype.setCssClass=function(e){this.popupObj&&e.cssClass&&(u(e.oldCssClass)?E([this.popupObj.element],e.cssClass):(L([this.popupObj.element],e.oldCssClass),E([this.popupObj.element],e.cssClass))),this.updateCss(this.createTableButton,e),this.updateCss(this.editdlgObj,e);for(var t=[this.columnTextBox,this.rowTextBox,this.tableWidthNum,this.tableCellPadding,this.tableCellSpacing],i=0;i<t.length;i++)this.updateCss(t[i],e)},r.prototype.selectionTable=function(e){var t=e.args.target;N.info.name==="mozilla"&&!u(S(t,"table"))&&S(t,"table").tagName==="TABLE"&&this.parent.contentModule.getEditPanel().setAttribute("contenteditable","true")},r.prototype.afterRender=function(){u(this.contentModule)&&(this.contentModule=this.rendererFactory.getRenderer(ve.Content),this.parent.on(Vo,this.setBGColor,this),this.parent.on(li,this.cellSelect,this),this.parent.tableSettings.resize&&y.add(this.parent.contentModule.getEditPanel(),N.touchStartEvent,this.resizeStart,this),!N.isDevice&&this.parent.tableSettings.resize&&y.add(this.contentModule.getEditPanel(),"mouseover",this.resizeHelper,this))},r.prototype.dropdownSelect=function(e){var t=e.item;if(!(!document.body.contains(document.body.querySelector(".e-rte-quick-toolbar"))||t.command!=="Table")){var i=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),n={args:e,selection:this.parent.formatter.editorManager.nodeSelection.save(i,this.contentModule.getDocument()),selectParent:this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(i)};switch(t.subCommand){case"InsertRowBefore":case"InsertRowAfter":this.addRow(n.selection,e);break;case"InsertColumnLeft":case"InsertColumnRight":this.addColumn(n.selection,e);break;case"DeleteColumn":case"DeleteRow":this.removeRowColumn(n.selection,e);break;case"AlignTop":case"AlignMiddle":case"AlignBottom":this.verticalAlign(n,e);break;case"Dashed":case"Alternate":case"Custom":this.tableStyles(n,t.subCommand);break;case"Merge":case"VerticalSplit":case"HorizontalSplit":this.UpdateCells(n.selection,e);break}}},r.prototype.UpdateCells=function(e,t){this.parent.formatter.process(this.parent,t,t,{selection:e,subCommand:t.item.subCommand}),this.hideTableQuickToolbar()},r.prototype.keyUp=function(e){var t=e.args.target;if(e.args.key.toLocaleLowerCase()==="escape"&&t&&t.classList&&this.popupObj&&!S(t,"[id='"+this.popupObj.element.id+"']")&&this.popupObj){var i=this.popupObj.relateTo;i.nodeName!=="BUTTON"&&(i=i.querySelector("span.e-create-table"),i=i.parentElement),this.popupObj.hide(),i&&i.focus()}},r.prototype.keyDown=function(e){var t=e.args,i=this;switch(t.action){case"escape":break;case"insert-table":this.openDialog(!0,e),t.preventDefault();break}if(!u(this.parent.formatter.editorManager.nodeSelection)&&this.contentModule&&t.code!=="KeyK"){var n=void 0,s=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),o=this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(s)[0];if(o=o&&o.tagName!=="TD"&&o.tagName!=="TH"?o.parentElement:o,(t.keyCode===8||t.keyCode===46||t.ctrlKey&&t.keyCode===88)&&(o&&o.tagName==="TBODY"?(!u(this.parent.formatter.editorManager.nodeSelection)&&this.contentModule&&(n=this.parent.formatter.editorManager.nodeSelection.save(s,this.contentModule.getDocument())),t.preventDefault(),i.removeTable(n,t,!0)):o&&o.querySelectorAll("table").length>0&&(this.removeResizeElement(),this.hideTableQuickToolbar())),o&&o.tagName!=="TD"&&o.tagName!=="TH"){var a=S(o,"td");o=!u(a)&&this.parent.inputElement.contains(a)?a:o}if(o&&(o.tagName==="TD"||o.tagName==="TH"))switch(!u(this.parent.formatter.editorManager.nodeSelection)&&this.contentModule&&(n=this.parent.formatter.editorManager.nodeSelection.save(s,this.contentModule.getDocument())),t.keyCode){case 9:case 37:case 39:i.tabSelection(t,n,o);break;case 40:case 38:i.tableArrowNavigation(t,n,o);break}}t.ctrlKey&&t.key==="a"&&this.handleSelectAll()},r.prototype.handleSelectAll=function(){this.cancelResizeAction();var e=this.parent.inputElement.querySelectorAll("."+wi);L(e,wi)},r.prototype.tableModulekeyUp=function(e){if(!u(this.parent.formatter.editorManager.nodeSelection)&&this.contentModule){var t=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),i=this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(t)[0];if(i=i&&i.tagName!=="TD"&&i.tagName!=="TH"?i.parentElement:i,i&&i.tagName!=="TD"&&i.tagName!=="TH"){var n=S(i,"td");i=!u(n)&&this.parent.inputElement.contains(n)?n:i}this.previousTableElement!==i&&!u(this.previousTableElement)&&this.previousTableElement.classList.remove(wi)}},r.prototype.openDialog=function(e,t){if(e||this.parent.contentModule.getEditPanel().focus(),this.parent.editorMode==="HTML"){var i=this.parent.contentModule.getDocument(),n=this.parent.formatter.editorManager.nodeSelection.getRange(i),s=this.parent.formatter.editorManager.nodeSelection.save(n,i),o={originalEvent:t?t.args:{action:"insert-table"},item:{command:"Table",subCommand:"CreateTable"},name:e?null:"showDialog"};this.insertTableDialog({self:this,args:o,selection:s})}},r.prototype.showDialog=function(){this.openDialog(!1),this.setCssClass({cssClass:this.parent.getCssClass()})},r.prototype.closeDialog=function(){this.editdlgObj&&this.editdlgObj.hide({returnValue:!0})},r.prototype.onToolbarAction=function(e){var t=e.args.item;switch(t.subCommand){case"TableHeader":this.tableHeader(e.selection,e.args);break;case"TableRemove":this.removeTable(e.selection,e.args);break;case"TableEditProperties":this.editTable(e);break}},r.prototype.verticalAlign=function(e,t){var i=S(e.selectParent[0],"td")||S(e.selectParent[0],"th");i&&this.parent.formatter.process(this.parent,t,t,{tableCell:i,subCommand:t.item.subCommand})},r.prototype.tableStyles=function(e,t){var i=S(e.selectParent[0],"table");if(t==="Dashed"&&(this.parent.element.classList.contains(Ko)?this.parent.element.classList.remove(Ko):this.parent.element.classList.add(Ko),i.classList.contains(Ko)?i.classList.remove(Ko):i.classList.add(Ko)),t==="Alternate"&&(this.parent.element.classList.contains(Jo)?this.parent.element.classList.remove(Jo):this.parent.element.classList.add(Jo),i.classList.contains(Jo)?i.classList.remove(Jo):i.classList.add(Jo)),e.args&&e.args.item.cssClass)for(var n=e.args.item.cssClass.split(" "),s=0;s<n.length;s++)i.classList.contains(n[s])?i.classList.remove(n[s]):i.classList.add(n[s]);this.parent.formatter.saveData(),this.parent.formatter.editorManager.nodeSelection.restore()},r.prototype.insideList=function(e){for(var t=this.parent.formatter.editorManager.domNode.blockNodes(),i=[],n=0;n<t.length;n++)t[n].parentNode.tagName==="LI"?i.push(t[n].parentNode):t[n].tagName==="LI"&&t[n].childNodes[0].tagName!=="P"&&t[n].childNodes[0].tagName!=="OL"&&t[n].childNodes[0].tagName!=="UL"&&i.push(t[n]);return i.length>1||i.length&&e.startOffset===0&&e.endOffset===0?(this.ensureInsideTableList=!0,!0):(this.ensureInsideTableList=!1,!1)},r.prototype.removeEmptyTextNodes=function(e){for(var t=e.childNodes,i=t.length-1;i>=0;i--){var n=t[i];n.nodeType===Node.TEXT_NODE&&n.nodeValue.trim()===""&&e.removeChild(n)}},r.prototype.tabSelection=function(e,t,i){for(var n=i.closest("table").querySelectorAll("thead, tbody, tr"),s=0;s<n.length;s++)this.removeEmptyTextNodes(n[s]);this.previousTableElement=i;var o=this.insideList(t.range);if(!((e.keyCode===37||e.keyCode===39)&&t.range.startContainer.nodeType===3||o))if(e.preventDefault(),i.classList.remove(wi),!e.shiftKey&&e.keyCode!==37){var a=u(i.nextSibling)?u(S(i,"tr").nextSibling)?u(S(i,"table").nextSibling)?i:S(i,"table").nextSibling.nodeName.toLowerCase()==="td"?S(i,"table").nextSibling:i:S(i,"tr").nextSibling.childNodes[0]:i.nextSibling;i===a&&i.nodeName==="TH"&&(a=S(i,"table").rows[1].cells[0]),e.keyCode===39&&i===a&&(a=S(i,"table").nextSibling),a&&(a.textContent.trim()!==""&&S(a,"td")?t.setSelectionNode(this.contentModule.getDocument(),a):t.setSelectionText(this.contentModule.getDocument(),a,a,0,0)),i===a&&e.keyCode!==39&&a&&(i.classList.add(wi),this.addRow(t,e,!0),i.classList.remove(wi),a=a.parentElement.nextSibling?a.parentElement.nextSibling.firstChild:a.parentElement.firstChild,a.textContent.trim()!==""&&S(a,"td")?t.setSelectionNode(this.contentModule.getDocument(),a):t.setSelectionText(this.contentModule.getDocument(),a,a,0,0))}else{var l=u(i.previousSibling)?u(S(i,"tr").previousSibling)?u(S(i,"table").previousSibling)?i:S(i,"table").previousSibling.nodeName.toLowerCase()==="td"?S(i,"table").previousSibling:i:S(i,"tr").previousSibling.childNodes[S(i,"tr").previousSibling.childNodes.length-1]:i.previousSibling;if(i===l&&i.cellIndex===0&&S(i,"table").tHead){var h=S(i,"table");l=h.rows[0].cells[h.rows[0].cells.length-1]}e.keyCode===37&&i===l&&(l=S(i,"table").previousSibling),l&&(l.textContent.trim()!==""&&S(l,"td")?t.setSelectionNode(this.contentModule.getDocument(),l):t.setSelectionText(this.contentModule.getDocument(),l,l,0,0))}},r.prototype.tableArrowNavigation=function(e,t,i){var n=t.range.startContainer;e.keyCode===40&&n.nodeType===3&&(n.nextSibling&&n.nextSibling.nodeName==="BR"||n.parentNode&&n.parentNode.nodeName!=="TD")||e.keyCode===38&&n.nodeType===3&&(n.previousSibling&&n.previousSibling.nodeName==="BR"||n.parentNode&&n.parentNode.nodeName!=="TD")||(e.preventDefault(),i.classList.remove(wi),e.keyCode===40?i=u(S(i,"tr").nextElementSibling)?S(i,"table").tHead&&i.nodeName==="TH"?S(i,"table").rows[1].cells[i.cellIndex]:u(S(i,"table").nextSibling)?i:S(i,"table").nextSibling:S(i,"tr").nextElementSibling.children[i.cellIndex]:i=u(S(i,"tr").previousElementSibling)?S(i,"table").tHead&&i.nodeName!=="TH"?S(i,"table").tHead.rows[0].cells[i.cellIndex]:u(S(i,"table").previousSibling)?i:S(i,"table").previousSibling:S(i,"tr").previousElementSibling.children[i.cellIndex],i&&t.setSelectionText(this.contentModule.getDocument(),i,i,0,0))},r.prototype.setBGColor=function(e){for(var t=this.parent.formatter.editorManager.nodeSelection.getRange(this.contentModule.getDocument()),i=this.parent.formatter.editorManager.nodeSelection.save(t,this.contentModule.getDocument()),n=this.curTable.querySelectorAll(".e-cell-select"),s=0;s<n.length;s++)n[s].style.backgroundColor=e.item.value;this.parent.formatter.saveData()},r.prototype.hideTableQuickToolbar=function(){this.quickToolObj&&this.quickToolObj.tableQTBar&&document.body.contains(this.quickToolObj.tableQTBar.element)&&this.quickToolObj.tableQTBar.hidePopup()},r.prototype.tableHeader=function(e,t){this.parent.formatter.process(this.parent,t,t.originalEvent,{selection:e,subCommand:t.item.subCommand})},r.prototype.getAnchorNode=function(e){var t=S(e,"a");return t||e},r.prototype.editAreaClickHandler=function(e){if(!(this.parent.readonly||!u(S(e.args.target,".e-img-caption")))){var t=e.args,i=this.parent.quickToolbarSettings.showOnRightClick;if(!(t.which===2||i&&t.which===1||!i&&t.which===3)&&this.parent.editorMode==="HTML"&&this.parent.quickToolbarModule&&this.parent.quickToolbarModule.tableQTBar){this.quickToolObj=this.parent.quickToolbarModule;var n=t.target;this.contentModule=this.rendererFactory.getRenderer(ve.Content);var s=this.quickToolObj.tableQTBar.element.classList.contains("e-rte-pop");if(s)return;var o=this.parent.formatter.editorManager.nodeSelection.getRange(this.contentModule.getDocument()),a=S(n,"table"),l=this.parent.getRange().startContainer.parentElement,h=this.parent.getRange().endContainer.parentElement,c=this.getAnchorNode(n),p=new Date().getTime();if(n&&n.nodeName!=="A"&&c.nodeName!=="A"&&n.nodeName!=="IMG"&&n.nodeName!=="VIDEO"&&!n.classList.contains(es)&&n.nodeName!=="AUDIO"&&l===h&&(n.nodeName==="TD"||n.nodeName==="TH"||n.nodeName==="TABLE"||a&&this.parent.contentModule.getEditPanel().contains(a))&&!(o.startContainer.nodeType===3&&!o.collapsed)&&p-this.resizeEndTime>100){var d=this.parent.formatter.editorManager.nodeSelection.getRange(this.contentModule.getDocument());this.parent.formatter.editorManager.nodeSelection.save(d,this.contentModule.getDocument()),this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument());var f=void 0,m=void 0;N.isDevice&&e.args.touches?(f=this.parent.iframeSettings.enable?window.pageXOffset+this.parent.element.getBoundingClientRect().left+e.args.changedTouches[0].clientX:e.args.changedTouches[0].pageX,m=this.parent.iframeSettings.enable?window.pageYOffset+this.parent.element.getBoundingClientRect().top+(this.parent.inlineMode.enable?0:this.parent.toolbarModule.getToolbarHeight())+e.args.changedTouches[0].clientY:e.args.changedTouches[0].pageY):(f=this.parent.iframeSettings.enable?window.pageXOffset+this.parent.element.getBoundingClientRect().left+t.clientX:t.pageX,m=this.parent.iframeSettings.enable?window.pageYOffset+this.parent.element.getBoundingClientRect().top+this.parent.toolbarModule.getToolbarHeight()+t.clientY:t.pageY),this.quickToolObj.tableQTBar.showPopup(f,m,n),this.parent.formatter.editorManager.nodeSelection.restore()}else this.hideTableQuickToolbar()}}},r.prototype.tableCellSelect=function(e){var t=e.target,i=Array.prototype.slice.call(t.parentElement.parentElement.children).indexOf(t.parentElement),n=Array.prototype.slice.call(t.parentElement.children).indexOf(t),s=this.dlgDiv.querySelectorAll(".e-rte-tablecell");Array.prototype.forEach.call(s,function(o){var a=Array.prototype.slice.call(o.parentElement.parentElement.children).indexOf(o.parentElement),l=Array.prototype.slice.call(o.parentElement.children).indexOf(o);L([o],"e-active"),a<=i&&l<=n&&E([o],"e-active")}),this.tblHeader.innerHTML=n+1+"x"+(i+1)},r.prototype.tableMouseUp=function(e){y.remove(this.curTable,"mousemove",this.tableMove)},r.prototype.tableCellLeave=function(e){L(this.dlgDiv.querySelectorAll(".e-rte-tablecell"),"e-active"),E([this.dlgDiv.querySelector(".e-rte-tablecell")],"e-active"),this.tblHeader.innerHTML="1x1"},r.prototype.tableCellClick=function(e){var t=e.target,i=Array.prototype.slice.call(t.parentElement.parentElement.children).indexOf(t.parentElement)+1,n=Array.prototype.slice.call(t.parentElement.children).indexOf(t)+1;this.self.tableInsert(i,n,e,this)},r.prototype.tableInsert=function(e,t,i,n){var s=n.self?n.self:this,o=n.selection.range.startContainer;o.nodeName==="P"&&o.textContent.trim()===""&&!(o.childNodes.length>0)&&(o.innerHTML="<br />");var a=o.parentNode;if(s.parent.editorMode==="HTML"&&(s.parent.iframeSettings.enable&&!tt(a.ownerDocument.querySelector("body"),"e-lib")||!s.parent.iframeSettings.enable&&u(S(a,"[id='"+s.contentModule.getPanel().id+"']")))){s.contentModule.getEditPanel().focus();var l=s.parent.formatter.editorManager.nodeSelection.getRange(s.contentModule.getDocument());n.selection=s.parent.formatter.editorManager.nodeSelection.save(l,s.contentModule.getDocument())}var h={rows:e,columns:t,width:{minWidth:s.parent.tableSettings.minWidth,maxWidth:s.parent.tableSettings.maxWidth,width:s.parent.tableSettings.width},selection:n.selection};s.popupObj&&s.popupObj.hide(),s.editdlgObj&&s.editdlgObj.hide(),s.parent.formatter.process(s.parent,n.args,n.args.originalEvent,h),s.contentModule.getEditPanel().focus(),s.parent.on(li,s.cellSelect,s)},r.prototype.cellSelect=function(e){var t=e.args.target,i=S(t,"td,th");t=t.nodeName!=="TD"&&i&&this.parent.contentModule.getEditPanel().contains(i)?i:t,this.parent.quickToolbarSettings.showOnRightClick&&e.args.which===3&&t.classList.contains(wi)||L(this.contentModule.getEditPanel().querySelectorAll("table td, table th"),wi),t&&(t.tagName==="TD"||t.tagName==="TH")&&(E([t],wi),this.activeCell=t,this.curTable=this.curTable?this.curTable:S(t,"table"),y.add(this.curTable,"mousemove",this.tableMove,this),y.add(this.curTable,"mouseup",this.tableMouseUp,this),this.removeResizeElement(),this.helper&&this.contentModule.getEditPanel().contains(this.helper)&&w(this.helper)),N.info.name==="mozilla"&&!u(S(t,"table"))&&S(t,"table").tagName==="TABLE"&&this.parent.contentModule.getEditPanel().setAttribute("contenteditable","false")},r.prototype.tableMove=function(e){this.parent.formatter.editorManager.observer.notify("TABLE_MOVE",{event:e,selectNode:[this.activeCell]})},r.prototype.resizeHelper=function(e){if(!this.parent.readonly){var t=e.target||e.targetTouches[0].target,i=S(t,"table.e-rte-table, table.e-rte-paste-table");!u(this.curTable)&&!u(i)&&i!==this.curTable&&this.parent.contentModule.getEditPanel().contains(i)&&(this.removeResizeElement(),this.removeHelper(e),this.cancelResizeAction()),(t.nodeName==="TABLE"||t.nodeName==="TD"||t.nodeName==="TH")&&(this.curTable=i&&this.parent.contentModule.getEditPanel().contains(i)&&(t.nodeName==="TD"||t.nodeName==="TH")?i:t,this.removeResizeElement(),this.tableResizeEleCreation(this.curTable,e))}},r.prototype.tableResizeEleCreation=function(e,t){this.parent.preventDefaultResize(t);for(var i=this.calMaxCol(this.curTable),n=[],s=0;s<e.rows.length;s++)for(var o=0;o<e.rows[s].cells.length;o++)if(!e.rows[s].cells[o].hasAttribute("rowspan")){n.push(Array.prototype.slice.call(e.rows[s].cells,0,e.rows[s].cells.length)[o]);break}for(var a=parseInt(getComputedStyle(e).height,10),l=parseInt(getComputedStyle(e).width,10),h=this.calcPos(e),s=0;i.length>=s;s++){var c=this.parent.createElement("span",{attrs:{"data-col":s.toString(),unselectable:"on",contenteditable:"false"}});c.classList.add(jg,_h),i.length===s?c.style.cssText="height: "+a+"px; width: 4px; top: "+h.top+"px; left:"+(h.left+this.calcPos(i[s-1]).left+i[s-1].offsetWidth-2)+"px;":c.style.cssText="height: "+a+"px; width: 4px; top: "+h.top+"px; left:"+(h.left+this.calcPos(i[s]).left-2)+"px;",this.contentModule.getEditPanel().appendChild(c)}for(var s=0;n.length>s;s++){var p=this.parent.createElement("span",{attrs:{"data-row":s.toString(),unselectable:"on",contenteditable:"false"}});p.classList.add(jg,Fh);var d=!u(e.getAttribute("cellspacing"))||e.getAttribute("cellspacing")!==""?0:this.calcPos(n[s]).left;p.style.cssText="width: "+l+"px; height: 4px; top: "+(this.calcPos(n[s]).top+h.top+n[s].offsetHeight-2)+"px; left:"+(d+h.left)+"px;",this.contentModule.getEditPanel().appendChild(p)}var f=this.parent.createElement("span",{className:Vh+this.parent.getCssClass(!0),attrs:{"data-col":i.length.toString(),unselectable:"on",contenteditable:"false"}});f.style.cssText="top: "+(h.top+a-4)+"px; left:"+(h.left+l-4)+"px;",N.isDevice&&f.classList.add("e-rmob"),this.contentModule.getEditPanel().appendChild(f)},r.prototype.removeResizeElement=function(){var e=this.parent.contentModule.getEditPanel().querySelectorAll(".e-column-resize, .e-row-resize, .e-table-box");if(e.length>0)for(var t=0;t<e.length;t++)w(e[t])},r.prototype.calcPos=function(e){for(var t={top:0,left:0},i=e.getBoundingClientRect(),n=e.ownerDocument,s=e.offsetParent||n.documentElement,o=!1;s&&(s===n.body||s===n.documentElement)&&s.style.position==="static";)s=s.parentNode;if(s.nodeName==="TD"&&e.nodeName==="TABLE"&&(s=S(s,".e-rte-content"),o=!0),s&&s!==e&&s.nodeType===1&&(t=s.getBoundingClientRect()),o){o=!1;var a=this.parent.inputElement&&this.parent.inputElement.scrollTop>0?this.parent.inputElement.scrollTop+i.top-t.top:i.top-t.top,l=this.parent.inputElement&&this.parent.inputElement.scrollLeft>0?this.parent.inputElement.scrollLeft+i.left-t.left:i.left-t.left;return{top:a,left:l}}else return{top:e.offsetTop,left:e.offsetLeft}},r.prototype.getPointX=function(e){return e.touches&&e.touches.length?e.touches[0].pageX:e.pageX},r.prototype.getPointY=function(e){return e.touches&&e.touches.length?e.touches[0].pageY:e.pageY},r.prototype.resizeStart=function(e){var t=this;if(!this.parent.readonly){N.isDevice&&this.resizeHelper(e);var i=e.target;if(i.classList.contains(_h)||i.classList.contains(Fh)||i.classList.contains(Vh)){if(this.resetResizeHelper(this.curTable),e.preventDefault(),this.parent.preventDefaultResize(e),L(this.curTable.querySelectorAll("td,th"),wi),this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument()),this.pageX=this.getPointX(e),this.pageY=this.getPointY(e),this.resizeBtnInit(),this.hideTableQuickToolbar(),i.classList.contains(_h)){if(this.resizeBtnStat.column=!0,parseInt(i.getAttribute("data-col"),10)===this.calMaxCol(this.curTable).length)this.currentColumnResize="last",this.colIndex=parseInt(i.getAttribute("data-col"),10)-1,this.columnEle=this.calMaxCol(this.curTable)[this.colIndex];else{if(parseInt(i.getAttribute("data-col"),10)===0)this.currentColumnResize="first";else{this.currentColumnResize="middle";for(var n=this.curTable.rows[0].cells,s=0,o=0;o<n.length;o++)s=s+n[o].colSpan;for(var a=new Array(s),l=B("colgroup"),h=new Map,c=0;c<this.curTable.rows.length;c++)for(var p=0,d=0;d<this.curTable.rows[c].cells.length;d++){for(var f=1;f<this.curTable.rows[c].cells[d].rowSpan;f++){var m=""+(c+f)+p;h.set(m,this.curTable.rows[c].cells[d])}var g=this.getCellIndex(h,c,d);g>p&&(p=g);var v=this.curTable.rows[c].cells[d].offsetWidth;(!a[p]||v<a[p])&&(a[p]=v),p+=1+this.curTable.rows[c].cells[d].colSpan-1}for(var O=0;O<a.length;O++){var o=B("col");o.appendChild(B("br")),o.style.width=this.convertPixelToPercentage(a[O],parseInt(getComputedStyle(this.curTable).width,10))+"%",l.appendChild(o)}this.curTable.insertBefore(l,this.curTable.firstChild);for(var c=0;c<this.curTable.rows.length;c++)for(var d=0;d<this.curTable.rows[c].cells.length;d++)this.curTable.rows[c].cells[d].style.width=""}this.colIndex=parseInt(i.getAttribute("data-col"),10),this.columnEle=this.calMaxCol(this.curTable)[this.colIndex]}this.moveEle=e.target,this.appendHelper()}if(i.classList.contains(Fh)&&(this.rowEle=this.curTable.rows[parseInt(i.getAttribute("data-row"),10)],this.resizeBtnStat.row=!0,this.appendHelper()),i.classList.contains(Vh)&&(this.resizeBtnStat.tableBox=!0),N.isDevice&&this.helper&&!this.helper.classList.contains("e-reicon"))this.helper.classList.add("e-reicon"),y.add(document,N.touchStartEvent,this.removeHelper,this),y.add(this.helper,N.touchStartEvent,this.resizeStart,this);else{var C={event:e,requestType:"Table"};this.parent.trigger(Va,C,function(x){x.cancel&&t.cancelResizeAction()})}y.add(this.contentModule.getDocument(),N.touchMoveEvent,this.resizing,this),y.add(this.contentModule.getDocument(),N.touchEndEvent,this.resizeEnd,this)}}},r.prototype.getCellIndex=function(e,t,i){var n=""+t+i,s=e.get(n);return s?this.getCellIndex(e,t,i+s.colSpan):i},r.prototype.removeHelper=function(e){var t=e.target.classList;!t.contains("e-reicon")&&this.helper&&(y.remove(document,N.touchStartEvent,this.removeHelper),y.remove(this.helper,N.touchStartEvent,this.resizeStart),this.helper&&this.contentModule.getEditPanel().contains(this.helper)&&w(this.helper),this.pageX=null,this.helper=null)},r.prototype.appendHelper=function(){this.helper=this.parent.createElement("div",{className:"e-table-rhelper"+this.parent.getCssClass(!0)}),N.isDevice&&this.helper.classList.add("e-reicon"),this.contentModule.getEditPanel().appendChild(this.helper),this.setHelperHeight()},r.prototype.setHelperHeight=function(){var e=this.calcPos(this.curTable);this.resizeBtnStat.column?(this.helper.classList.add("e-column-helper"),this.helper.style.cssText="height: "+getComputedStyle(this.curTable).height+"; top: "+e.top+"px; left:"+(e.left+this.calcPos(this.columnEle).left+(this.currentColumnResize==="last"?this.columnEle.offsetWidth:0)-1)+"px;"):(this.helper.classList.add("e-row-helper"),this.helper.style.cssText="width: "+getComputedStyle(this.curTable).width+"; top: "+(this.calcPos(this.rowEle).top+e.top+this.rowEle.offsetHeight-1)+"px; left:"+(this.calcPos(this.rowEle).left+e.left)+"px;")},r.prototype.updateHelper=function(){var e=this.calcPos(this.curTable);if(this.resizeBtnStat.column){var t=e.left+this.calcPos(this.columnEle).left+(this.currentColumnResize==="last"?this.columnEle.offsetWidth:0)-1;this.helper.style.left=t+"px",this.helper.style.height=this.curTable.offsetHeight+"px"}else{var i=this.calcPos(this.rowEle).top+e.top+this.rowEle.offsetHeight-1;this.helper.style.top=i+"px"}},r.prototype.calMaxCol=function(e){for(var t=e.rows[0].cells,i=0,n=0;n<t.length;n++)i=i+t[n].colSpan;for(var s=new Array(i),o=new Map,a=0;a<e.rows.length;a++)for(var l=0,h=0;h<e.rows[a].cells.length;h++){for(var c=1;c<e.rows[a].cells[h].rowSpan;c++){var p=""+(a+c)+l;o.set(p,e.rows[a].cells[h])}var d=this.getCellIndex(o,a,h);d>l&&(l=d);var f=e.rows[a].cells[h].offsetWidth;(!s[l]||f<s[l].offsetWidth)&&(s[l]=e.rows[a].cells[h]),l+=1+e.rows[a].cells[h].colSpan-1}return s},r.prototype.resizing=function(e){var t=this,i=this.getPointX(e),n=this.getPointY(e),s=this.parent.enableRtl?-(i-this.pageX):i-this.pageX,o=this.parent.enableRtl?-(n-this.pageY):n-this.pageY;this.pageX=i,this.pageY=n;var a,l=this.curTable.closest("td"),h={event:e,requestType:"table"};this.parent.trigger($a,h,function(c){if(c.cancel)t.cancelResizeAction();else{var p=t.contentModule.getEditPanel().querySelector(".e-table-box"),d=parseInt(getComputedStyle(t.curTable).width,10),f=parseInt(getComputedStyle(t.curTable).height,10),m=+getComputedStyle(t.contentModule.getEditPanel()).paddingRight.match(/\d/g).join(""),g=t.contentModule.getEditPanel().offsetWidth-(t.contentModule.getEditPanel().offsetWidth-t.contentModule.getEditPanel().clientWidth)-m*2,v=void 0;if(!u(t.curTable.parentElement.closest("table"))&&!u(t.curTable.closest("td"))&&t.contentModule.getEditPanel().contains(t.curTable.closest("td"))){var O=t.curTable.closest("td"),C=+getComputedStyle(O).paddingRight.match(/\d/g).join("");v=O.offsetWidth-(O.offsetWidth-O.clientWidth)-C*2}else v=g;if(t.resizeBtnStat.column){t.curTable.closest("li")&&(v=t.curTable.closest("li").offsetWidth);var x=t.curTable.querySelectorAll("colgroup > col"),M=void 0;t.curTable.style.width!==""&&t.curTable.style.width.includes("%")?M=parseFloat(t.curTable.style.width.split("%")[0]):M=t.getCurrentTableWidth(t.curTable.offsetWidth,t.parent.inputElement.offsetWidth);var k=t.calMaxCol(t.curTable)[t.colIndex],A=t.getCurrentColWidth(k,d);if(t.currentColumnResize==="first"){if(s=s-.75,t.removeResizeElement(),l&&(a=t.curTable.getBoundingClientRect().right-t.calcPos(l).left,t.curTable.style.maxWidth=a+"px"),(s!==0&&5<A||s<0)&&M<=100&&t.convertPixelToPercentage(d-s,v)<=100){var j=t.findFirstLastColCells(t.curTable,!0);t.curTable.style.width=t.convertPixelToPercentage(d-s,v)>100?"100%":t.convertPixelToPercentage(d-s,v)+"%";var U=M-t.convertPixelToPercentage(d-s,v),q=0,K=t.curTable.style.width.indexOf("%")>-1;if(!K&&t.curTable.offsetWidth>t.contentModule.getEditPanel().offsetWidth){t.curTable.style.width=g+"px";return}if(K&&parseFloat(t.curTable.style.width.split("%")[0])>100){t.curTable.style.width="100%";return}if(!u(t.curTable.style.marginLeft)&&t.curTable.style.marginLeft!==""){var oe=/[-+]?\d*\.\d+|\d+/,ie=t.curTable.style.marginLeft.match(oe);u(ie)||(q=parseFloat(ie[0]))}var se=q+U;if(se&&se>100){var H=parseFloat(t.curTable.style.width);se=100-H}if(se&&se<1){t.curTable.style.marginLeft=null,t.curTable.style.width="100%";return}t.curTable.style.marginLeft="calc("+(t.curTable.style.width==="100%"?0:se)+"%)";for(var z=0;z<j.length;z++){var Y=t.getCurrentColWidth(j[z],d);j[z].style.width=Y-U+"%"}}}else if(t.currentColumnResize==="last"){if(s=s+.75,t.removeResizeElement(),l&&(a=l.getBoundingClientRect().right-t.curTable.getBoundingClientRect().left,t.curTable.style.maxWidth=a+"px"),(s!==0&&5<A||s>0)&&M<=100&&t.convertPixelToPercentage(d+s,v)<=100){var P=t.findFirstLastColCells(t.curTable,!1);t.curTable.style.width=t.convertPixelToPercentage(d+s,v)>100?"100%":t.convertPixelToPercentage(d+s,v)+"%";for(var U=M-t.convertPixelToPercentage(d+s,v),z=0;z<P.length;z++){var Y=t.getCurrentColWidth(P[z],d);P[z].style.width=Y-U+"%"}}}else{var V=x[t.colIndex].offsetWidth-s,G=x[t.colIndex].offsetWidth+x[t.colIndex-1].offsetWidth;if(G-V>20&&V>20){var te=G-V,xe=V;x[t.colIndex-1].style.width=t.convertPixelToPercentage(te,d)+"%",x[t.colIndex].style.width=t.convertPixelToPercentage(xe,d)+"%"}}t.updateHelper()}else if(t.resizeBtnStat.row){t.parent.preventDefaultResize(e);for(var Me=[],Le=t.curTable.querySelectorAll("tr"),z=0;z<Le.length;z++)t.rowEle!==Le[z]&&(Me[z]=parseFloat(Le[z].clientHeight.toString()));t.curTable.style.height=parseFloat(t.curTable.clientHeight.toString())+(o>0?0:o)+"px";for(var z=0;z<Le.length;z++)t.rowEle===Le[z]?Le[z].style.height=parseFloat(Le[z].clientHeight.toString())+o+"px":Le[z].style.height=Me[z]+"px";u(p)||(p.style.cssText="top: "+(t.calcPos(t.curTable).top+f-4)+"px; left:"+(t.calcPos(t.curTable).left+d-4)+"px;"),t.updateHelper()}else if(t.resizeBtnStat.tableBox){if(l){var rt=t.curTable.getBoundingClientRect().left-l.getBoundingClientRect().left;a=Math.abs(rt-l.getBoundingClientRect().width)-5,t.curTable.style.maxWidth=a+"px"}t.curTable.style.height=f+o+"px",u(p)||(p.classList.add("e-rbox-select"),p.style.cssText="top: "+(t.calcPos(t.curTable).top+f-4)+"px; left:"+(t.calcPos(t.curTable).left+d-4)+"px;"),t.curTable.closest("li")&&(v=t.curTable.closest("li").offsetWidth);var K=t.curTable.style.width.indexOf("%")>-1;if(K&&parseFloat(t.curTable.style.width.split("%")[0])>100){t.curTable.style.width="100%";return}if(!K&&t.curTable.offsetWidth>t.contentModule.getEditPanel().offsetWidth){t.curTable.style.width=g+"px";return}t.curTable.style.width=K?t.convertPixelToPercentage(d+s,v)+"%":d+s+"px"}}})},r.prototype.getCurrentColWidth=function(e,t){var i=0;return e.style.width!==""&&e.style.width.includes("%")?i=parseFloat(e.style.width.split("%")[0]):i=this.convertPixelToPercentage(e.offsetWidth,t),i},r.prototype.getCurrentTableWidth=function(e,t){var i=0;return i=e/t*100,i},r.prototype.findFirstLastColCells=function(e,t){for(var i=[],n=e.rows,s=new Array,o=function(l){for(var h=t?0:n[l].cells.length-1,c=n[l].cells[h],p=1;p<c.rowSpan;p++){var d=l+p+"-"+h;s.push(d)}var f=l+"-"+h;(s.length===0||t&&s.indexOf(f)===-1||!t&&s.indexOf(f)===-1&&s.every(function(m){return m.split("-")[0]!==l.toString()}))&&i.push(c)},a=0;a<n.length;a++)o(a);return i},r.prototype.convertPixelToPercentage=function(e,t){return e/t*100},r.prototype.cancelResizeAction=function(){y.remove(this.contentModule.getDocument(),N.touchMoveEvent,this.resizing),y.remove(this.contentModule.getDocument(),N.touchEndEvent,this.resizeEnd),this.removeResizeElement()},r.prototype.resizeEnd=function(e){this.resizeBtnInit(),y.remove(this.contentModule.getDocument(),N.touchMoveEvent,this.resizing),y.remove(this.contentModule.getDocument(),N.touchEndEvent,this.resizeEnd),this.contentModule.getEditPanel().querySelector(".e-table-box")&&this.contentModule.getEditPanel().contains(this.contentModule.getEditPanel().querySelector(".e-table-box"))&&this.removeResizeElement(),this.helper&&this.contentModule.getEditPanel().contains(this.helper)&&(w(this.helper),this.helper=null),this.resetResizeHelper(this.curTable),this.pageX=null,this.pageY=null,this.moveEle=null;for(var t=this.curTable.querySelectorAll("tr"),i=[],n=0;n<t.length;n++){var s=parseFloat(t[n].clientHeight.toString())/parseFloat(this.curTable.clientHeight.toString())*100;i[n]=s}for(var n=0;n<t.length;n++)t[n].style.height=i[n]+"%";var o={event:e,requestType:"table"};this.parent.trigger(Ya,o),this.parent.formatter.saveData(),this.resizeEndTime=new Date().getTime()},r.prototype.resetResizeHelper=function(e){var t=this.parent.element.querySelectorAll(".e-table-rhelper.e-column-helper");Array.from(t).forEach(function(l){l.parentNode&&l.parentNode.removeChild(l)});var i=this.parent.element.querySelectorAll(".e-table-rhelper.e-row-helper");Array.from(i).forEach(function(l){l.parentNode&&l.parentNode.removeChild(l)}),e.style.width||(e.style.width=e.offsetWidth+"px");var n=e.querySelector("colgroup");if(n){for(var s=0;s<e.rows.length;s++)for(var o=0;o<e.rows[s].cells.length;o++){var a=this.convertPixelToPercentage(e.rows[s].cells[o].offsetWidth,parseInt(getComputedStyle(e).width,10))+"%";e.rows[s].cells[o].style.width=a}e.removeChild(n)}},r.prototype.resizeBtnInit=function(){return this.resizeBtnStat={column:!1,row:!1,tableBox:!1}},r.prototype.addRow=function(e,t,i){var n;i&&(n={item:{command:"Table",subCommand:"InsertRowAfter"}});var s={selection:e,subCommand:i?n.item.subCommand:t.item.subCommand};this.parent.formatter.process(this.parent,i?n:t,t,s)},r.prototype.addColumn=function(e,t){this.parent.formatter.process(this.parent,t,t,{selection:e,width:this.parent.tableSettings.width,subCommand:t.item.subCommand})},r.prototype.removeRowColumn=function(e,t){this.parent.formatter.process(this.parent,t,t,{selection:e,subCommand:t.item.subCommand}),this.hideTableQuickToolbar()},r.prototype.removeTable=function(e,t,i){var n;i&&(n={item:{command:"Table",subCommand:"TableRemove"}});var s={selection:e,subCommand:i?n.item.subCommand:t.item.subCommand};this.parent.formatter.process(this.parent,i?n:t,t.originalEvent,s),this.contentModule.getEditPanel().focus(),(this.parent.inputElement.innerHTML===null||this.parent.inputElement.innerHTML==="")&&(this.parent.enterKey==="DIV"?this.contentModule.getEditPanel().innerHTML="<div><br/></div>":this.parent.enterKey==="BR"?this.contentModule.getEditPanel().innerHTML="<br/>":this.contentModule.getEditPanel().innerHTML="<p><br/></p>"),this.removeResizeElement(),this.hideTableQuickToolbar()},r.prototype.renderDlgContent=function(e){var t=this,i=e.args.originalEvent.target;if(N.isDevice||this.parent.inlineMode.enable||!u(S(i,".e-rte-text-popup"))){this.insertTableDialog(e);return}if(this.popupObj){this.popupObj.hide();return}this.hideTableQuickToolbar();var n="1X1",s=this.l10n.getConstant("inserttablebtn");this.dlgDiv=this.parent.createElement("div",{className:"e-rte-table-popup"+this.parent.getCssClass(!0),id:this.rteID+"_table"}),this.tblHeader=this.parent.createElement("div",{className:"e-rte-popup-header"+this.parent.getCssClass(!0)}),this.tblHeader.innerHTML=n,this.dlgDiv.appendChild(this.tblHeader);var o=this.parent.createElement("div",{className:"e-rte-table-span"+this.parent.getCssClass(!0)});this.drawTable(o,e),this.dlgDiv.appendChild(o),this.dlgDiv.appendChild(this.parent.createElement("span",{className:"e-span-border"+this.parent.getCssClass(!0)}));var a=this.parent.createElement("button",{className:"e-insert-table-btn"+this.parent.getCssClass(!0),id:this.rteID+"_insertTable",attrs:{type:"button",tabindex:"0"}});u(this.parent.getToolbarElement().querySelector(".e-expended-nav"))||this.parent.getToolbarElement().querySelector(".e-expended-nav").setAttribute("tabindex","1"),this.dlgDiv.appendChild(a),this.createTableButton=new Ei({iconCss:"e-icons e-create-table",content:s,cssClass:"e-flat"+this.parent.getCssClass(!0),enableRtl:this.parent.enableRtl,locale:this.parent.locale}),this.createTableButton.isStringTemplate=!0,this.createTableButton.appendTo(a),y.add(a,"click",this.insertTableDialog,{self:this,args:e.args,selection:e.selection}),this.parent.getToolbar().parentElement.appendChild(this.dlgDiv);var l=e.args.originalEvent.target;l=l.classList.contains("e-toolbar-item")?l.firstChild:l.parentElement,this.popupObj=new _t(this.dlgDiv,{targetType:"relative",relateTo:l,collision:{X:"fit",Y:"none"},offsetY:8,viewPortElement:this.parent.element,position:{X:"left",Y:"bottom"},enableRtl:this.parent.enableRtl,zIndex:10001,close:function(h){t.parent.isBlur=!1,t.popupObj.destroy(),w(t.popupObj.element),t.popupObj=null}}),E([this.popupObj.element],"e-popup-open"),u(this.parent.cssClass)||E([this.popupObj.element],this.parent.getCssClass()),a.focus(),this.popupObj.refreshPosition(l)},r.prototype.onIframeMouseDown=function(){this.popupObj&&this.popupObj.hide()},r.prototype.docClick=function(e){var t=e.args.target;t&&t.classList&&(this.popupObj&&!S(t,"[id='"+this.popupObj.element.id+"']")||this.editdlgObj&&!S(t,"#"+this.editdlgObj.element.id))&&!t.classList.contains("e-create-table")&&t.offsetParent&&!t.offsetParent.classList.contains("e-rte-backgroundcolor-dropdown")&&(this.popupObj&&this.popupObj.hide(),this.editdlgObj&&(this.parent.notify($n,{closedBy:"outside click"}),this.editdlgObj.hide()),this.parent.isBlur=!0,Tn(this.parent.element,"focusout"));var i=S(t,"td"),n=!!(i&&this.parent.contentModule.getEditPanel().contains(i));t&&t.tagName!=="TD"&&t.tagName!=="TH"&&!n&&S(t,".e-rte-quick-popup")===null&&t.offsetParent&&!t.offsetParent.classList.contains("e-quick-dropdown")&&!t.offsetParent.classList.contains("e-rte-backgroundcolor-dropdown")&&!S(t,".e-rte-dropdown-popup")&&!S(t,".e-rte-elements")&&(L(this.parent.inputElement.querySelectorAll("table td"),wi),N.isIE||this.hideTableQuickToolbar()),t&&t.classList&&!t.classList.contains(_h)&&!t.classList.contains(Fh)&&!t.classList.contains(Vh)&&this.removeResizeElement()},r.prototype.drawTable=function(e,t){for(var i,n,s=0;s<3;s++){i=this.parent.createElement("div",{className:"e-rte-table-row"+this.parent.getCssClass(!0),attrs:{"data-column":""+s}});for(var o=0;o<10;o++){var a=s>2?"none":"inline-block";n=this.parent.createElement("div",{className:"e-rte-tablecell e-default"+this.parent.getCssClass(!0),attrs:{"data-cell":""+o}}),i.appendChild(n),n.style.display=a,o===0&&s===0&&E([n],"e-active"),y.add(n,"mousemove",this.tableCellSelect,this),y.add(i,"mouseleave",this.tableCellLeave,this),y.add(n,"mouseup",this.tableCellClick,{self:this,args:t.args,selection:t.selection})}e.appendChild(i)}},r.prototype.editTable=function(e){var t=this;this.createDialog(e);var i=this.tableDlgContent(e),n=this.l10n.getConstant("dialogUpdate"),s=this.l10n.getConstant("dialogCancel"),o=this.l10n.getConstant("tableEditHeader");this.editdlgObj.setProperties({height:"initial",width:"290px",content:i,header:o,buttons:[{click:this.applyProperties.bind(this,e),buttonModel:{content:n,cssClass:"e-flat e-size-update"+this.parent.getCssClass(!0),isPrimary:!0}},{click:function(a){t.cancelDialog(a)},buttonModel:{cssClass:"e-flat e-cancel"+this.parent.getCssClass(!0),content:s}}],cssClass:this.editdlgObj.cssClass+" e-rte-edit-table-prop-dialog"}),this.editdlgObj.element.style.maxHeight="none",this.editdlgObj.content.querySelector("input").focus(),this.hideTableQuickToolbar()},r.prototype.insertTableDialog=function(e){var t=this.self?this.self:this;t.popupObj&&t.popupObj.hide(),t.createDialog(e);var i=t.tableCellDlgContent(),n=t.l10n.getConstant("dialogInsert"),s=t.l10n.getConstant("dialogCancel");u(t.editdlgObj)||(t.editdlgObj.setProperties({height:"initial",width:"290px",content:i,buttons:[{click:t.customTable.bind(this,e),buttonModel:{content:n,cssClass:"e-flat e-insert-table "+t.parent.cssClass,isPrimary:!0}},{click:function(o){t.cancelDialog(o)},buttonModel:{cssClass:"e-flat e-cancel "+t.parent.cssClass,content:s}}]}),u(t.parent.cssClass)||t.editdlgObj.setProperties({cssClass:t.parent.cssClass}),t.editdlgObj.element.style.maxHeight="none",t.editdlgObj.content.querySelector("input").focus())},r.prototype.tableCellDlgContent=function(){var e=this.l10n.getConstant("columns"),t=this.l10n.getConstant("rows"),i=this.parent.createElement("div",{className:"e-cell-wrap"+this.parent.getCssClass(!0)}),n='<div class="e-rte-field'+this.parent.getCssClass(!0)+'"><input type="text"  data-role ="none" id="tableColumn" class="e-table-column'+this.parent.getCssClass(!0)+'"/></div><div class="e-rte-field'+this.parent.getCssClass(!0)+'"><input type="text" data-role ="none" id="tableRow" class="e-table-row'+this.parent.getCssClass(!0)+'" /></div>',s=Nn(n);return i.appendChild(s),this.columnTextBox=new Jn({format:"n0",min:1,value:3,placeholder:e,floatLabelType:"Auto",max:50,enableRtl:this.parent.enableRtl,locale:this.parent.locale,cssClass:this.parent.getCssClass()}),this.columnTextBox.isStringTemplate=!0,this.columnTextBox.appendTo(i.querySelector("#tableColumn")),this.rowTextBox=new Jn({format:"n0",min:1,value:3,placeholder:t,floatLabelType:"Auto",max:1e3,enableRtl:this.parent.enableRtl,locale:this.parent.locale,cssClass:this.parent.getCssClass()}),this.rowTextBox.isStringTemplate=!0,this.rowTextBox.appendTo(i.querySelector("#tableRow")),i},r.prototype.clearDialogObj=function(){this.editdlgObj&&(this.editdlgObj.destroy(),w(this.editdlgObj.element),this.editdlgObj=null)},r.prototype.createDialog=function(e){var t=this;if(this.editdlgObj){this.editdlgObj.hide({returnValue:!0});return}var i=this.parent.createElement("div",{className:"e-rte-edit-table"+this.parent.getCssClass(!0),id:this.rteID+"_tabledialog"});this.parent.element.appendChild(i);var n=this.l10n.getConstant("dialogInsert"),s=this.l10n.getConstant("dialogCancel"),o=this.l10n.getConstant("tabledialogHeader"),a={header:o,cssClass:at+this.parent.getCssClass(!0),enableRtl:this.parent.enableRtl,locale:this.parent.locale,showCloseIcon:!0,closeOnEscape:!0,width:N.isDevice?"290px":"340px",height:"initial",position:{X:"center",Y:N.isDevice?"center":"top"},isModal:N.isDevice,buttons:[{buttonModel:{content:n,cssClass:"e-flat e-insert-table"+this.parent.getCssClass(!0),isPrimary:!0}},{click:function(l){t.cancelDialog(l)},buttonModel:{cssClass:"e-flat e-cancel"+this.parent.getCssClass(!0),content:s}}],target:N.isDevice?document.body:this.parent.element,animationSettings:{effect:"None"},close:function(l){t.parent.isBlur=!1,t.editdlgObj.destroy(),w(t.editdlgObj.element),t.dialogRenderObj.close(l),t.editdlgObj=null}};this.editdlgObj=this.dialogRenderObj.render(a),this.editdlgObj.appendTo(i),this.quickToolObj&&this.quickToolObj.inlineQTBar&&document.body.contains(this.quickToolObj.inlineQTBar.element)&&this.quickToolObj.inlineQTBar.hidePopup(),this.quickToolObj&&this.quickToolObj.textQTBar&&this.parent.element.ownerDocument.body.contains(this.quickToolObj.textQTBar.element)&&this.quickToolObj.textQTBar.hidePopup()},r.prototype.customTable=function(e,t){var i=this.self?this.self:this;if(i.rowTextBox.value&&i.columnTextBox.value){var n=N.isDevice||!u(e.args)&&!u(e.args.originalEvent)&&e.args.originalEvent.action==="insert-table"||i.parent.inlineMode.enable||!u(i.parent.quickToolbarSettings.text)?e:this;i.tableInsert(i.rowTextBox.value,i.columnTextBox.value,t,n)}},r.prototype.cancelDialog=function(e){this.parent.isBlur=!1,this.editdlgObj.hide({returnValue:!0})},r.prototype.applyProperties=function(e,t){var i=this.editdlgObj.element,n=S(e.selectNode[0],"table");if(n.style.width=i.querySelector(".e-table-width").value+"px",i.querySelector(".e-cell-padding").value!=="")for(var s=n.querySelectorAll("td"),o=0;o<s.length;o++){var a="";s[o].style.padding===""?a=s[o].getAttribute("style")+" padding:"+i.querySelector(".e-cell-padding").value+"px;":(s[o].style.padding=i.querySelector(".e-cell-padding").value+"px",a=s[o].getAttribute("style")),s[o].setAttribute("style",a)}n.cellSpacing=i.querySelector(".e-cell-spacing").value,!u(n.cellSpacing)||n.cellSpacing!=="0"?E([n],Pg):L([n],Pg),this.parent.formatter.saveData(),this.editdlgObj.hide({returnValue:!0})},r.prototype.tableDlgContent=function(e){var t=e.selectParent[0],i=this.l10n.getConstant("tableWidth"),n=this.l10n.getConstant("cellpadding"),s=this.l10n.getConstant("cellspacing"),o=this.parent.createElement("div",{className:"e-table-sizewrap"+this.parent.getCssClass(!0)}),a=S(t,"table").getClientRects()[0].width,l=S(t,"td").style.padding,h=S(t,"table").getAttribute("cellspacing"),c='<div class="e-rte-field'+this.parent.getCssClass(!0)+'"><input type="text" data-role ="none" id="tableWidth" class="e-table-width'+this.parent.getCssClass(!0)+'"  /></div><div class="e-rte-field'+this.parent.getCssClass(!0)+'"><input type="text" data-role ="none" id="cellPadding" class="e-cell-padding'+this.parent.getCssClass(!0)+'" /> </div><div class="e-rte-field'+this.parent.getCssClass(!0)+'"><input type="text" data-role ="none" id="cellSpacing" class="e-cell-spacing'+this.parent.getCssClass(!0)+'" /></div>',p=Nn(c);return o.appendChild(p),this.tableWidthNum=new Jn({format:"n0",min:0,value:a,placeholder:i,floatLabelType:"Auto",enableRtl:this.parent.enableRtl,locale:this.parent.locale}),this.tableWidthNum.isStringTemplate=!0,this.tableWidthNum.appendTo(o.querySelector("#tableWidth")),this.tableCellPadding=new Jn({format:"n0",min:0,value:l!==""?parseInt(l,null):0,placeholder:n,floatLabelType:"Auto",enableRtl:this.parent.enableRtl,locale:this.parent.locale}),this.tableCellPadding.isStringTemplate=!0,this.tableCellPadding.appendTo(o.querySelector("#cellPadding")),this.tableCellSpacing=new Jn({format:"n0",min:0,value:h!==""&&!u(h)?parseInt(h,null):0,placeholder:s,floatLabelType:"Auto",enableRtl:this.parent.enableRtl,locale:this.parent.locale}),this.tableCellSpacing.isStringTemplate=!0,this.tableCellSpacing.appendTo(o.querySelector("#cellSpacing")),o},r.prototype.destroy=function(){u(this.parent)||this.removeEventListener()},r.prototype.moduleDestroy=function(){this.parent=null},r.prototype.getModuleName=function(){return"table"},r.prototype.afterKeyDown=function(e){var t=this;this.curTable&&setTimeout(function(){t.updateResizeIconPosition()},1)},r.prototype.updateResizeIconPosition=function(){var e=this.parent.contentModule.getEditPanel().querySelector(".e-table-box");if(!u(e)){var t=this.calcPos(this.curTable);e.style.cssText="top: "+(t.top+parseInt(getComputedStyle(this.curTable).height,10)-4)+"px; left:"+(t.left+parseInt(getComputedStyle(this.curTable).width,10)-4)+"px;"}},r}();var qx=function(){function r(e){this.parent=e,this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(Qe,this.moduleDestroy,this),this.parent.on(ue,this.removeEventListener,this),this.parent.on($n,this.documentClickClosedBy,this))},r.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(ue,this.removeEventListener),this.parent.off(Qe,this.moduleDestroy),this.parent.off($n,this.documentClickClosedBy))},r.prototype.render=function(e){var t;return e.beforeOpen=this.beforeOpen.bind(this),e.open=this.open.bind(this),e.position={X:"center",Y:e.target!=="string"&&e.target.nodeName==="BODY"&&!u(e.position)?e.position.Y:this.getDialogPosition()},u(e.close)&&(e.close=this.close.bind(this)),e.beforeClose=this.beforeClose.bind(this),t=new Iv(e),t.isStringTemplate=!0,t},r.prototype.beforeOpen=function(e){if(e.element.classList.contains("e-dialog")){var t=S(e.target,"form");u(t)||(this.dialogEle=e.element,this.dialogEle.addEventListener("keydown",this.handleEnterKeyDown))}this.parent.trigger(nS,e,this.beforeOpenCallback.bind(this,e))},r.prototype.handleEnterKeyDown=function(e){e.code==="Enter"&&e.preventDefault()},r.prototype.beforeOpenCallback=function(e){e.cancel&&this.parent.notify(Fi,null)},r.prototype.open=function(e){this.parent.trigger(rS,e)},r.prototype.documentClickClosedBy=function(e){this.outsideClickClosedBy=e.closedBy},r.prototype.beforeClose=function(e){this.dialogEle&&this.dialogEle.removeEventListener("keydown",this.handleEnterKeyDown),e.closedBy=this.outsideClickClosedBy==="outside click"?this.outsideClickClosedBy:e.closedBy,this.parent.trigger(sS,e,function(t){t.cancel||t.container.classList.contains("e-popup-close")&&(t.cancel=!0)}),this.outsideClickClosedBy=""},r.prototype.getDialogPosition=function(){var e=this.parent.element.getBoundingClientRect().top;if(e<0){for(var t=0,i=this.parent.element;i.nodeName!=="BODY";){var n=i.getBoundingClientRect().top;n>0&&(t=n),i=i.parentElement}return e=Math.abs(e)+t,e.toString()}else return"top"},r.prototype.close=function(e){this.parent.trigger(oS,e)},r.prototype.moduleDestroy=function(){this.parent=null},r}();var Wx={bold:{command:"Style",subCommand:"Bold",value:"strong"},italic:{command:"Style",subCommand:"Italic",value:"em"},underline:{command:"Style",subCommand:"Underline",value:"span"},strikeThrough:{command:"Style",subCommand:"StrikeThrough",value:"span"},insertCode:{command:"Formats",subCommand:"Pre",value:"pre"},superscript:{command:"Effects",subCommand:"SuperScript",value:"sup"},subscript:{command:"Effects",subCommand:"SubScript",value:"sub"},uppercase:{command:"Casing",subCommand:"UpperCase"},lowercase:{command:"Casing",subCommand:"LowerCase"},fontColor:{command:"font",subCommand:"fontcolor",value:"#ff0000"},fontName:{command:"font",subCommand:"fontname",value:"Segoe UI"},fontSize:{command:"font",subCommand:"fontsize",value:"10pt"},backColor:{command:"font",subCommand:"backgroundcolor",value:"#ffff00"},justifyCenter:{command:"Alignments",subCommand:"JustifyCenter"},justifyFull:{command:"Alignments",subCommand:"JustifyFull"},justifyLeft:{command:"Alignments",subCommand:"JustifyLeft"},justifyRight:{command:"Alignments",subCommand:"JustifyRight"},undo:{command:"Actions",subCommand:"Undo"},redo:{command:"Actions",subCommand:"Redo"},createLink:{command:"Links",subCommand:"createLink"},editLink:{command:"Links",subCommand:"createLink"},createImage:{command:"Images",subCommand:"Images"},formatBlock:{command:"Formats",value:"P"},heading:{command:"Formats",value:"H1"},indent:{command:"Indents",subCommand:"Indent"},outdent:{command:"Indents",subCommand:"Outdent"},insertHTML:{command:"InsertHTML",subCommand:"InsertHTML",value:""},insertText:{command:"InsertText",subCommand:"InsertText",value:""},insertHorizontalRule:{command:"InsertHTML",subCommand:"InsertHTML",value:"<hr/>"},insertImage:{command:"Images",subCommand:"Image"},insertAudio:{command:"Audios",subCommand:"Audio"},insertVideo:{command:"Videos",subCommand:"Video"},editImage:{command:"Images",subCommand:"Image"},insertTable:{command:"Table",subCommand:"CreateTable"},insertBrOnReturn:{command:"InsertHTML",subCommand:"InsertHTML",value:"<br/>"},insertOrderedList:{command:"Lists",value:"OL"},insertUnorderedList:{command:"Lists",value:"UL"},insertParagraph:{command:"Formats",value:"P"},removeFormat:{command:"Clear",subCommand:"ClearFormat"},copyFormatPainter:{command:"FormatPainter",value:"format-copy"},applyFormatPainter:{command:"FormatPainter",value:"format-paste"},escapeFormatPainter:{command:"FormatPainter",value:"escape"}};var ui=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Z=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Zx=function(r){ui(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Z([b(!0)],e.prototype,"enable",void 0),Z([b(!0)],e.prototype,"enableFloating",void 0),Z([b(ti.Expand)],e.prototype,"type",void 0),Z([b(aM)],e.prototype,"items",void 0),Z([b({})],e.prototype,"itemConfigs",void 0),e}(de);var Xx=function(r){ui(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Z([b([".jpeg",".jpg",".png"])],e.prototype,"allowedTypes",void 0),Z([b("inline")],e.prototype,"display",void 0),Z([b("Blob")],e.prototype,"saveFormat",void 0),Z([b("auto")],e.prototype,"width",void 0),Z([b("auto")],e.prototype,"height",void 0),Z([b(null)],e.prototype,"saveUrl",void 0),Z([b(null)],e.prototype,"path",void 0),Z([b(!0)],e.prototype,"resize",void 0),Z([b(null)],e.prototype,"removeUrl",void 0),Z([b(0)],e.prototype,"minWidth",void 0),Z([b(null)],e.prototype,"maxWidth",void 0),Z([b(0)],e.prototype,"minHeight",void 0),Z([b(null)],e.prototype,"maxHeight",void 0),Z([b(!1)],e.prototype,"resizeByPercent",void 0),e}(de);var Gx=function(r){ui(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Z([b([".wav",".mp3",".m4a",".wma"])],e.prototype,"allowedTypes",void 0),Z([b("Inline")],e.prototype,"layoutOption",void 0),Z([b("Blob")],e.prototype,"saveFormat",void 0),Z([b(null)],e.prototype,"saveUrl",void 0),Z([b(null)],e.prototype,"removeUrl",void 0),Z([b(null)],e.prototype,"path",void 0),e}(de);var Kx=function(r){ui(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Z([b([".mp4",".mov",".wmv",".avi"])],e.prototype,"allowedTypes",void 0),Z([b("Inline")],e.prototype,"layoutOption",void 0),Z([b("Blob")],e.prototype,"saveFormat",void 0),Z([b("auto")],e.prototype,"width",void 0),Z([b("auto")],e.prototype,"height",void 0),Z([b(null)],e.prototype,"saveUrl",void 0),Z([b(null)],e.prototype,"path",void 0),Z([b(!0)],e.prototype,"resize",void 0),Z([b(null)],e.prototype,"removeUrl",void 0),Z([b(0)],e.prototype,"minWidth",void 0),Z([b(null)],e.prototype,"maxWidth",void 0),Z([b(0)],e.prototype,"minHeight",void 0),Z([b(null)],e.prototype,"maxHeight",void 0),Z([b(!1)],e.prototype,"resizeByPercent",void 0),e}(de);var Jx=function(r){ui(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Z([R()],e.prototype,"beforeSend",void 0),Z([we({getImageUrl:null,url:null,uploadUrl:null},Dx)],e.prototype,"ajaxSettings",void 0),Z([b(!1)],e.prototype,"allowDragAndDrop",void 0),Z([we({visible:!0,file:["Open","|","Cut","Copy","|","Delete","Rename","|","Details"],folder:["Open","|","Cut","Copy","Paste","|","Delete","Rename","|","Details"],layout:["SortBy","View","Refresh","|","Paste","|","NewFolder","Upload","|","Details","|","SelectAll"]},zx)],e.prototype,"contextMenuSettings",void 0),Z([b("")],e.prototype,"cssClass",void 0),Z([we({},jx)],e.prototype,"detailsViewSettings",void 0),Z([b(!1)],e.prototype,"enable",void 0),Z([we({maxWidth:"650px",minWidth:"240px",visible:!0},Rx)],e.prototype,"navigationPaneSettings",void 0),Z([b("/")],e.prototype,"path",void 0),Z([b(null)],e.prototype,"rootAliasName",void 0),Z([we({},Ix)],e.prototype,"searchSettings",void 0),Z([b(!0)],e.prototype,"showFileExtension",void 0),Z([b(!1)],e.prototype,"showHiddenItems",void 0),Z([b(!0)],e.prototype,"showThumbnail",void 0),Z([b("Ascending")],e.prototype,"sortOrder",void 0),Z([we({visible:!0,items:["NewFolder","Upload","Cut","Copy","Paste","Delete","Download","Rename","SortBy","Refresh","Selection","View","Details"]},Ax)],e.prototype,"toolbarSettings",void 0),Z([we({autoUpload:!0,minFileSize:0,maxFileSize:3e7,allowedExtensions:"",autoClose:!1},Bx)],e.prototype,"uploadSettings",void 0),Z([b("LargeIcons")],e.prototype,"view",void 0),e}(de);var ew=function(r){ui(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Z([b("100%")],e.prototype,"width",void 0),Z([b(Jh)],e.prototype,"styles",void 0),Z([b(!0)],e.prototype,"resize",void 0),Z([b(0)],e.prototype,"minWidth",void 0),Z([b(null)],e.prototype,"maxWidth",void 0),e}(de);var tw=function(r){ui(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Z([b(!0)],e.prototype,"enable",void 0),Z([b(!1)],e.prototype,"showOnRightClick",void 0),Z([b("hide")],e.prototype,"actionOnScroll",void 0),Z([b(["Open","Edit","UnLink"])],e.prototype,"link",void 0),Z([b(["Replace","Align","Caption","Remove","-","InsertLink","OpenImageLink","EditImageLink","RemoveImageLink","Display","AltText","Dimension"])],e.prototype,"image",void 0),Z([b(["AudioReplace","AudioRemove","AudioLayoutOption"])],e.prototype,"audio",void 0),Z([b(["VideoReplace","VideoAlign","VideoRemove","VideoLayoutOption","VideoDimension"])],e.prototype,"video",void 0),Z([b(null)],e.prototype,"text",void 0),Z([b(["TableHeader","TableRows","TableColumns","BackgroundColor","-","TableRemove","Alignments","TableCellVerticalAlign","Styles"])],e.prototype,"table",void 0),e}(de);var iw=function(r){ui(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Z([b("b; em; font; sub; sup; kbd; i; s; u; code; strong; span; p; div; h1; h2; h3; h4; h5; h6; blockquote; ol; ul; li; pre;")],e.prototype,"allowedFormats",void 0),Z([b(null)],e.prototype,"deniedFormats",void 0),e}(de);var nw=function(r){ui(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Z([b(pM)],e.prototype,"iconsSet",void 0),Z([b(!0)],e.prototype,"showSearchBox",void 0),e}(de);var rw=function(r){ui(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Z([b(!1)],e.prototype,"prompt",void 0),Z([b(null)],e.prototype,"deniedAttrs",void 0),Z([b(["background","background-color","border","border-bottom","border-left","border-radius","border-right","border-style","border-top","border-width","clear","color","cursor","direction","display","float","font","font-family","font-size","font-weight","font-style","height","left","line-height","list-style-type","margin","margin-top","margin-left","margin-right","margin-bottom","max-height","max-width","min-height","min-width","overflow","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","position","right","table-layout","text-align","text-decoration","text-transform","text-indent","top","vertical-align","visibility","white-space","width"])],e.prototype,"allowedStyleProps",void 0),Z([b(null)],e.prototype,"deniedTags",void 0),Z([b(!0)],e.prototype,"keepFormat",void 0),Z([b(!1)],e.prototype,"plainText",void 0),e}(de);var sw=function(r){ui(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Z([b(null)],e.prototype,"default",void 0),Z([b("65px")],e.prototype,"width",void 0),Z([b(sl)],e.prototype,"items",void 0),e}(de);var ow=function(r){ui(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Z([b(null)],e.prototype,"default",void 0),Z([b("35px")],e.prototype,"width",void 0),Z([b(lM)],e.prototype,"items",void 0),e}(de);var aw=function(r){ui(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Z([b(null)],e.prototype,"default",void 0),Z([b("65px")],e.prototype,"width",void 0),Z([b(ol)],e.prototype,"types",void 0),e}(de);var lw=function(r){ui(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Z([b("#ff0000")],e.prototype,"default",void 0),Z([b("Palette")],e.prototype,"mode",void 0),Z([b(10)],e.prototype,"columns",void 0),Z([b(hM)],e.prototype,"colorCode",void 0),Z([b(!1)],e.prototype,"modeSwitcher",void 0),e}(de);var hw=function(r){ui(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Z([b("#ffff00")],e.prototype,"default",void 0),Z([b("Palette")],e.prototype,"mode",void 0),Z([b(10)],e.prototype,"columns",void 0),Z([b(cM)],e.prototype,"colorCode",void 0),Z([b(!1)],e.prototype,"modeSwitcher",void 0),e}(de);var cw=function(r){ui(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Z([b(al)],e.prototype,"types",void 0),e}(de);var uw=function(r){ui(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Z([b(ll)],e.prototype,"types",void 0),e}(de);var pw=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Vc=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Gj=function(r){pw(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Vc([b([])],e.prototype,"styles",void 0),Vc([b([])],e.prototype,"scripts",void 0),e}(de);var dw=function(r){pw(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Vc([b(!1)],e.prototype,"enable",void 0),Vc([b(null)],e.prototype,"attributes",void 0),Vc([we({},Gj)],e.prototype,"resources",void 0),e}(de);var Kj=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),fw=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},mw=function(r){Kj(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return fw([b(!1)],e.prototype,"enable",void 0),fw([b(!0)],e.prototype,"onSelection",void 0),e}(de);var gw=function(){function r(e){this.parent=e,this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.on(xh,this.enterHandler,this),this.parent.on(ue,this.destroy,this),this.parent.on(Qe,this.moduleDestroy,this)},r.prototype.destroy=function(){u(this.parent)||this.removeEventListener()},r.prototype.moduleDestroy=function(){this.parent=null},r.prototype.removeEventListener=function(){this.parent.off(xh,this.enterHandler),this.parent.off(ue,this.destroy),this.parent.off(Qe,this.moduleDestroy)},r.prototype.getRangeNode=function(){this.range=this.parent.getRange(),this.startNode=this.range.startContainer.nodeName==="#text"?this.range.startContainer.parentElement:this.range.startContainer,this.endNode=this.range.endContainer.nodeName==="#text"?this.range.endContainer.parentElement:this.range.endContainer},r.prototype.enterHandler=function(e){var t=this;this.getRangeNode();var i=!0;if(this.formatTags=["h1","h2","h3","h4","h5","h6","blockquote"],!u(this.startNode.closest("TABLE"))&&!u(this.endNode.closest("TABLE"))){i=!1;for(var n=this.startNode,s=n;!this.parent.formatter.editorManager.domNode.isBlockNode(n);)n=n.parentElement,s=n;i=!(s.tagName==="TD"||s.tagName==="TBODY")}if(e.args.which===13&&!e.args.ctrlKey&&(N.isDevice?e.args.key==="Enter":e.args.code==="Enter")&&u(this.startNode.closest("LI, UL, OL"))&&u(this.endNode.closest("LI, UL, OL"))&&u(this.startNode.closest(".e-img-inner"))&&i&&u(this.startNode.closest("PRE"))&&u(this.endNode.closest("PRE"))){var o=e.args.shiftKey,a={cancel:!1,name:Ht,requestType:o?"ShiftEnterAction":"EnterAction",originalEvent:e.args};this.parent.trigger(Ht,a,function(l){if(!l.cancel){if(!(t.range.startOffset===t.range.endOffset&&t.range.startContainer===t.range.endContainer)){if(t.range.startContainer.nodeName==="SPAN"&&(t.range.startContainer.classList.contains("e-video-wrap")||t.range.startContainer.classList.contains("e-audio-wrap"))||t.range.deleteContents(),t.range.startContainer.nodeName==="#text"&&t.range.startContainer.textContent.length===0&&t.range.startContainer.parentElement!==t.parent.inputElement)t.parent.enterKey==="BR"?t.range.startContainer.parentElement.innerHTML="&#8203;":t.range.startContainer.parentElement.innerHTML="<br>";else if(t.range.startContainer===t.parent.inputElement&&t.range.startContainer.innerHTML===""){t.range.startContainer.innerHTML="<br>";var h=t.range.startContainer.childNodes[t.range.startOffset];t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),h,0)}else if(t.parent.inputElement===t.range.startContainer){var h=t.range.startContainer.childNodes[t.range.startOffset];if(h.nodeName==="#text"&&h.textContent.length===0)t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),h,h.textContent.length===0?0:h.previousSibling.textContent.length);else if(t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),h,h.textContent.length>=0?0:1),h.previousSibling.textContent.length===0){if(w(h.previousSibling),!o){for(var c=u(h.lastChild)?h:h.lastChild;!u(c)&&c.nodeName!=="#text"&&c.nodeName!=="BR";)c=c.lastChild;c.nodeName!=="BR"&&c.parentElement.textContent.length===0&&c.parentElement.innerHTML.length===0&&c.parentElement.nodeName!=="BR"&&c.parentElement.appendChild(t.parent.createElement("BR")),t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),c.nodeName==="BR"?c:c.parentElement,c.parentElement.textContent.length>=0||c.nodeName==="BR"?0:1)}}else if(h.textContent.length===0){for(var c=h.previousSibling.nodeName==="#text"?h.previousSibling:h.previousSibling.lastChild;!u(c)&&c.nodeName!=="#text";)c=c.lastChild;t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),c,c.textContent.length),w(h)}else if(t.parent.enterKey!=="BR"&&h.previousSibling.textContent.length!==0&&h.textContent.length!==0){e.args.preventDefault();return}t.getRangeNode()}}if(t.range.startContainer===t.range.endContainer&&t.range.startOffset===t.range.endOffset&&t.range.startContainer===t.parent.inputElement){if(!(t.parent.inputElement.childNodes.length===1&&t.parent.inputElement.childNodes[0].nodeName==="TABLE"))if(u(t.range.startContainer.childNodes[t.range.startOffset])){for(var p=t.range.startContainer.childNodes[t.range.startOffset-1];p.lastChild!==null&&p.nodeName!=="#text";)p=p.lastChild;t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),p,p.nodeName==="BR"?0:p.textContent.length)}else t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),t.range.startContainer.childNodes[t.range.startOffset],0);t.getRangeNode()}if(t.parent.enterKey==="P"&&!o||t.parent.enterKey==="DIV"&&!o||t.parent.shiftEnterKey==="P"&&o||t.parent.shiftEnterKey==="DIV"&&o){if(t.range.startOffset===1&&t.parent.inputElement.childNodes.length===1&&t.parent.inputElement.childNodes[0].nodeName==="TABLE"){var d=t.createInsertElement(o);d.appendChild(t.parent.createElement("BR")),t.parent.inputElement.appendChild(d),t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),d,0)}else{var f=void 0;i&&t.parent.formatter.editorManager.domNode.isBlockNode(t.startNode)?f=t.startNode:f=t.parent.formatter.editorManager.domNode.blockParentNode(t.startNode);var m=!1,g=!1;if(t.range.startOffset!==0&&t.range.endOffset!==0&&t.range.startContainer===t.range.endContainer&&!(!u(f.childNodes[0])&&(f.childNodes[0].nodeName==="IMG"||f.querySelectorAll("img, audio, video").length>0))){var v=t.range.startContainer.textContent,O=v.substring(0,t.range.startOffset);O.charCodeAt(t.range.startOffset-1)!==160&&O.trim().length===0&&(g=!0)}else t.range.startOffset===0&&t.range.endOffset===0&&(g=!0);t.removeBRElement(f);var C=N.userAgent.indexOf("Firefox")!==-1&&t.range.startOffset===0&&t.range.startContainer===t.range.endContainer&&t.range.startContainer.nodeName==="#text"&&!t.parent.formatter.editorManager.domNode.isBlockNode(t.range.startContainer.previousSibling)&&t.range.startContainer.parentElement===t.range.startContainer.previousSibling.parentElement;if(!C&&(t.range.startOffset===0&&t.range.endOffset===0||g)&&!(!u(t.range.startContainer.previousSibling)&&(t.range.startContainer.previousSibling.nodeName==="IMG"||t.range.startContainer.previousSibling.nodeName==="BR"))){var x=void 0,d=void 0;!u(t.range.startContainer.childNodes)&&(t.range.startContainer.textContent.length===0||t.range.startContainer.nodeName!=="#text"&&!u(t.range.startContainer.querySelector(".e-video-clickelem"))&&t.range.startContainer.querySelector(".e-video-clickelem").textContent.length===0)&&(t.range.startContainer.querySelectorAll("img, audio, video").length>0||!u(t.range.startContainer.querySelector(".e-video-clickelem"))||t.range.startContainer.nodeName==="IMG"||t.range.startContainer.nodeName==="TABLE")?(d=t.createInsertElement(o),m=!0,x=!1):f.textContent.trim().length!==0||f.childNodes[0].nodeName==="IMG"||f.textContent.trim()===""&&f.querySelectorAll("img, audio, video").length>0?(t.range.startOffset===t.range.endOffset&&t.range.startOffset!==0?d=t.parent.formatter.editorManager.nodeCutter.SplitNode(t.range,f,!1).cloneNode(!0):(d=t.parent.formatter.editorManager.nodeCutter.SplitNode(t.range,f,!0).cloneNode(!0),m=!0),x=!1):(d=t.parent.formatter.editorManager.nodeCutter.SplitNode(t.range,f,!0).cloneNode(!0),x=!0);var M=void 0;for(t.formatTags.indexOf(d.nodeName.toLocaleLowerCase())<0?M=t.createInsertElement(o):M=t.parent.createElement(d.nodeName);d.firstChild;)M.appendChild(d.firstChild);if(f.parentElement.insertBefore(M,f),!x){var c=M,k=void 0;if(t.range.startOffset===t.range.endOffset&&t.range.startOffset!==0)for(;!u(c)&&c.nodeName!=="#text"&&c.nodeName!=="BR";)k=c,c=c.lastChild;else k=c;k.innerHTML="<br>",m||w(f)}t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),M.nextElementSibling,0)}else if(f.textContent.length===0&&!(!u(f.childNodes[0])&&f.childNodes[0].nodeName==="IMG"||f.querySelectorAll("video").length>0||f.querySelectorAll("audio").length>0||f.querySelectorAll("img").length>0))if(!u(f.children[0])&&f.children[0].tagName!=="BR"){var d=t.parent.formatter.editorManager.nodeCutter.SplitNode(t.range,f,!1).cloneNode(!0);t.parent.formatter.editorManager.domNode.insertAfter(d,f),t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),d,d.textContent.length>=0?0:1)}else{var M=t.createInsertElement(o);M.innerHTML="<br>",t.parent.formatter.editorManager.domNode.insertAfter(M,f),t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),M,0)}else if(t.range.startContainer===t.range.endContainer&&t.range.startContainer.nodeName==="SPAN"&&(t.range.startContainer.classList.contains("e-video-wrap")||t.range.startContainer.classList.contains("e-audio-wrap"))){if(f.textContent.trim().length>0){for(var d=t.parent.formatter.editorManager.nodeCutter.SplitNode(t.range,f,!0),A=u(d.previousSibling.querySelector(".e-video-wrap"))?d.previousSibling.querySelector(".e-audio-wrap"):d.previousSibling.querySelector(".e-video-wrap"),j=!1,U=A.previousSibling;!u(U)&&U.nodeName!=="#text";)U=U.lastChild;if(u(U)){var q=t.parent.createElement("br");A.parentElement.appendChild(q),j=!0}j?t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),A.parentElement,0):t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),U,U.textContent.length),w(A)}else{for(var d=t.parent.formatter.editorManager.nodeCutter.SplitNode(t.range,f,!0),h=d.previousSibling;!u(h.firstChild);)w(h.firstChild);var q=t.parent.createElement("br");h.appendChild(q),t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),h,0)}u(t.parent.audioModule)||t.parent.audioModule.hideAudioQuickToolbar(),u(t.parent.videoModule)||t.parent.videoModule.hideVideoQuickToolbar()}else{var d=t.parent.formatter.editorManager.nodeCutter.SplitNode(t.range,f,!0);if(!u(d.childNodes[0])&&d.childNodes[0].nodeName==="#text"&&d.childNodes[0].textContent.length===0&&w(d.childNodes[0]),d.textContent.trim().length===0){var q=t.parent.createElement("br");if(t.startNode.nodeName==="A"){var K=t.startNode.parentElement;t.startNode.parentElement.insertBefore(q,t.startNode),w(t.startNode),t.startNode=K}else t.startNode.nodeName!=="BR"&&t.startNode.appendChild(q);d.childNodes[0].textContent===`
`&&w(d.childNodes[0]),t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),t.startNode,0)}if((t.parent.enterKey==="P"||t.parent.enterKey==="DIV")&&!o||(t.parent.shiftEnterKey==="DIV"||t.parent.shiftEnterKey==="P")&&o){var oe=t.formatTags.indexOf(d.nodeName.toLocaleLowerCase());if(oe<0||oe>=0&&d.textContent.trim().length===0){for(var ie=t.createInsertElement(o);d.firstChild;)ie.appendChild(d.firstChild);t.parent.formatter.editorManager.domNode.insertAfter(ie,d),w(d),t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),t.parent.formatter.editorManager.domNode.isBlockNode(t.startNode)?ie:t.startNode,0)}}}}e.args.preventDefault()}if(t.parent.enterKey==="BR"&&!o||t.parent.shiftEnterKey==="BR"&&o){var se=void 0;if(t.parent.formatter.editorManager.domNode.isBlockNode(t.startNode))se=t.startNode;else{for(var H=t.startNode,z=H;!t.parent.formatter.editorManager.domNode.isBlockNode(H);)z=H,H=H.parentElement;se=H===t.parent.inputElement?z:H}t.removeBRElement(se);for(var Y=!1,P=se.lastChild;!u(P)&&!(P.nodeName==="#text"||P.nodeName==="BR"||P.nodeName==="IMG");)P=P.lastChild;var V=t.range.startContainer===P?t.range.startContainer.textContent.length:se.textContent.length,G=t.range.startContainer.nodeName==="IMG"||t.range.startContainer.childNodes.length>0&&t.range.startContainer.childNodes[t.range.startOffset].nodeName==="IMG";if(se!==t.parent.inputElement&&t.parent.formatter.editorManager.domNode.isBlockNode(se)&&t.range.startOffset===t.range.endOffset&&(t.range.startOffset===V||se.textContent.trim().length===0&&G)){var te=t.parent.createElement("br");if(t.range.startOffset===0&&t.range.startContainer.nodeName==="TABLE")t.range.startContainer.parentElement.insertBefore(te,t.range.startContainer);else if(P.nodeName==="BR"&&se.textContent.length===0)t.parent.formatter.editorManager.domNode.insertAfter(te,P);else if(t.range.startOffset===0&&t.range.endOffset===0&&G){var xe=t.range.startContainer.nodeName==="IMG"?t.range.startContainer:t.range.startContainer.childNodes[t.range.startOffset];se.insertBefore(te,xe),te=xe}else{var Me=t.parent.createElement("br");t.parent.formatter.editorManager.domNode.insertAfter(te,t.range.startContainer),t.parent.formatter.editorManager.domNode.insertAfter(Me,t.range.startContainer)}t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),te,0)}else if(!u(se)&&se!==t.parent.inputElement&&se.nodeName!=="BR")if(se.textContent.trim().length===0||se.textContent.trim().length===1&&se.textContent.charCodeAt(0)===8203){var d=t.parent.formatter.editorManager.nodeCutter.SplitNode(t.range,se,!0).cloneNode(!0);t.parent.formatter.editorManager.domNode.insertAfter(d,se);var Le=t.parent.createElement("br");d.parentElement.insertBefore(Le,d),t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),d,0)}else{var d=void 0,Le=t.parent.createElement("br");if(t.range.startOffset===0&&t.range.endOffset===0&&!u(se.previousSibling)&&se.previousSibling.nodeName==="BR"&&se.nodeName!=="P"&&se.nodeName!=="DIV"){d=t.parent.formatter.editorManager.nodeCutter.SplitNode(t.range,se,!1).cloneNode(!0),t.parent.formatter.editorManager.domNode.insertAfter(Le,se),t.insertFocusContent();for(var c=Le.nextSibling;!u(c)&&c.nodeName!=="#text";)c=c.lastChild;t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),c,0),Y=!0}else t.insertBRElement()}else t.insertBRElement();e.args.preventDefault()}t.parent.trigger(ei,{requestType:o?"ShiftEnterAction":"EnterAction",args:e.args})}})}},r.prototype.removeBRElement=function(e){N.userAgent.indexOf("Firefox")!==-1&&this.range.endOffset===e.textContent.length&&(e.textContent.length!==0||e.querySelectorAll("BR").length>1)&&!u(e.lastChild)&&e.lastChild.nodeName==="BR"&&w(e.lastChild)},r.prototype.insertBRElement=function(){var e=!1,t=!0;this.range.endContainer.textContent.length===0&&this.range.startContainer.nodeName==="BR"&&(t=!1);var i=this.parent.createElement("br");if(this.startNode.nodeName==="BR"&&this.endNode.nodeName==="BR"&&this.range.startOffset===0&&this.range.startOffset===this.range.endOffset?(this.parent.formatter.editorManager.domNode.insertAfter(i,this.startNode),e=!0):(this.startNode===this.parent.inputElement&&!u(this.range.startContainer.previousSibling)&&this.range.startContainer.previousSibling.nodeName==="BR"&&this.range.startContainer.textContent.length===0&&(e=!0),this.range.insertNode(i)),e||!u(i.nextElementSibling)&&i.nextElementSibling.tagName==="BR"||!u(i.nextSibling)&&i.nextSibling.textContent.length>0)this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(),!u(i.nextSibling)&&t?i.nextSibling:i,0),e=!1;else{var n=this.parent.createElement("br");this.range.insertNode(n),this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(),i,0)}},r.prototype.insertFocusContent=function(){this.range.startContainer.textContent.length===0&&(this.range.startContainer.nodeName==="#text"?this.range.startContainer.parentElement.innerHTML="&#8203;":this.range.startContainer.innerHTML="&#8203;")},r.prototype.createInsertElement=function(e){var t;this.parent.enterKey==="DIV"&&!e||this.parent.shiftEnterKey==="DIV"&&e?t=this.parent.createElement("div"):(this.parent.enterKey==="P"&&!e||this.parent.shiftEnterKey==="P"&&e)&&(t=this.parent.createElement("p"));var i=this.parent.formatter.editorManager.domNode.blockNodes()[0].previousSibling,n=this.parent.formatter.editorManager.domNode.blockNodes()[0].nextSibling;return!u(i)&&i.nodeName!=="#text"&&i.hasAttribute("style")&&i.nodeName!=="TABLE"&&t.setAttribute("style",i.getAttribute("style")),u(i)&&!u(n)&&n.nodeName!=="#text"&&n.hasAttribute("style")&&n.nodeName!=="TABLE"&&t.setAttribute("style",n.getAttribute("style")),t},r}();var Jj=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ey=function(){return Ey=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Ey.apply(this,arguments)},ee=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},ky=function(r){Jj(e,r);function e(t,i){var n=r.call(this,t,i)||this;return n.needsID=!0,n}return e.prototype.requiredModules=function(){var t=[];return this.toolbarSettings.enable&&(t.push({member:"toolbar",args:[this,this.serviceLocator]}),t.push({member:"link",args:[this,this.serviceLocator]}),t.push({member:"table",args:[this,this.serviceLocator]}),t.push({member:"image",args:[this,this.serviceLocator]}),t.push({member:"audio",args:[this,this.serviceLocator]}),t.push({member:"video",args:[this,this.serviceLocator]}),this.quickToolbarSettings.enable&&t.push({member:"quickToolbar",args:[this,this.serviceLocator]})),this.showCharCount&&t.push({member:"count",args:[this,this.serviceLocator]}),this.editorMode==="Markdown"&&t.push({member:"markdownEditor",args:[this,this.serviceLocator]}),this.editorMode==="HTML"&&(t.push({member:"htmlEditor",args:[this,this.serviceLocator]}),t.push({member:"pasteCleanup",args:[this,this.serviceLocator]}),t.push({member:"formatPainter",args:[this]}),t.push({member:"emojiPicker",args:[this,this.serviceLocator]})),this.fileManagerSettings.enable&&t.push({member:"fileManager",args:[this,this.serviceLocator]}),this.enableResize&&t.push({member:"resize",args:[this]}),t},e.prototype.updateEnable=function(){this.enabled?(L([this.element],np),this.element.setAttribute("aria-disabled","false"),u(this.htmlAttributes.tabindex)?this.inputElement.setAttribute("tabindex","0"):this.inputElement.setAttribute("tabindex",this.htmlAttributes.tabindex)):(this.getToolbar()&&(L(this.getToolbar().querySelectorAll("."+Or),Or),L([this.getToolbar().parentElement],[Uh])),E([this.element],np),this.element.tabIndex=-1,this.element.setAttribute("aria-disabled","true"),this.inputElement.setAttribute("tabindex","-1"))},e.prototype.setEnable=function(){this.updateEnable(),this.enabled?this.eventInitializer():this.unWireEvents()},e.prototype.initializeValue=function(){this.isFocusOut=!1,this.isRTE=!1,this.isBlur=!0,this.defaultResetValue=null,this.isResizeInitialized=!1},e.prototype.preRender=function(){this.initializeValue(),this.onBlurHandler=this.blurHandler.bind(this),this.onFocusHandler=this.focusHandler.bind(this),this.onResizeHandler=this.resizeHandler.bind(this),this.clickPoints={clientX:0,clientY:0},this.initialValue=this.value,this.serviceLocator=new cd,this.initializeServices(),this.setContainer(),this.persistData(),he(this.element,{width:W(this.width)}),pe(this.element,{role:"application","aria-label":"Rich Text Editor"})},e.prototype.persistData=function(){if(this.enablePersistence&&this.originalElement.tagName==="TEXTAREA"){this.element.id=this.originalElement.id+"_wrapper";var t=window.localStorage.getItem(this.getModuleName()+this.element.id);u(t)||t===""||this.setProperties(JSON.parse(t),!0)}},e.prototype.setContainer=function(){this.originalElement=this.element.cloneNode(!0),(this.value===null||this.valueTemplate!==null)&&this.setValue(),this.element.hasAttribute("tabindex")&&(this.htmlAttributes={tabindex:this.element.getAttribute("tabindex")},this.element.removeAttribute("tabindex")),this.element.innerHTML="";for(var t=["class","style","id","ejs-for"],i={},n=0;n<this.element.attributes.length;n++)t.indexOf(this.element.attributes[n].name)===-1&&!/^data-val/.test(this.element.attributes[n].name)&&(i[this.element.attributes[n].name]=this.element.getAttribute(this.element.attributes[n].name));if(ae(i,this.htmlAttributes,i),this.setProperties({htmlAttributes:i},!0),u(this.htmlAttributes.id)||(this.element.id=this.htmlAttributes.id),this.element.tagName==="TEXTAREA"){var s=this.createElement("div",{className:this.element.getAttribute("class")});this.element.innerHTML="",this.element.parentElement.insertBefore(s,this.element),this.valueContainer=this.element,L([this.valueContainer],this.element.getAttribute("class").split(" ")),this.element=s}else this.valueContainer=this.createElement("textarea",{id:this.getID()+"-value",attrs:{"aria-labelledby":this.getID()}});if(this.valueContainer.name=this.getID(),E([this.valueContainer],Ag),!u(this.cssClass))for(var o=this.cssClass.split(" "),a=0;a<o.length;a++)E([this.valueContainer],o[a]);this.element.appendChild(this.valueContainer)},e.prototype.getPersistData=function(){return this.addOnPersist(["value"])},e.prototype.focusIn=function(){this.enabled&&(this.inputElement.focus(),this.focusHandler({}))},e.prototype.focusOut=function(){this.enabled&&(this.inputElement.blur(),this.blurHandler({}))},e.prototype.selectAll=function(){this.notify(js,{})},e.prototype.selectRange=function(t){this.notify($o,{range:t})},e.prototype.getSelection=function(){var t="";return this.notify(zs,{callBack:function(i){t=i}}),t},e.prototype.showEmojiPicker=function(t,i){this.readonly||this.notify(qo,{x:t,y:i})},e.prototype.executeCommand=function(t,i,n){i=this.htmlPurifier(t,i);var s;if(this.editorMode==="HTML"){var o=this.getRange();this.iframeSettings.enable&&this.formatter.editorManager.nodeSelection.Clear(this.element.ownerDocument);var a=this.iframeSettings.enable&&o.startContainer===this.inputElement?!0:!this.inputElement.contains(o.startContainer);a&&this.focusIn()}var l=Wx[""+t];if(n&&n.undo&&n.undo&&this.formatter.getUndoRedoStack().length===0&&this.formatter.saveData(),this.maxLength!==-1&&!u(l.command)){var h=0;if(l.command==="Links"&&(h=i.text.length===0?i.url.length:i.text.length),(l.command==="Images"||l.command==="Table"||l.command==="Files")&&(h=1),l.command==="InsertHTML")if(u(i))!u(l.value)&&(l.value==="<hr/>"||l.value==="<br/>")&&(h=1);else{var c=this.createElement("div");c.innerHTML=i,h=c.textContent.length}l.command==="InsertText"&&(h=i.length);var p=this.getText().trim().replace(/(\r\n|\n|\r|\t)/gm,"").replace(/\u200B/g,"").length,d=this.getSelection().length,f=p-d+h;if(!(this.maxLength===-1||f<=this.maxLength))return}s=i,l.command==="FormatPainter"&&(u(i)||(this.formatPainterSettings=i),s={formatPainterAction:l.value}),this.formatter.editorManager.execCommand(l.command,l.subCommand?l.subCommand:s||l.value,null,null,s||l.value,s||l.value),n&&n.undo&&(this.formatter.saveData(),this.formatter.enableUndo(this)),this.setPlaceHolder(),this.notify(zo,{})},e.prototype.htmlPurifier=function(t,i){if(this.editorMode==="HTML")switch(t){case"insertHTML":this.enableHtmlSanitizer&&(typeof i=="string"?i=this.htmlEditorModule.sanitizeHelper(i):i=this.htmlEditorModule.sanitizeHelper(i.outerHTML));break;case"insertTable":u(i.width)&&(i.width={minWidth:this.tableSettings.minWidth,maxWidth:this.tableSettings.maxWidth,width:this.tableSettings.width});break;case"insertImage":{var n=this.createElement("img",{attrs:{src:i.url}}),s=n.outerHTML;this.enableHtmlSanitizer&&(s=this.htmlEditorModule.sanitizeHelper(n.outerHTML));var o=s!==""&&this.createElement("div",{innerHTML:s}).firstElementChild.getAttribute("src")||null;o=u(o)?"":o,i.url=o,u(i.width)&&(i.width={minWidth:this.insertImageSettings.minWidth,maxWidth:this.insertImageSettings.maxWidth,width:this.insertImageSettings.width}),u(i.height)&&(i.height={minHeight:this.insertImageSettings.minHeight,maxHeight:this.insertImageSettings.maxHeight,height:this.insertImageSettings.height});break}case"insertAudio":{var a=this.createElement("audio",{attrs:{controls:""}}),n=this.createElement("source",{attrs:{src:i.url,type:i.url&&i.url.split(".").length>0?"audio/"+i.url.split(".")[i.url.split(".").length-1]:""}});a.appendChild(n);var l=a.outerHTML;this.enableHtmlSanitizer&&(l=this.htmlEditorModule.sanitizeHelper(a.outerHTML));var o=l!==""&&this.createElement("div",{innerHTML:l}).firstElementChild.firstElementChild.getAttribute("src")||null;o=u(o)?"":o,i.url=o;break}case"insertVideo":{var a=this.createElement("video",{attrs:{controls:""}}),n=this.createElement("source",{attrs:{src:i.url,type:i.url&&i.url.split(".").length>0?"video/"+i.url.split(".")[i.url.split(".").length-1]:""}});a.appendChild(n);var l=a.outerHTML;this.enableHtmlSanitizer&&(l=this.htmlEditorModule.sanitizeHelper(n.outerHTML));var o=l!==""&&this.createElement("div",{innerHTML:l}).firstElementChild.getAttribute("src")||null;o=u(o)?"":o,i.url=o,u(i.width)&&(i.width={minWidth:this.insertVideoSettings.minWidth,maxWidth:this.insertVideoSettings.maxWidth,width:this.insertVideoSettings.width}),u(i.height)&&(i.height={minHeight:this.insertVideoSettings.minHeight,maxHeight:this.insertVideoSettings.maxHeight,height:this.insertVideoSettings.height});break}case"createLink":{var h=this.createElement("a",{attrs:{href:i.url}}),c=h.outerHTML;this.enableHtmlSanitizer&&(c=this.htmlEditorModule.sanitizeHelper(h.outerHTML));var p=c!==""&&this.createElement("div",{innerHTML:c}).firstElementChild.getAttribute("href")||null;p=u(p)?"":p,i.url=p;break}}return i},e.prototype.encode=function(t){var i=this.createElement("div");return i.innerText=t.trim(),i.innerHTML.replace(/<br\s*[\/]?>/gi,`
`)},e.prototype.render=function(){this.value=this.editorMode!=="Markdown"&&!u(this.value)?this.addAnchorAriaLabel(this.value):this.value,this.value&&!this.valueTemplate&&this.setProperties({value:this.serializeValue(this.value)},!0),this.renderModule=new Hx(this,this.serviceLocator),this.sourceCodeModule=new $x(this,this.serviceLocator),this.notify(Es,{}),this.trigger(XC),this.RTERender();var t=new IN(this);this.notify(bt,{}),this.enableXhtml&&this.setProperties({value:this.getXhtml()},!0),this.toolbarSettings.enable&&(this.toolbarSettings.type==="Expand"||this.toolbarSettings.type==="MultiRow"||this.toolbarSettings.type==="Scrollable")&&!u(this.getToolbar())&&this.toolbarSettings.items.indexOf("Undo")>-1&&this.toolbarSettings.items.indexOf("Redo")>-1&&this.disableToolbarItem(["Undo","Redo"]),this.setContentHeight("Init"),this.value!==null&&(this.valueContainer.defaultValue=this.value),this.enabled&&!this.readonly?this.eventInitializer():this.unWireEvents(),this.notify(dt,{cssClass:this.getCssClass()}),this.addAudioVideoWrapper(),this.notify(ws,{}),this.renderComplete()},e.prototype.addAudioVideoWrapper=function(){for(var t=this,i,n=this.element.querySelectorAll("audio"),s=0;s<n.length;s++)if(n[s].classList.contains("e-rte-audio")||(n[s].classList.add("e-rte-audio"),n[s].classList.add(AS)),!n[s].parentElement.classList.contains(es)&&!n[s].parentElement.classList.contains(Ja)){var o=this.createElement("span",{className:Ja});o.setAttribute("style","width:300px; margin:0 auto;"),o.contentEditable="false";var a=this.createElement("span",{className:es});o.appendChild(a),n[s].parentNode.insertBefore(o,n[s].nextSibling),a.appendChild(n[s]),o.nextElementSibling===null&&(i=this.createElement("br"),o.parentNode.insertBefore(i,o.nextSibling))}for(var l=this.element.querySelectorAll("video"),s=0;s<l.length;s++){if(l[s].classList.contains("e-rte-video")||(l[s].classList.add("e-rte-video"),l[s].classList.add(Hh)),!l[s].parentElement.classList.contains(es)&&!l[s].parentElement.classList.contains(Vs)){var h=this.createElement("span",{className:Vs});h.contentEditable="false",l[s].parentNode.insertBefore(h,l[s].nextSibling),h.appendChild(l[s]),h.nextElementSibling===null&&(i=this.createElement("br"),h.parentNode.insertBefore(i,h.nextSibling))}N.userAgent.indexOf("Firefox")!==-1&&(l[s].addEventListener("play",function(p){t.notify(li,{args:p}),t.notify("editAreaClick",{args:p})}),l[s].addEventListener("pause",function(p){t.notify(li,{args:p}),t.notify("editAreaClick",{args:p})}))}},e.prototype.eventInitializer=function(){this.wireEvents()},e.prototype.cleanList=function(t){var i=this.getRange(),n=i.startContainer,s=i.endContainer,o=i.startOffset,a=n===s,l=s.textContent.length,h=i.endContainer.nodeName==="#text"?i.endContainer.parentElement:i.endContainer,c=S(h,"LI"),p=!1,d=i.endOffset;if(s.nodeType===Node.TEXT_NODE&&s.textContent.charAt(d-1)==="\uFEFF"&&d--,!u(c)&&h.textContent.trim().length===d&&!i.collapsed&&u(h.nextElementSibling)){for(var f=0;f<c.childNodes.length;f++)c.childNodes[f].nodeName==="#text"&&c.childNodes[f].textContent.trim().length===0&&(w(c.childNodes[f]),p=!0,f--);for(var m=c;m.lastChild!==null&&m.nodeName!=="#text";)m=m.lastChild;if(p){var g=m.nodeName==="BR"&&!u(m.previousSibling)?m.previousSibling:m;this.formatter.editorManager.nodeSelection.setSelectionText(this.contentModule.getDocument(),a?g:n,g,o,g.nodeName==="BR"?0:g.textContent.length)}}},e.prototype.keyDown=function(t){if(this.notify(ot,{member:"keydown",args:t}),this.restrict(t),this.editorMode==="HTML"&&this.cleanList(t),this.editorMode==="HTML"&&(t.which===8&&t.code==="Backspace"||t.which===46&&t.code==="Delete")){var i=this.getRange(),n=i.startContainer.nodeName==="#text"?i.startContainer.parentElement:i.startContainer;if(S(n,"pre")&&t.which===8&&i.startContainer.textContent.charCodeAt(i.startOffset-1)===8203||t.which===46&&i.startContainer.textContent.charCodeAt(i.startOffset)===8203){var s=new RegExp("\u200B","g"),o=t.which===8?i.startOffset-1:i.startOffset;i.startContainer.textContent=i.startContainer.textContent.replace(s,""),this.formatter.editorManager.nodeSelection.setCursorPoint(this.contentModule.getDocument(),i.startContainer,o)}else if(t.code==="Backspace"&&t.which===8&&i.startContainer.textContent.charCodeAt(0)===8203&&i.collapsed){var a=i.startContainer.parentElement,l=void 0,h=void 0;for(h=0;h<a.childNodes.length;h++)a.childNodes[h]===i.startContainer&&(l=h);var c=!0,p=[];for(h=l;h>=0;h--)a.childNodes[h].nodeType===3&&a.childNodes[h].textContent.charCodeAt(0)===8203&&c?p.push(h):c=!1;if(p.length>0)for(h=p.length-1;h>0;h--)a.childNodes[p[h]].textContent="";this.formatter.editorManager.nodeSelection.setCursorPoint(this.contentModule.getDocument(),i.startContainer,i.startOffset)}}var d=u(t.action)?!0:t.action!=="format-copy";if(this.formatter.getUndoRedoStack().length===0&&d&&!(t.altKey||t.shiftKey||t.altKey&&t.shiftKey&&t.which==67)&&this.formatter.saveData(),t.action!=="insert-link"&&t.action!=="format-copy"&&t.action!=="format-paste"&&(!t.target||!(t.target.classList.contains("e-mention")&&!u(document.querySelector("#"+t.target.id+"_popup.e-popup-open"))&&t.code==="Tab"))&&(t.action&&t.action!=="paste"&&t.action!=="space"||t.which===9||t.code==="Backspace"&&t.which===8)){var f=!1;switch(u(this.formatPainterModule)||(f=this.formatPainterModule.previousAction==="escape"),f||(this.editorMode==="HTML"&&(t.action==="increase-fontsize"||t.action==="decrease-fontsize")?this.notify(ip,{member:"onHandleFontsizeChange",args:t}):this.formatter.process(this,null,t)),t.action){case"toolbar-focus":if(this.toolbarSettings.enable&&this.getToolbarElement()){var m=this.getToolbarElement().querySelector(".e-toolbar-item:not(.e-overlay)[title]"),g=this.getRenderedQuickToolbarElem();if(g&&(m=g.querySelector(".e-toolbar-item:not(.e-overlay)[title]")),m){var v=m.firstElementChild;v.removeAttribute("tabindex"),v.focus()}}break;case"escape":this.contentModule.getEditPanel().focus();break}}u(this.placeholder)||(!u(this.placeHolderWrapper)&&this.inputElement.textContent.length!==1?this.placeHolderWrapper.style.display="none":this.iframeSettings.enable&&this.inputElement.classList.contains("e-rte-placeholder")?L([this.inputElement],"e-rte-placeholder"):this.setPlaceHolder()),this.notify(zh,{member:"afterKeyDown",args:t}),this.autoResize()},e.prototype.keyUp=function(t){if(this.editorMode==="HTML"){var i=this.getRange();if(!u(t)&&!u(t.code)&&(t.code==="Backspace"||t.code==="Delete")){var n=this.getRange(),s=this.iframeSettings.enable?this.contentModule.getPanel().ownerDocument.getSelection():this.contentModule.getDocument().getSelection();s.rangeCount>0&&(s.removeAllRanges(),s.addRange(n))}if(N.userAgent.indexOf("Firefox")!==-1&&i.startContainer.nodeName==="#text"&&i.startContainer.parentElement===this.inputElement&&this.enterKey!=="BR"){var o=this.getRange(),a=this.createElement(this.enterKey);o.startContainer.parentElement.insertBefore(a,o.startContainer),a.appendChild(o.startContainer),this.formatter.editorManager.nodeSelection.setSelectionText(this.contentModule.getDocument(),a.childNodes[0],a.childNodes[0],a.childNodes[0].textContent.length,a.childNodes[0].textContent.length)}}this.notify(At,{member:"keyup",args:t}),(t.keyCode===39||t.keyCode===37)&&this.notify(mh,{member:"tableModulekeyUp",args:t}),t.code==="KeyX"&&t.which===88&&t.keyCode===88&&t.ctrlKey&&(this.inputElement.innerHTML===""||this.inputElement.innerHTML==="<br>")&&(this.inputElement.innerHTML=ia(mp(this),this));var l=t.which===32||t.which===13||t.which===8||t.which===46,h=t.key==="C"&&t.altKey&&t.shiftKey,c=t.key==="V"&&t.altKey&&t.shiftKey;(!h&&!c&&(t.key!=="shift"&&!t.ctrlKey&&t.key&&t.key.length===1||l)||this.editorMode==="Markdown"&&(t.key!=="shift"&&!t.ctrlKey&&t.key&&t.key.length===1||l)||this.autoSaveOnIdle&&N.isDevice&&!this.inlineMode.enable)&&this.formatter.onKeyHandler(this,t),(this.inputElement&&this.inputElement.textContent.length!==0||this.element.querySelectorAll(".e-toolbar-item.e-active").length>0||this.formatter.getUndoRedoStack().length>0)&&this.notify(Cn,{args:t}),u(this.placeholder)||!(t.key==="Enter"&&t.keyCode===13)&&(this.inputElement.innerHTML==="<p><br></p>"||this.inputElement.innerHTML==="<div><br></div>"||this.inputElement.innerHTML==="<br>")&&this.setPlaceHolder()},e.prototype.serializeValue=function(t){return this.editorMode==="HTML"&&!u(t)&&(this.enableHtmlEncode?(t=this.htmlEditorModule.sanitizeHelper(Wn(t)),t=this.encode(t)):(t=this.htmlEditorModule.sanitizeHelper(t),t=this.enableXhtml?this.htmlEditorModule.xhtmlValidation.selfEncloseValidation(t):t)),t},e.prototype.sanitizeHtml=function(t){return this.serializeValue(t)},e.prototype.updateValue=function(t){if(u(t)){var i=this.inputElement.innerHTML;this.setProperties({value:mM(i)?null:i})}else this.setProperties({value:t})},e.prototype.triggerEditArea=function(t){if(!it())this.notify(xi,{member:"editAreaClick",args:t});else{var i=t.touches?t.changedTouches[0]:t;this.clickPoints.clientX===i.clientX&&this.clickPoints.clientY===i.clientY&&this.notify(xi,{member:"editAreaClick",args:t})}},e.prototype.notifyMouseUp=function(t){var i=t.touches?t.changedTouches[0]:t;this.notify(Ds,{member:"mouseUp",args:t,touchData:{prevClientX:this.clickPoints.clientX,prevClientY:this.clickPoints.clientY,clientX:i.clientX,clientY:i.clientY}}),(this.inputElement&&(this.editorMode==="HTML"&&this.inputElement.textContent.length!==0||this.editorMode==="Markdown"&&this.inputElement.value.length!==0)||t.target&&!u(S(t.target,"table"))||t.target&&(t.target.nodeName==="VIDEO"||t.target.querySelectorAll("."+Vs).length>0)||t.target&&t.target.nodeName!=="BR"&&(t.target.classList.contains(Ja)||t.target.classList.contains(es)||t.target.classList.contains(Fs)))&&this.notify(Cn,{args:t}),this.triggerEditArea(t)},e.prototype.mouseUp=function(t){if(this.quickToolbarSettings.showOnRightClick&&N.isDevice){var i=t.target,n=S(i,"table");if(i&&i.nodeName==="A"||i.nodeName==="IMG"||i.nodeName==="TD"||i.nodeName==="TH"||i.nodeName==="TABLE"||n&&this.contentModule.getEditPanel().contains(n))return}this.notifyMouseUp(t)},e.prototype.ensureModuleInjected=function(t){return this.getInjectedModules().indexOf(t)>=0},e.prototype.onCopy=function(){this.contentModule.getDocument().execCommand("copy",!1,null)},e.prototype.onCut=function(){this.contentModule.getDocument().execCommand("cut",!1,null)},e.prototype.onPaste=function(t){var i=this,n={originalEvent:t,cancel:!1,requestType:"Paste"};this.trigger(Ht,n,function(s){var o=i.getText().replace(/(\r\n|\n|\r|\t)/gm,"").replace(/\u200B/g,"").length,a=i.getSelection().length,l=u(t)||u(t.clipboardData)?0:t.clipboardData.getData("text/plain").replace(/(\r\n|\n|\r|\t)/gm,"").replace(/\u200B/g,"").length,h=o-a+l;if(i.editorMode==="Markdown"){var c={requestType:"Paste",editorMode:i.editorMode,event:t};setTimeout(function(){i.formatter.onSuccess(i,c)},0),i.maxLength===-1||h<=i.maxLength||t.preventDefault();return}if(!s.cancel&&i.inputElement.contentEditable==="true"&&(i.maxLength===-1||h<=i.maxLength))if(!u(i.pasteCleanupModule))i.notify(iS,{args:t});else{console.warn('[WARNING] :: Module "pasteCleanup" is not available in RichTextEditor component! You either misspelled the module name or forgot to load it.');var p={requestType:"Paste",editorMode:i.editorMode,event:t},d=null,f=!1;t&&!u(t.clipboardData)&&(d=t.clipboardData.getData("text/plain"),f=t.clipboardData.getData("text/html").indexOf("MsoNormal")>0);var m=t&&t.clipboardData&&t.clipboardData.items.length>0?t.clipboardData.items[0].getAsFile():null;d!==null&&i.notify(Rs,{file:m,args:t,text:d,isWordPaste:f}),setTimeout(function(){i.formatter.onSuccess(i,p)},0)}else t.preventDefault()})},e.prototype.clipboardAction=function(t,i){switch(t.toLowerCase()){case"cut":this.onCut(),this.formatter.onSuccess(this,{requestType:"Cut",editorMode:this.editorMode,event:i});break;case"copy":this.onCopy(),this.formatter.onSuccess(this,{requestType:"Copy",editorMode:this.editorMode,event:i});break;case"paste":this.onPaste(i);break}},e.prototype.destroy=function(){if(!(this.isDestroyed||!this.isRendered)){if(u(this.timeInterval)||(clearInterval(this.timeInterval),this.timeInterval=null),this.element.offsetParent===null){u(this.toolbarModule)||this.toolbarModule.destroy(),this.notify(Qe,{}),r.prototype.destroy.call(this),this.isRendered=!1;return}if(this.notify(ue,{}),this.destroyDependentModules(),this.unWireEvents(),this.originalElement.tagName==="TEXTAREA"){this.element.parentElement.insertBefore(this.valueContainer,this.element),this.valueContainer.id=this.getID(),this.valueContainer.removeAttribute("name"),w(this.element),this.originalElement.innerHTML.trim()!==""?(this.valueContainer.value=this.originalElement.innerHTML.trim(),this.setProperties({value:u(this.initialValue)?null:this.initialValue},!0)):this.valueContainer.value=this.valueContainer.defaultValue,this.element=this.valueContainer;for(var t=0;t<this.originalElement.classList.length;t++)E([this.element],this.originalElement.classList[t]);if(!u(this.cssClass))for(var i=this.cssClass.split(" "),t=0;t<i.length;t++)E([this.element],i[t]);L([this.element],Ag)}else this.originalElement.innerHTML.trim()!==""?(this.element.innerHTML=this.originalElement.innerHTML.trim(),this.setProperties({value:u(this.initialValue)?null:this.initialValue},!0)):this.element.innerHTML="";if(this.placeholder&&this.placeHolderWrapper&&(this.placeHolderWrapper=null),!u(this.cssClass))for(var n=this.cssClass.split(" "),t=0;t<n.length;t++)n[t].trim()!==""&&L([this.element],n[t]);this.removeHtmlAttributes(),this.removeAttributes(),r.prototype.destroy.call(this),this.isRendered=!1}},e.prototype.removeHtmlAttributes=function(){if(this.htmlAttributes)for(var t=Object.keys(this.htmlAttributes),i=0;i<t.length&&this.element.hasAttribute(t[i]);i++)this.element.removeAttribute(t[i])},e.prototype.removeAttributes=function(){this.enabled||L([this.element],np),this.enableRtl&&L([this.element],Jr),this.readonly&&L([this.element],$s),this.element.style.width!==""&&this.originalElement.style.width===""&&this.element.style.removeProperty("width"),this.element.style.height!==""&&this.originalElement.style.height===""&&this.element.style.removeProperty("height"),this.element.removeAttribute("aria-disabled"),this.element.removeAttribute("role"),this.element.removeAttribute("tabindex")},e.prototype.destroyDependentModules=function(){this.renderModule.destroy(),this.formatter.editorManager.undoRedoManager.destroy(),this.sourceCodeModule.destroy()},e.prototype.getContent=function(){return this.contentModule.getPanel()},e.prototype.getText=function(){return this.contentModule.getText()},e.prototype.getSelectedHtml=function(){var t,i=this.createElement("div"),n=this.contentModule.getDocument().getSelection();if(n.rangeCount>0){t=n.getRangeAt(0);var s=t.cloneContents();i.appendChild(s)}return i.innerHTML},e.prototype.showInlineToolbar=function(){if(this.inlineMode.enable){var t=this.getRange(),i=t.endContainer.nodeName==="#text"?t.endContainer.parentElement:t.endContainer,n=t.getClientRects()[0].left,s=t.getClientRects()[0].top;this.quickToolbarModule.showInlineQTBar(n,s,i)}},e.prototype.hideInlineToolbar=function(){this.quickToolbarModule.hideInlineQTBar()},e.prototype.getModuleName=function(){return"richtexteditor"},e.prototype.onPropertyChanged=function(t,i){for(var n=0,s=Object.keys(t);n<s.length;n++){var o=s[n];switch(o){case"enterKey":case"value":{var a=void 0;o==="enterKey"?this.value===null||this.value==="<div><br></div>"||this.value==="<p><br></p>"||this.value==="<br>"?a=null:a=this.value:a=t[o],a=this.serializeValue(a);var l=this.editorMode==="HTML"?ia(a,this):a;(!u(a)&&a!==""||o==="enterKey")&&this.setProperties({value:this.enableHtmlEncode?this.encode(Wn(l)):l},!0),this.updatePanelValue(),this.inputElement&&this.notify(ws,{}),this.setPlaceHolder(),this.notify(Hs,{module:"XhtmlValidation",newProp:t,oldProp:i}),this.enableXhtml&&this.setProperties({value:this.getXhtml()},!0),this.showCharCount&&this.countModule.refresh(),this.addAudioVideoWrapper();break}case"valueTemplate":this.setValue(!0),this.showCharCount&&this.countModule.refresh();break;case"width":this.setWidth(t[o]),this.toolbarSettings.enable&&!this.inlineMode.enable&&(this.toolbarModule.refreshToolbarOverflow(),this.resizeHandler());break;case"height":this.setHeight(t[o]),this.setContentHeight("Init"),this.autoResize();break;case"readonly":this.setReadOnly(!1);break;case"cssClass":this.element.classList.remove(i[o]),this.setCssClass(t[o]),this.notify(dt,{cssClass:t[o],oldCssClass:i[o]});break;case"enabled":this.setEnable();break;case"enableRtl":this.updateRTL();break;case"placeholder":this.placeholder=t[o],this.setPlaceHolder();break;case"htmlAttributes":nf(this.htmlAttributes,this,!1,!1);break;case"iframeSettings":{var h=i[o];if(h.resources){var c=this.contentModule.getDocument(),p=c.querySelector("head"),d=void 0;h.resources.scripts&&(d=p.querySelectorAll("."+yg),this.removeSheets(d)),h.resources.styles&&(d=p.querySelectorAll("."+bg),this.removeSheets(d))}this.setIframeSettings();break}case"locale":r.prototype.refresh.call(this);break;case"inlineMode":this.notify(Je,{module:"quickToolbar",newProp:t,oldProp:i}),this.setContentHeight("Init");break;case"toolbarSettings":this.notify(Je,{module:"toolbar",newProp:t,oldProp:i}),this.setContentHeight("Init");break;case"maxLength":this.showCharCount&&this.countModule.refresh();break;case"showCharCount":t[o]&&this.countModule?this.countModule.renderCount():t[o]===!1&&this.countModule&&this.countModule.destroy();break;case"enableHtmlEncode":this.updateValueData(),this.updatePanelValue(),this.setPlaceHolder(),this.showCharCount&&this.countModule.refresh();break;case"undoRedoSteps":case"undoRedoTimer":this.formatter.editorManager.observer.notify(ua,{newProp:t,oldProp:i});break;case"enableXhtml":this.notify(Hs,{module:"XhtmlValidation",newProp:t,oldProp:i});break;case"quickToolbarSettings":t.quickToolbarSettings.showOnRightClick?this.wireContextEvent():this.unWireContextEvent(),this.notify(Je,{newProp:t,oldProp:i});break;case"formatPainterSettings":this.formatter.editorManager.observer.notify(ua,{module:"formatPainter",newProp:t});break;default:this.notify(Je,{newProp:t,oldProp:i});break}}},e.prototype.updateValueData=function(){this.enableHtmlEncode?this.setProperties({value:this.encode(Wn(this.inputElement.innerHTML))},!0):this.setProperties({value:/<[a-z][\s\S]*>/i.test(this.inputElement.innerHTML)?this.inputElement.innerHTML:Wn(this.inputElement.innerHTML)})},e.prototype.removeSheets=function(t){var i;for(i=0;i<t.length;i++)w(t[i])},e.prototype.updatePanelValue=function(){var t=this.value;t=this.enableHtmlEncode&&this.value?Wn(t):t;var i=this.element.querySelector("."+Mn);t?(i&&i.style.display==="block"&&(i.value=this.value),this.valueContainer&&(this.valueContainer.value=this.enableHtmlEncode?this.value:t),this.editorMode==="HTML"&&this.inputElement&&this.inputElement.innerHTML.trim()!==t.trim()?this.inputElement.innerHTML=t:this.editorMode==="Markdown"&&this.inputElement&&this.inputElement.value.trim()!==t.trim()&&(this.inputElement.value=t)):(i&&i.style.display==="block"&&(i.value=""),this.editorMode==="HTML"?this.enterKey==="DIV"?this.inputElement.innerHTML="<div><br/></div>":this.enterKey==="BR"?this.inputElement.innerHTML="<br/>":this.inputElement.innerHTML="<p><br/></p>":this.inputElement.value="",this.valueContainer&&(this.valueContainer.value="")),this.showCharCount&&this.countModule.refresh()},e.prototype.setHeight=function(t){t!=="auto"?this.element.style.height=W(t):this.element.style.height="auto",this.toolbarSettings.type==="Expand"&&(typeof this.height=="string"&&this.height.indexOf("px")>-1||typeof this.height=="number")?this.element.classList.add(zg):this.element.classList.remove(zg)},e.prototype.setPlaceHolder=function(){this.inputElement&&this.placeholder&&this.iframeSettings.enable!==!0&&(this.editorMode!=="Markdown"?(this.placeHolderWrapper||(this.placeHolderWrapper=this.createElement("span",{className:"rte-placeholder e-rte-placeholder "+this.cssClass}),this.inputElement&&this.inputElement.parentElement.insertBefore(this.placeHolderWrapper,this.inputElement),pe(this.placeHolderWrapper,{style:"font-size: 14px; margin-left: 0px; margin-right: 0px;"})),this.placeHolderWrapper.innerHTML=this.placeholder,this.inputElement.textContent.length===0&&this.inputElement.childNodes.length<2&&!u(this.inputElement.firstChild)&&(this.inputElement.firstChild.nodeName==="BR"||(this.inputElement.firstChild.nodeName==="P"||this.inputElement.firstChild.nodeName==="DIV")&&!u(this.inputElement.firstChild.firstChild)&&this.inputElement.firstChild.firstChild.nodeName==="BR")?this.placeHolderWrapper.style.display="block":this.placeHolderWrapper.style.display="none"):this.inputElement.setAttribute("placeholder",this.placeholder)),this.placeholder&&this.iframeSettings.enable&&this.inputElement&&(this.inputElement.textContent.length===0&&this.inputElement.childNodes.length<2&&!u(this.inputElement.firstChild)&&(this.inputElement.firstChild.nodeName==="BR"||(this.inputElement.firstChild.nodeName==="P"||this.inputElement.firstChild.nodeName==="DIV")&&!u(this.inputElement.firstChild.firstChild)&&this.inputElement.firstChild.firstChild.nodeName==="BR")?(E([this.inputElement],"e-rte-placeholder"),this.inputElement.setAttribute("placeholder",this.placeholder)):L([this.inputElement],"e-rte-placeholder"))},e.prototype.setWidth=function(t){t!=="auto"?he(this.element,{width:W(this.width)}):this.element.style.width="auto"},e.prototype.setCssClass=function(t){if(!u(t))for(var i=t.split(" "),n=0;n<i.length;n++)i[n].trim()!==""&&this.element.classList.add(i[n])},e.prototype.updateRTL=function(){this.notify(_i,{enableRtl:this.enableRtl}),this.enableRtl?(this.element.classList.add(Jr),this.inputElement.classList.add(Jr)):(this.element.classList.remove(Jr),this.inputElement.classList.remove(Jr))},e.prototype.updateReadOnly=function(){this.notify(Us,{editPanel:this.inputElement,mode:this.readonly})},e.prototype.setReadOnly=function(t){this.updateReadOnly(),t||(this.readonly&&this.enabled?(this.unbindEvents(),this.unWireEvents()):this.enabled&&this.wireEvents())},e.prototype.print=function(){var t=this,i,n={element:this.inputElement,requestType:"print",cancel:!1};this.trigger(Ht,n,function(s){if(i=window.open("","print","height="+window.outerHeight+",width="+window.outerWidth),N.info.name==="msie"&&i.resizeTo(screen.availWidth,screen.availHeight),i=tC(t.inputElement,i),!s.cancel){var o={requestType:"print"};t.trigger(ei,o)}})},e.prototype.refreshUI=function(){this.renderModule.refresh()},e.prototype.showFullScreen=function(){this.fullScreenModule.showFullScreen()},e.prototype.enableToolbarItem=function(t,i){this.toolbarModule.enableTBarItems(this.getBaseToolbarObject(),t,!0,i)},e.prototype.disableToolbarItem=function(t,i){this.toolbarModule.enableTBarItems(this.getBaseToolbarObject(),t,!1,i)},e.prototype.removeToolbarItem=function(t){this.toolbarModule.removeTBarItems(t)},e.prototype.getRange=function(){return this.formatter.editorManager.nodeSelection.getRange(this.contentModule.getDocument())},e.prototype.initializeServices=function(){this.serviceLocator.register("rendererFactory",new ud),this.serviceLocator.register("rteLocale",this.localeObj=new Qi(this.getModuleName(),hl,this.locale)),this.serviceLocator.register("dialogRenderObject",new qx(this))},e.prototype.RTERender=function(){var t=this.serviceLocator.getService("rendererFactory");this.contentModule=t.getRenderer(ve.Content),this.fullScreenModule=new Qx(this),this.enterKeyModule=new gw(this),this.renderModule.render(),this.inputElement=this.contentModule.getEditPanel(),this.setHeight(this.height),nf(this.htmlAttributes,this,!1,!0),this.iframeSettings&&this.setIframeSettings(),this.setCssClass(this.cssClass),this.updateEnable(),this.setPlaceHolder(),this.updateRTL(),this.updateReadOnly(),this.updatePanelValue(),this.enableHtmlEncode&&!u(this.value)&&this.setProperties({value:this.encode(Wn(this.value))})},e.prototype.setIframeSettings=function(){if(this.iframeSettings.resources){var t=this.iframeSettings.resources.styles,i=this.iframeSettings.resources.scripts;!u(this.iframeSettings.resources.scripts)&&this.iframeSettings.resources.scripts.length>0&&this.InjectSheet(!0,i),!u(this.iframeSettings.resources.styles)&&this.iframeSettings.resources.styles.length>0&&this.InjectSheet(!1,t)}this.iframeSettings.attributes&&nf(this.iframeSettings.attributes,this,!0,!1)},e.prototype.InjectSheet=function(t,i){try{if(i&&i.length>0)for(var n=this.contentModule.getDocument(),s=n.querySelector("head"),o=0;o<i.length;o++)if(t){var a=this.createScriptElement();a.src=i[o],s.appendChild(a)}else{var l=this.createStyleElement();l.href=i[o],s.appendChild(l)}}catch{return}},e.prototype.createScriptElement=function(){var t=this.createElement("script",{className:yg});return t.type="text/javascript",t},e.prototype.createStyleElement=function(){var t=this.createElement("link",{className:bg});return t.rel="stylesheet",t},e.prototype.setValue=function(t){var i=this;if(this.valueTemplate){var n=new RegExp(/<(?=.*? .*?\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\/\1>/i);if(typeof this.valueTemplate=="string"&&n.test(this.valueTemplate))this.setProperties({value:this.valueTemplate});else{var s=Ui(this.valueTemplate)("",this,"valueTemplate");if(typeof this.valueTemplate!="string"&&this.isReact){this.displayTempElem=this.createElement("div");for(var o=0;o<s.length;o++){var a=s[o];st([a],this.displayTempElem)}this.renderTemplates(function(){i.inputElement.innerHTML=i.displayTempElem.childNodes[0].innerHTML,i.setProperties({value:i.inputElement.innerHTML.trim()})})}else{var l=this.element;t&&(this.inputElement.innerHTML="",l=this.inputElement);for(var o=0;o<s.length;o++){var a=s[o];st([a],l)}this.setProperties({value:l.innerHTML.trim()}),this.renderReactTemplates()}}}else{var h=!u(this.element.innerHTML)&&this.element.innerHTML.replace(/<(\/?|\!?)(!--!--)>/g,"").trim();h!==""&&(this.element.tagName==="TEXTAREA"?this.setProperties({value:Wn(h)}):this.setProperties({value:h}))}},e.prototype.renderTemplates=function(t){this.renderReactTemplates(t)},e.prototype.updateResizeFlag=function(){this.isResizeInitialized=!0},e.prototype.getInsertImgMaxWidth=function(){var t=this.insertImageSettings.maxWidth,i=12,n=2,s=this.contentModule.getEditPanel();if(this.editorMode==="HTML"&&!u(this.formatter.editorManager.nodeSelection)&&!u(this.formatter.editorManager.nodeSelection.range)){var o=this.formatter.editorManager.nodeSelection.range;o.startContainer.nodeType!==3&&o.startContainer.closest&&!u(o.startContainer.closest("TD"))&&(s=o.startContainer)}var a=window.getComputedStyle(s),l=s.offsetWidth-(i+n+parseFloat(a.paddingLeft.split("px")[0])+parseFloat(a.paddingRight.split("px")[0])+parseFloat(a.marginLeft.split("px")[0])+parseFloat(a.marginRight.split("px")[0]));return u(t)?l:t},e.prototype.getInsertVidMaxWidth=function(){var t=this.insertVideoSettings.maxWidth,i=12,n=2,s=this.contentModule.getEditPanel(),o=window.getComputedStyle(s),a=s.offsetWidth-(i+n+parseFloat(o.paddingLeft.split("px")[0])+parseFloat(o.paddingRight.split("px")[0])+parseFloat(o.marginLeft.split("px")[0])+parseFloat(o.marginRight.split("px")[0]));return u(t)?a:t},e.prototype.setContentHeight=function(t,i){var n,s,o=typeof this.height=="string"&&this.height.indexOf("%")>-1,a=this.contentModule.getPanel(),l=this.element.offsetHeight;l===0&&this.height!=="auto"&&!this.getToolbar()&&(l=parseInt(this.height,10),o&&(s=this.height));var h=this.getToolbar()?this.toolbarModule.getToolbarHeight():0,c=this.element.querySelector("."+qS),p=this.enableResize?u(c)?0:c.offsetHeight+8:0,d=this.getToolbar()?this.toolbarModule.getExpandTBarPopHeight():0;t&&t!=="Toolbar"&&d&&this.element.querySelectorAll(".e-toolbar-extended.e-popup-open").length>0&&(h=h-d),this.toolbarSettings.type===ti.Expand?i?n=this.height==="auto"&&this.element.style.height==="auto"?"auto":l-(h+d+p)+"px":n=this.height==="auto"&&this.element.style.height==="auto"?"auto":l-(h-d+p)+"px":n=this.height==="auto"&&this.element.style.height==="auto"?"auto":l-h+"px";var f=o&&s?s:n;switch(t){case"Init":case"Toolbar":case"WindowResize":case"Refresh":this.element.querySelectorAll(".e-source-content").length>0&&this.element.querySelector(".e-source-content").style.display==="block"?he(this.element.querySelector(".e-source-content"),{height:f}):he(a,{height:f});break;case"Resize":he(a,{height:f});break}p===0&&this.autoResize()},e.prototype.getHtml=function(){var t=this.removeResizeElement(this.contentModule.getEditPanel().innerHTML);return this.enableXhtml&&(t==="<p><br></p>"||t==="<div><br></div>"||t==="<br>")?null:this.serializeValue(t)},e.prototype.getXhtml=function(){var t=this.removeResizeElement(this.value);return!u(t)&&this.enableXhtml&&(t=this.htmlEditorModule.xhtmlValidation.selfEncloseValidation(t)),t},e.prototype.showSourceCode=function(){this.readonly||this.notify(_o,{})},e.prototype.getCharCount=function(){var t=this.editorMode==="Markdown"?this.inputElement.value.trim():this.inputElement.textContent.trim(),i;return this.editorMode!=="Markdown"&&t.indexOf("\u200B")!==-1?i=t.replace(/\u200B/g,"").length:i=t.length,i},e.prototype.showDialog=function(t){t===ln.InsertLink?this.notify(Eh,{}):t===ln.InsertImage?this.notify(Dh,{}):t===ln.InsertAudio?this.notify(bS,{}):t===ln.InsertVideo?this.notify(Lh,{}):t===ln.InsertTable&&this.notify(Ph,{})},e.prototype.closeDialog=function(t){t===ln.InsertLink?this.notify(kh,{}):t===ln.InsertImage?this.notify(Ah,{}):t===ln.InsertAudio?this.notify(OS,{}):t===ln.InsertVideo?this.notify(Ih,{}):t===ln.InsertTable&&this.notify(jh,{})},e.prototype.getBaseToolbarObject=function(){var t;return this.inlineMode.enable&&(!N.isDevice||it())?t=this.quickToolbarModule&&this.quickToolbarModule.getInlineBaseToolbar():t=this.toolbarModule&&this.toolbarModule.getBaseToolbar(),t},e.prototype.getToolbar=function(){return this.toolbarModule?this.toolbarModule.getToolbarElement():null},e.prototype.getToolbarElement=function(){return this.toolbarModule&&this.toolbarModule.getToolbarElement()},e.prototype.getID=function(){return this.originalElement.tagName==="TEXTAREA"?this.valueContainer.id:this.element.id},e.prototype.getCssClass=function(t){return u(this.cssClass)?"":t?" "+this.cssClass:this.cssClass},e.prototype.mouseDownHandler=function(t){var i=t.touches?t.changedTouches[0]:t;E([this.element],[lp]),this.preventDefaultResize(t),this.notify(li,{args:t}),this.formatter.editorManager.observer.notify(li,{args:t}),this.clickPoints={clientX:i.clientX,clientY:i.clientY}},e.prototype.preventImgResize=function(t){t.target.nodeName.toLocaleLowerCase()==="img"&&t.preventDefault()},e.prototype.preventDefaultResize=function(t){N.info.name==="msie"?this.contentModule.getEditPanel().addEventListener("mscontrolselect",this.preventImgResize):N.info.name==="mozilla"&&(this.contentModule.getDocument().execCommand("enableObjectResizing",!1,"false"),this.contentModule.getDocument().execCommand("enableInlineTableEditing",!1,"false"))},e.prototype.defaultResize=function(t){N.info.name==="msie"?this.contentModule.getEditPanel().removeEventListener("mscontrolselect",this.preventImgResize):N.info.name==="mozilla"&&(this.contentModule.getDocument().execCommand("enableObjectResizing",!0,"true"),this.contentModule.getDocument().execCommand("enableInlineTableEditing",!0,"true"))},e.prototype.resizeHandler=function(){var t=!1;if(!document.body.contains(this.element)){document.defaultView.removeEventListener("resize",Ji(this.onResizeHandler,10),!0);return}this.toolbarSettings.enable&&!this.inlineMode.enable&&(this.toolbarModule.refreshToolbarOverflow(),t=this.toolbarModule.baseToolbar.toolbarObj.element.classList.contains(Cr)),this.setContentHeight("WindowResize",t),this.notify(Ls,null)},e.prototype.scrollHandler=function(t){this.element&&this.notify(gr,{args:t})},e.prototype.contentScrollHandler=function(t){this.notify(vr,{args:t})},e.prototype.focusHandler=function(t){if(!this.isRTE||this.isFocusOut){this.isRTE=!this.isFocusOut,this.isFocusOut=!1,E([this.element],[lp]),this.editorMode==="HTML"?this.cloneValue=this.inputElement.innerHTML==="<p><br></p>"||this.inputElement.innerHTML==="<div><br></div>"||this.inputElement.innerHTML==="<br>"?null:this.enableHtmlEncode?this.encode(Wn(this.inputElement.innerHTML)):this.inputElement.innerHTML:this.cloneValue=this.inputElement.value===""?null:this.inputElement.value;var i=document.activeElement;if((i===this.element||i===this.getToolbarElement()||i===this.contentModule.getEditPanel()||this.iframeSettings.enable&&i===this.contentModule.getPanel()&&t.target&&!t.target.classList.contains("e-img-inner")&&t.target&&t.target.parentElement&&!t.target.parentElement.classList.contains("e-img-wrap")||S(i,".e-rte-toolbar")===this.getToolbarElement())&&(this.contentModule.getEditPanel().focus(),!u(this.getToolbarElement()))){this.getToolbarElement().setAttribute("tabindex","-1");for(var n=this.getToolbarElement().querySelectorAll('[tabindex="0"]'),s=0;s<n.length;s++)n[s].setAttribute("tabindex","-1")}this.preventDefaultResize(t),this.trigger("focus",{event:t,isInteracted:Object.keys(t).length!==0}),!u(this.saveInterval)&&this.saveInterval>0&&!this.autoSaveOnIdle&&(this.timeInterval=setInterval(this.updateValueOnIdle.bind(this),this.saveInterval)),y.add(document,"mousedown",this.onDocumentClick,this)}if(!this.readonly){var o=this.getCurrentFocus(t);(o==="editArea"||o==="textArea"||o==="sourceCode")&&this.resetToolbarTabIndex()}},e.prototype.getUpdatedValue=function(){var t,i=this.element.querySelector("."+Mn);return this.editorMode==="HTML"?(t=this.inputElement.innerHTML==="<p><br></p>"||this.inputElement.innerHTML==="<div><br></div>"||this.inputElement.innerHTML==="<br>"?null:this.enableHtmlEncode?this.encode(Wn(this.removeResizeElement(this.inputElement.innerHTML))):this.inputElement.innerHTML,i&&i.style.display==="block"&&(t=i.value)):t=this.inputElement.value===""?null:this.inputElement.value,t!=null&&!this.enableHtmlEncode&&(t=this.removeResizeElement(t)),t},e.prototype.updateValueOnIdle=function(){!u(this.tableModule)&&!u(this.inputElement.querySelector(".e-table-box.e-rbox-select"))||(this.setProperties({value:this.getUpdatedValue()},!0),this.valueContainer.value=this.value,this.isValueChangeBlurhandler=!1,this.invokeChangeEvent())},e.prototype.updateIntervalValue=function(){clearTimeout(this.idleInterval),this.idleInterval=setTimeout(this.updateValueOnIdle.bind(this),0)},e.prototype.cleanupResizeElements=function(t){var i=this.removeResizeElement(t.value);t.callBack(i)},e.prototype.addAnchorAriaLabel=function(t){var i=document.createElement("div");i.innerHTML=t;var n=i.querySelectorAll("a");if(n.length>0)for(var s=0;s<n.length;s++)n[s].hasAttribute("target")&&n[s].getAttribute("target")==="_blank"?n[s].setAttribute("aria-label",this.serviceLocator.getService("rteLocale").getConstant("linkAriaLabel")):n[s];return i.innerHTML},e.prototype.removeResizeElement=function(t){var i=document.createElement("div");i.innerHTML=t;var n=i.querySelectorAll(".e-column-resize, .e-row-resize, .e-table-box, .e-table-rhelper, .e-img-resize");if(n.length>0)for(var s=0;s<n.length;s++)w(n[s]);return this.removeSelectionClassStates(i),i.innerHTML},e.prototype.updateStatus=function(t){if(!u(t.html)||!u(t.markdown)){var i=this.formatter.editorManager.undoRedoManager.getUndoStatus(),n={undo:i.undo,redo:i.redo,html:t.html,markdown:t.markdown};this.trigger(JC,n)}},e.prototype.onDocumentClick=function(t){var i=t.target,n=S(i,"."+Zo);!this.element.contains(t.target)&&document!==t.target&&n!==this.element&&!S(i,'[aria-owns="'+this.getID()+'"]')&&(this.isBlur=!0,this.isRTE=!1),this.notify(Bs,{args:t});var s=this.quickToolbarModule&&!this.inlineMode.enable&&u(this.quickToolbarModule.inlineQTBar);(s&&!u(S(i,".e-toolbar-wrapper"))||s&&(!u(S(i,".e-rte-table-resize"))||!u(S(i,".e-table-box"))))&&this.quickToolbarModule.hideQuickToolbars(),N.info.name!=="msie"&&t.detail>3&&t.preventDefault()},e.prototype.blurHandler=function(t){var i=t.relatedTarget;if(i){var n=S(i,"."+Zo);if(!n&&this.iframeSettings.enable){var s=this.element.querySelector("#"+this.getID()+"_rte-view");s&&s.contentWindow.document.body.contains(i)&&(n=S(s,"."+Zo))}n&&n===this.element?(this.isBlur=!1,i===this.getToolbarElement()&&i.setAttribute("tabindex","-1")):S(i,'[aria-owns="'+this.getID()+'"]')||S(i,"."+at)?this.isBlur=!1:(this.isBlur=!0,i=null)}if(this.isBlur&&u(i)){L([this.element],[lp]),this.removeSelectionClassStates(this.inputElement),this.notify(Ps,{});var o=this.getUpdatedValue();this.setProperties({value:o}),this.valueContainer.value=this.value,this.notify(Cn,{args:t,documentNode:document}),this.isValueChangeBlurhandler=!0,this.invokeChangeEvent(),this.isFocusOut=!0,this.isBlur=!1,Tn(this.valueContainer,"focusout"),this.defaultResize(t),this.trigger("blur",{event:t,isInteracted:Object.keys(t).length!==0}),u(this.timeInterval)||(clearInterval(this.timeInterval),this.timeInterval=null),!u(this.placeHolderWrapper)&&this.element.querySelector("[title = Preview]")&&(this.placeHolderWrapper.style.display="none"),y.remove(document,"mousedown",this.onDocumentClick)}else this.isRTE=!0;!this.readonly&&this.getCurrentFocus(t)==="outside"&&this.resetToolbarTabIndex()},e.prototype.contentChanged=function(){this.autoSaveOnIdle&&(u(this.saveInterval)||(clearTimeout(this.timeInterval),this.timeInterval=setTimeout(this.updateIntervalValue.bind(this),this.saveInterval)))},e.prototype.invokeChangeEvent=function(){var t;this.enableXhtml?t=this.getXhtml():t=this.value;var i={value:t,isInteracted:this.isValueChangeBlurhandler};this.value!==this.cloneValue&&(this.trigger("change",i),this.cloneValue=this.value)},e.prototype.wireScrollElementsEvents=function(){this.scrollParentElements=pl(this.element);for(var t=0,i=this.scrollParentElements;t<i.length;t++){var n=i[t];y.add(n,"scroll",this.scrollHandler,this)}this.iframeSettings.enable||y.add(this.inputElement,"scroll",this.contentScrollHandler,this)},e.prototype.wireContextEvent=function(){this.quickToolbarSettings.showOnRightClick&&(y.add(this.inputElement,"contextmenu",this.contextHandler,this),N.isDevice&&(this.touchModule=new mr(this.inputElement,{tapHold:this.touchHandler.bind(this),tapHoldThreshold:500})))},e.prototype.unWireContextEvent=function(){y.remove(this.inputElement,"contextmenu",this.contextHandler),N.isDevice&&this.touchModule&&this.touchModule.destroy()},e.prototype.unWireScrollElementsEvents=function(){this.scrollParentElements=pl(this.element);for(var t=0,i=this.scrollParentElements;t<i.length;t++){var n=i[t];y.remove(n,"scroll",this.scrollHandler)}this.iframeSettings.enable||y.remove(this.inputElement,"scroll",this.contentScrollHandler)},e.prototype.touchHandler=function(t){this.notifyMouseUp(t.originalEvent),this.triggerEditArea(t.originalEvent)},e.prototype.contextHandler=function(t){var i=S(t.target,"a, table, img, video, audio");(this.inlineMode.onSelection===!1||!u(i)&&this.inputElement.contains(i)&&(i.tagName==="IMG"||i.tagName==="TABLE"||i.tagName==="A"||i.tagName.toLowerCase()==="video"||i.tagName.toLowerCase()==="audio"))&&t.preventDefault()},e.prototype.resetHandler=function(){var t=this.valueContainer.defaultValue.trim();this.setProperties({value:t===""?null:t})},e.prototype.autoResize=function(){var t=this;if(this.height==="auto"){if(this.editorMode==="Markdown")setTimeout(function(){t.setAutoHeight(t.inputElement)},0);else if(this.iframeSettings.enable){var i=this.element.querySelector("#"+this.getID()+"_rte-view");setTimeout(function(){t.setAutoHeight(i)},100),this.inputElement.style.overflow="hidden"}}else this.inputElement.style.overflow=null},e.prototype.setAutoHeight=function(t){if(!u(t)&&!this.iframeSettings.enable)t.style.height=this.inputElement.scrollHeight+"px",t.style.overflow="hidden";else if(!u(t)&&!u(t.parentElement)&&this.iframeSettings.enable){var i=this.getRange();t.style.height="auto";var n=t.contentDocument.body.scrollHeight+"px";t.style.height=n,t.style.overflow="hidden",i.startContainer.nodeName!=="#text"&&i.startContainer.nodeName!=="BODY"&&window.innerHeight<i.startContainer.getBoundingClientRect().top+t.getBoundingClientRect().top+16&&i.startContainer.scrollIntoView(!1)}},e.prototype.wireEvents=function(){this.element.addEventListener("focusin",this.onFocusHandler,!0),this.element.addEventListener("focusout",this.onBlurHandler,!0),this.on(zo,this.contentChanged,this),this.on(mg,this.updateResizeFlag,this),this.on(Yo,this.updateStatus,this),this.on(gg,this.cleanupResizeElements,this),this.on(Rh,this.updateValueOnIdle,this),!(this.readonly&&this.enabled)&&this.bindEvents()},e.prototype.restrict=function(t){if(this.maxLength>=0){var i=this.editorMode==="Markdown"?this.contentModule.getText():this.getText().replace(/(\r\n|\n|\r|\t)/gm,"").replace(/\u200B/g,"");if(!i)return;for(var n=[8,16,17,37,38,39,40,46,65],s=void 0,o=0;o<=n.length-1;o++)if(t.which===n[o]){if(t.ctrlKey&&t.which===65)return;if(t.which!==65){s=n[o];return}}i.length>=this.maxLength&&this.maxLength!==-1&&t.which!==s&&t.preventDefault()}},e.prototype.bindEvents=function(){this.keyboardModule=new Rc(this.inputElement,{keyAction:this.keyDown.bind(this),keyConfigs:Ey({},this.formatter.keyConfig,this.keyConfig),eventName:"keydown"});var t=S(this.valueContainer,"form");t&&y.add(t,"reset",this.resetHandler,this),y.add(this.inputElement,"keyup",this.keyUp,this),y.add(this.inputElement,"paste",this.onPaste,this),y.add(this.inputElement,"content-changed",this.contentChanged,this),y.add(this.inputElement,N.touchEndEvent,Ji(this.mouseUp,30),this),y.add(this.inputElement,N.touchStartEvent,this.mouseDownHandler,this),this.wireContextEvent(),this.formatter.editorManager.observer.on(Be,this.editorKeyDown,this),this.element.ownerDocument.defaultView.addEventListener("resize",Ji(this.onResizeHandler,10),!0),this.iframeSettings.enable&&(y.add(this.inputElement,"focusin",this.focusHandler,this),y.add(this.inputElement,"focusout",this.blurHandler,this),y.add(this.inputElement.ownerDocument,"scroll",this.contentScrollHandler,this),y.add(this.inputElement.ownerDocument,N.touchStartEvent,this.onIframeMouseDown,this)),this.wireScrollElementsEvents()},e.prototype.onIframeMouseDown=function(t){this.isBlur=!1,this.currentTarget=t.target,this.notify(Ut,t)},e.prototype.editorKeyDown=function(t){switch(t.event.action){case"copy":this.onCopy();break;case"cut":this.onCut();break;case"tab":this.iframeSettings.enable&&(this.isBlur=!0);break}t.callBack&&(t.event.action==="copy"||t.event.action==="cut"||t.event.action==="delete")&&t.callBack({requestType:t.event.action,editorMode:"HTML",event:t.event})},e.prototype.unWireEvents=function(){this.element.removeEventListener("focusin",this.onFocusHandler,!0),this.element.removeEventListener("focusout",this.onBlurHandler,!0),this.off(zo,this.contentChanged),this.off(mg,this.updateResizeFlag),this.off(Yo,this.updateStatus),this.off(gg,this.cleanupResizeElements),this.off(Rh,this.updateValueOnIdle),!(this.readonly&&this.enabled)&&this.unbindEvents()},e.prototype.unbindEvents=function(){this.keyboardModule&&this.keyboardModule.destroy();var t=S(this.valueContainer,"form");t&&y.remove(t,"reset",this.resetHandler),y.remove(this.inputElement,"keyup",this.keyUp),y.remove(this.inputElement,"paste",this.onPaste),y.remove(this.inputElement,"content-changed",this.contentChanged),y.remove(this.inputElement,N.touchEndEvent,Ji(this.mouseUp,30)),y.remove(this.inputElement,N.touchStartEvent,this.mouseDownHandler),this.unWireContextEvent(),this.formatter&&this.formatter.editorManager.observer.off(Be,this.editorKeyDown),this.element.ownerDocument.defaultView.removeEventListener("resize",Ji(this.onResizeHandler,10),!0),this.iframeSettings.enable&&(y.remove(this.inputElement,"focusin",this.focusHandler),y.remove(this.inputElement,"focusout",this.blurHandler),y.remove(this.inputElement.ownerDocument,"scroll",this.contentScrollHandler),y.remove(this.inputElement.ownerDocument,N.touchStartEvent,this.onIframeMouseDown)),this.unWireScrollElementsEvents()},e.prototype.getCurrentFocus=function(t){return t.target===this.inputElement&&document.activeElement===this.inputElement?"editArea":t.target===this.getToolbarElement()||!u(t.relatedTarget)&&S(t.relatedTarget,".e-rte-toolbar")===this.getToolbarElement()?"toolbar":t.target===this.valueContainer&&document.activeElement===this.valueContainer?"textArea":!u(t.target)&&t.target.classList.contains(Mn)&&document.activeElement===t.target?"sourceCode":"outside"},e.prototype.resetToolbarTabIndex=function(){if(this.getToolbarElement())for(var t=this.getToolbarElement().querySelectorAll("input,select,button,a,[tabindex]"),i=0;i<t.length;i++)!t[i].classList.contains("e-rte-dropdown-btn")&&!t[i].classList.contains("e-insert-table-btn")&&(!t[i].hasAttribute("tabindex")||t[i].getAttribute("tabindex")!=="-1")&&t[i].setAttribute("tabindex","-1")},e.prototype.removeSelectionClassStates=function(t){for(var i=[nl,wi,on,ZS],n=0;n<i.length;n++){var s=t.querySelectorAll("."+i[n]);if(L(s,i[n]),s.length!==0)for(var o=0;o<s.length;o++)s[o].classList.length===0&&s[o].removeAttribute("class"),s[o].nodeName==="IMG"&&s[o].style.outline!==""&&(s[o].style.outline="")}},e.prototype.getRenderedQuickToolbarElem=function(){for(var t=this.quickToolbarModule.getQuickToolbarInstance(),i=0;i<t.length;i++)if(t[i]&&t[i].isRendered)return t[i].element;return null},ee([we({},Zx)],e.prototype,"toolbarSettings",void 0),ee([we({},tw)],e.prototype,"quickToolbarSettings",void 0),ee([we({},rw)],e.prototype,"pasteCleanupSettings",void 0),ee([we({},iw)],e.prototype,"formatPainterSettings",void 0),ee([we({},nw)],e.prototype,"emojiPickerSettings",void 0),ee([we({},dw)],e.prototype,"iframeSettings",void 0),ee([we({},Xx)],e.prototype,"insertImageSettings",void 0),ee([we({},Gx)],e.prototype,"insertAudioSettings",void 0),ee([we({},Kx)],e.prototype,"insertVideoSettings",void 0),ee([we({},ew)],e.prototype,"tableSettings",void 0),ee([b(0)],e.prototype,"floatingToolbarOffset",void 0),ee([we({},mw)],e.prototype,"inlineMode",void 0),ee([we({},Jx)],e.prototype,"fileManagerSettings",void 0),ee([b("100%")],e.prototype,"width",void 0),ee([b(!1)],e.prototype,"enablePersistence",void 0),ee([b(!0)],e.prototype,"showTooltip",void 0),ee([b(!1)],e.prototype,"enableResize",void 0),ee([b({})],e.prototype,"htmlAttributes",void 0),ee([b(null)],e.prototype,"placeholder",void 0),ee([b(!1)],e.prototype,"autoSaveOnIdle",void 0),ee([b(!1)],e.prototype,"readonly",void 0),ee([b(!0)],e.prototype,"enabled",void 0),ee([b(!0)],e.prototype,"enableHtmlSanitizer",void 0),ee([b(!1)],e.prototype,"enableHtmlEncode",void 0),ee([b(!1)],e.prototype,"enableXhtml",void 0),ee([b("auto")],e.prototype,"height",void 0),ee([b(null)],e.prototype,"cssClass",void 0),ee([b(null)],e.prototype,"value",void 0),ee([b("P")],e.prototype,"enterKey",void 0),ee([b("BR")],e.prototype,"shiftEnterKey",void 0),ee([b(30)],e.prototype,"undoRedoSteps",void 0),ee([b(300)],e.prototype,"undoRedoTimer",void 0),ee([b("HTML")],e.prototype,"editorMode",void 0),ee([b(null)],e.prototype,"keyConfig",void 0),ee([b(!1)],e.prototype,"showCharCount",void 0),ee([b(!1)],e.prototype,"enableTabKey",void 0),ee([b(!1)],e.prototype,"enableAutoUrl",void 0),ee([b(-1)],e.prototype,"maxLength",void 0),ee([we({},aw)],e.prototype,"format",void 0),ee([we({},cw)],e.prototype,"numberFormatList",void 0),ee([we({},uw)],e.prototype,"bulletFormatList",void 0),ee([we({},sw)],e.prototype,"fontFamily",void 0),ee([we({},ow)],e.prototype,"fontSize",void 0),ee([we({},lw)],e.prototype,"fontColor",void 0),ee([we({},hw)],e.prototype,"backgroundColor",void 0),ee([b(null)],e.prototype,"valueTemplate",void 0),ee([b(1e4)],e.prototype,"saveInterval",void 0),ee([R()],e.prototype,"actionBegin",void 0),ee([R()],e.prototype,"actionComplete",void 0),ee([R()],e.prototype,"beforeDialogOpen",void 0),ee([R()],e.prototype,"dialogOpen",void 0),ee([R()],e.prototype,"beforeDialogClose",void 0),ee([R()],e.prototype,"dialogClose",void 0),ee([R()],e.prototype,"beforeQuickToolbarOpen",void 0),ee([R()],e.prototype,"quickToolbarOpen",void 0),ee([R()],e.prototype,"quickToolbarClose",void 0),ee([R()],e.prototype,"toolbarStatusUpdate",void 0),ee([R()],e.prototype,"updatedToolbarStatus",void 0),ee([R()],e.prototype,"imageSelected",void 0),ee([R()],e.prototype,"beforeImageUpload",void 0),ee([R()],e.prototype,"imageUploading",void 0),ee([R()],e.prototype,"imageUploadSuccess",void 0),ee([R()],e.prototype,"imageUploadFailed",void 0),ee([R()],e.prototype,"imageRemoving",void 0),ee([R()],e.prototype,"afterImageDelete",void 0),ee([R()],e.prototype,"fileSelected",void 0),ee([R()],e.prototype,"beforeFileUpload",void 0),ee([R()],e.prototype,"fileUploading",void 0),ee([R()],e.prototype,"fileUploadSuccess",void 0),ee([R()],e.prototype,"fileUploadFailed",void 0),ee([R()],e.prototype,"fileRemoving",void 0),ee([R()],e.prototype,"afterMediaDelete",void 0),ee([R()],e.prototype,"created",void 0),ee([R()],e.prototype,"destroyed",void 0),ee([R()],e.prototype,"beforeSanitizeHtml",void 0),ee([R()],e.prototype,"blur",void 0),ee([R()],e.prototype,"toolbarClick",void 0),ee([R()],e.prototype,"focus",void 0),ee([R()],e.prototype,"change",void 0),ee([R()],e.prototype,"resizing",void 0),ee([R()],e.prototype,"resizeStart",void 0),ee([R()],e.prototype,"resizeStop",void 0),ee([R()],e.prototype,"beforePasteCleanup",void 0),ee([R()],e.prototype,"afterPasteCleanup",void 0),ee([R()],e.prototype,"beforeImageDrop",void 0),ee([b(null)],e.prototype,"formatter",void 0),e=ee([Ee],e),e}(Ve);var He=class r{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){[e,t]=Ll(this,e,t);let n=[];return this.decompose(0,e,n,2),i.length&&i.decompose(0,i.length,n,3),this.decompose(t,this.length,n,1),wl.from(n,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=Ll(this,e,t);let i=[];return this.decompose(e,t,i,0),wl.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),n=new ya(this),s=new ya(e);for(let o=t,a=t;;){if(n.next(o),s.next(o),o=0,n.lineBreak!=s.lineBreak||n.done!=s.done||n.value!=s.value)return!1;if(a+=n.value.length,n.done||a>=i)return!0}}iter(e=1){return new ya(this,e)}iterRange(e,t=this.length){return new af(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let n=this.line(e).from;i=this.iterRange(n,Math.max(n,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new lf(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?r.empty:e.length<=32?new un(e):wl.from(un.split(e,[]))}},un=class r extends He{constructor(e,t=ez(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,n){for(let s=0;;s++){let o=this.text[s],a=n+o.length;if((t?i:a)>=e)return new Ly(n,a,i,o);n=a+1,i++}}decompose(e,t,i,n){let s=e<=0&&t>=this.length?this:new r(vw(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(n&1){let o=i.pop(),a=of(s.text,o.text.slice(),0,s.length);if(a.length<=32)i.push(new r(a,o.length+s.length));else{let l=a.length>>1;i.push(new r(a.slice(0,l)),new r(a.slice(l)))}}else i.push(s)}replace(e,t,i){if(!(i instanceof r))return super.replace(e,t,i);[e,t]=Ll(this,e,t);let n=of(this.text,of(i.text,vw(this.text,0,e)),t),s=this.length+i.length-(t-e);return n.length<=32?new r(n,s):wl.from(r.split(n,[]),s)}sliceString(e,t=this.length,i=`
`){[e,t]=Ll(this,e,t);let n="";for(let s=0,o=0;s<=t&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(n+=i),e<l&&t>s&&(n+=a.slice(Math.max(0,e-s),t-s)),s=l+1}return n}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],n=-1;for(let s of e)i.push(s),n+=s.length+1,i.length==32&&(t.push(new r(i,n)),i=[],n=-1);return n>-1&&t.push(new r(i,n)),t}},wl=class r extends He{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,n){for(let s=0;;s++){let o=this.children[s],a=n+o.length,l=i+o.lines-1;if((t?l:a)>=e)return o.lineInner(e,t,i,n);n=a+1,i=l+1}}decompose(e,t,i,n){for(let s=0,o=0;o<=t&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&t>=o){let h=n&((o<=e?1:0)|(l>=t?2:0));o>=e&&l<=t&&!h?i.push(a):a.decompose(e-o,t-o,i,h)}o=l+1}}replace(e,t,i){if([e,t]=Ll(this,e,t),i.lines<this.lines)for(let n=0,s=0;n<this.children.length;n++){let o=this.children[n],a=s+o.length;if(e>=s&&t<=a){let l=o.replace(e-s,t-s,i),h=this.lines-o.lines+l.lines;if(l.lines<h>>4&&l.lines>h>>6){let c=this.children.slice();return c[n]=l,new r(c,this.length-(t-e)+i.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){[e,t]=Ll(this,e,t);let n="";for(let s=0,o=0;s<this.children.length&&o<=t;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(n+=i),e<l&&t>o&&(n+=a.sliceString(e-o,t-o,i)),o=l+1}return n}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof r))return 0;let i=0,[n,s,o,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;n+=t,s+=t){if(n==o||s==a)return i;let l=this.children[n],h=e.children[s];if(l!=h)return i+l.scanIdentical(h,t);i+=l.length+1}}static from(e,t=e.reduce((i,n)=>i+n.length+1,-1)){let i=0;for(let f of e)i+=f.lines;if(i<32){let f=[];for(let m of e)m.flatten(f);return new un(f,t)}let n=Math.max(32,i>>5),s=n<<1,o=n>>1,a=[],l=0,h=-1,c=[];function p(f){let m;if(f.lines>s&&f instanceof r)for(let g of f.children)p(g);else f.lines>o&&(l>o||!l)?(d(),a.push(f)):f instanceof un&&l&&(m=c[c.length-1])instanceof un&&f.lines+m.lines<=32?(l+=f.lines,h+=f.length+1,c[c.length-1]=new un(m.text.concat(f.text),m.length+1+f.length)):(l+f.lines>n&&d(),l+=f.lines,h+=f.length+1,c.push(f))}function d(){l!=0&&(a.push(c.length==1?c[0]:r.from(c,h)),h=-1,l=c.length=0)}for(let f of e)p(f);return d(),a.length==1?a[0]:new r(a,t)}};He.empty=new un([""],0);function ez(r){let e=-1;for(let t of r)e+=t.length+1;return e}function of(r,e,t=0,i=1e9){for(let n=0,s=0,o=!0;s<r.length&&n<=i;s++){let a=r[s],l=n+a.length;l>=t&&(l>i&&(a=a.slice(0,i-n)),n<t&&(a=a.slice(t-n)),o?(e[e.length-1]+=a,o=!1):e.push(a)),n=l+1}return e}function vw(r,e,t){return of(r,[""],e,t)}var ya=class{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof un?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,n=this.nodes[i],s=this.offsets[i],o=s>>1,a=n instanceof un?n.text.length:n.children.length;if(o==(t>0?a:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(n instanceof un){let l=n.text[o+(t<0?-1:0)];if(this.offsets[i]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=n.children[o+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof un?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}},af=class{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new ya(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:n}=this.cursor.next(e);return this.pos+=(n.length+e)*t,this.value=n.length<=i?n:t<0?n.slice(n.length-i):n.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}},lf=class{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:n}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=n,this.afterBreak=!1),this}get lineBreak(){return!1}};typeof Symbol<"u"&&(He.prototype[Symbol.iterator]=function(){return this.iter()},ya.prototype[Symbol.iterator]=af.prototype[Symbol.iterator]=lf.prototype[Symbol.iterator]=function(){return this});var Ly=class{constructor(e,t,i,n){this.from=e,this.to=t,this.number=i,this.text=n}get length(){return this.to-this.from}};function Ll(r,e,t){return e=Math.max(0,Math.min(r.length,e)),[e,Math.max(e,Math.min(r.length,t))]}var El="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(r=>r?parseInt(r,36):1);for(let r=1;r<El.length;r++)El[r]+=El[r-1];function tz(r){for(let e=1;e<El.length;e+=2)if(El[e]>r)return El[e-1]<=r;return!1}function yw(r){return r>=127462&&r<=127487}var bw=8205;function zn(r,e,t=!0,i=!0){return(t?Nw:iz)(r,e,i)}function Nw(r,e,t){if(e==r.length)return e;e&&xw(r.charCodeAt(e))&&ww(r.charCodeAt(e-1))&&e--;let i=jn(r,e);for(e+=Ar(i);e<r.length;){let n=jn(r,e);if(i==bw||n==bw||t&&tz(n))e+=Ar(n),i=n;else if(yw(n)){let s=0,o=e-2;for(;o>=0&&yw(jn(r,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function iz(r,e,t){for(;e>0;){let i=Nw(r,e-2,t);if(i<e)return i;e--}return 0}function xw(r){return r>=56320&&r<57344}function ww(r){return r>=55296&&r<56320}function jn(r,e){let t=r.charCodeAt(e);if(!ww(t)||e+1==r.length)return t;let i=r.charCodeAt(e+1);return xw(i)?(t-55296<<10)+(i-56320)+65536:t}function Ew(r){return r<=65535?String.fromCharCode(r):(r-=65536,String.fromCharCode((r>>10)+55296,(r&1023)+56320))}function Ar(r){return r<65536?1:2}var Ay=/\r\n?|\n/,pi=function(r){return r[r.Simple=0]="Simple",r[r.TrackDel=1]="TrackDel",r[r.TrackBefore=2]="TrackBefore",r[r.TrackAfter=3]="TrackAfter",r}(pi||(pi={})),us=class r{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,n=0;t<this.sections.length;){let s=this.sections[t++],o=this.sections[t++];o<0?(e(i,n,s),n+=s):n+=o,i+=s}}iterChangedRanges(e,t=!1){Iy(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],n=this.sections[t++];n<0?e.push(i,n):e.push(n,i)}return new r(e)}composeDesc(e){return this.empty?e:e.empty?this:kw(this,e)}mapDesc(e,t=!1){return e.empty?this:Py(this,e,t)}mapPos(e,t=-1,i=pi.Simple){let n=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],h=n+a;if(l<0){if(h>e)return s+(e-n);s+=a}else{if(i!=pi.Simple&&h>=e&&(i==pi.TrackDel&&n<e&&h>e||i==pi.TrackBefore&&n<e||i==pi.TrackAfter&&h>e))return null;if(h>e||h==e&&t<0&&!a)return e==n||t<0?s:s+l;s+=l}n=h}if(e>n)throw new RangeError(`Position ${e} is out of range for changeset of length ${n}`);return s}touchesRange(e,t=e){for(let i=0,n=0;i<this.sections.length&&n<=t;){let s=this.sections[i++],o=this.sections[i++],a=n+s;if(o>=0&&n<=t&&a>=e)return n<e&&a>t?"cover":!0;n=a}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],n=this.sections[t++];e+=(e?" ":"")+i+(n>=0?":"+n:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new r(e)}static create(e){return new r(e)}},Ai=class r extends us{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Iy(this,(t,i,n,s,o)=>e=e.replace(n,n+(i-t),o),!1),e}mapDesc(e,t=!1){return Py(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let n=0,s=0;n<t.length;n+=2){let o=t[n],a=t[n+1];if(a>=0){t[n]=a,t[n+1]=o;let l=n>>1;for(;i.length<l;)i.push(He.empty);i.push(o?e.slice(s,s+o):He.empty)}s+=o}return new r(t,i)}compose(e){return this.empty?e:e.empty?this:kw(this,e,!0)}map(e,t=!1){return e.empty?this:Py(this,e,t,!0)}iterChanges(e,t=!1){Iy(this,e,t)}get desc(){return us.create(this.sections)}filter(e){let t=[],i=[],n=[],s=new ba(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let c=Math.min(s.len,l-a);Mi(n,c,-1);let p=s.ins==-1?-1:s.off==0?s.ins:0;Mi(t,c,p),p>0&&co(i,t,s.text),s.forward(c),a+=c}let h=e[o++];for(;a<h;){if(s.done)break e;let c=Math.min(s.len,h-a);Mi(t,c,-1),Mi(n,c,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(c),a+=c}}return{changes:new r(t,i),filtered:us.create(n)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],n=this.sections[t+1];n<0?e.push(i):n==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let n=[],s=[],o=0,a=null;function l(c=!1){if(!c&&!n.length)return;o<t&&Mi(n,t-o,-1);let p=new r(n,s);a=a?a.compose(p.map(a)):p,n=[],s=[],o=0}function h(c){if(Array.isArray(c))for(let p of c)h(p);else if(c instanceof r){if(c.length!=t)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${t})`);l(),a=a?a.compose(c.map(a)):c}else{let{from:p,to:d=p,insert:f}=c;if(p>d||p<0||d>t)throw new RangeError(`Invalid change range ${p} to ${d} (in doc of length ${t})`);let m=f?typeof f=="string"?He.of(f.split(i||Ay)):f:He.empty,g=m.length;if(p==d&&g==0)return;p<o&&l(),p>o&&Mi(n,p-o,-1),Mi(n,d-p,g),co(s,n,m),o=d}}return h(e),l(!a),a}static empty(e){return new r(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let n=0;n<e.length;n++){let s=e[n];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;i.length<n;)i.push(He.empty);i[n]=He.of(s.slice(1)),t.push(s[0],i[n].length)}}}return new r(t,i)}static createSet(e,t){return new r(e,t)}};function Mi(r,e,t,i=!1){if(e==0&&t<=0)return;let n=r.length-2;n>=0&&t<=0&&t==r[n+1]?r[n]+=e:e==0&&r[n]==0?r[n+1]+=t:i?(r[n]+=e,r[n+1]+=t):r.push(e,t)}function co(r,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<r.length)r[r.length-1]=r[r.length-1].append(t);else{for(;r.length<i;)r.push(He.empty);r.push(t)}}function Iy(r,e,t){let i=r.inserted;for(let n=0,s=0,o=0;o<r.sections.length;){let a=r.sections[o++],l=r.sections[o++];if(l<0)n+=a,s+=a;else{let h=n,c=s,p=He.empty;for(;h+=a,c+=l,l&&i&&(p=p.append(i[o-2>>1])),!(t||o==r.sections.length||r.sections[o+1]<0);)a=r.sections[o++],l=r.sections[o++];e(n,h,s,c,p),n=h,s=c}}}function Py(r,e,t,i=!1){let n=[],s=i?[]:null,o=new ba(r),a=new ba(e);for(let l=-1;;)if(o.ins==-1&&a.ins==-1){let h=Math.min(o.len,a.len);Mi(n,h,-1),o.forward(h),a.forward(h)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!t))){let h=a.len;for(Mi(n,a.ins,-1);h;){let c=Math.min(o.len,h);o.ins>=0&&l<o.i&&o.len<=c&&(Mi(n,0,o.ins),s&&co(s,n,o.text),l=o.i),o.forward(c),h-=c}a.next()}else if(o.ins>=0){let h=0,c=o.len;for(;c;)if(a.ins==-1){let p=Math.min(c,a.len);h+=p,c-=p,a.forward(p)}else if(a.ins==0&&a.len<c)c-=a.len,a.next();else break;Mi(n,h,l<o.i?o.ins:0),s&&l<o.i&&co(s,n,o.text),l=o.i,o.forward(o.len-c)}else{if(o.done&&a.done)return s?Ai.createSet(n,s):us.create(n);throw new Error("Mismatched change set lengths")}}function kw(r,e,t=!1){let i=[],n=t?[]:null,s=new ba(r),o=new ba(e);for(let a=!1;;){if(s.done&&o.done)return n?Ai.createSet(i,n):us.create(i);if(s.ins==0)Mi(i,s.len,0,a),s.next();else if(o.len==0&&!o.done)Mi(i,0,o.ins,a),n&&co(n,i,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),h=i.length;if(s.ins==-1){let c=o.ins==-1?-1:o.off?0:o.ins;Mi(i,l,c,a),n&&c&&co(n,i,o.text)}else o.ins==-1?(Mi(i,s.off?0:s.len,l,a),n&&co(n,i,s.textBit(l))):(Mi(i,s.off?0:s.len,o.off?0:o.ins,a),n&&!o.off&&co(n,i,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||i.length>h),s.forward2(l),o.forward(l)}}}}var ba=class{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?He.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?He.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}},xl=class r{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let i,n;return this.empty?i=n=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),n=e.mapPos(this.to,-1)),i==this.from&&n==this.to?this:new r(i,n,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return ye.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return ye.range(this.anchor,i)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return ye.range(e.anchor,e.head)}static create(e,t,i){return new r(e,t,i)}},ye=class r{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:r.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(e.ranges[i],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new r([this.main],0)}addRange(e,t=!0){return r.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,r.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new r(e.ranges.map(t=>xl.fromJSON(t)),e.main)}static single(e,t=e){return new r([r.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,n=0;n<e.length;n++){let s=e[n];if(s.empty?s.from<=i:s.from<i)return r.normalized(e.slice(),t);i=s.to}return new r(e,t)}static cursor(e,t=0,i,n){return xl.create(e,e,(t==0?0:t<0?8:16)|(i==null?7:Math.min(6,i))|(n??16777215)<<6)}static range(e,t,i,n){let s=(i??16777215)<<6|(n==null?7:Math.min(6,n));return t<e?xl.create(t,e,48|s):xl.create(e,t,(t>e?8:0)|s)}static normalized(e,t=0){let i=e[t];e.sort((n,s)=>n.from-s.from),t=e.indexOf(i);for(let n=1;n<e.length;n++){let s=e[n],o=e[n-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);n<=t&&t--,e.splice(--n,2,s.anchor>s.head?r.range(l,a):r.range(a,l))}}return new r(e,t)}};function Dw(r,e){for(let t of r.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}var Vy=0,be=class r{constructor(e,t,i,n,s){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=n,this.id=Vy++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new r(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:$y),!!e.static,e.enables)}of(e){return new kl([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new kl(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new kl(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}};function $y(r,e){return r==e||r.length==e.length&&r.every((t,i)=>t===e[i])}var kl=class{constructor(e,t,i,n){this.dependencies=e,this.facet=t,this.type=i,this.value=n,this.id=Vy++}dynamicSlot(e){var t;let i=this.value,n=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,h=!1,c=[];for(let p of this.dependencies)p=="doc"?l=!0:p=="selection"?h=!0:((t=e[p.id])!==null&&t!==void 0?t:1)&1||c.push(e[p.id]);return{create(p){return p.values[o]=i(p),1},update(p,d){if(l&&d.docChanged||h&&(d.docChanged||d.selection)||jy(p,c)){let f=i(p);if(a?!Ow(f,p.values[o],n):!n(f,p.values[o]))return p.values[o]=f,1}return 0},reconfigure:(p,d)=>{let f,m=d.config.address[s];if(m!=null){let g=pf(d,m);if(this.dependencies.every(v=>v instanceof be?d.facet(v)===p.facet(v):v instanceof si?d.field(v,!1)==p.field(v,!1):!0)||(a?Ow(f=i(p),g,n):n(f=i(p),g)))return p.values[o]=g,0}else f=i(p);return p.values[o]=f,1}}}};function Ow(r,e,t){if(r.length!=e.length)return!1;for(let i=0;i<r.length;i++)if(!t(r[i],e[i]))return!1;return!0}function jy(r,e){let t=!1;for(let i of e)Yc(r,i)&1&&(t=!0);return t}function nz(r,e,t){let i=t.map(l=>r[l.id]),n=t.map(l=>l.type),s=i.filter(l=>!(l&1)),o=r[e.id]>>1;function a(l){let h=[];for(let c=0;c<i.length;c++){let p=pf(l,i[c]);if(n[c]==2)for(let d of p)h.push(d);else h.push(p)}return e.combine(h)}return{create(l){for(let h of i)Yc(l,h);return l.values[o]=a(l),1},update(l,h){if(!jy(l,s))return 0;let c=a(l);return e.compare(c,l.values[o])?0:(l.values[o]=c,1)},reconfigure(l,h){let c=jy(l,i),p=h.config.facets[e.id],d=h.facet(e);if(p&&!c&&$y(t,p))return l.values[o]=d,0;let f=a(l);return e.compare(f,d)?(l.values[o]=d,0):(l.values[o]=f,1)}}}var Cw=be.define({static:!0}),si=class r{constructor(e,t,i,n,s){this.id=e,this.createF=t,this.updateF=i,this.compareF=n,this.spec=s,this.provides=void 0}static define(e){let t=new r(Vy++,e.create,e.update,e.compare||((i,n)=>i===n),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Cw).find(i=>i.field==this);return(t?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,n)=>{let s=i.values[t],o=this.updateF(s,n);return this.compareF(s,o)?0:(i.values[t]=o,1)},reconfigure:(i,n)=>n.config.address[this.id]!=null?(i.values[t]=n.field(this),0):(i.values[t]=this.create(i),1)}}init(e){return[this,Cw.of({field:this,create:e})]}get extension(){return this}},ga={lowest:4,low:3,default:2,high:1,highest:0};function $c(r){return e=>new hf(e,r)}var ps={highest:$c(ga.highest),high:$c(ga.high),default:$c(ga.default),low:$c(ga.low),lowest:$c(ga.lowest)},hf=class{constructor(e,t){this.inner=e,this.prec=t}},cf=class r{of(e){return new qc(this,e)}reconfigure(e){return r.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}},qc=class{constructor(e,t){this.compartment=e,this.inner=t}},uf=class r{constructor(e,t,i,n,s,o){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=n,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let n=[],s=Object.create(null),o=new Map;for(let d of rz(e,t,o))d instanceof si?n.push(d):(s[d.facet.id]||(s[d.facet.id]=[])).push(d);let a=Object.create(null),l=[],h=[];for(let d of n)a[d.id]=h.length<<1,h.push(f=>d.slot(f));let c=i?.config.facets;for(let d in s){let f=s[d],m=f[0].facet,g=c&&c[d]||[];if(f.every(v=>v.type==0))if(a[m.id]=l.length<<1|1,$y(g,f))l.push(i.facet(m));else{let v=m.combine(f.map(O=>O.value));l.push(i&&m.compare(v,i.facet(m))?i.facet(m):v)}else{for(let v of f)v.type==0?(a[v.id]=l.length<<1|1,l.push(v.value)):(a[v.id]=h.length<<1,h.push(O=>v.dynamicSlot(O)));a[m.id]=h.length<<1,h.push(v=>nz(v,m,f))}}let p=h.map(d=>d(a));return new r(e,o,p,a,l,s)}};function rz(r,e,t){let i=[[],[],[],[],[]],n=new Map;function s(o,a){let l=n.get(o);if(l!=null){if(l<=a)return;let h=i[l].indexOf(o);h>-1&&i[l].splice(h,1),o instanceof qc&&t.delete(o.compartment)}if(n.set(o,a),Array.isArray(o))for(let h of o)s(h,a);else if(o instanceof qc){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let h=e.get(o.compartment)||o.inner;t.set(o.compartment,h),s(h,a)}else if(o instanceof hf)s(o.inner,o.prec);else if(o instanceof si)i[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof kl)i[a].push(o),o.facet.extensions&&s(o.facet.extensions,ga.default);else{let h=o.extension;if(!h)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(h,a)}}return s(r,ga.default),i.reduce((o,a)=>o.concat(a))}function Yc(r,e){if(e&1)return 2;let t=e>>1,i=r.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;r.status[t]=4;let n=r.computeSlot(r,r.config.dynamicSlots[t]);return r.status[t]=2|n}function pf(r,e){return e&1?r.config.staticValues[e>>1]:r.values[e>>1]}var Lw=be.define(),zy=be.define({combine:r=>r.some(e=>e),static:!0}),Aw=be.define({combine:r=>r.length?r[0]:void 0,static:!0}),Iw=be.define(),Pw=be.define(),jw=be.define(),zw=be.define({combine:r=>r.length?r[0]:!1}),Yi=class{constructor(e,t){this.type=e,this.value=t}static define(){return new Ry}},Ry=class{of(e){return new Yi(this,e)}},By=class{constructor(e){this.map=e}of(e){return new Ue(this,e)}},Ue=class r{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new r(this.type,t)}is(e){return this.type==e}static define(e={}){return new By(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let n of e){let s=n.map(t);s&&i.push(s)}return i}};Ue.reconfigure=Ue.define();Ue.appendConfig=Ue.define();var $t=class r{constructor(e,t,i,n,s,o){this.startState=e,this.changes=t,this.selection=i,this.effects=n,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,i&&Dw(i,t.newLength),s.some(a=>a.type==r.time)||(this.annotations=s.concat(r.time.of(Date.now())))}static create(e,t,i,n,s,o){return new r(e,t,i,n,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(r.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}};$t.time=Yi.define();$t.userEvent=Yi.define();$t.addToHistory=Yi.define();$t.remote=Yi.define();function sz(r,e){let t=[];for(let i=0,n=0;;){let s,o;if(i<r.length&&(n==e.length||e[n]>=r[i]))s=r[i++],o=r[i++];else if(n<e.length)s=e[n++],o=e[n++];else return t;!t.length||t[t.length-1]<s?t.push(s,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function Rw(r,e,t){var i;let n,s,o;return t?(n=e.changes,s=Ai.empty(e.changes.length),o=r.changes.compose(e.changes)):(n=e.changes.map(r.changes),s=r.changes.mapDesc(e.changes,!0),o=r.changes.compose(n)),{changes:o,selection:e.selection?e.selection.map(s):(i=r.selection)===null||i===void 0?void 0:i.map(n),effects:Ue.mapEffects(r.effects,n).concat(Ue.mapEffects(e.effects,s)),annotations:r.annotations.length?r.annotations.concat(e.annotations):e.annotations,scrollIntoView:r.scrollIntoView||e.scrollIntoView}}function Qy(r,e,t){let i=e.selection,n=Dl(e.annotations);return e.userEvent&&(n=n.concat($t.userEvent.of(e.userEvent))),{changes:e.changes instanceof Ai?e.changes:Ai.of(e.changes||[],t,r.facet(Aw)),selection:i&&(i instanceof ye?i:ye.single(i.anchor,i.head)),effects:Dl(e.effects),annotations:n,scrollIntoView:!!e.scrollIntoView}}function Bw(r,e,t){let i=Qy(r,e.length?e[0]:{},r.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let o=!!e[s].sequential;i=Rw(i,Qy(r,e[s],o?i.changes.newLength:r.doc.length),o)}let n=$t.create(r,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return az(t?oz(n):n)}function oz(r){let e=r.startState,t=!0;for(let n of e.facet(Iw)){let s=n(r);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:sz(t,s))}if(t!==!0){let n,s;if(t===!1)s=r.changes.invertedDesc,n=Ai.empty(e.doc.length);else{let o=r.changes.filter(t);n=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}r=$t.create(e,n,r.selection&&r.selection.map(s),Ue.mapEffects(r.effects,s),r.annotations,r.scrollIntoView)}let i=e.facet(Pw);for(let n=i.length-1;n>=0;n--){let s=i[n](r);s instanceof $t?r=s:Array.isArray(s)&&s.length==1&&s[0]instanceof $t?r=s[0]:r=Bw(e,Dl(s),!1)}return r}function az(r){let e=r.startState,t=e.facet(jw),i=r;for(let n=t.length-1;n>=0;n--){let s=t[n](r);s&&Object.keys(s).length&&(i=Rw(i,Qy(e,s,r.changes.newLength),!0))}return i==r?r:$t.create(e,r.changes,r.selection,i.effects,i.annotations,i.scrollIntoView)}var lz=[];function Dl(r){return r==null?lz:Array.isArray(r)?r:[r]}var Pn=function(r){return r[r.Word=0]="Word",r[r.Space=1]="Space",r[r.Other=2]="Other",r}(Pn||(Pn={})),hz=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Uy;try{Uy=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function cz(r){if(Uy)return Uy.test(r);for(let e=0;e<r.length;e++){let t=r[e];if(/\w/.test(t)||t>"\x80"&&(t.toUpperCase()!=t.toLowerCase()||hz.test(t)))return!0}return!1}function uz(r){return e=>{if(!/\S/.test(e))return Pn.Space;if(cz(e))return Pn.Word;for(let t=0;t<r.length;t++)if(e.indexOf(r[t])>-1)return Pn.Word;return Pn.Other}}var Mt=class r{constructor(e,t,i,n,s,o){this.config=e,this.doc=t,this.selection=i,this.values=n,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)Yc(this,a<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return Yc(this,i),pf(this,i)}update(...e){return Bw(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:n}=t;for(let a of e.effects)a.is(cf.reconfigure)?(t&&(n=new Map,t.compartments.forEach((l,h)=>n.set(h,l)),t=null),n.set(a.value.compartment,a.value.extension)):a.is(Ue.reconfigure)?(t=null,i=a.value):a.is(Ue.appendConfig)&&(t=null,i=Dl(i).concat(a.value));let s;t?s=e.startState.values.slice():(t=uf.resolve(i,n,this),s=new r(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(l,h)=>h.reconfigure(l,this),null).values);let o=e.startState.facet(zy)?e.newSelection:e.newSelection.asSingle();new r(t,e.newDoc,o,s,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:ye.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),n=this.changes(i.changes),s=[i.range],o=Dl(i.effects);for(let a=1;a<t.ranges.length;a++){let l=e(t.ranges[a]),h=this.changes(l.changes),c=h.map(n);for(let d=0;d<a;d++)s[d]=s[d].map(c);let p=n.mapDesc(h,!0);s.push(l.range.map(p)),n=n.compose(c),o=Ue.mapEffects(o,c).concat(Ue.mapEffects(Dl(l.effects),p))}return{changes:n,selection:ye.create(s,t.mainIndex),effects:o}}changes(e=[]){return e instanceof Ai?e:Ai.of(e,this.doc.length,this.facet(r.lineSeparator))}toText(e){return He.of(e.split(this.facet(r.lineSeparator)||Ay))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Yc(this,t),pf(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let n=e[i];n instanceof si&&this.config.address[n.id]!=null&&(t[i]=n.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let n=[];if(i){for(let s in i)if(Object.prototype.hasOwnProperty.call(e,s)){let o=i[s],a=e[s];n.push(o.init(l=>o.spec.fromJSON(a,l)))}}return r.create({doc:e.doc,selection:ye.fromJSON(e.selection),extensions:t.extensions?n.concat([t.extensions]):n})}static create(e={}){let t=uf.resolve(e.extensions||[],new Map),i=e.doc instanceof He?e.doc:He.of((e.doc||"").split(t.staticFacet(r.lineSeparator)||Ay)),n=e.selection?e.selection instanceof ye?e.selection:ye.single(e.selection.anchor,e.selection.head):ye.single(0);return Dw(n,i.length),t.staticFacet(zy)||(n=n.asSingle()),new r(t,i,n,t.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(r.tabSize)}get lineBreak(){return this.facet(r.lineSeparator)||`
`}get readOnly(){return this.facet(zw)}phrase(e,...t){for(let i of this.facet(r.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,n)=>{if(n=="$")return"$";let s=+(n||1);return!s||s>t.length?i:t[s-1]})),e}languageDataAt(e,t,i=-1){let n=[];for(let s of this.facet(Lw))for(let o of s(this,t,i))Object.prototype.hasOwnProperty.call(o,e)&&n.push(o[e]);return n}charCategorizer(e){return uz(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:i,length:n}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-i,a=e-i;for(;o>0;){let l=zn(t,o,!1);if(s(t.slice(l,o))!=Pn.Word)break;o=l}for(;a<n;){let l=zn(t,a);if(s(t.slice(a,l))!=Pn.Word)break;a=l}return o==a?null:ye.range(o+i,a+i)}};Mt.allowMultipleSelections=zy;Mt.tabSize=be.define({combine:r=>r.length?r[0]:4});Mt.lineSeparator=Aw;Mt.readOnly=zw;Mt.phrases=be.define({compare(r,e){let t=Object.keys(r),i=Object.keys(e);return t.length==i.length&&t.every(n=>r[n]==e[n])}});Mt.languageData=Lw;Mt.changeFilter=Iw;Mt.transactionFilter=Pw;Mt.transactionExtender=jw;cf.reconfigure=Ue.define();function Ca(r,e,t={}){let i={};for(let n of r)for(let s of Object.keys(n)){let o=n[s],a=i[s];if(a===void 0)i[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(t,s))i[s]=t[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let n in e)i[n]===void 0&&(i[n]=e[n]);return i}var nr=class{eq(e){return this==e}range(e,t=e){return Wc.create(e,t,this)}};nr.prototype.startSide=nr.prototype.endSide=0;nr.prototype.point=!1;nr.prototype.mapMode=pi.TrackDel;var Wc=class r{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new r(e,t,i)}};function Hy(r,e){return r.from-e.from||r.value.startSide-e.value.startSide}var _y=class r{constructor(e,t,i,n){this.from=e,this.to=t,this.value=i,this.maxPoint=n}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,n=0){let s=i?this.to:this.from;for(let o=n,a=s.length;;){if(o==a)return o;let l=o+a>>1,h=s[l]-e||(i?this.value[l].endSide:this.value[l].startSide)-t;if(l==o)return h>=0?o:a;h>=0?a=l:o=l+1}}between(e,t,i,n){for(let s=this.findIndex(t,-1e9,!0),o=this.findIndex(i,1e9,!1,s);s<o;s++)if(n(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let i=[],n=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let h=this.value[l],c=this.from[l]+e,p=this.to[l]+e,d,f;if(c==p){let m=t.mapPos(c,h.startSide,h.mapMode);if(m==null||(d=f=m,h.startSide!=h.endSide&&(f=t.mapPos(c,h.endSide),f<d)))continue}else if(d=t.mapPos(c,h.startSide),f=t.mapPos(p,h.endSide),d>f||d==f&&h.startSide>0&&h.endSide<=0)continue;(f-d||h.endSide-h.startSide)<0||(o<0&&(o=d),h.point&&(a=Math.max(a,f-d)),i.push(h),n.push(d-o),s.push(f-o))}return{mapped:i.length?new r(n,s,i,a):null,pos:o}}},Tt=class r{constructor(e,t,i,n){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=n}static create(e,t,i,n){return new r(e,t,i,n)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:n=0,filterTo:s=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(i&&(t=t.slice().sort(Hy)),this.isEmpty)return t.length?r.of(t):this;let a=new df(this,null,-1).goto(0),l=0,h=[],c=new Oa;for(;a.value||l<t.length;)if(l<t.length&&(a.from-t[l].from||a.startSide-t[l].value.startSide)>=0){let p=t[l++];c.addInner(p.from,p.to,p.value)||h.push(p)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(a.chunkIndex)<t[l].from)&&(!o||n>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&c.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||n>a.to||s<a.from||o(a.from,a.to,a.value))&&(c.addInner(a.from,a.to,a.value)||h.push(Wc.create(a.from,a.to,a.value))),a.next());return c.finishInner(this.nextLayer.isEmpty&&!h.length?r.empty:this.nextLayer.update({add:h,filter:o,filterFrom:n,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],n=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],h=e.touchesRange(a,a+l.length);if(h===!1)n=Math.max(n,l.maxPoint),t.push(l),i.push(e.mapPos(a));else if(h===!0){let{mapped:c,pos:p}=l.map(a,e);c&&(n=Math.max(n,c.maxPoint),t.push(c),i.push(p))}}let s=this.nextLayer.map(e);return t.length==0?s:new r(i,t,s||r.empty,n)}between(e,t,i){if(!this.isEmpty){for(let n=0;n<this.chunk.length;n++){let s=this.chunkPos[n],o=this.chunk[n];if(t>=s&&e<=s+o.length&&o.between(s,e-s,t-s,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return Zc.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Zc.from(e).goto(t)}static compare(e,t,i,n,s=-1){let o=e.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=s),a=t.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=s),l=Sw(o,a,i),h=new va(o,l,s),c=new va(a,l,s);i.iterGaps((p,d,f)=>Mw(h,p,c,d,f,n)),i.empty&&i.length==0&&Mw(h,0,c,0,0,n)}static eq(e,t,i=0,n){n==null&&(n=999999999);let s=e.filter(c=>!c.isEmpty&&t.indexOf(c)<0),o=t.filter(c=>!c.isEmpty&&e.indexOf(c)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=Sw(s,o),l=new va(s,a,0).goto(i),h=new va(o,a,0).goto(i);for(;;){if(l.to!=h.to||!Fy(l.active,h.active)||l.point&&(!h.point||!l.point.eq(h.point)))return!1;if(l.to>n)return!0;l.next(),h.next()}}static spans(e,t,i,n,s=-1){let o=new va(e,null,s).goto(t),a=t,l=o.openStart;for(;;){let h=Math.min(o.to,i);if(o.point){let c=o.activeForPoint(o.to),p=o.pointFrom<t?c.length+1:o.point.startSide<0?c.length:Math.min(c.length,l);n.point(a,h,o.point,c,p,o.pointRank),l=Math.min(o.openEnd(h),c.length)}else h>a&&(n.span(a,h,o.active,l),l=o.openEnd(h));if(o.to>i)return l+(o.point&&o.to>i?1:0);a=o.to,o.next()}}static of(e,t=!1){let i=new Oa;for(let n of e instanceof Wc?[e]:t?pz(e):e)i.add(n.from,n.to,n.value);return i.finish()}static join(e){if(!e.length)return r.empty;let t=e[e.length-1];for(let i=e.length-2;i>=0;i--)for(let n=e[i];n!=r.empty;n=n.nextLayer)t=new r(n.chunkPos,n.chunk,t,Math.max(n.maxPoint,t.maxPoint));return t}};Tt.empty=new Tt([],[],null,-1);function pz(r){if(r.length>1)for(let e=r[0],t=1;t<r.length;t++){let i=r[t];if(Hy(e,i)>0)return r.slice().sort(Hy);e=i}return r}Tt.empty.nextLayer=Tt.empty;var Oa=class r{finishChunk(e){this.chunks.push(new _y(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new r)).add(e,t,i)}addInner(e,t,i){let n=e-this.lastTo||i.startSide-this.last.endSide;if(n<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return n<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(Tt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Tt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}};function Sw(r,e,t){let i=new Map;for(let s of r)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&i.set(s.chunk[o],s.chunkPos[o]);let n=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=i.get(s.chunk[o]);a!=null&&(t?t.mapPos(a):a)==s.chunkPos[o]&&!t?.touchesRange(a,a+s.chunk[o].length)&&n.add(s.chunk[o])}return n}var df=class{constructor(e,t,i,n=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=n}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let n=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(n)||this.layer.chunkEnd(this.chunkIndex)<e||n.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let n=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<n)&&this.setRangeIndex(n)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}},Zc=class r{constructor(e){this.heap=e}static from(e,t=null,i=-1){let n=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=i&&n.push(new df(o,t,i,s));return n.length==1?n[0]:new r(n)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)Dy(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)Dy(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Dy(this.heap,0)}}};function Dy(r,e){for(let t=r[e];;){let i=(e<<1)+1;if(i>=r.length)break;let n=r[i];if(i+1<r.length&&n.compare(r[i+1])>=0&&(n=r[i+1],i++),t.compare(n)<0)break;r[i]=t,r[e]=n,e=i}}var va=class{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Zc.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){rf(this.active,e),rf(this.activeTo,e),rf(this.activeRank,e),this.minActive=Tw(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:n,rank:s}=this.cursor;for(;t<this.activeRank.length&&(s-this.activeRank[t]||n-this.activeTo[t])>0;)t++;sf(this.active,t,i),sf(this.activeTo,t,n),sf(this.activeRank,t,s),e&&sf(e,t,this.cursor.from),this.minActive=Tw(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let n=this.minActive;if(n>-1&&(this.activeTo[n]-this.cursor.from||this.active[n].endSide-this.cursor.startSide)<0){if(this.activeTo[n]>e){this.to=this.activeTo[n],this.endSide=this.active[n].endSide;break}this.removeActive(n),i&&rf(i,n)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let n=i.length-1;n>=0&&i[n]<e;n--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}};function Mw(r,e,t,i,n,s){r.goto(e),t.goto(i);let o=i+n,a=i,l=i-e;for(;;){let h=r.to+l-t.to||r.endSide-t.endSide,c=h<0?r.to+l:t.to,p=Math.min(c,o);if(r.point||t.point?r.point&&t.point&&(r.point==t.point||r.point.eq(t.point))&&Fy(r.activeForPoint(r.to),t.activeForPoint(t.to))||s.comparePoint(a,p,r.point,t.point):p>a&&!Fy(r.active,t.active)&&s.compareRange(a,p,r.active,t.active),c>o)break;a=c,h<=0&&r.next(),h>=0&&t.next()}}function Fy(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!=e[t]&&!r[t].eq(e[t]))return!1;return!0}function rf(r,e){for(let t=e,i=r.length-1;t<i;t++)r[t]=r[t+1];r.pop()}function sf(r,e,t){for(let i=r.length-1;i>=e;i--)r[i+1]=r[i];r[e]=t}function Tw(r,e){let t=-1,i=1e9;for(let n=0;n<e.length;n++)(e[n]-i||r[n].endSide-r[t].endSide)<0&&(t=n,i=e[n]);return t}function ff(r,e,t=r.length){let i=0;for(let n=0;n<t;)r.charCodeAt(n)==9?(i+=e-i%e,n++):(i++,n=zn(r,n));return i}function Qw(r,e,t,i){for(let n=0,s=0;;){if(s>=e)return n;if(n==r.length)break;s+=r.charCodeAt(n)==9?t-s%t:1,n=zn(r,n)}return i===!0?-1:r.length}var Yy="\u037C",Uw=typeof Symbol>"u"?"__"+Yy:Symbol.for(Yy),qy=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Hw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{},Rn=class{constructor(e,t){this.rules=[];let{finish:i}=t||{};function n(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,h){let c=[],p=/^@(\w+)\b/.exec(o[0]),d=p&&p[1]=="keyframes";if(p&&a==null)return l.push(o[0]+";");for(let f in a){let m=a[f];if(/&/.test(f))s(f.split(/,\s*/).map(g=>o.map(v=>g.replace(/&/,v))).reduce((g,v)=>g.concat(v)),m,l);else if(m&&typeof m=="object"){if(!p)throw new RangeError("The value of a property ("+f+") should be a primitive value.");s(n(f),m,c,d)}else m!=null&&c.push(f.replace(/_.*/,"").replace(/[A-Z]/g,g=>"-"+g.toLowerCase())+": "+m+";")}(c.length||d)&&l.push((i&&!p&&!h?o.map(i):o).join(", ")+" {"+c.join(" ")+"}")}for(let o in e)s(n(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Hw[Uw]||1;return Hw[Uw]=e+1,Yy+e.toString(36)}static mount(e,t,i){let n=e[qy],s=i&&i.nonce;n?s&&n.setNonce(s):n=new Wy(e,s),n.mount(Array.isArray(t)?t:[t],e)}},_w=new Map,Wy=class{constructor(e,t){let i=e.ownerDocument||e,n=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&n.CSSStyleSheet){let s=_w.get(i);if(s)return e[qy]=s;this.sheet=new n.CSSStyleSheet,_w.set(i,this)}else this.styleTag=i.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[qy]=this}mount(e,t){let i=this.sheet,n=0,s=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,a),i)for(let h=0;h<a.rules.length;h++)i.insertRule(a.rules[h],n++)}else{for(;s<l;)n+=this.modules[s++].rules.length;n+=a.rules.length,s++}}if(i)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=t.head||t;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}};var ds={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Al={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},dz=typeof navigator<"u"&&/Mac/.test(navigator.platform),fz=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(Yt=0;Yt<10;Yt++)ds[48+Yt]=ds[96+Yt]=String(Yt);var Yt;for(Yt=1;Yt<=24;Yt++)ds[Yt+111]="F"+Yt;var Yt;for(Yt=65;Yt<=90;Yt++)ds[Yt]=String.fromCharCode(Yt+32),Al[Yt]=String.fromCharCode(Yt);var Yt;for(mf in ds)Al.hasOwnProperty(mf)||(Al[mf]=ds[mf]);var mf;function Fw(r){var e=dz&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||fz&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",t=!e&&r.key||(r.shiftKey?Al:ds)[r.keyCode]||r.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function Ef(r){let e;return r.nodeType==11?e=r.getSelection?r:r.ownerDocument:e=r,e.getSelection()}function ib(r,e){return e?r==e||r.contains(e.nodeType!=1?e.parentNode:e):!1}function mz(r){let e=r.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Tf(r,e){if(!e.anchorNode)return!1;try{return ib(r,e.anchorNode)}catch{return!1}}function au(r){return r.nodeType==3?Sa(r,0,r.nodeValue.length).getClientRects():r.nodeType==1?r.getClientRects():[]}function tu(r,e,t,i){return t?Vw(r,e,t,i,-1)||Vw(r,e,t,i,1):!1}function lu(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e}function Vw(r,e,t,i,n){for(;;){if(r==t&&e==i)return!0;if(e==(n<0?0:fs(r))){if(r.nodeName=="DIV")return!1;let s=r.parentNode;if(!s||s.nodeType!=1)return!1;e=lu(r)+(n<0?0:1),r=s}else if(r.nodeType==1){if(r=r.childNodes[e+(n<0?-1:0)],r.nodeType==1&&r.contentEditable=="false")return!1;e=n<0?fs(r):0}else return!1}}function fs(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function jb(r,e){let t=e?r.left:r.right;return{left:t,right:t,top:r.top,bottom:r.bottom}}function gz(r){let e=r.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:r.innerWidth,top:0,bottom:r.innerHeight}}function TE(r,e){let t=e.width/r.offsetWidth,i=e.height/r.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-r.offsetWidth)<1)&&(t=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.height-r.offsetHeight)<1)&&(i=1),{scaleX:t,scaleY:i}}function vz(r,e,t,i,n,s,o,a){let l=r.ownerDocument,h=l.defaultView||window;for(let c=r,p=!1;c&&!p;)if(c.nodeType==1){let d,f=c==l.body,m=1,g=1;if(f)d=gz(h);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(p=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let C=c.getBoundingClientRect();({scaleX:m,scaleY:g}=TE(c,C)),d={left:C.left,right:C.left+c.clientWidth*m,top:C.top,bottom:C.top+c.clientHeight*g}}let v=0,O=0;if(n=="nearest")e.top<d.top?(O=-(d.top-e.top+o),t>0&&e.bottom>d.bottom+O&&(O=e.bottom-d.bottom+O+o)):e.bottom>d.bottom&&(O=e.bottom-d.bottom+o,t<0&&e.top-O<d.top&&(O=-(d.top+O-e.top+o)));else{let C=e.bottom-e.top,x=d.bottom-d.top;O=(n=="center"&&C<=x?e.top+C/2-x/2:n=="start"||n=="center"&&t<0?e.top-o:e.bottom-x+o)-d.top}if(i=="nearest"?e.left<d.left?(v=-(d.left-e.left+s),t>0&&e.right>d.right+v&&(v=e.right-d.right+v+s)):e.right>d.right&&(v=e.right-d.right+s,t<0&&e.left<d.left+v&&(v=-(d.left+v-e.left+s))):v=(i=="center"?e.left+(e.right-e.left)/2-(d.right-d.left)/2:i=="start"==a?e.left-s:e.right-(d.right-d.left)+s)-d.left,v||O)if(f)h.scrollBy(v,O);else{let C=0,x=0;if(O){let M=c.scrollTop;c.scrollTop+=O/g,x=(c.scrollTop-M)*g}if(v){let M=c.scrollLeft;c.scrollLeft+=v/m,C=(c.scrollLeft-M)*m}e={left:e.left-C,top:e.top-x,right:e.right-C,bottom:e.bottom-x},C&&Math.abs(C-v)<1&&(i="nearest"),x&&Math.abs(x-O)<1&&(n="nearest")}if(f)break;c=c.assignedSlot||c.parentNode}else if(c.nodeType==11)c=c.host;else break}function yz(r){let e=r.ownerDocument;for(let t=r.parentNode;t&&t!=e.body;)if(t.nodeType==1){if(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)return t;t=t.assignedSlot||t.parentNode}else if(t.nodeType==11)t=t.host;else break;return null}var nb=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:i}=e;this.set(t,Math.min(e.anchorOffset,t?fs(t):0),i,Math.min(e.focusOffset,i?fs(i):0))}set(e,t,i,n){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=n}},Il=null;function NE(r){if(r.setActive)return r.setActive();if(Il)return r.focus(Il);let e=[];for(let t=r;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(r.focus(Il==null?{get preventScroll(){return Il={preventScroll:!0},!0}}:void 0),!Il){Il=!1;for(let t=0;t<e.length;){let i=e[t++],n=e[t++],s=e[t++];i.scrollTop!=n&&(i.scrollTop=n),i.scrollLeft!=s&&(i.scrollLeft=s)}}}var $w;function Sa(r,e,t=e){let i=$w||($w=document.createRange());return i.setEnd(r,t),i.setStart(r,e),i}function zl(r,e,t,i){let n={key:e,code:e,keyCode:t,which:t,cancelable:!0};i&&({altKey:n.altKey,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey,metaKey:n.metaKey}=i);let s=new KeyboardEvent("keydown",n);s.synthetic=!0,r.dispatchEvent(s);let o=new KeyboardEvent("keyup",n);return o.synthetic=!0,r.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function bz(r){for(;r;){if(r&&(r.nodeType==9||r.nodeType==11&&r.host))return r;r=r.assignedSlot||r.parentNode}return null}function xE(r){for(;r.attributes.length;)r.removeAttributeNode(r.attributes[0])}function Oz(r,e){let t=e.focusNode,i=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=i)return!1;for(i=Math.min(i,fs(t));;)if(i){if(t.nodeType!=1)return!1;let n=t.childNodes[i-1];n.contentEditable=="false"?i--:(t=n,i=fs(t))}else{if(t==r)return!0;i=lu(t),t=t.parentNode}}function wE(r){return r.scrollTop>Math.max(1,r.scrollHeight-r.clientHeight-4)}var Ii=class r{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new r(e.parentNode,lu(e),t)}static after(e,t){return new r(e.parentNode,lu(e)+1,t)}},zb=[],wt=class r{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let i=this.dom,n=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=n?n.nextSibling:i.firstChild)){let a=r.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,t),o.flags&=-8}if(s=n?n.nextSibling:i.firstChild,t&&!t.written&&t.node==i&&s!=o.dom&&(t.written=!0),o.dom.parentNode==i)for(;s&&s!=o.dom;)s=Yw(s);else i.insertBefore(o.dom,s);n=o.dom}for(s=n?n.nextSibling:i.firstChild,s&&t&&t.node==i&&(t.written=!0);s;)s=Yw(s)}else if(this.flags&1)for(let i of this.children)i.flags&7&&(i.sync(e,t),i.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let n=fs(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;n==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?n=-1:n=1),e=s}n<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!r.get(i);)i=i.nextSibling;if(!i)return this.length;for(let n=0,s=0;;n++){let o=this.children[n];if(o.dom==i)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,t,i=0){let n=-1,s=-1,o=-1,a=-1;for(let l=0,h=i,c=i;l<this.children.length;l++){let p=this.children[l],d=h+p.length;if(h<e&&d>t)return p.domBoundsAround(e,t,h);if(d>=e&&n==-1&&(n=l,s=h),h>t&&p.dom.parentNode==this.dom){o=l,a=c;break}c=d,h=d+p.breakAfter}return{from:s,to:a<0?i+this.length:a,startDOM:(n?this.children[n-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=zb){this.markDirty();for(let n=e;n<t;n++){let s=this.children[n];s.parent==this&&i.indexOf(s)<0&&s.destroy()}this.children.splice(e,t-e,...i);for(let n=0;n<i.length;n++)i[n].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new kf(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,i,n,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}};wt.prototype.breakAfter=0;function Yw(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}var kf=class{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}};function EE(r,e,t,i,n,s,o,a,l){let{children:h}=r,c=h.length?h[e]:null,p=s.length?s[s.length-1]:null,d=p?p.breakAfter:o;if(!(e==i&&c&&!o&&!d&&s.length<2&&c.merge(t,n,s.length?p:null,t==0,a,l))){if(i<h.length){let f=h[i];f&&(n<f.length||f.breakAfter&&p?.breakAfter)?(e==i&&(f=f.split(n),n=0),!d&&p&&f.merge(0,n,p,!0,0,l)?s[s.length-1]=f:((n||f.children.length&&!f.children[0].length)&&f.merge(0,n,null,!1,0,l),s.push(f))):f?.breakAfter&&(p?p.breakAfter=1:o=1),i++}for(c&&(c.breakAfter=o,t>0&&(!o&&s.length&&c.merge(t,c.length,s[0],!1,a,0)?c.breakAfter=s.shift().breakAfter:(t<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(t,c.length,null,!1,a,0),e++));e<i&&s.length;)if(h[i-1].become(s[s.length-1]))i--,s.pop(),l=s.length?0:a;else if(h[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&i<h.length&&!h[e-1].breakAfter&&h[i].merge(0,0,h[e-1],!1,a,l)&&e--,(e<i||s.length)&&r.replaceChildren(e,i,s)}}function kE(r,e,t,i,n,s){let o=r.childCursor(),{i:a,off:l}=o.findPos(t,1),{i:h,off:c}=o.findPos(e,-1),p=e-t;for(let d of i)p+=d.length;r.length+=p,EE(r,h,c,a,l,i,0,n,s)}var pn=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},rb=typeof document<"u"?document:{documentElement:{style:{}}},sb=/Edge\/(\d+)/.exec(pn.userAgent),DE=/MSIE \d/.test(pn.userAgent),ob=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(pn.userAgent),Uf=!!(DE||ob||sb),qw=!Uf&&/gecko\/(\d+)/i.test(pn.userAgent),Zy=!Uf&&/Chrome\/(\d+)/.exec(pn.userAgent),Ww="webkitFontSmoothing"in rb.documentElement.style,LE=!Uf&&/Apple Computer/.test(pn.vendor),Zw=LE&&(/Mobile\/\w+/.test(pn.userAgent)||pn.maxTouchPoints>2),fe={mac:Zw||/Mac/.test(pn.platform),windows:/Win/.test(pn.platform),linux:/Linux|X11/.test(pn.platform),ie:Uf,ie_version:DE?rb.documentMode||6:ob?+ob[1]:sb?+sb[1]:0,gecko:qw,gecko_version:qw?+(/Firefox\/(\d+)/.exec(pn.userAgent)||[0,0])[1]:0,chrome:!!Zy,chrome_version:Zy?+Zy[1]:0,ios:Zw,android:/Android\b/.test(pn.userAgent),webkit:Ww,safari:LE,webkit_version:Ww?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:rb.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"},Cz=256,fo=class r extends wt{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return this.flags&8||i&&(!(i instanceof r)||this.length-(t-e)+i.length>Cz||i.flags&8)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new r(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Ii(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return Sz(this.dom,e,t)}},mo=class r extends wt{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let n of t)n.setParent(this)}setAttrs(e){if(xE(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,i,n,s,o){return i&&(!(i instanceof r&&i.mark.eq(this.mark))||e&&s<=0||t<this.length&&o<=0)?!1:(kE(this,e,t,i?i.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let t=[],i=0,n=-1,s=0;for(let a of this.children){let l=i+a.length;l>e&&t.push(i<e?a.split(e-i):a),n<0&&i>=e&&(n=s),i=l,s++}let o=this.length-e;return this.length=e,n>-1&&(this.children.length=n,this.markDirty()),new r(this.mark,t,o)}domAtPos(e){return AE(this,e)}coordsAt(e,t){return PE(this,e,t)}};function Sz(r,e,t){let i=r.nodeValue.length;e>i&&(e=i);let n=e,s=e,o=0;e==0&&t<0||e==i&&t>=0?fe.chrome||fe.gecko||(e?(n--,o=1):s<i&&(s++,o=-1)):t<0?n--:s<i&&s++;let a=Sa(r,n,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:t>=0)?0:a.length-1];return fe.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,h=>h.width)||l),o?jb(l,o<0):l||null}var Df=class r extends wt{static create(e,t,i){return new r(e,t,i)}constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}split(e){let t=r.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,i,n,s,o){return i&&(!(i instanceof r)||!this.widget.compare(i.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e instanceof r&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return He.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,i=t&&t.state.doc,n=this.posAtStart;return i?i.slice(n,n+this.length):He.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Ii.before(this.dom):Ii.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);if(i)return i;let n=this.dom.getClientRects(),s=null;if(!n.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?n.length-1:0;s=n[a],!(e>0?a==0:a==n.length-1||s.top<s.bottom);a+=o?-1:1);return jb(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}},hu=class r extends wt{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof r&&e.side==this.side}split(){return new r(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Ii.before(this.dom):Ii.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return He.empty}get isHidden(){return!0}};fo.prototype.children=Df.prototype.children=hu.prototype.children=zb;function AE(r,e){let t=r.dom,{children:i}=r,n=0;for(let s=0;n<i.length;n++){let o=i[n],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==t)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=n;s>0;s--){let o=i[s-1];if(o.dom.parentNode==t)return o.domAtPos(o.length)}for(let s=n;s<i.length;s++){let o=i[s];if(o.dom.parentNode==t)return o.domAtPos(0)}return new Ii(t,0)}function IE(r,e,t){let i,{children:n}=r;t>0&&e instanceof mo&&n.length&&(i=n[n.length-1])instanceof mo&&i.mark.eq(e.mark)?IE(i,e.children[0],t-1):(n.push(e),e.setParent(r)),r.length+=e.length}function PE(r,e,t){let i=null,n=-1,s=null,o=-1;function a(h,c){for(let p=0,d=0;p<h.children.length&&d<=c;p++){let f=h.children[p],m=d+f.length;m>=c&&(f.children.length?a(f,c-d):(!s||s.isHidden&&t>0)&&(m>c||d==m&&f.getSide()>0)?(s=f,o=c-d):(d<c||d==m&&f.getSide()<0&&!f.isHidden)&&(i=f,n=c-d)),d=m}}a(r,e);let l=(t<0?i:s)||i||s;return l?l.coordsAt(Math.max(0,l==i?n:o),t):Mz(r)}function Mz(r){let e=r.dom.lastChild;if(!e)return r.dom.getBoundingClientRect();let t=au(e);return t[t.length-1]||null}function ab(r,e){for(let t in r)t=="class"&&e.class?e.class+=" "+r.class:t=="style"&&e.style?e.style+=";"+r.style:e[t]=r[t];return e}var Xw=Object.create(null);function Rb(r,e,t){if(r==e)return!0;r||(r=Xw),e||(e=Xw);let i=Object.keys(r),n=Object.keys(e);if(i.length-(t&&i.indexOf(t)>-1?1:0)!=n.length-(t&&n.indexOf(t)>-1?1:0))return!1;for(let s of i)if(s!=t&&(n.indexOf(s)==-1||r[s]!==e[s]))return!1;return!0}function lb(r,e,t){let i=!1;if(e)for(let n in e)t&&n in t||(i=!0,n=="style"?r.style.cssText="":r.removeAttribute(n));if(t)for(let n in t)e&&e[n]==t[n]||(i=!0,n=="style"?r.style.cssText=t[n]:r.setAttribute(n,t[n]));return i}function Tz(r){let e=Object.create(null);for(let t=0;t<r.attributes.length;t++){let i=r.attributes[t];e[i.name]=i.value}return e}var di=class r extends wt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,n,s,o){if(i){if(!(i instanceof r))return!1;this.dom||i.transferDOM(this)}return n&&this.setDeco(i?i.attrs:null),kE(this,e,t,i?i.children.slice():[],s,o),!0}split(e){let t=new r;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:n}=this.childPos(e);n&&(t.append(this.children[i].split(n),0),this.children[i].merge(n,this.children[i].length,null,!1,0,0),i++);for(let s=i;s<this.children.length;s++)t.append(this.children[s],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Rb(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){IE(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=ab(t,this.attrs||{})),i&&(this.attrs=ab({class:i},this.attrs||{}))}domAtPos(e){return AE(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var i;this.dom?this.flags&4&&(xE(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(lb(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let n=this.dom.lastChild;for(;n&&wt.get(n)instanceof mo;)n=n.lastChild;if(!n||!this.length||n.nodeName!="BR"&&((i=wt.get(n))===null||i===void 0?void 0:i.isEditable)==!1&&(!fe.ios||!this.children.some(s=>s instanceof fo))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let i of this.children){if(!(i instanceof fo)||/[^ -~]/.test(i.text))return null;let n=au(i.dom);if(n.length!=1)return null;e+=n[0].width,t=n[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let i=PE(this,e,t);if(!this.children.length&&i&&this.parent){let{heightOracle:n}=this.parent.view.viewState,s=i.bottom-i.top;if(Math.abs(s-n.lineHeight)<2&&n.textHeight<s){let o=(s-n.textHeight)/2;return{top:i.top+o,bottom:i.bottom-o,left:i.left,right:i.left}}}return i}become(e){return!1}covers(){return!0}static find(e,t){for(let i=0,n=0;i<e.children.length;i++){let s=e.children[i],o=n+s.length;if(o>=t){if(s instanceof r)return s;if(o>t)break}n=o+s.breakAfter}return null}},Rl=class r extends wt{constructor(e,t,i){super(),this.widget=e,this.length=t,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,n,s,o){return i&&(!(i instanceof r)||!this.widget.compare(i.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Ii.before(this.dom):Ii.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new r(this.widget,t,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return zb}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):He.empty}domBoundsAround(){return null}become(e){return e instanceof r&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:i}=this.deco;return t==i?!1:e<0?t<0:i>0}},go=class{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}},rr=function(r){return r[r.Text=0]="Text",r[r.WidgetBefore=1]="WidgetBefore",r[r.WidgetAfter=2]="WidgetAfter",r[r.WidgetRange=3]="WidgetRange",r}(rr||(rr={})),_e=class extends nr{constructor(e,t,i,n){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=n}get heightRelevant(){return!1}static mark(e){return new cu(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return t+=i&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new vo(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,n;if(e.isBlockGap)i=-5e8,n=4e8;else{let{start:s,end:o}=jE(e,t);i=(s?t?-3e8:-1:5e8)-1,n=(o?t?2e8:1:-6e8)+1}return new vo(e,i,n,t,e.widget||null,!0)}static line(e){return new uu(e)}static set(e,t=!1){return Tt.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}};_e.none=Tt.empty;var cu=class r extends _e{constructor(e){let{start:t,end:i}=jE(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,i;return this==e||e instanceof r&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((i=e.attrs)===null||i===void 0?void 0:i.class))&&Rb(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}};cu.prototype.point=!1;var uu=class r extends _e{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof r&&this.spec.class==e.spec.class&&Rb(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}};uu.prototype.mapMode=pi.TrackBefore;uu.prototype.point=!0;var vo=class r extends _e{constructor(e,t,i,n,s,o){super(t,i,s,e),this.block=n,this.isReplace=o,this.mapMode=n?t<=0?pi.TrackBefore:pi.TrackAfter:pi.TrackDel}get type(){return this.startSide!=this.endSide?rr.WidgetRange:this.startSide<=0?rr.WidgetBefore:rr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof r&&Nz(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}};vo.prototype.point=!0;function jE(r,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=r;return t==null&&(t=r.inclusive),i==null&&(i=r.inclusive),{start:t??e,end:i??e}}function Nz(r,e){return r==e||!!(r&&e&&r.compare(e))}function hb(r,e,t,i=0){let n=t.length-1;n>=0&&t[n]+i>=r?t[n]=Math.max(t[n],e):t.push(r,e)}var iu=class r{constructor(e,t,i,n){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=n,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Rl&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new di),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(gf(new hu(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Rl)&&this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let n=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-i)),this.getLine().append(gf(new fo(this.text.slice(this.textOff,this.textOff+n)),t),i),this.atCursorPos=!0,this.textOff+=n,e-=n,i=0}}span(e,t,i,n){this.buildText(t-e,i,n),this.pos=t,this.openStart<0&&(this.openStart=n)}point(e,t,i,n,s,o){if(this.disallowBlockEffectsFor[o]&&i instanceof vo){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=t-e;if(i instanceof vo)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Rl(i.widget||ms.block,a,i));else{let l=Df.create(i.widget||ms.inline,a,a?0:i.startSide),h=this.atCursorPos&&!l.isEditable&&s<=n.length&&(e<t||i.startSide>0),c=!l.isEditable&&(e<t||s>n.length||i.startSide<=0),p=this.getLine();this.pendingBuffer==2&&!h&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(n),h&&(p.append(gf(new hu(1),n),s),s=n.length+Math.max(0,s-n.length)),p.append(gf(l,n),s),this.atCursorPos=c,this.pendingBuffer=c?e<t||s>n.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=n.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,i,n,s){let o=new r(e,t,i,s);return o.openEnd=Tt.spans(n,t,i,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}};function gf(r,e){for(let t of e)r=new mo(t,[r],r.length);return r}var ms=class extends go{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}};ms.inline=new ms("span");ms.block=new ms("div");var jt=function(r){return r[r.LTR=0]="LTR",r[r.RTL=1]="RTL",r}(jt||(jt={})),Ma=jt.LTR,Bb=jt.RTL;function zE(r){let e=[];for(let t=0;t<r.length;t++)e.push(1<<+r[t]);return e}var xz=zE("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),wz=zE("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),cb=Object.create(null),Ir=[];for(let r of["()","[]","{}"]){let e=r.charCodeAt(0),t=r.charCodeAt(1);cb[e]=t,cb[t]=-e}function RE(r){return r<=247?xz[r]:1424<=r&&r<=1524?2:1536<=r&&r<=1785?wz[r-1536]:1774<=r&&r<=2220?4:8192<=r&&r<=8204?256:64336<=r&&r<=65023?4:1}var Ez=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/,jr=class{get dir(){return this.level%2?Bb:Ma}constructor(e,t,i){this.from=e,this.to=t,this.level=i}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,i,n){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=t&&a.to>=t){if(a.level==i)return o;(s<0||(n!=0?n<0?a.from<t:a.to>t:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}};function BE(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++){let i=r[t],n=e[t];if(i.from!=n.from||i.to!=n.to||i.direction!=n.direction||!BE(i.inner,n.inner))return!1}return!0}var yt=[];function kz(r,e,t,i,n){for(let s=0;s<=i.length;s++){let o=s?i[s-1].to:e,a=s<i.length?i[s].from:t,l=s?256:n;for(let h=o,c=l,p=l;h<a;h++){let d=RE(r.charCodeAt(h));d==512?d=c:d==8&&p==4&&(d=16),yt[h]=d==4?2:d,d&7&&(p=d),c=d}for(let h=o,c=l,p=l;h<a;h++){let d=yt[h];if(d==128)h<a-1&&c==yt[h+1]&&c&24?d=yt[h]=c:yt[h]=256;else if(d==64){let f=h+1;for(;f<a&&yt[f]==64;)f++;let m=h&&c==8||f<t&&yt[f]==8?p==1?1:8:256;for(let g=h;g<f;g++)yt[g]=m;h=f-1}else d==8&&p==1&&(yt[h]=1);c=d,d&7&&(p=d)}}}function Dz(r,e,t,i,n){let s=n==1?2:1;for(let o=0,a=0,l=0;o<=i.length;o++){let h=o?i[o-1].to:e,c=o<i.length?i[o].from:t;for(let p=h,d,f,m;p<c;p++)if(f=cb[d=r.charCodeAt(p)])if(f<0){for(let g=a-3;g>=0;g-=3)if(Ir[g+1]==-f){let v=Ir[g+2],O=v&2?n:v&4?v&1?s:n:0;O&&(yt[p]=yt[Ir[g]]=O),a=g;break}}else{if(Ir.length==189)break;Ir[a++]=p,Ir[a++]=d,Ir[a++]=l}else if((m=yt[p])==2||m==1){let g=m==n;l=g?0:1;for(let v=a-3;v>=0;v-=3){let O=Ir[v+2];if(O&2)break;if(g)Ir[v+2]|=2;else{if(O&4)break;Ir[v+2]|=4}}}}}function Lz(r,e,t,i){for(let n=0,s=i;n<=t.length;n++){let o=n?t[n-1].to:r,a=n<t.length?t[n].from:e;for(let l=o;l<a;){let h=yt[l];if(h==256){let c=l+1;for(;;)if(c==a){if(n==t.length)break;c=t[n++].to,a=n<t.length?t[n].from:e}else if(yt[c]==256)c++;else break;let p=s==1,d=(c<e?yt[c]:i)==1,f=p==d?p?1:2:i;for(let m=c,g=n,v=g?t[g-1].to:r;m>l;)m==v&&(m=t[--g].from,v=g?t[g-1].to:r),yt[--m]=f;l=c}else s=h,l++}}}function ub(r,e,t,i,n,s,o){let a=i%2?2:1;if(i%2==n%2)for(let l=e,h=0;l<t;){let c=!0,p=!1;if(h==s.length||l<s[h].from){let g=yt[l];g!=a&&(c=!1,p=g==16)}let d=!c&&a==1?[]:null,f=c?i:i+1,m=l;e:for(;;)if(h<s.length&&m==s[h].from){if(p)break e;let g=s[h];if(!c)for(let v=g.to,O=h+1;;){if(v==t)break e;if(O<s.length&&s[O].from==v)v=s[O++].to;else{if(yt[v]==a)break e;break}}if(h++,d)d.push(g);else{g.from>l&&o.push(new jr(l,g.from,f));let v=g.direction==Ma!=!(f%2);pb(r,v?i+1:i,n,g.inner,g.from,g.to,o),l=g.to}m=g.to}else{if(m==t||(c?yt[m]!=a:yt[m]==a))break;m++}d?ub(r,l,m,i+1,n,d,o):l<m&&o.push(new jr(l,m,f)),l=m}else for(let l=t,h=s.length;l>e;){let c=!0,p=!1;if(!h||l>s[h-1].to){let g=yt[l-1];g!=a&&(c=!1,p=g==16)}let d=!c&&a==1?[]:null,f=c?i:i+1,m=l;e:for(;;)if(h&&m==s[h-1].to){if(p)break e;let g=s[--h];if(!c)for(let v=g.from,O=h;;){if(v==e)break e;if(O&&s[O-1].to==v)v=s[--O].from;else{if(yt[v-1]==a)break e;break}}if(d)d.push(g);else{g.to<l&&o.push(new jr(g.to,l,f));let v=g.direction==Ma!=!(f%2);pb(r,v?i+1:i,n,g.inner,g.from,g.to,o),l=g.from}m=g.from}else{if(m==e||(c?yt[m-1]!=a:yt[m-1]==a))break;m--}d?ub(r,m,l,i+1,n,d,o):m<l&&o.push(new jr(m,l,f)),l=m}}function pb(r,e,t,i,n,s,o){let a=e%2?2:1;kz(r,n,s,i,a),Dz(r,n,s,i,a),Lz(n,s,i,a),ub(r,n,s,e,t,i,o)}function Az(r,e,t){if(!r)return[new jr(0,0,e==Bb?1:0)];if(e==Ma&&!t.length&&!Ez.test(r))return QE(r.length);if(t.length)for(;r.length>yt.length;)yt[yt.length]=256;let i=[],n=e==Ma?0:1;return pb(r,n,n,t,0,r.length,i),i}function QE(r){return[new jr(0,r,0)]}var UE="";function Iz(r,e,t,i,n){var s;let o=i.head-r.from,a=jr.find(e,o,(s=i.bidiLevel)!==null&&s!==void 0?s:-1,i.assoc),l=e[a],h=l.side(n,t);if(o==h){let d=a+=n?1:-1;if(d<0||d>=e.length)return null;l=e[a=d],o=l.side(!n,t),h=l.side(n,t)}let c=zn(r.text,o,l.forward(n,t));(c<l.from||c>l.to)&&(c=h),UE=r.text.slice(Math.min(o,c),Math.max(o,c));let p=a==(n?e.length-1:0)?null:e[a+(n?1:-1)];return p&&c==h&&p.level+(n?0:1)<l.level?ye.cursor(p.side(!n,t)+r.from,p.forward(n,t)?1:-1,p.level):ye.cursor(c+r.from,l.forward(n,t)?-1:1,l.level)}function Pz(r,e,t){for(let i=e;i<t;i++){let n=RE(r.charCodeAt(i));if(n==1)return Ma;if(n==2||n==4)return Bb}return Ma}var HE=be.define(),_E=be.define(),FE=be.define(),VE=be.define(),db=be.define(),$E=be.define(),YE=be.define(),qE=be.define({combine:r=>r.some(e=>e)}),jz=be.define({combine:r=>r.some(e=>e)}),WE=be.define(),nu=class r{constructor(e,t="nearest",i="nearest",n=5,s=5,o=!1){this.range=e,this.y=t,this.x=i,this.yMargin=n,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new r(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new r(ye.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}},vf=Ue.define({map:(r,e)=>r.map(e)});function Pi(r,e,t){let i=r.facet(VE);i.length?i[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}var Hf=be.define({combine:r=>r.length?r[0]:!0}),zz=0,Gc=be.define(),qi=class r{constructor(e,t,i,n,s){this.id=e,this.create=t,this.domEventHandlers=i,this.domEventObservers=n,this.extension=s(this)}static define(e,t){let{eventHandlers:i,eventObservers:n,provide:s,decorations:o}=t||{};return new r(zz++,e,i,n,a=>{let l=[Gc.of(a)];return o&&l.push(pu.of(h=>{let c=h.plugin(a);return c?o(c):_e.none})),s&&l.push(s(a)),l})}static fromClass(e,t){return r.define(i=>new e(i),t)}},ru=class{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(Pi(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Pi(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){Pi(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}},ZE=be.define(),Qb=be.define(),pu=be.define(),XE=be.define(),Ub=be.define(),GE=be.define();function Gw(r,e){let t=r.state.facet(GE);if(!t.length)return t;let i=t.map(s=>s instanceof Function?s(r):s),n=[];return Tt.spans(i,e.from,e.to,{point(){},span(s,o,a,l){let h=s-e.from,c=o-e.from,p=n;for(let d=a.length-1;d>=0;d--,l--){let f=a[d].spec.bidiIsolate,m;if(f==null&&(f=Pz(e.text,h,c)),l>0&&p.length&&(m=p[p.length-1]).to==h&&m.direction==f)m.to=c,p=m.inner;else{let g={from:h,to:c,direction:f,inner:[]};p.push(g),p=g.inner}}}}),n}var KE=be.define();function JE(r){let e=0,t=0,i=0,n=0;for(let s of r.state.facet(KE)){let o=s(r);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(t=Math.max(t,o.right)),o.top!=null&&(i=Math.max(i,o.top)),o.bottom!=null&&(n=Math.max(n,o.bottom)))}return{left:e,right:t,top:i,bottom:n}}var Kc=be.define(),zr=class r{constructor(e,t,i,n){this.fromA=e,this.toA=t,this.fromB=i,this.toB=n}join(e){return new r(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let n=e[t-1];if(!(n.fromA>i.toA)){if(n.toA<i.fromA)break;i=i.join(n),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let n=0,s=0,o=0,a=0;;n++){let l=n==e.length?null:e[n],h=o-a,c=l?l.fromB:1e9;for(;s<t.length&&t[s]<c;){let p=t[s],d=t[s+1],f=Math.max(a,p),m=Math.min(c,d);if(f<=m&&new r(f+h,m+h,f,m).addToSet(i),d>c)break;s+=2}if(!l)return i;new r(l.fromA,l.toA,l.fromB,l.toB).addToSet(i),o=l.toA,a=l.toB}}},Lf=class r{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=Ai.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let n=[];this.changes.iterChangedRanges((s,o,a,l)=>n.push(new zr(s,o,a,l))),this.changedRanges=n}static create(e,t,i){return new r(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}},Af=class extends wt{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.compositionBarrier=_e.none,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new di],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new zr(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:h,toA:c})=>c<this.minWidthFrom||h>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let n=-1;this.view.inputState.composing>=0&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?n=this.domChanged.newSel.head:!Vz(e.changes,this.hasComposition)&&!e.selectionSet&&(n=e.state.selection.main.head));let s=n>-1?Qz(this.view,e.changes,n):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:h,to:c}=this.hasComposition;i=new zr(h,c,e.changes.mapPos(h,-1),e.changes.mapPos(c,1)).addToSet(i.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(fe.ie||fe.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=_z(o,a,e.changes);return i=zr.extendWithRanges(i,l),!(this.flags&7)&&i.length==0?!1:(this.updateInner(i,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,i);let{observer:n}=this.view;n.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=fe.chrome||fe.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||n.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Rl&&o.widget instanceof If&&s.push(o.dom);n.updateGaps(s)}updateChildren(e,t,i){let n=i?i.range.addToSet(e.slice()):e,s=this.childCursor(t);for(let o=n.length-1;;o--){let a=o>=0?n[o]:null;if(!a)break;let{fromA:l,toA:h,fromB:c,toB:p}=a,d,f,m,g;if(i&&i.range.fromB<p&&i.range.toB>c){let M=iu.build(this.view.state.doc,c,i.range.fromB,this.decorations,this.dynamicDecorationMap),k=iu.build(this.view.state.doc,i.range.toB,p,this.decorations,this.dynamicDecorationMap);f=M.breakAtStart,m=M.openStart,g=k.openEnd;let A=this.compositionView(i);k.breakAtStart?A.breakAfter=1:k.content.length&&A.merge(A.length,A.length,k.content[0],!1,k.openStart,0)&&(A.breakAfter=k.content[0].breakAfter,k.content.shift()),M.content.length&&A.merge(0,0,M.content[M.content.length-1],!0,0,M.openEnd)&&M.content.pop(),d=M.content.concat(A).concat(k.content)}else({content:d,breakAtStart:f,openStart:m,openEnd:g}=iu.build(this.view.state.doc,c,p,this.decorations,this.dynamicDecorationMap));let{i:v,off:O}=s.findPos(h,1),{i:C,off:x}=s.findPos(l,-1);EE(this,C,x,v,O,d,f,m,g)}i&&this.fixCompositionDOM(i)}compositionView(e){let t=new fo(e.text.nodeValue);t.flags|=8;for(let{deco:n}of e.marks)t=new mo(n,[t],t.length);let i=new di;return i.append(t,0),i}fixCompositionDOM(e){let t=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=wt.get(s);a&&a!=o&&(a.dom=null),o.setDOM(s)},i=this.childPos(e.range.fromB,1),n=this.children[i.i];t(e.line,n);for(let s=e.marks.length-1;s>=-1;s--)i=n.childPos(i.off,1),n=n.children[i.i],t(s>=0?e.marks[s].node:e.text,n)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,n=i==this.dom,s=!n&&Tf(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(n||t||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),h=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(fe.gecko&&a.empty&&!this.hasComposition&&Bz(l)){let p=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(p,l.node.childNodes[l.offset]||null)),l=h=new Ii(p,0),o=!0}let c=this.view.observer.selectionRange;(o||!c.focusNode||(!tu(l.node,l.offset,c.anchorNode,c.anchorOffset)||!tu(h.node,h.offset,c.focusNode,c.focusOffset))&&!this.suppressWidgetCursorChange(c,a))&&(this.view.observer.ignore(()=>{fe.android&&fe.chrome&&this.dom.contains(c.focusNode)&&Fz(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let p=Ef(this.view.root);if(p)if(a.empty){if(fe.gecko){let d=Uz(l.node,l.offset);if(d&&d!=3){let f=t1(l.node,l.offset,d==1?1:-1);f&&(l=new Ii(f.node,f.offset))}}p.collapse(l.node,l.offset),a.bidiLevel!=null&&p.caretBidiLevel!==void 0&&(p.caretBidiLevel=a.bidiLevel)}else if(p.extend){p.collapse(l.node,l.offset);try{p.extend(h.node,h.offset)}catch{}}else{let d=document.createRange();a.anchor>a.head&&([l,h]=[h,l]),d.setEnd(h.node,h.offset),d.setStart(l.node,l.offset),p.removeAllRanges(),p.addRange(d)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(l,h)),this.impreciseAnchor=l.precise?null:new Ii(c.anchorNode,c.anchorOffset),this.impreciseHead=h.precise?null:new Ii(c.focusNode,c.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&!this.compositionBarrier.size&&tu(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,i=Ef(e.root),{anchorNode:n,anchorOffset:s}=e.observer.selectionRange;if(!i||!t.empty||!t.assoc||!i.modify)return;let o=di.find(this,t.head);if(!o)return;let a=o.posAtStart;if(t.head==a||t.head==a+o.length)return;let l=this.coordsAt(t.head,-1),h=this.coordsAt(t.head,1);if(!l||!h||l.bottom>h.top)return;let c=this.domAtPos(t.head+t.assoc);i.collapse(c.node,c.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let p=e.observer.selectionRange;e.docView.posFromDOM(p.anchorNode,p.anchorOffset)!=t.from&&i.collapse(n,s)}moveToLine(e){let t=this.dom,i;if(e.node!=t)return e;for(let n=e.offset;!i&&n<t.childNodes.length;n++){let s=wt.get(t.childNodes[n]);s instanceof di&&(i=s.domAtPos(0))}for(let n=e.offset-1;!i&&n>=0;n--){let s=wt.get(t.childNodes[n]);s instanceof di&&(i=s.domAtPos(s.length))}return i?new Ii(i.node,i.offset,!0):e}nearest(e){for(let t=e;t;){let i=wt.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let n=this.children[t];if(i<n.length||n instanceof di)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){let i=null,n=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=s-a.breakAfter,h=l-a.length;if(l<e)break;h<=e&&(h<e||a.covers(-1))&&(l>e||a.covers(1))&&(!i||a instanceof di&&!(i instanceof di&&t>=0))&&(i=a,n=h),s=h}return i?i.coordsAt(e-n,t):null}coordsForChar(e){let{i:t,off:i}=this.childPos(e,1),n=this.children[t];if(!(n instanceof di))return null;for(;n.children.length;){let{i:a,off:l}=n.childPos(i,1);for(;;a++){if(a==n.children.length)return null;if((n=n.children[a]).length)break}i=l}if(!(n instanceof fo))return null;let s=zn(n.text,i);if(s==i)return null;let o=Sa(n.dom,i,s).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(a==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let t=[],{from:i,to:n}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==jt.LTR;for(let h=0,c=0;c<this.children.length;c++){let p=this.children[c],d=h+p.length;if(d>n)break;if(h>=i){let f=p.dom.getBoundingClientRect();if(t.push(f.height),o){let m=p.dom.lastChild,g=m?au(m):[];if(g.length){let v=g[g.length-1],O=l?v.right-f.left:f.right-v.left;O>a&&(a=O,this.minWidth=s,this.minWidthFrom=h,this.minWidthTo=d)}}}h=d+p.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?jt.RTL:jt.LTR}measureTextSize(){for(let s of this.children)if(s instanceof di){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),t,i,n;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=au(e.firstChild)[0];t=e.getBoundingClientRect().height,i=s?s.width/27:7,n=s?s.height:t,e.remove()}),{lineHeight:t,charWidth:i,textHeight:n}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new kf(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,n=0;;n++){let s=n==t.viewports.length?null:t.viewports[n],o=s?s.from-1:this.length;if(o>i){let a=(t.lineBlockAt(o).bottom-t.lineBlockAt(i).top)/this.view.scaleY;e.push(_e.replace({widget:new If(a),block:!0,inclusive:!0,isBlockGap:!0}).range(i,o))}if(!s)break;i=s.to+1}return _e.set(e)}updateDeco(){let e=1,t=this.view.state.facet(pu).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),i=!1,n=this.view.state.facet(XE).map((s,o)=>{let a=typeof s=="function";return a&&(i=!0),a?s(this.view):s});for(n.length&&(this.dynamicDecorationMap[e++]=i,t.push(Tt.join(n))),this.decorations=[this.compositionBarrier,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}maybeCreateCompositionBarrier(){let{main:{head:e,empty:t}}=this.view.state.selection;if(!t)return!1;let i=null;for(let n of this.decorations)if(n.between(e,e,(s,o,a)=>{a.point?i=!1:a.endSide<0&&s<e&&o==e&&(i=!0)}),i===!1)break;return this.compositionBarrier=i?_e.set(Rz.range(e)):_e.none,!!i}clearCompositionBarrier(){this.compositionBarrier=_e.none}scrollIntoView(e){if(e.isSnapshot){let h=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=h.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let h of this.view.state.facet(WE))try{if(h(this.view,e.range,e))return!0}catch(c){Pi(this.view.state,c,"scroll handler")}let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),n;if(!i)return;!t.empty&&(n=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,n.left),top:Math.min(i.top,n.top),right:Math.max(i.right,n.right),bottom:Math.max(i.bottom,n.bottom)});let s=JE(this.view),o={left:i.left-s.left,top:i.top-s.top,right:i.right+s.right,bottom:i.bottom+s.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;vz(this.view.scrollDOM,o,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==jt.LTR)}},Rz=_e.widget({side:-1,widget:ms.inline});function Bz(r){return r.node.nodeType==1&&r.node.firstChild&&(r.offset==0||r.node.childNodes[r.offset-1].contentEditable=="false")&&(r.offset==r.node.childNodes.length||r.node.childNodes[r.offset].contentEditable=="false")}var If=class extends go{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}};function e1(r,e){let t=r.observer.selectionRange,i=t.focusNode&&t1(t.focusNode,t.focusOffset,0);if(!i)return null;let n=e-i.offset;return{from:n,to:n+i.node.nodeValue.length,node:i.node}}function Qz(r,e,t){let i=e1(r,t);if(!i)return null;let{node:n,from:s,to:o}=i,a=n.nodeValue;if(/[\n\r]/.test(a)||r.state.doc.sliceString(i.from,i.to)!=a)return null;let l=e.invertedDesc,h=new zr(l.mapPos(s),l.mapPos(o),s,o),c=[];for(let p=n.parentNode;;p=p.parentNode){let d=wt.get(p);if(d instanceof mo)c.push({node:p,deco:d.mark});else{if(d instanceof di||p.nodeName=="DIV"&&p.parentNode==r.contentDOM)return{range:h,text:n,marks:c,line:p};if(p!=r.contentDOM)c.push({node:p,deco:new cu({inclusive:!0,attributes:Tz(p),tagName:p.tagName.toLowerCase()})});else return null}}}function t1(r,e,t){if(t<=0)for(let i=r,n=e;;){if(i.nodeType==3)return{node:i,offset:n};if(i.nodeType==1&&n>0)i=i.childNodes[n-1],n=fs(i);else break}if(t>=0)for(let i=r,n=e;;){if(i.nodeType==3)return{node:i,offset:n};if(i.nodeType==1&&n<i.childNodes.length&&t>=0)i=i.childNodes[n],n=0;else break}return null}function Uz(r,e){return r.nodeType!=1?0:(e&&r.childNodes[e-1].contentEditable=="false"?1:0)|(e<r.childNodes.length&&r.childNodes[e].contentEditable=="false"?2:0)}var Hz=class{constructor(){this.changes=[]}compareRange(e,t){hb(e,t,this.changes)}comparePoint(e,t){hb(e,t,this.changes)}};function _z(r,e,t){let i=new Hz;return Tt.compare(r,e,t,i),i.changes}function Fz(r,e){for(let t=r;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function Vz(r,e){let t=!1;return e&&r.iterChangedRanges((i,n)=>{i<e.to&&n>e.from&&(t=!0)}),t}function $z(r,e,t=1){let i=r.charCategorizer(e),n=r.doc.lineAt(e),s=e-n.from;if(n.length==0)return ye.cursor(e);s==0?t=1:s==n.length&&(t=-1);let o=s,a=s;t<0?o=zn(n.text,s,!1):a=zn(n.text,s);let l=i(n.text.slice(o,a));for(;o>0;){let h=zn(n.text,o,!1);if(i(n.text.slice(h,o))!=l)break;o=h}for(;a<n.length;){let h=zn(n.text,a);if(i(n.text.slice(a,h))!=l)break;a=h}return ye.range(o+n.from,a+n.from)}function Yz(r,e){return e.left>r?e.left-r:Math.max(0,r-e.right)}function qz(r,e){return e.top>r?e.top-r:Math.max(0,r-e.bottom)}function Xy(r,e){return r.top<e.bottom-1&&r.bottom>e.top+1}function Kw(r,e){return e<r.top?{top:e,left:r.left,right:r.right,bottom:r.bottom}:r}function Jw(r,e){return e>r.bottom?{top:r.top,left:r.left,right:r.right,bottom:e}:r}function fb(r,e,t){let i,n,s,o,a=!1,l,h,c,p;for(let m=r.firstChild;m;m=m.nextSibling){let g=au(m);for(let v=0;v<g.length;v++){let O=g[v];n&&Xy(n,O)&&(O=Kw(Jw(O,n.bottom),n.top));let C=Yz(e,O),x=qz(t,O);if(C==0&&x==0)return m.nodeType==3?eE(m,e,t):fb(m,e,t);if(!i||o>x||o==x&&s>C){i=m,n=O,s=C,o=x;let M=x?t<O.top?-1:1:C?e<O.left?-1:1:0;a=!M||(M>0?v<g.length-1:v>0)}C==0?t>O.bottom&&(!c||c.bottom<O.bottom)?(l=m,c=O):t<O.top&&(!p||p.top>O.top)&&(h=m,p=O):c&&Xy(c,O)?c=Jw(c,O.bottom):p&&Xy(p,O)&&(p=Kw(p,O.top))}}if(c&&c.bottom>=t?(i=l,n=c):p&&p.top<=t&&(i=h,n=p),!i)return{node:r,offset:0};let d=Math.max(n.left,Math.min(n.right,e));if(i.nodeType==3)return eE(i,d,t);if(a&&i.contentEditable!="false")return fb(i,d,t);let f=Array.prototype.indexOf.call(r.childNodes,i)+(e>=(n.left+n.right)/2?1:0);return{node:r,offset:f}}function eE(r,e,t){let i=r.nodeValue.length,n=-1,s=1e9,o=0;for(let a=0;a<i;a++){let l=Sa(r,a,a+1).getClientRects();for(let h=0;h<l.length;h++){let c=l[h];if(c.top==c.bottom)continue;o||(o=e-c.left);let p=(c.top>t?c.top-t:t-c.bottom)-1;if(c.left-1<=e&&c.right+1>=e&&p<s){let d=e>=(c.left+c.right)/2,f=d;if((fe.chrome||fe.gecko)&&Sa(r,a).getBoundingClientRect().left==c.right&&(f=!d),p<=0)return{node:r,offset:a+(f?1:0)};n=a+(f?1:0),s=p}}}return{node:r,offset:n>-1?n:o>0?r.nodeValue.length:0}}function i1(r,e,t,i=-1){var n,s;let o=r.contentDOM.getBoundingClientRect(),a=o.top+r.viewState.paddingTop,l,{docHeight:h}=r.viewState,{x:c,y:p}=e,d=p-a;if(d<0)return 0;if(d>h)return r.state.doc.length;for(let M=r.viewState.heightOracle.textHeight/2,k=!1;l=r.elementAtHeight(d),l.type!=rr.Text;)for(;d=i>0?l.bottom+M:l.top-M,!(d>=0&&d<=h);){if(k)return t?null:0;k=!0,i=-i}p=a+d;let f=l.from;if(f<r.viewport.from)return r.viewport.from==0?0:t?null:tE(r,o,l,c,p);if(f>r.viewport.to)return r.viewport.to==r.state.doc.length?r.state.doc.length:t?null:tE(r,o,l,c,p);let m=r.dom.ownerDocument,g=r.root.elementFromPoint?r.root:m,v=g.elementFromPoint(c,p);v&&!r.contentDOM.contains(v)&&(v=null),v||(c=Math.max(o.left+1,Math.min(o.right-1,c)),v=g.elementFromPoint(c,p),v&&!r.contentDOM.contains(v)&&(v=null));let O,C=-1;if(v&&((n=r.docView.nearest(v))===null||n===void 0?void 0:n.isEditable)!=!1){if(m.caretPositionFromPoint){let M=m.caretPositionFromPoint(c,p);M&&({offsetNode:O,offset:C}=M)}else if(m.caretRangeFromPoint){let M=m.caretRangeFromPoint(c,p);M&&({startContainer:O,startOffset:C}=M,(!r.contentDOM.contains(O)||fe.safari&&Wz(O,C,c)||fe.chrome&&Zz(O,C,c))&&(O=void 0))}}if(!O||!r.docView.dom.contains(O)){let M=di.find(r.docView,f);if(!M)return d>l.top+l.height/2?l.to:l.from;({node:O,offset:C}=fb(M.dom,c,p))}let x=r.docView.nearest(O);if(!x)return null;if(x.isWidget&&((s=x.dom)===null||s===void 0?void 0:s.nodeType)==1){let M=x.dom.getBoundingClientRect();return e.y<M.top||e.y<=M.bottom&&e.x<=(M.left+M.right)/2?x.posAtStart:x.posAtEnd}else return x.localPosFromDOM(O,C)+x.posAtStart}function tE(r,e,t,i,n){let s=Math.round((i-e.left)*r.defaultCharacterWidth);if(r.lineWrapping&&t.height>r.defaultLineHeight*1.5){let a=r.viewState.heightOracle.textHeight,l=Math.floor((n-t.top-(r.defaultLineHeight-a)*.5)/a);s+=l*r.viewState.heightOracle.lineLength}let o=r.state.sliceDoc(t.from,t.to);return t.from+Qw(o,s,r.state.tabSize)}function Wz(r,e,t){let i;if(r.nodeType!=3||e!=(i=r.nodeValue.length))return!1;for(let n=r.nextSibling;n;n=n.nextSibling)if(n.nodeType!=1||n.nodeName!="BR")return!1;return Sa(r,i-1,i).getBoundingClientRect().left>t}function Zz(r,e,t){if(e!=0)return!1;for(let n=r;;){let s=n.parentNode;if(!s||s.nodeType!=1||s.firstChild!=n)return!1;if(s.classList.contains("cm-line"))break;n=s}let i=r.nodeType==1?r.getBoundingClientRect():Sa(r,0,Math.max(r.nodeValue.length,1)).getBoundingClientRect();return t-i.left>5}function Xz(r,e){let t=r.lineBlockAt(e);if(Array.isArray(t.type)){for(let i of t.type)if(i.to>e||i.to==e&&(i.to==t.to||i.type==rr.Text))return i}return t}function Gz(r,e,t,i){let n=Xz(r,e.head),s=!i||n.type!=rr.Text||!(r.lineWrapping||n.widgetLineBreaks)?null:r.coordsAtPos(e.assoc<0&&e.head>n.from?e.head-1:e.head);if(s){let o=r.dom.getBoundingClientRect(),a=r.textDirectionAt(n.from),l=r.posAtCoords({x:t==(a==jt.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return ye.cursor(l,t?-1:1)}return ye.cursor(t?n.to:n.from,t?-1:1)}function iE(r,e,t,i){let n=r.state.doc.lineAt(e.head),s=r.bidiSpans(n),o=r.textDirectionAt(n.from);for(let a=e,l=null;;){let h=Iz(n,s,o,a,t),c=UE;if(!h){if(n.number==(t?r.state.doc.lines:1))return a;c=`
`,n=r.state.doc.line(n.number+(t?1:-1)),s=r.bidiSpans(n),h=r.visualLineSide(n,!t)}if(l){if(!l(c))return a}else{if(!i)return h;l=i(c)}a=h}}function Kz(r,e,t){let i=r.state.charCategorizer(e),n=i(t);return s=>{let o=i(s);return n==Pn.Space&&(n=o),n==o}}function Jz(r,e,t,i){let n=e.head,s=t?1:-1;if(n==(t?r.state.doc.length:0))return ye.cursor(n,e.assoc);let o=e.goalColumn,a,l=r.contentDOM.getBoundingClientRect(),h=r.coordsAtPos(n,e.assoc||-1),c=r.documentTop;if(h)o==null&&(o=h.left-l.left),a=s<0?h.top:h.bottom;else{let f=r.viewState.lineBlockAt(n);o==null&&(o=Math.min(l.right-l.left,r.defaultCharacterWidth*(n-f.from))),a=(s<0?f.top:f.bottom)+c}let p=l.left+o,d=i??r.viewState.heightOracle.textHeight>>1;for(let f=0;;f+=10){let m=a+(d+f)*s,g=i1(r,{x:p,y:m},!1,s);if(m<l.top||m>l.bottom||(s<0?g<n:g>n)){let v=r.docView.coordsForChar(g),O=!v||m<v.top?-1:1;return ye.cursor(g,O,void 0,o)}}}function Nf(r,e,t){for(;;){let i=0;for(let n of r)n.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=i||t||(e-s<o-e?-1:1);e=l<0?s:o,i=l}});if(!i)return e}}function Gy(r,e,t){let i=Nf(r.state.facet(Ub).map(n=>n(r)),t.from,e.head>t.from?-1:1);return i==t.from?t:ye.cursor(i,i<t.from?1:-1)}var mb=class{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,fe.safari&&e.contentDOM.addEventListener("input",()=>null),fe.gecko&&fR(e.contentDOM.ownerDocument)}handleEvent(e){!oR(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,t){let i=this.handlers[e];if(i){for(let n of i.observers)n(this.view,t);for(let n of i.handlers){if(t.defaultPrevented)break;if(n(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=eR(e),i=this.handlers,n=this.view.contentDOM;for(let s in t)if(s!="scroll"){let o=!t[s].handlers.length,a=i[s];a&&o!=!a.handlers.length&&(n.removeEventListener(s,this.handleEvent),a=null),a||n.addEventListener(s,this.handleEvent,{passive:o})}for(let s in i)s!="scroll"&&!t[s]&&n.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(e.keyCode!=27&&r1.indexOf(e.keyCode)<0&&(this.view.inputState.lastEscPress=0),fe.android&&fe.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return fe.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=n1.find(i=>i.keyCode==e.keyCode))&&!e.ctrlKey||tR.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,zl(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:fe.safari&&!fe.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}};function nE(r,e){return(t,i)=>{try{return e.call(r,i,t)}catch(n){Pi(t.state,n)}}}function eR(r){let e=Object.create(null);function t(i){return e[i]||(e[i]={observers:[],handlers:[]})}for(let i of r){let n=i.spec;if(n&&n.domEventHandlers)for(let s in n.domEventHandlers){let o=n.domEventHandlers[s];o&&t(s).handlers.push(nE(i.value,o))}if(n&&n.domEventObservers)for(let s in n.domEventObservers){let o=n.domEventObservers[s];o&&t(s).observers.push(nE(i.value,o))}}for(let i in sr)t(i).handlers.push(sr[i]);for(let i in or)t(i).observers.push(or[i]);return e}var n1=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],tR="dthko",r1=[16,17,18,20,91,92,224,225],yf=6;function bf(r){return Math.max(0,r)*.7+8}function iR(r,e){return Math.max(Math.abs(r.clientX-e.clientX),Math.abs(r.clientY-e.clientY))}var gb=class{constructor(e,t,i,n){this.view=e,this.startEvent=t,this.style=i,this.mustSelect=n,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=yz(e.contentDOM),this.atoms=e.state.facet(Ub).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Mt.allowMultipleSelections)&&nR(e,t),this.dragging=sR(e,t)&&l1(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){var t;if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&iR(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let i=0,n=0,s=((t=this.scrollParent)===null||t===void 0?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},o=JE(this.view);e.clientX-o.left<=s.left+yf?i=-bf(s.left-e.clientX):e.clientX+o.right>=s.right-yf&&(i=bf(e.clientX-s.right)),e.clientY-o.top<=s.top+yf?n=-bf(s.top-e.clientY):e.clientY+o.bottom>=s.bottom-yf&&(n=bf(e.clientY-s.bottom)),this.setScrollSpeed(i,n)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let i=0;i<e.ranges.length;i++){let n=e.ranges[i],s=null;if(n.empty){let o=Nf(this.atoms,n.from,0);o!=n.from&&(s=ye.cursor(o,-1))}else{let o=Nf(this.atoms,n.from,-1),a=Nf(this.atoms,n.to,1);(o!=n.from||a!=n.to)&&(s=ye.range(n.from==n.anchor?o:a,n.from==n.head?o:a))}s&&(t||(t=e.ranges.slice()),t[i]=s)}return t?ye.create(t,e.mainIndex):e}select(e){let{view:t}=this,i=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}};function nR(r,e){let t=r.state.facet(HE);return t.length?t[0](e):fe.mac?e.metaKey:e.ctrlKey}function rR(r,e){let t=r.state.facet(_E);return t.length?t[0](e):fe.mac?!e.altKey:!e.ctrlKey}function sR(r,e){let{main:t}=r.state.selection;if(t.empty)return!1;let i=Ef(r.root);if(!i||i.rangeCount==0)return!0;let n=i.getRangeAt(0).getClientRects();for(let s=0;s<n.length;s++){let o=n[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function oR(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=r.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=wt.get(t))&&i.ignoreEvent(e))return!1;return!0}var sr=Object.create(null),or=Object.create(null),s1=fe.ie&&fe.ie_version<15||fe.ios&&fe.webkit_version<604;function aR(r){let e=r.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{r.focus(),t.remove(),o1(r,t.value)},50)}function o1(r,e){let{state:t}=r,i,n=1,s=t.toText(e),o=s.lines==t.selection.ranges.length;if(vb!=null&&t.selection.ranges.every(l=>l.empty)&&vb==s.toString()){let l=-1;i=t.changeByRange(h=>{let c=t.doc.lineAt(h.from);if(c.from==l)return{range:h};l=c.from;let p=t.toText((o?s.line(n++).text:e)+t.lineBreak);return{changes:{from:c.from,insert:p},range:ye.cursor(h.from+p.length)}})}else o?i=t.changeByRange(l=>{let h=s.line(n++);return{changes:{from:l.from,to:l.to,insert:h.text},range:ye.cursor(l.from+h.length)}}):i=t.replaceSelection(s);r.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}or.scroll=r=>{r.inputState.lastScrollTop=r.scrollDOM.scrollTop,r.inputState.lastScrollLeft=r.scrollDOM.scrollLeft};sr.keydown=(r,e)=>(r.inputState.setSelectionOrigin("select"),e.keyCode==27&&(r.inputState.lastEscPress=Date.now()),!1);or.touchstart=(r,e)=>{r.inputState.lastTouchTime=Date.now(),r.inputState.setSelectionOrigin("select.pointer")};or.touchmove=r=>{r.inputState.setSelectionOrigin("select.pointer")};sr.mousedown=(r,e)=>{if(r.observer.flush(),r.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let i of r.state.facet(FE))if(t=i(r,e),t)break;if(!t&&e.button==0&&(t=cR(r,e)),t){let i=!r.hasFocus;r.inputState.startMouseSelection(new gb(r,e,t,i)),i&&r.observer.ignore(()=>NE(r.contentDOM));let n=r.inputState.mouseSelection;if(n)return n.start(e),n.dragging===!1}return!1};function rE(r,e,t,i){if(i==1)return ye.cursor(e,t);if(i==2)return $z(r.state,e,t);{let n=di.find(r.docView,e),s=r.state.doc.lineAt(n?n.posAtEnd:e),o=n?n.posAtStart:s.from,a=n?n.posAtEnd:s.to;return a<r.state.doc.length&&a==s.to&&a++,ye.range(o,a)}}var a1=(r,e)=>r>=e.top&&r<=e.bottom,sE=(r,e,t)=>a1(e,t)&&r>=t.left&&r<=t.right;function lR(r,e,t,i){let n=di.find(r.docView,e);if(!n)return 1;let s=e-n.posAtStart;if(s==0)return 1;if(s==n.length)return-1;let o=n.coordsAt(s,-1);if(o&&sE(t,i,o))return-1;let a=n.coordsAt(s,1);return a&&sE(t,i,a)?1:o&&a1(i,o)?-1:1}function oE(r,e){let t=r.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:lR(r,t,e.clientX,e.clientY)}}var hR=fe.ie&&fe.ie_version<=11,aE=null,lE=0,hE=0;function l1(r){if(!hR)return r.detail;let e=aE,t=hE;return aE=r,hE=Date.now(),lE=!e||t>Date.now()-400&&Math.abs(e.clientX-r.clientX)<2&&Math.abs(e.clientY-r.clientY)<2?(lE+1)%3:1}function cR(r,e){let t=oE(r,e),i=l1(e),n=r.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),n=n.map(s.changes))},get(s,o,a){let l=oE(r,s),h,c=rE(r,l.pos,l.bias,i);if(t.pos!=l.pos&&!o){let p=rE(r,t.pos,t.bias,i),d=Math.min(p.from,c.from),f=Math.max(p.to,c.to);c=d<c.from?ye.range(d,f):ye.range(f,d)}return o?n.replaceRange(n.main.extend(c.from,c.to)):a&&i==1&&n.ranges.length>1&&(h=uR(n,l.pos))?h:a?n.addRange(c):ye.create([c])}}}function uR(r,e){for(let t=0;t<r.ranges.length;t++){let{from:i,to:n}=r.ranges[t];if(i<=e&&n>=e)return ye.create(r.ranges.slice(0,t).concat(r.ranges.slice(t+1)),r.mainIndex==t?0:r.mainIndex-(r.mainIndex>t?1:0))}return null}sr.dragstart=(r,e)=>{let{selection:{main:t}}=r.state;if(e.target.draggable){let n=r.docView.nearest(e.target);if(n&&n.isWidget){let s=n.posAtStart,o=s+n.length;(s>=t.to||o<=t.from)&&(t=ye.range(s,o))}}let{inputState:i}=r;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",r.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove"),!1};sr.dragend=r=>(r.inputState.draggedContent=null,!1);function cE(r,e,t,i){if(!t)return;let n=r.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=r.inputState,o=i&&s&&rR(r,e)?{from:s.from,to:s.to}:null,a={from:n,insert:t},l=r.state.changes(o?[o,a]:a);r.focus(),r.dispatch({changes:l,selection:{anchor:l.mapPos(n,-1),head:l.mapPos(n,1)},userEvent:o?"move.drop":"input.drop"}),r.inputState.draggedContent=null}sr.drop=(r,e)=>{if(!e.dataTransfer)return!1;if(r.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let i=Array(t.length),n=0,s=()=>{++n==t.length&&cE(r,e,i.filter(o=>o!=null).join(r.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(i[o]=a.result),s()},a.readAsText(t[o])}return!0}else{let i=e.dataTransfer.getData("Text");if(i)return cE(r,e,i,!0),!0}return!1};sr.paste=(r,e)=>{if(r.state.readOnly)return!0;r.observer.flush();let t=s1?null:e.clipboardData;return t?(o1(r,t.getData("text/plain")||t.getData("text/uri-list")),!0):(aR(r),!1)};function pR(r,e){let t=r.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),r.focus()},50)}function dR(r){let e=[],t=[],i=!1;for(let n of r.selection.ranges)n.empty||(e.push(r.sliceDoc(n.from,n.to)),t.push(n));if(!e.length){let n=-1;for(let{from:s}of r.selection.ranges){let o=r.doc.lineAt(s);o.number>n&&(e.push(o.text),t.push({from:o.from,to:Math.min(r.doc.length,o.to+1)})),n=o.number}i=!0}return{text:e.join(r.lineBreak),ranges:t,linewise:i}}var vb=null;sr.copy=sr.cut=(r,e)=>{let{text:t,ranges:i,linewise:n}=dR(r.state);if(!t&&!n)return!1;vb=n?t:null,e.type=="cut"&&!r.state.readOnly&&r.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let s=s1?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",t),!0):(pR(r,t),!1)};var h1=Yi.define();function c1(r,e){let t=[];for(let i of r.facet(YE)){let n=i(r,e);n&&t.push(n)}return t?r.update({effects:t,annotations:h1.of(!0)}):null}function u1(r){setTimeout(()=>{let e=r.hasFocus;if(e!=r.inputState.notifiedFocused){let t=c1(r.state,e);t?r.dispatch(t):r.update([])}},10)}or.focus=r=>{r.inputState.lastFocusTime=Date.now(),!r.scrollDOM.scrollTop&&(r.inputState.lastScrollTop||r.inputState.lastScrollLeft)&&(r.scrollDOM.scrollTop=r.inputState.lastScrollTop,r.scrollDOM.scrollLeft=r.inputState.lastScrollLeft),u1(r)};or.blur=r=>{r.observer.clearSelectionRange(),u1(r)};or.compositionstart=or.compositionupdate=r=>{r.inputState.compositionFirstChange==null&&(r.inputState.compositionFirstChange=!0),r.inputState.composing<0&&(r.inputState.composing=0,r.docView.maybeCreateCompositionBarrier()&&(r.update([]),r.docView.clearCompositionBarrier()))};or.compositionend=r=>{r.inputState.composing=-1,r.inputState.compositionEndedAt=Date.now(),r.inputState.compositionPendingKey=!0,r.inputState.compositionPendingChange=r.observer.pendingRecords().length>0,r.inputState.compositionFirstChange=null,fe.chrome&&fe.android?r.observer.flushSoon():r.inputState.compositionPendingChange?Promise.resolve().then(()=>r.observer.flush()):setTimeout(()=>{r.inputState.composing<0&&r.docView.hasComposition&&r.update([])},50)};or.contextmenu=r=>{r.inputState.lastContextMenu=Date.now()};sr.beforeinput=(r,e)=>{var t;let i;if(fe.chrome&&fe.android&&(i=n1.find(n=>n.inputType==e.inputType))&&(r.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let n=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>n+10&&r.hasFocus&&(r.contentDOM.blur(),r.focus())},100)}return fe.ios&&e.inputType=="deleteContentForward"&&r.observer.flushSoon(),!1};var uE=new Set;function fR(r){uE.has(r)||(uE.add(r),r.addEventListener("copy",()=>{}),r.addEventListener("cut",()=>{}))}var pE=["pre-wrap","normal","pre-line","break-spaces"],yb=class{constructor(e){this.lineWrapping=e,this.doc=He.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return pE.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let n=e[i];n<0?i++:this.heightSamples[Math.floor(n*10)]||(t=!0,this.heightSamples[Math.floor(n*10)]=!0)}return t}refresh(e,t,i,n,s,o){let a=pE.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=t,this.charWidth=i,this.textHeight=n,this.lineLength=s,l){this.heightSamples={};for(let h=0;h<o.length;h++){let c=o[h];c<0?h++:this.heightSamples[Math.floor(c*10)]=!0}}return l}},bb=class{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}},Pr=class r{constructor(e,t,i,n,s){this.from=e,this.length=t,this.top=i,this.height=n,this._content=s}get type(){return typeof this._content=="number"?rr.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof vo?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new r(this.from,this.length+e.length,this.top,this.height+e.height,t)}},Nt=function(r){return r[r.ByPos=0]="ByPos",r[r.ByHeight=1]="ByHeight",r[r.ByPosNoHeight=2]="ByPosNoHeight",r}(Nt||(Nt={})),xf=.001,dn=class r{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>xf&&(e.heightChanged=!0),this.height=t)}replace(e,t,i){return r.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,n){let s=this,o=i.doc;for(let a=n.length-1;a>=0;a--){let{fromA:l,toA:h,fromB:c,toB:p}=n[a],d=s.lineAt(l,Nt.ByPosNoHeight,i.setDoc(t),0,0),f=d.to>=h?d:s.lineAt(h,Nt.ByPosNoHeight,i,0,0);for(p+=f.to-h,h=f.to;a>0&&d.from<=n[a-1].toA;)l=n[a-1].fromA,c=n[a-1].fromB,a--,l<d.from&&(d=s.lineAt(l,Nt.ByPosNoHeight,i,0,0));c+=d.from-l,l=d.from;let m=Cb.build(i.setDoc(o),e,c,p);s=s.replace(l,h,m)}return s.updateHeight(i,0)}static empty(){return new Bn(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,n=0,s=0;for(;;)if(t==i)if(n>s*2){let a=e[t-1];a.break?e.splice(--t,1,a.left,null,a.right):e.splice(--t,1,a.left,a.right),i+=1+a.break,n-=a.size}else if(s>n*2){let a=e[i];a.break?e.splice(i,1,a.left,null,a.right):e.splice(i,1,a.left,a.right),i+=2+a.break,s-=a.size}else break;else if(n<s){let a=e[t++];a&&(n+=a.size)}else{let a=e[--i];a&&(s+=a.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,i++),new Ob(r.of(e.slice(0,t)),o,r.of(e.slice(i)))}};dn.prototype.size=1;var Pf=class extends dn{constructor(e,t,i){super(e,t),this.deco=i}blockAt(e,t,i,n){return new Pr(n,this.length,i,this.height,this.deco||0)}lineAt(e,t,i,n,s){return this.blockAt(0,i,n,s)}forEachLine(e,t,i,n,s,o){e<=s+this.length&&t>=s&&o(this.blockAt(0,i,n,s))}updateHeight(e,t=0,i=!1,n){return n&&n.from<=t&&n.more&&this.setHeight(e,n.heights[n.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}},Bn=class r extends Pf{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,i,n){return new Pr(n,this.length,i,this.height,this.breaks)}replace(e,t,i){let n=i[0];return i.length==1&&(n instanceof r||n instanceof po&&n.flags&4)&&Math.abs(this.length-n.length)<10?(n instanceof po?n=new r(n.length,this.height):n.height=this.height,this.outdated||(n.outdated=!1),n):dn.of(i)}updateHeight(e,t=0,i=!1,n){return n&&n.from<=t&&n.more?this.setHeight(e,n.heights[n.index++]):(i||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}},po=class r extends dn{constructor(e){super(e,0)}heightMetrics(e,t){let i=e.doc.lineAt(t).number,n=e.doc.lineAt(t+this.length).number,s=n-i+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:i,lastLine:n,perLine:o,perChar:a}}blockAt(e,t,i,n){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(t,n);if(t.lineWrapping){let h=n+Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length),c=t.doc.lineAt(h),p=a+c.length*l,d=Math.max(i,e-p/2);return new Pr(c.from,c.length,d,p,0)}else{let h=Math.max(0,Math.min(o-s,Math.floor((e-i)/a))),{from:c,length:p}=t.doc.line(s+h);return new Pr(c,p,i+a*h,a,0)}}lineAt(e,t,i,n,s){if(t==Nt.ByHeight)return this.blockAt(e,i,n,s);if(t==Nt.ByPosNoHeight){let{from:f,to:m}=i.doc.lineAt(e);return new Pr(f,m-f,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(i,s),h=i.doc.lineAt(e),c=a+h.length*l,p=h.number-o,d=n+a*p+l*(h.from-s-p);return new Pr(h.from,h.length,Math.max(n,Math.min(d,n+this.height-c)),c,0)}forEachLine(e,t,i,n,s,o){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:a,perLine:l,perChar:h}=this.heightMetrics(i,s);for(let c=e,p=n;c<=t;){let d=i.doc.lineAt(c);if(c==e){let m=d.number-a;p+=l*m+h*(e-s-m)}let f=l+h*d.length;o(new Pr(d.from,d.length,p,f,0)),p+=f,c=d.to+1}}replace(e,t,i){let n=this.length-t;if(n>0){let s=i[i.length-1];s instanceof r?i[i.length-1]=new r(s.length+n):i.push(null,new r(n-1))}if(e>0){let s=i[0];s instanceof r?i[0]=new r(e+s.length):i.unshift(new r(e-1),null)}return dn.of(i)}decomposeLeft(e,t){t.push(new r(e-1),null)}decomposeRight(e,t){t.push(null,new r(this.length-e-1))}updateHeight(e,t=0,i=!1,n){let s=t+this.length;if(n&&n.from<=t+this.length&&n.more){let o=[],a=Math.max(t,n.from),l=-1;for(n.from>t&&o.push(new r(n.from-t-1).updateHeight(e,t));a<=s&&n.more;){let c=e.doc.lineAt(a).length;o.length&&o.push(null);let p=n.heights[n.index++];l==-1?l=p:Math.abs(p-l)>=xf&&(l=-2);let d=new Bn(c,p);d.outdated=!1,o.push(d),a+=c+1}a<=s&&o.push(null,new r(s-a).updateHeight(e,a));let h=dn.of(o);return(l<0||Math.abs(h.height-this.height)>=xf||Math.abs(l-this.heightMetrics(e,t).perLine)>=xf)&&(e.heightChanged=!0),h}else(i||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}},Ob=class extends dn{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,n){let s=i+this.left.height;return e<s?this.left.blockAt(e,t,i,n):this.right.blockAt(e,t,s,n+this.left.length+this.break)}lineAt(e,t,i,n,s){let o=n+this.left.height,a=s+this.left.length+this.break,l=t==Nt.ByHeight?e<o:e<a,h=l?this.left.lineAt(e,t,i,n,s):this.right.lineAt(e,t,i,o,a);if(this.break||(l?h.to<a:h.from>a))return h;let c=t==Nt.ByPosNoHeight?Nt.ByPosNoHeight:Nt.ByPos;return l?h.join(this.right.lineAt(a,c,i,o,a)):this.left.lineAt(a,c,i,n,s).join(h)}forEachLine(e,t,i,n,s,o){let a=n+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,i,n,s,o),t>=l&&this.right.forEachLine(e,t,i,a,l,o);else{let h=this.lineAt(l,Nt.ByPos,i,n,s);e<h.from&&this.left.forEachLine(e,h.from-1,i,n,s,o),h.to>=e&&h.from<=t&&o(h),t>h.to&&this.right.forEachLine(h.to+1,t,i,a,l,o)}}replace(e,t,i){let n=this.left.length+this.break;if(t<n)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-n,t-n,i));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of i)s.push(a);if(e>0&&dE(s,o-1),t<this.length){let a=s.length;this.decomposeRight(t,s),dE(s,a)}return dn.of(s)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,n=i+this.break;if(e>=n)return this.right.decomposeRight(e-n,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<n&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?dn.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,n){let{left:s,right:o}=this,a=t+s.length+this.break,l=null;return n&&n.from<=t+s.length&&n.more?l=s=s.updateHeight(e,t,i,n):s.updateHeight(e,t,i),n&&n.from<=a+o.length&&n.more?l=o=o.updateHeight(e,a,i,n):o.updateHeight(e,a,i),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}};function dE(r,e){let t,i;r[e]==null&&(t=r[e-1])instanceof po&&(i=r[e+1])instanceof po&&r.splice(e-1,3,new po(t.length+1+i.length))}var mR=5,Cb=class r{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof Bn?n.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new Bn(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let n=i.widget?i.widget.estimatedHeight:0,s=i.widget?i.widget.lineBreaks:0;n<0&&(n=this.oracle.lineHeight);let o=t-e;i.block?this.addBlock(new Pf(o,n,i)):(o||s||n>=mR)&&this.addLineDeco(n,s,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Bn(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new po(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Bn)return e;let t=new Bn(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,i){let n=this.ensureLine();n.length+=i,n.collapsed+=i,n.widgetHeight=Math.max(n.widgetHeight,e),n.breaks+=t,this.writtenTo=this.pos=this.pos+i}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof Bn)&&!this.isCovered?this.nodes.push(new Bn(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let n of this.nodes)n instanceof Bn&&n.updateHeight(this.oracle,i),i+=n?n.length:1;return this.nodes}static build(e,t,i,n){let s=new r(i,e);return Tt.spans(t,i,n,s,0),s.finish(i)}};function gR(r,e,t){let i=new Sb;return Tt.compare(r,e,t,i,0),i.changes}var Sb=class{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,n){(e<t||i&&i.heightRelevant||n&&n.heightRelevant)&&hb(e,t,this.changes,5)}};function vR(r,e){let t=r.getBoundingClientRect(),i=r.ownerDocument,n=i.defaultView||window,s=Math.max(0,t.left),o=Math.min(n.innerWidth,t.right),a=Math.max(0,t.top),l=Math.min(n.innerHeight,t.bottom);for(let h=r.parentNode;h&&h!=i.body;)if(h.nodeType==1){let c=h,p=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&p.overflow!="visible"){let d=c.getBoundingClientRect();s=Math.max(s,d.left),o=Math.min(o,d.right),a=Math.max(a,d.top),l=h==r.parentNode?d.bottom:Math.min(l,d.bottom)}h=p.position=="absolute"||p.position=="fixed"?c.offsetParent:c.parentNode}else if(h.nodeType==11)h=h.host;else break;return{left:s-t.left,right:Math.max(s,o)-t.left,top:a-(t.top+e),bottom:Math.max(a,l)-(t.top+e)}}function yR(r,e){let t=r.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}var su=class{constructor(e,t,i){this.from=e,this.to=t,this.size=i}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let n=e[i],s=t[i];if(n.from!=s.from||n.to!=s.to||n.size!=s.size)return!1}return!0}draw(e,t){return _e.replace({widget:new Mb(this.size*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}},Mb=class extends go{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}},jf=class{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=fE,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=jt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(Qb).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new yb(t),this.stateDeco=e.facet(pu).filter(i=>typeof i!="function"),this.heightMap=dn.empty().applyChanges(this.stateDeco,He.empty,this.heightOracle.setDoc(e.doc),[new zr(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=_e.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let n=i?t.head:t.anchor;if(!e.some(({from:s,to:o})=>n>=s&&n<=o)){let{from:s,to:o}=this.lineBlockAt(n);e.push(new Pl(s,o))}}this.viewports=e.sort((i,n)=>i.from-n.from),this.scaler=this.heightMap.height<=7e6?fE:new Tb(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:Jc(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(pu).filter(c=>typeof c!="function");let n=e.changedRanges,s=zr.extendWithRanges(n,gR(i,this.stateDeco,e?e.changes:Ai.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=o&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let h=!e.changes.empty||e.flags&2||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),h&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(jz)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),n=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?jt.RTL:jt.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=t.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let h=0,c=0;if(a.width&&a.height){let{scaleX:M,scaleY:k}=TE(t,a);(M>.005&&Math.abs(this.scaleX-M)>.005||k>.005&&Math.abs(this.scaleY-k)>.005)&&(this.scaleX=M,this.scaleY=k,h|=8,o=l=!0)}let p=(parseInt(i.paddingTop)||0)*this.scaleY,d=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=p||this.paddingBottom!=d)&&(this.paddingTop=p,this.paddingBottom=d,h|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(n.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,h|=8);let f=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=f&&(this.scrollAnchorHeight=-1,this.scrollTop=f),this.scrolledToBottom=wE(e.scrollDOM);let m=(this.printing?yR:vR)(t,this.paddingTop),g=m.top-this.pixelViewport.top,v=m.bottom-this.pixelViewport.bottom;this.pixelViewport=m;let O=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(O!=this.inView&&(this.inView=O,O&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let C=a.width;if((this.contentDOMWidth!=C||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,h|=8),l){let M=e.docView.measureVisibleLineHeights(this.viewport);if(n.mustRefreshForHeights(M)&&(o=!0),o||n.lineWrapping&&Math.abs(C-this.contentDOMWidth)>n.charWidth){let{lineHeight:k,charWidth:A,textHeight:j}=e.docView.measureTextSize();o=k>0&&n.refresh(s,k,A,j,C/A,M),o&&(e.docView.minWidth=0,h|=8)}g>0&&v>0?c=Math.max(g,v):g<0&&v<0&&(c=Math.min(g,v)),n.heightChanged=!1;for(let k of this.viewports){let A=k.from==this.viewport.from?M:e.docView.measureVisibleLineHeights(k);this.heightMap=(o?dn.empty().applyChanges(this.stateDeco,He.empty,this.heightOracle,[new zr(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(n,0,o,new bb(k.from,A))}n.heightChanged&&(h|=2)}let x=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return x&&(this.viewport=this.getViewport(c,this.scrollTarget)),this.updateForViewport(),(h&2||x)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),h|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),h}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),n=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new Pl(n.lineAt(o-i*1e3,Nt.ByHeight,s,0,0).from,n.lineAt(a+(1-i)*1e3,Nt.ByHeight,s,0,0).to);if(t){let{head:h}=t.range;if(h<l.from||h>l.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),p=n.lineAt(h,Nt.ByPos,s,0,0),d;t.y=="center"?d=(p.top+p.bottom)/2-c/2:t.y=="start"||t.y=="nearest"&&h<l.from?d=p.top:d=p.bottom-c,l=new Pl(n.lineAt(d-1e3/2,Nt.ByHeight,s,0,0).from,n.lineAt(d+c+1e3/2,Nt.ByHeight,s,0,0).to)}}return l}mapViewport(e,t){let i=t.mapPos(e.from,-1),n=t.mapPos(e.to,1);return new Pl(this.heightMap.lineAt(i,Nt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(n,Nt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:n}=this.heightMap.lineAt(e,Nt.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,Nt.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||n<=o-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||s>=a+Math.max(10,Math.min(i,250)))&&n>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let n of e)t.touchesRange(n.from,n.to)||i.push(new su(t.mapPos(n.from),t.mapPos(n.to),n.size));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,n=i?1e4:2e3,s=n>>1,o=n<<1;if(this.defaultTextDirection!=jt.LTR&&!i)return[];let a=[],l=(h,c,p,d)=>{if(c-h<s)return;let f=this.state.selection.main,m=[f.from];f.empty||m.push(f.to);for(let v of m)if(v>h&&v<c){l(h,v-10,p,d),l(v+10,c,p,d);return}let g=OR(e,v=>v.from>=p.from&&v.to<=p.to&&Math.abs(v.from-h)<s&&Math.abs(v.to-c)<s&&!m.some(O=>v.from<O&&v.to>O));if(!g){if(c<p.to&&t&&i&&t.visibleRanges.some(v=>v.from<=c&&v.to>=c)){let v=t.moveToLineBoundary(ye.cursor(c),!1,!0).head;v>h&&(c=v)}g=new su(h,c,this.gapSize(p,h,c,d))}a.push(g)};for(let h of this.viewportLines){if(h.length<o)continue;let c=bR(h.from,h.to,this.stateDeco);if(c.total<o)continue;let p=this.scrollTarget?this.scrollTarget.range.head:null,d,f;if(i){let m=n/this.heightOracle.lineLength*this.heightOracle.lineHeight,g,v;if(p!=null){let O=Cf(c,p),C=((this.visibleBottom-this.visibleTop)/2+m)/h.height;g=O-C,v=O+C}else g=(this.visibleTop-h.top-m)/h.height,v=(this.visibleBottom-h.top+m)/h.height;d=Of(c,g),f=Of(c,v)}else{let m=c.total*this.heightOracle.charWidth,g=n*this.heightOracle.charWidth,v,O;if(p!=null){let C=Cf(c,p),x=((this.pixelViewport.right-this.pixelViewport.left)/2+g)/m;v=C-x,O=C+x}else v=(this.pixelViewport.left-g)/m,O=(this.pixelViewport.right+g)/m;d=Of(c,v),f=Of(c,O)}d>h.from&&l(h.from,d,h,c),f<h.to&&l(f,h.to,h,c)}return a}gapSize(e,t,i,n){let s=Cf(n,i)-Cf(n,t);return this.heightOracle.lineWrapping?e.height*s:n.total*this.heightOracle.charWidth*s}updateLineGaps(e){su.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=_e.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];Tt.spans(e,this.viewport.from,this.viewport.to,{span(n,s){t.push({from:n,to:s})},point(){}},20);let i=t.length!=this.visibleRanges.length||this.visibleRanges.some((n,s)=>n.from!=t[s].from||n.to!=t[s].to);return this.visibleRanges=t,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Jc(this.heightMap.lineAt(e,Nt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return Jc(this.heightMap.lineAt(this.scaler.fromDOM(e),Nt.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Jc(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}},Pl=class{constructor(e,t){this.from=e,this.to=t}};function bR(r,e,t){let i=[],n=r,s=0;return Tt.spans(t,r,e,{span(){},point(o,a){o>n&&(i.push({from:n,to:o}),s+=o-n),n=a}},20),n<e&&(i.push({from:n,to:e}),s+=e-n),{total:s,ranges:i}}function Of({total:r,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(r*t);for(let n=0;;n++){let{from:s,to:o}=e[n],a=o-s;if(i<=a)return s+i;i-=a}}function Cf(r,e){let t=0;for(let{from:i,to:n}of r.ranges){if(e<=n){t+=e-i;break}t+=n-i}return t/r.total}function OR(r,e){for(let t of r)if(e(t))return t}var fE={toDOM(r){return r},fromDOM(r){return r},scale:1},Tb=class{constructor(e,t,i){let n=0,s=0,o=0;this.viewports=i.map(({from:a,to:l})=>{let h=t.lineAt(a,Nt.ByPos,e,0,0).top,c=t.lineAt(l,Nt.ByPos,e,0,0).bottom;return n+=c-h,{from:a,to:l,top:h,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-n)/(t.height-n);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let t=0,i=0,n=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return n+(e-i)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);i=s.bottom,n=s.domBottom}}fromDOM(e){for(let t=0,i=0,n=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return i+(e-n)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);i=s.bottom,n=s.domBottom}}};function Jc(r,e){if(e.scale==1)return r;let t=e.toDOM(r.top),i=e.toDOM(r.bottom);return new Pr(r.from,r.length,t,i-t,Array.isArray(r._content)?r._content.map(n=>Jc(n,e)):r._content)}var Sf=be.define({combine:r=>r.join(" ")}),Nb=be.define({combine:r=>r.indexOf(!0)>-1}),xb=Rn.newName(),p1=Rn.newName(),d1=Rn.newName(),f1={"&light":"."+p1,"&dark":"."+d1};function wb(r,e,t){return new Rn(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,n=>{if(n=="&")return r;if(!t||!t[n])throw new RangeError(`Unsupported selector: ${n}`);return t[n]}):r+" "+i}})}var CR=wb("."+xb,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},f1),eu="\uFFFF",Eb=class{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Mt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=eu}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let n=e;;){this.findPointBefore(i,n);let s=this.text.length;this.readNode(n);let o=n.nextSibling;if(o==t)break;let a=wt.get(n),l=wt.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:mE(n))||mE(o)&&(n.nodeName!="BR"||n.cmIgnore)&&this.text.length>s)&&this.lineBreak(),n=o}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,n=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,i),o=this.lineSeparator.length):(a=n.exec(t))&&(s=a.index,o=a[0].length),this.append(t.slice(i,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);i=s+o}}readNode(e){if(e.cmIgnore)return;let t=wt.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let n=i.iter();!n.next().done;)n.lineBreak?this.lineBreak():this.append(n.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(SR(e,i.node,i.offset)?t:0))}};function SR(r,e,t){for(;;){if(!e||t<fs(e))return!1;if(e==r)return!0;t=lu(e)+1,e=e.parentNode}}function mE(r){return r.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(r.nodeName)}var zf=class{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}},kb=class{constructor(e,t,i,n){this.typeOver=n,this.bounds=null,this.text="";let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,i,0))){let a=s||o?[]:NR(e),l=new Eb(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=xR(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!ib(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),h=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!ib(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),c=e.viewport;if((fe.ios||fe.chrome)&&e.state.selection.main.empty&&l!=h&&(c.from>0||c.to<e.state.doc.length)){let p=Math.min(l,h),d=Math.max(l,h),f=c.from-p,m=c.to-d;(f==0||f==1||p==0)&&(m==0||m==-1||d==e.state.doc.length)&&(l=0,h=e.state.doc.length)}this.newSel=ye.single(h,l)}}};function m1(r,e){let t,{newSel:i}=e,n=r.state.selection.main,s=r.inputState.lastKeyTime>Date.now()-100?r.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=n.from,h=null;(s===8||fe.android&&e.text.length<a-o)&&(l=n.to,h="end");let c=TR(r.state.doc.sliceString(o,a,eu),e.text,l-o,h);c&&(fe.chrome&&s==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==eu+eu&&c.toB--,t={from:o+c.from,to:o+c.toA,insert:He.of(e.text.slice(c.from,c.toB).split(eu))})}else i&&(!r.hasFocus&&r.state.facet(Hf)||i.main.eq(n))&&(i=null);if(!t&&!i)return!1;if(!t&&e.typeOver&&!n.empty&&i&&i.main.empty?t={from:n.from,to:n.to,insert:r.state.doc.slice(n.from,n.to)}:t&&t.from>=n.from&&t.to<=n.to&&(t.from!=n.from||t.to!=n.to)&&n.to-n.from-(t.to-t.from)<=4?t={from:n.from,to:n.to,insert:r.state.doc.slice(n.from,t.from).append(t.insert).append(r.state.doc.slice(t.to,n.to))}:(fe.mac||fe.android)&&t&&t.from==t.to&&t.from==n.head-1&&/^\. ?$/.test(t.insert.toString())&&r.contentDOM.getAttribute("autocorrect")=="off"?(i&&t.insert.length==2&&(i=ye.single(i.main.anchor-1,i.main.head-1)),t={from:n.from,to:n.to,insert:He.of([" "])}):fe.chrome&&t&&t.from==t.to&&t.from==n.head&&t.insert.toString()==`
 `&&r.lineWrapping&&(i&&(i=ye.single(i.main.anchor-1,i.main.head-1)),t={from:n.from,to:n.to,insert:He.of([" "])}),t){if(fe.ios&&r.inputState.flushIOSKey(t)||fe.android&&(t.to==n.to&&(t.from==n.from||t.from==n.from-1&&r.state.sliceDoc(t.from,n.from)==" ")&&t.insert.length==1&&t.insert.lines==2&&zl(r.contentDOM,"Enter",13)||(t.from==n.from-1&&t.to==n.to&&t.insert.length==0||s==8&&t.insert.length<t.to-t.from&&t.to>n.head)&&zl(r.contentDOM,"Backspace",8)||t.from==n.from&&t.to==n.to+1&&t.insert.length==0&&zl(r.contentDOM,"Delete",46)))return!0;let o=t.insert.toString();r.inputState.composing>=0&&r.inputState.composing++;let a,l=()=>a||(a=MR(r,t,i));return r.state.facet($E).some(h=>h(r,t.from,t.to,o,l))||r.dispatch(l()),!0}else if(i&&!i.main.eq(n)){let o=!1,a="select";return r.inputState.lastSelectionTime>Date.now()-50&&(r.inputState.lastSelectionOrigin=="select"&&(o=!0),a=r.inputState.lastSelectionOrigin),r.dispatch({selection:i,scrollIntoView:o,userEvent:a}),!0}else return!1}function MR(r,e,t){let i,n=r.state,s=n.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&r.inputState.composing<0){let a=s.from<e.from?n.sliceDoc(s.from,e.from):"",l=s.to>e.to?n.sliceDoc(e.to,s.to):"";i=n.replaceSelection(r.state.toText(a+e.insert.sliceString(0,void 0,r.state.lineBreak)+l))}else{let a=n.changes(e),l=t&&t.main.to<=a.newLength?t.main:void 0;if(n.selection.ranges.length>1&&r.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let h=r.state.sliceDoc(e.from,e.to),c,p=t&&e1(r,t.main.head);if(p){let m=e.insert.length-(e.to-e.from);c={from:p.from,to:p.to-m}}else c=r.state.doc.lineAt(s.head);let d=s.to-e.to,f=s.to-s.from;i=n.changeByRange(m=>{if(m.from==s.from&&m.to==s.to)return{changes:a,range:l||m.map(a)};let g=m.to-d,v=g-h.length;if(m.to-m.from!=f||r.state.sliceDoc(v,g)!=h||m.to>=c.from&&m.from<=c.to)return{range:m};let O=n.changes({from:v,to:g,insert:e.insert}),C=m.to-s.to;return{changes:O,range:l?ye.range(Math.max(0,l.anchor+C),Math.max(0,l.head+C)):m.map(O)}})}else i={changes:a,selection:l&&n.selection.replaceRange(l)}}let o="input.type";return(r.composing||r.inputState.compositionPendingChange&&r.inputState.compositionEndedAt>Date.now()-50)&&(r.inputState.compositionPendingChange=!1,o+=".compose",r.inputState.compositionFirstChange&&(o+=".start",r.inputState.compositionFirstChange=!1)),n.update(i,{userEvent:o,scrollIntoView:!0})}function TR(r,e,t,i){let n=Math.min(r.length,e.length),s=0;for(;s<n&&r.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==n&&r.length==e.length)return null;let o=r.length,a=e.length;for(;o>0&&a>0&&r.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(i=="end"){let l=Math.max(0,s-Math.min(o,a));t-=o+l-s}if(o<s&&r.length<e.length){let l=t<=s&&t>=o?s-t:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=t<=s&&t>=a?s-t:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function NR(r){let e=[];if(r.root.activeElement!=r.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:n,focusOffset:s}=r.observer.selectionRange;return t&&(e.push(new zf(t,i)),(n!=t||s!=i)&&e.push(new zf(n,s))),e}function xR(r,e){if(r.length==0)return null;let t=r[0].pos,i=r.length==2?r[1].pos:t;return t>-1&&i>-1?ye.single(t+e,i+e):null}var wR={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Ky=fe.ie&&fe.ie_version<=11,Db=class{constructor(e){this.view=e,this.active=!1,this.selectionRange=new nb,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let i of t)this.queue.push(i);(fe.ie&&fe.ie_version<=11||fe.ios&&e.composing)&&t.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Ky&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){e.type=="change"&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,n=this.selectionRange;if(i.state.facet(Hf)?i.root.activeElement!=this.dom:!Tf(i.dom,n))return;let s=n.anchorNode&&i.docView.nearest(n.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(fe.ie&&fe.ie_version<=11||fe.android&&fe.chrome)&&!i.state.selection.main.empty&&n.focusNode&&tu(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=fe.safari&&e.root.nodeType==11&&mz(this.dom.ownerDocument)==this.dom&&ER(this.view)||Ef(e.root);if(!t||this.selectionRange.eq(t))return!1;let i=Tf(this.dom,t);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&Oz(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,wR),Ky&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Ky&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let n=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&zl(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(n)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,i=-1,n=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(n=!0),t==-1?{from:t,to:i}=o:(t=Math.min(o.from,t),i=Math.max(o.to,i)))}return{from:t,to:i,typeOver:n}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),n=this.selectionChanged&&Tf(this.dom,this.selectionRange);if(e<0&&!n)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new kb(this.view,e,t,i);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let i=this.view.state,n=m1(this.view,t);return this.view.state==i&&this.view.update([]),n}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let i=gE(t,e.previousSibling||e.target.previousSibling,-1),n=gE(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:n?t.posBefore(n):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener("change",this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener("change",this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}};function gE(r,e,t){for(;e;){let i=wt.get(e);if(i&&i.parent==r)return i;let n=e.parentNode;e=n!=r.dom?n:t>0?e.nextSibling:e.previousSibling}return null}function ER(r){let e=null;function t(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}if(r.contentDOM.addEventListener("beforeinput",t,!0),r.dom.ownerDocument.execCommand("indent"),r.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let i=e.startContainer,n=e.startOffset,s=e.endContainer,o=e.endOffset,a=r.docView.domAtPos(r.state.selection.main.anchor);return tu(a.node,a.offset,s,o)&&([i,n,s,o]=[s,o,i,n]),{anchorNode:i,anchorOffset:n,focusNode:s,focusOffset:o}}var Te=class r{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:t}=e;this.dispatchTransactions=e.dispatchTransactions||t&&(i=>i.forEach(n=>t(n,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||bz(e.parent)||document,this.viewState=new jf(e.state||Mt.create(e)),e.scrollTo&&e.scrollTo.is(vf)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Gc).map(i=>new ru(i));for(let i of this.plugins)i.update(this);this.observer=new Db(this),this.inputState=new mb(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Af(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure()}dispatch(...e){let t=e.length==1&&e[0]instanceof $t?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,n,s=this.state;for(let d of e){if(d.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=d.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(d=>d.annotation(h1))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=c1(s,o),l||(a=1));let h=this.observer.delayedAndroidKey,c=null;if(h?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(c=null)):this.observer.clear(),s.facet(Mt.phrases)!=this.state.facet(Mt.phrases))return this.setState(s);n=Lf.create(this,s,e),n.flags|=a;let p=this.viewState.scrollTarget;try{this.updateState=2;for(let d of e){if(p&&(p=p.map(d.changes)),d.scrollIntoView){let{main:f}=d.state.selection;p=new nu(f.empty?f:ye.cursor(f.head,f.head>f.anchor?-1:1))}for(let f of d.effects)f.is(vf)&&(p=f.value.clip(this.state))}this.viewState.update(n,p),this.bidiCache=Rf.update(this.bidiCache,n.changes),n.empty||(this.updatePlugins(n),this.inputState.update(n)),t=this.docView.update(n),this.state.facet(Kc)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(d=>d.isUserEvent("select.pointer")))}finally{this.updateState=0}if(n.startState.facet(Sf)!=n.state.facet(Sf)&&(this.viewState.mustMeasureContent=!0),(t||i||p||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!n.empty)for(let d of this.state.facet(db))try{d(n)}catch(f){Pi(this.state,f,"update listener")}(l||c)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),c&&!m1(this,c)&&h.force&&zl(this.contentDOM,h.key,h.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new jf(e),this.plugins=e.facet(Gc).map(i=>new ru(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new Af(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Gc),i=e.state.facet(Gc);if(t!=i){let n=[];for(let s of i){let o=t.indexOf(s);if(o<0)n.push(new ru(s));else{let a=this.plugins[o];a.mustUpdate=e,n.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=n,this.pluginMap.clear()}else for(let n of this.plugins)n.mustUpdate=e;for(let n=0;n<this.plugins.length;n++)this.plugins[n].update(this);t!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(i){Pi(this.state,i,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,i=this.scrollDOM,n=i.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(n-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(wE(i))s=-1,o=this.viewState.heightMap.height;else{let f=this.viewState.scrollAnchorAt(n);s=f.from,o=f.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let h=[];l&4||([this.measureRequests,h]=[h,this.measureRequests]);let c=h.map(f=>{try{return f.read(this)}catch(m){return Pi(this.state,m),vE}}),p=Lf.create(this,this.state,[]),d=!1;p.flags|=l,t?t.flags|=l:t=p,this.updateState=2,p.empty||(this.updatePlugins(p),this.inputState.update(p),this.updateAttrs(),d=this.docView.update(p),d&&this.docViewUpdate());for(let f=0;f<h.length;f++)if(c[f]!=vE)try{let m=h[f];m.write&&m.write(c[f],this)}catch(m){Pi(this.state,m)}if(d&&this.docView.updateSelection(!0),!p.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let m=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(m>1||m<-1){n=n+m,i.scrollTop=n/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let a of this.state.facet(db))a(t)}get themeClasses(){return xb+" "+(this.state.facet(Nb)?d1:p1)+" "+this.state.facet(Sf)}updateAttrs(){let e=yE(this,ZE,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Hf)?"true":"false",class:"cm-content",style:`${fe.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),yE(this,Qb,t);let i=this.observer.ignore(()=>{let n=lb(this.contentDOM,this.contentAttrs,t),s=lb(this.dom,this.editorAttrs,e);return n||s});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let n of i.effects)if(n.is(r.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=n.value}}mountStyles(){this.styleModules=this.state.facet(Kc);let e=this.state.facet(r.cspNonce);Rn.mount(this.root,this.styleModules.concat(CR).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return Gy(this,e,iE(this,e,t,i))}moveByGroup(e,t){return Gy(this,e,iE(this,e,t,i=>Kz(this,e.head,i)))}visualLineSide(e,t){let i=this.bidiSpans(e),n=this.textDirectionAt(e.from),s=i[t?i.length-1:0];return ye.cursor(s.side(t,n)+e.from,s.forward(!t,n)?1:-1)}moveToLineBoundary(e,t,i=!0){return Gz(this,e,t,i)}moveVertically(e,t,i){return Gy(this,e,Jz(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),i1(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let n=this.state.doc.lineAt(e),s=this.bidiSpans(n),o=s[jr.find(s,e-n.from,-1,t)];return jb(i,o.dir==jt.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(qE)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>kR)return QE(e.length);let t=this.textDirectionAt(e.from),i;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||BE(s.isolates,i=Gw(this,e))))return s.order;i||(i=Gw(this,e));let n=Az(e.text,t,i);return this.bidiCache.push(new Rf(e.from,e.to,t,i,!0,n)),n}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||fe.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{NE(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return vf.of(new nu(typeof e=="number"?ye.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return vf.of(new nu(ye.cursor(i.from),"start","start",i.top-e,t,!0))}static domEventHandlers(e){return qi.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return qi.define(()=>({}),{eventObservers:e})}static theme(e,t){let i=Rn.newName(),n=[Sf.of(i),Kc.of(wb(`.${i}`,e))];return t&&t.dark&&n.push(Nb.of(!0)),n}static baseTheme(e){return ps.lowest(Kc.of(wb("."+xb,e,f1)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),n=i&&wt.get(i)||wt.get(e);return((t=n?.rootView)===null||t===void 0?void 0:t.view)||null}};Te.styleModule=Kc;Te.inputHandler=$E;Te.scrollHandler=WE;Te.focusChangeEffect=YE;Te.perLineTextDirection=qE;Te.exceptionSink=VE;Te.updateListener=db;Te.editable=Hf;Te.mouseSelectionStyle=FE;Te.dragMovesSelection=_E;Te.clickAddsSelectionRange=HE;Te.decorations=pu;Te.outerDecorations=XE;Te.atomicRanges=Ub;Te.bidiIsolatedRanges=GE;Te.scrollMargins=KE;Te.darkTheme=Nb;Te.cspNonce=be.define({combine:r=>r.length?r[0]:""});Te.contentAttributes=Qb;Te.editorAttributes=ZE;Te.lineWrapping=Te.contentAttributes.of({class:"cm-lineWrapping"});Te.announce=Ue.define();var kR=4096,vE={},Rf=class r{constructor(e,t,i,n,s,o){this.from=e,this.to=t,this.dir=i,this.isolates=n,this.fresh=s,this.order=o}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let i=[],n=e.length?e[e.length-1].dir:jt.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==n&&!t.touchesRange(o.from,o.to)&&i.push(new r(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return i}};function yE(r,e,t){for(let i=r.state.facet(e),n=i.length-1;n>=0;n--){let s=i[n],o=typeof s=="function"?s(r):s;o&&ab(o,t)}return t}var DR=fe.mac?"mac":fe.windows?"win":fe.linux?"linux":"key";function LR(r,e){let t=r.split(/-(?!$)/),i=t[t.length-1];i=="Space"&&(i=" ");let n,s,o,a;for(let l=0;l<t.length-1;++l){let h=t[l];if(/^(cmd|meta|m)$/i.test(h))a=!0;else if(/^a(lt)?$/i.test(h))n=!0;else if(/^(c|ctrl|control)$/i.test(h))s=!0;else if(/^s(hift)?$/i.test(h))o=!0;else if(/^mod$/i.test(h))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+h)}return n&&(i="Alt-"+i),s&&(i="Ctrl-"+i),a&&(i="Meta-"+i),o&&(i="Shift-"+i),i}function Mf(r,e,t){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t!==!1&&e.shiftKey&&(r="Shift-"+r),r}var AR=ps.default(Te.domEventHandlers({keydown(r,e){return zR(IR(e.state),r,e,"editor")}})),yo=be.define({enables:AR}),bE=new WeakMap;function IR(r){let e=r.facet(yo),t=bE.get(e);return t||bE.set(e,t=jR(e.reduce((i,n)=>i.concat(n),[]))),t}var uo=null,PR=4e3;function jR(r,e=DR){let t=Object.create(null),i=Object.create(null),n=(o,a)=>{let l=i[o];if(l==null)i[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,h,c)=>{var p,d;let f=t[o]||(t[o]=Object.create(null)),m=a.split(/ (?!$)/).map(O=>LR(O,e));for(let O=1;O<m.length;O++){let C=m.slice(0,O).join(" ");n(C,!0),f[C]||(f[C]={preventDefault:!0,stopPropagation:!1,run:[x=>{let M=uo={view:x,prefix:C,scope:o};return setTimeout(()=>{uo==M&&(uo=null)},PR),!0}]})}let g=m.join(" ");n(g,!1);let v=f[g]||(f[g]={preventDefault:!1,stopPropagation:!1,run:((d=(p=f._any)===null||p===void 0?void 0:p.run)===null||d===void 0?void 0:d.slice())||[]});l&&v.run.push(l),h&&(v.preventDefault=!0),c&&(v.stopPropagation=!0)};for(let o of r){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let h of a){let c=t[h]||(t[h]=Object.create(null));c._any||(c._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let p in c)c[p].run.push(o.any)}let l=o[e]||o.key;if(l)for(let h of a)s(h,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(h,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return t}function zR(r,e,t,i){let n=Fw(e),s=jn(n,0),o=Ar(s)==n.length&&n!=" ",a="",l=!1,h=!1,c=!1;uo&&uo.view==t&&uo.scope==i&&(a=uo.prefix+" ",r1.indexOf(e.keyCode)<0&&(h=!0,uo=null));let p=new Set,d=v=>{if(v){for(let O of v.run)if(!p.has(O)&&(p.add(O),O(t,e)))return v.stopPropagation&&(c=!0),!0;v.preventDefault&&(v.stopPropagation&&(c=!0),h=!0)}return!1},f=r[i],m,g;return f&&(d(f[a+Mf(n,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(fe.windows&&e.ctrlKey&&e.altKey)&&(m=ds[e.keyCode])&&m!=n?(d(f[a+Mf(m,e,!0)])||e.shiftKey&&(g=Al[e.keyCode])!=n&&g!=m&&d(f[a+Mf(g,e,!1)]))&&(l=!0):o&&e.shiftKey&&d(f[a+Mf(n,e,!0)])&&(l=!0),!l&&d(f._any)&&(l=!0)),h&&(l=!0),l&&c&&e.stopPropagation(),l}var RR=!fe.ios;var OE={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};RR&&(OE[".cm-line"].caretColor="transparent !important",OE[".cm-content"]={caretColor:"transparent !important"});var qG=/x/.unicode!=null?"gu":"g";var Xc="-10000px",Lb=class{constructor(e,t,i,n){this.facet=t,this.createTooltipView=i,this.removeTooltipView=n,this.input=e.state.facet(t),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=i(o,s))}update(e,t){var i;let n=e.state.facet(this.facet),s=n.filter(l=>l);if(n===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],a=t?[]:null;for(let l=0;l<s.length;l++){let h=s[l],c=-1;if(h){for(let p=0;p<this.tooltips.length;p++){let d=this.tooltips[p];d&&d.create==h.create&&(c=p)}if(c<0)o[l]=this.createTooltipView(h,l?o[l-1]:null),a&&(a[l]=!!h.above);else{let p=o[l]=this.tooltipViews[c];a&&(a[l]=t[c]),p.update&&p.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(i=l.destroy)===null||i===void 0||i.call(l));return t&&(a.forEach((l,h)=>t[h]=l),t.length=a.length),this.input=n,this.tooltips=s,this.tooltipViews=o,!0}};function BR(r){let{win:e}=r;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}var Jy=be.define({combine:r=>{var e,t,i;return{position:fe.ios?"absolute":((e=r.find(n=>n.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=r.find(n=>n.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((i=r.find(n=>n.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||BR}}}),CE=new WeakMap,g1=qi.fromClass(class{constructor(r){this.view=r,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=r.state.facet(Jy);this.position=e.position,this.parent=e.parent,this.classes=r.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new Lb(r,du,(t,i)=>this.createTooltip(t,i),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),r.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let r of this.manager.tooltipViews)this.intersectionObserver.observe(r.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(r){r.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(r,this.above);e&&this.observeIntersection();let t=e||r.geometryChanged,i=r.state.facet(Jy);if(i.position!=this.position&&!this.madeAbsolute){this.position=i.position;for(let n of this.manager.tooltipViews)n.dom.style.position=this.position;t=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let n of this.manager.tooltipViews)this.container.appendChild(n.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(r,e){let t=r.create(this.view),i=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),r.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let n=document.createElement("div");n.className="cm-tooltip-arrow",t.dom.insertBefore(n,i)}return t.dom.style.position=this.position,t.dom.style.top=Xc,t.dom.style.left="0px",this.container.insertBefore(t.dom,i),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var r,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let i of this.manager.tooltipViews)i.dom.remove(),(r=i.destroy)===null||r===void 0||r.call(i);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let r=this.view.dom.getBoundingClientRect(),e=1,t=1,i=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:n}=this.manager.tooltipViews[0];if(fe.gecko)i=n.offsetParent!=this.container.ownerDocument.body;else if(n.style.top==Xc&&n.style.left=="0px"){let s=n.getBoundingClientRect();i=Math.abs(s.top+1e4)>1||Math.abs(s.left)>1}}if(i||this.position=="absolute")if(this.parent){let n=this.parent.getBoundingClientRect();n.width&&n.height&&(e=n.width/this.parent.offsetWidth,t=n.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:t}=this.view.viewState);return{editor:r,parent:this.parent?this.container.getBoundingClientRect():r,pos:this.manager.tooltips.map((n,s)=>{let o=this.manager.tooltipViews[s];return o.getCoords?o.getCoords(n.pos):this.view.coordsAtPos(n.pos)}),size:this.manager.tooltipViews.map(({dom:n})=>n.getBoundingClientRect()),space:this.view.state.facet(Jy).tooltipSpace(this.view),scaleX:e,scaleY:t,makeAbsolute:i}}writeMeasure(r){var e;if(r.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{editor:t,space:i,scaleX:n,scaleY:s}=r,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],h=this.manager.tooltipViews[a],{dom:c}=h,p=r.pos[a],d=r.size[a];if(!p||p.bottom<=Math.max(t.top,i.top)||p.top>=Math.min(t.bottom,i.bottom)||p.right<Math.max(t.left,i.left)-.1||p.left>Math.min(t.right,i.right)+.1){c.style.top=Xc;continue}let f=l.arrow?h.dom.querySelector(".cm-tooltip-arrow"):null,m=f?7:0,g=d.right-d.left,v=(e=CE.get(h))!==null&&e!==void 0?e:d.bottom-d.top,O=h.offset||UR,C=this.view.textDirection==jt.LTR,x=d.width>i.right-i.left?C?i.left:i.right-d.width:C?Math.min(p.left-(f?14:0)+O.x,i.right-g):Math.max(i.left,p.left-g+(f?14:0)-O.x),M=this.above[a];!l.strictSide&&(M?p.top-(d.bottom-d.top)-O.y<i.top:p.bottom+(d.bottom-d.top)+O.y>i.bottom)&&M==i.bottom-p.bottom>p.top-i.top&&(M=this.above[a]=!M);let k=(M?p.top-i.top:i.bottom-p.bottom)-m;if(k<v&&h.resize!==!1){if(k<this.view.defaultLineHeight){c.style.top=Xc;continue}CE.set(h,v),c.style.height=(v=k)/s+"px"}else c.style.height&&(c.style.height="");let A=M?p.top-v-m-O.y:p.bottom+m+O.y,j=x+g;if(h.overlap!==!0)for(let U of o)U.left<j&&U.right>x&&U.top<A+v&&U.bottom>A&&(A=M?U.top-v-2-m:U.bottom+m+2);if(this.position=="absolute"?(c.style.top=(A-r.parent.top)/s+"px",c.style.left=(x-r.parent.left)/n+"px"):(c.style.top=A/s+"px",c.style.left=x/n+"px"),f){let U=p.left+(C?O.x:-O.x)-(x+14-7);f.style.left=U/n+"px"}h.overlap!==!0&&o.push({left:x,top:A,right:j,bottom:A+v}),c.classList.toggle("cm-tooltip-above",M),c.classList.toggle("cm-tooltip-below",!M),h.positioned&&h.positioned(r.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let r of this.manager.tooltipViews)r.dom.style.top=Xc}},{eventObservers:{scroll(){this.maybeMeasure()}}}),QR=Te.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),UR={x:0,y:0},du=be.define({enables:[g1,QR]});function Hb(r,e){let t=r.plugin(g1);if(!t)return null;let i=t.manager.tooltips.indexOf(e);return i<0?null:t.manager.tooltipViews[i]}var Rr=class extends nr{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}};Rr.prototype.elementClass="";Rr.prototype.toDOM=void 0;Rr.prototype.mapMode=pi.TrackBefore;Rr.prototype.startSide=Rr.prototype.endSide=-1;Rr.prototype.point=!0;var eb=be.define();var wf=be.define();var Ab=be.define({combine:r=>r.some(e=>e)});function HR(r){let e=[_R];return r&&r.fixed===!1&&e.push(Ab.of(!0)),e}var _R=qi.fromClass(class{constructor(r){this.view=r,this.prevViewport=r.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=r.state.facet(wf).map(e=>new Bf(r,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!r.state.facet(Ab),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),r.scrollDOM.insertBefore(this.dom,r.contentDOM)}update(r){if(this.updateGutters(r)){let e=this.prevViewport,t=r.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}r.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(Ab)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=r.view.viewport}syncGutters(r){let e=this.dom.nextSibling;r&&this.dom.remove();let t=Tt.iter(this.view.state.facet(eb),this.view.viewport.from),i=[],n=this.gutters.map(s=>new Pb(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==rr.Text&&o){Ib(t,i,a.from);for(let l of n)l.line(this.view,a,i);o=!1}else if(a.widget)for(let l of n)l.widget(this.view,a)}else if(s.type==rr.Text){Ib(t,i,s.from);for(let o of n)o.line(this.view,s,i)}else if(s.widget)for(let o of n)o.widget(this.view,s);for(let s of n)s.finish();r&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(r){let e=r.startState.facet(wf),t=r.state.facet(wf),i=r.docChanged||r.heightChanged||r.viewportChanged||!Tt.eq(r.startState.facet(eb),r.state.facet(eb),r.view.viewport.from,r.view.viewport.to);if(e==t)for(let n of this.gutters)n.update(r)&&(i=!0);else{i=!0;let n=[];for(let s of t){let o=e.indexOf(s);o<0?n.push(new Bf(this.view,s)):(this.gutters[o].update(r),n.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),n.indexOf(s)<0&&s.destroy();for(let s of n)this.dom.appendChild(s.dom);this.gutters=n}return i}destroy(){for(let r of this.gutters)r.destroy();this.dom.remove()}},{provide:r=>Te.scrollMargins.of(e=>{let t=e.plugin(r);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==jt.LTR?{left:t.dom.offsetWidth*e.scaleX}:{right:t.dom.offsetWidth*e.scaleX}})});function SE(r){return Array.isArray(r)?r:[r]}function Ib(r,e,t){for(;r.value&&r.from<=t;)r.from==t&&e.push(r.value),r.next()}var Pb=class{constructor(e,t,i){this.gutter=e,this.height=i,this.i=0,this.cursor=Tt.iter(e.markers,t.from)}addElement(e,t,i){let{gutter:n}=this,s=(t.top-this.height)/e.scaleY,o=t.height/e.scaleY;if(this.i==n.elements.length){let a=new Qf(e,o,s,i);n.elements.push(a),n.dom.appendChild(a.dom)}else n.elements[this.i].update(e,o,s,i);this.height=t.bottom,this.i++}line(e,t,i){let n=[];Ib(this.cursor,n,t.from),i.length&&(n=n.concat(i));let s=this.gutter.config.lineMarker(e,t,n);s&&n.unshift(s);let o=this.gutter;n.length==0&&!o.config.renderEmptyElements||this.addElement(e,t,n)}widget(e,t){let i=this.gutter.config.widgetMarker(e,t.widget,t);i&&this.addElement(e,t,[i])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}},Bf=class{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,n=>{let s=n.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=n.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[i](e,a,n)&&n.preventDefault()});this.markers=SE(t.markers(e)),t.initialSpacer&&(this.spacer=new Qf(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=SE(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let n=this.config.updateSpacer(this.spacer.markers[0],e);n!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[n])}let i=e.view.viewport;return!Tt.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}},Qf=class{constructor(e,t,i,n){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,n)}update(e,t,i,n){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),FR(this.markers,n)||this.setMarkers(e,n)}setMarkers(e,t){let i="cm-gutterElement",n=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<t.length?t[s++]:null,h=!1;if(l){let c=l.elementClass;c&&(i+=" "+c);for(let p=o;p<this.markers.length;p++)if(this.markers[p].compare(l)){a=p,h=!0;break}}else a=this.markers.length;for(;o<a;){let c=this.markers[o++];if(c.toDOM){c.destroy(n);let p=n.nextSibling;n.remove(),n=p}}if(!l)break;l.toDOM&&(h?n=n.nextSibling:this.dom.insertBefore(l.toDOM(e),n)),h&&o++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}};function FR(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].compare(e[t]))return!1;return!0}var VR=be.define(),jl=be.define({combine(r){return Ca(r,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let n in t){let s=i[n],o=t[n];i[n]=s?(a,l,h)=>s(a,l,h)||o(a,l,h):o}return i}})}}),ou=class extends Rr{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}};function tb(r,e){return r.state.facet(jl).formatNumber(e,r.state)}var $R=wf.compute([jl],r=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(VR)},lineMarker(e,t,i){return i.some(n=>n.toDOM)?null:new ou(tb(e,e.state.doc.lineAt(t.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(jl)!=e.state.facet(jl),initialSpacer(e){return new ou(tb(e,ME(e.state.doc.lines)))},updateSpacer(e,t){let i=tb(t.view,ME(t.view.state.doc.lines));return i==e.number?e:new ou(i)},domEventHandlers:r.facet(jl).domEventHandlers}));function v1(r={}){return[jl.of(r),HR(),$R]}function ME(r){let e=9;for(;e<r;)e=e*10+9;return e}var YR=0,Wi=class{constructor(e,t){this.from=e,this.to=t}},je=class{constructor(e={}){this.id=YR++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=fi.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}};je.closedBy=new je({deserialize:r=>r.split(" ")});je.openedBy=new je({deserialize:r=>r.split(" ")});je.group=new je({deserialize:r=>r.split(" ")});je.isolate=new je({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});je.contextHash=new je({perNode:!0});je.lookAhead=new je({perNode:!0});je.mounted=new je({perNode:!0});var Ta=class{constructor(e,t,i){this.tree=e,this.overlay=t,this.parser=i}static get(e){return e&&e.props&&e.props[je.mounted.id]}},qR=Object.create(null),fi=class r{constructor(e,t,i,n=0){this.name=e,this.props=t,this.id=i,this.flags=n}static define(e){let t=e.props&&e.props.length?Object.create(null):qR,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),n=new r(e.name||"",t,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(n)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return n}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(je.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let n of i.split(" "))t[n]=e[i];return i=>{for(let n=i.prop(je.group),s=-1;s<(n?n.length:0);s++){let o=t[s<0?i.name:n[s]];if(o)return o}}}};fi.none=new fi("",Object.create(null),0,8);var fu=class r{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let n=null;for(let s of e){let o=s(i);o&&(n||(n=Object.assign({},i.props)),n[o[0].id]=o[1])}t.push(n?new fi(i.name,n,i.id,i.flags):i)}return new r(t)}},_f=new WeakMap,y1=new WeakMap,Ge;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays"})(Ge||(Ge={}));var Et=class r{constructor(e,t,i,n,s){if(this.type=e,this.children=t,this.positions=i,this.length=n,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=Ta.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let n=i.toString();n&&(t&&(t+=","),t+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new Bl(this.topNode,e)}cursorAt(e,t=0,i=0){let n=_f.get(this)||this.topNode,s=new Bl(n);return s.moveTo(e,t),_f.set(this,s._tree),s}get topNode(){return new Zi(this,0,0,null)}resolve(e,t=0){let i=mu(_f.get(this)||this.topNode,e,t,!1);return _f.set(this,i),i}resolveInner(e,t=0){let i=mu(y1.get(this)||this.topNode,e,t,!0);return y1.set(this,i),i}resolveStack(e,t=0){return WR(this,e,t)}iterate(e){let{enter:t,leave:i,from:n=0,to:s=this.length}=e,o=e.mode||0,a=(o&Ge.IncludeAnonymous)>0;for(let l=this.cursor(o|Ge.IncludeAnonymous);;){let h=!1;if(l.from<=s&&l.to>=n&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;h=!0}for(;h&&i&&(a||!l.type.isAnonymous)&&i(l),!l.nextSibling();){if(!l.parent())return;h=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Kb(fi.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,n)=>new r(this.type,t,i,n,this.propValues),e.makeTree||((t,i,n)=>new r(fi.none,t,i,n)))}static build(e){return ZR(e)}};Et.empty=new Et(fi.none,[],[],0);var _b=class r{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new r(this.buffer,this.index)}},bo=class r{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return fi.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],n=this.set.types[t],s=n.name;if(/\W/.test(s)&&!n.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,i,n,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(N1(s,n,o[l+1],o[l+2])&&(a=l,i>0));l=o[l+3]);return a}slice(e,t,i){let n=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=n[a++],s[l++]=n[a++]-i;let h=s[l++]=n[a++]-i;s[l++]=n[a++]-e,o=Math.max(o,h)}return new r(s,o,this.set)}};function N1(r,e,t,i){switch(r){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function mu(r,e,t,i){for(var n;r.from==r.to||(t<1?r.from>=e:r.from>e)||(t>-1?r.to<=e:r.to<e);){let o=!i&&r instanceof Zi&&r.index<0?null:r.parent;if(!o)return r;r=o}let s=i?0:Ge.IgnoreOverlays;if(i)for(let o=r,a=o.parent;a;o=a,a=o.parent)o instanceof Zi&&o.index<0&&((n=a.enter(e,t,s))===null||n===void 0?void 0:n.from)!=o.from&&(r=a);for(;;){let o=r.enter(e,t,s);if(!o)return r;r=o}}var Vf=class{cursor(e=0){return new Bl(this,e)}getChild(e,t=null,i=null){let n=b1(this,e,t,i);return n.length?n[0]:null}getChildren(e,t=null,i=null){return b1(this,e,t,i)}resolve(e,t=0){return mu(this,e,t,!1)}resolveInner(e,t=0){return mu(this,e,t,!0)}matchContext(e){return Fb(this,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let n=t.lastChild;if(!n||n.to!=t.to)break;n.type.isError&&n.from==n.to?(i=t,t=n.prevSibling):t=n}return i}get node(){return this}get next(){return this.parent}},Zi=class r extends Vf{constructor(e,t,i,n){super(),this._tree=e,this.from=t,this.index=i,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,n,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,h=t>0?a.length:-1;e!=h;e+=t){let c=a[e],p=l[e]+o.from;if(N1(n,i,p,p+c.length)){if(c instanceof bo){if(s&Ge.ExcludeBuffers)continue;let d=c.findChild(0,c.buffer.length,t,i-p,n);if(d>-1)return new Na(new Vb(o,c,e,p),null,d)}else if(s&Ge.IncludeAnonymous||!c.type.isAnonymous||Gb(c)){let d;if(!(s&Ge.IgnoreMounts)&&(d=Ta.get(c))&&!d.overlay)return new r(d.tree,p,e,o);let f=new r(c,p,e,o);return s&Ge.IncludeAnonymous||!f.type.isAnonymous?f:f.nextChild(t<0?c.children.length-1:0,t,i,n)}}}if(s&Ge.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let n;if(!(i&Ge.IgnoreOverlays)&&(n=Ta.get(this._tree))&&n.overlay){let s=e-this.from;for(let{from:o,to:a}of n.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new r(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function b1(r,e,t,i){let n=r.cursor(),s=[];if(!n.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=n.type.is(t),!n.nextSibling())return s}for(;;){if(i!=null&&n.type.is(i))return s;if(n.type.is(e)&&s.push(n.node),!n.nextSibling())return i==null?s:[]}}function Fb(r,e,t=e.length-1){for(let i=r.parent;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}var Vb=class{constructor(e,t,i,n){this.parent=e,this.buffer=t,this.index=i,this.start=n}},Na=class r extends Vf{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.context.start,i);return s<0?null:new r(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&Ge.ExcludeBuffers)return null;let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new r(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new r(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new r(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,n=this.index+4,s=i.buffer[this.index+3];if(s>n){let o=i.buffer[this.index+1];e.push(i.slice(n,s,o)),t.push(0)}return new Et(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function x1(r){if(!r.length)return null;let e=0,t=r[0];for(let s=1;s<r.length;s++){let o=r[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let i=t instanceof Zi&&t.index<0?null:t.parent,n=r.slice();return i?n[e]=i:n.splice(e,1),new $b(n,t)}var $b=class{constructor(e,t){this.heads=e,this.node=t}get next(){return x1(this.heads)}};function WR(r,e,t){let i=r.resolveInner(e,t),n=null;for(let s=i instanceof Zi?i:i.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(n||(n=[i])).push(o.resolve(e,t)),s=o}else{let o=Ta.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Zi(o.tree,o.overlay[0].from+s.from,-1,s);(n||(n=[i])).push(mu(a,e,t,!1))}}return n?x1(n):i}var Bl=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Zi)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:n}=this.buffer;return this.type=t||n.set.types[n.buffer[e]],this.from=i+n.buffer[e+1],this.to=i+n.buffer[e+2],!0}yield(e){return e?e instanceof Zi?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:n}=this.buffer,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&Ge.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Ge.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Ge.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let n=i<0?0:this.stack[i]+4;if(this.index!=n)return this.yieldBuf(t.findChild(n,this.index,-1,0,4))}else{let n=t.buffer[this.index+3];if(n<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(n)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:n}=this;if(n){if(e>0){if(this.index<n.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(n.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:i}=n)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let s=t+e,o=e<0?-1:i._tree.children.length;s!=o;s+=e){let a=i._tree.children[s];if(this.mode&Ge.IncludeAnonymous||a instanceof bo||!a.type.isAnonymous||Gb(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let n=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==n){if(n==this.index)return o;t=o,i=s+1;break e}n=this.stack[--s]}for(let n=i;n<this.stack.length;n++)t=new Na(this.buffer,t,this.stack[n]);return this.bufferNode=new Na(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let n=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(n=!0)}for(;n&&t&&t(this),n=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,n=!0}}}matchContext(e){if(!this.buffer)return Fb(this.node,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let n=e.length-1,s=this.stack.length-1;n>=0;s--){if(s<0)return Fb(this.node,e,n);let o=i[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[n]&&e[n]!=o.name)return!1;n--}}return!0}};function Gb(r){return r.children.some(e=>e instanceof bo||!e.type.isAnonymous||Gb(e))}function ZR(r){var e;let{buffer:t,nodeSet:i,maxBufferLength:n=1024,reused:s=[],minRepeatType:o=i.types.length}=r,a=Array.isArray(t)?new _b(t,t.length):t,l=i.types,h=0,c=0;function p(k,A,j,U,q,K){let{id:oe,start:ie,end:se,size:H}=a,z=c;for(;H<0;)if(a.next(),H==-1){let te=s[oe];j.push(te),U.push(ie-k);return}else if(H==-3){h=oe;return}else if(H==-4){c=oe;return}else throw new RangeError(`Unrecognized record size: ${H}`);let Y=l[oe],P,V,G=ie-k;if(se-ie<=n&&(V=v(a.pos-A,q))){let te=new Uint16Array(V.size-V.skip),xe=a.pos-V.size,Me=te.length;for(;a.pos>xe;)Me=O(V.start,te,Me);P=new bo(te,se-V.start,i),G=V.start-k}else{let te=a.pos-H;a.next();let xe=[],Me=[],Le=oe>=o?oe:-1,rt=0,kt=se;for(;a.pos>te;)Le>=0&&a.id==Le&&a.size>=0?(a.end<=kt-n&&(m(xe,Me,ie,rt,a.end,kt,Le,z),rt=xe.length,kt=a.end),a.next()):K>2500?d(ie,te,xe,Me):p(ie,te,xe,Me,Le,K+1);if(Le>=0&&rt>0&&rt<xe.length&&m(xe,Me,ie,rt,ie,kt,Le,z),xe.reverse(),Me.reverse(),Le>-1&&rt>0){let oi=f(Y);P=Kb(Y,xe,Me,0,xe.length,0,se-ie,oi,oi)}else P=g(Y,xe,Me,se-ie,z-se)}j.push(P),U.push(G)}function d(k,A,j,U){let q=[],K=0,oe=-1;for(;a.pos>A;){let{id:ie,start:se,end:H,size:z}=a;if(z>4)a.next();else{if(oe>-1&&se<oe)break;oe<0&&(oe=H-n),q.push(ie,se,H),K++,a.next()}}if(K){let ie=new Uint16Array(K*4),se=q[q.length-2];for(let H=q.length-3,z=0;H>=0;H-=3)ie[z++]=q[H],ie[z++]=q[H+1]-se,ie[z++]=q[H+2]-se,ie[z++]=z;j.push(new bo(ie,q[2]-se,i)),U.push(se-k)}}function f(k){return(A,j,U)=>{let q=0,K=A.length-1,oe,ie;if(K>=0&&(oe=A[K])instanceof Et){if(!K&&oe.type==k&&oe.length==U)return oe;(ie=oe.prop(je.lookAhead))&&(q=j[K]+oe.length+ie)}return g(k,A,j,U,q)}}function m(k,A,j,U,q,K,oe,ie){let se=[],H=[];for(;k.length>U;)se.push(k.pop()),H.push(A.pop()+j-q);k.push(g(i.types[oe],se,H,K-q,ie-K)),A.push(q-j)}function g(k,A,j,U,q=0,K){if(h){let oe=[je.contextHash,h];K=K?[oe].concat(K):[oe]}if(q>25){let oe=[je.lookAhead,q];K=K?[oe].concat(K):[oe]}return new Et(k,A,j,U,K)}function v(k,A){let j=a.fork(),U=0,q=0,K=0,oe=j.end-n,ie={size:0,start:0,skip:0};e:for(let se=j.pos-k;j.pos>se;){let H=j.size;if(j.id==A&&H>=0){ie.size=U,ie.start=q,ie.skip=K,K+=4,U+=4,j.next();continue}let z=j.pos-H;if(H<0||z<se||j.start<oe)break;let Y=j.id>=o?4:0,P=j.start;for(j.next();j.pos>z;){if(j.size<0)if(j.size==-3)Y+=4;else break e;else j.id>=o&&(Y+=4);j.next()}q=P,U+=H,K+=Y}return(A<0||U==k)&&(ie.size=U,ie.start=q,ie.skip=K),ie.size>4?ie:void 0}function O(k,A,j){let{id:U,start:q,end:K,size:oe}=a;if(a.next(),oe>=0&&U<o){let ie=j;if(oe>4){let se=a.pos-(oe-4);for(;a.pos>se;)j=O(k,A,j)}A[--j]=ie,A[--j]=K-k,A[--j]=q-k,A[--j]=U}else oe==-3?h=U:oe==-4&&(c=U);return j}let C=[],x=[];for(;a.pos>0;)p(r.start||0,r.bufferStart||0,C,x,-1,0);let M=(e=r.length)!==null&&e!==void 0?e:C.length?x[0]+C[0].length:0;return new Et(l[r.topID],C.reverse(),x.reverse(),M)}var O1=new WeakMap;function Ff(r,e){if(!r.isAnonymous||e instanceof bo||e.type!=r)return 1;let t=O1.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=r||!(i instanceof Et)){t=1;break}t+=Ff(r,i)}O1.set(e,t)}return t}function Kb(r,e,t,i,n,s,o,a,l){let h=0;for(let m=i;m<n;m++)h+=Ff(r,e[m]);let c=Math.ceil(h*1.5/8),p=[],d=[];function f(m,g,v,O,C){for(let x=v;x<O;){let M=x,k=g[x],A=Ff(r,m[x]);for(x++;x<O;x++){let j=Ff(r,m[x]);if(A+j>=c)break;A+=j}if(x==M+1){if(A>c){let j=m[M];f(j.children,j.positions,0,j.children.length,g[M]+C);continue}p.push(m[M])}else{let j=g[x-1]+m[x-1].length-k;p.push(Kb(r,m,g,M,x,k,j,null,l))}d.push(k+C-s)}}return f(e,t,i,n,0),(a||l)(p,d,o)}var Ql=class{constructor(){this.map=new WeakMap}setBuffer(e,t,i){let n=this.map.get(e);n||this.map.set(e,n=new Map),n.set(t,i)}getBuffer(e,t){let i=this.map.get(e);return i&&i.get(t)}set(e,t){e instanceof Na?this.setBuffer(e.context.buffer,e.index,t):e instanceof Zi&&this.map.set(e.tree,t)}get(e){return e instanceof Na?this.getBuffer(e.context.buffer,e.index):e instanceof Zi?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}},gs=class r{constructor(e,t,i,n,s=!1,o=!1){this.from=e,this.to=t,this.tree=i,this.offset=n,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let n=[new r(0,e.length,e,0,!1,i)];for(let s of t)s.to>e.length&&n.push(s);return n}static applyChanges(e,t,i=128){if(!t.length)return e;let n=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,h=0;;a++){let c=a<t.length?t[a]:null,p=c?c.fromA:1e9;if(p-l>=i)for(;o&&o.from<p;){let d=o;if(l>=d.from||p<=d.to||h){let f=Math.max(d.from,l)-h,m=Math.min(d.to,p)-h;d=f>=m?null:new r(f,m,d.tree,d.offset+h,a>0,!!c)}if(d&&n.push(d),o.to>p)break;o=s<e.length?e[s++]:null}if(!c)break;l=c.toA,h=c.toA-c.toB}return n}},Ul=class{startParse(e,t,i){return typeof e=="string"&&(e=new Yb(e)),i=i?i.length?i.map(n=>new Wi(n.from,n.to)):[new Wi(0,0)]:[new Wi(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let n=this.startParse(e,t,i);for(;;){let s=n.advance();if(s)return s}}},Yb=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};function w1(r){return(e,t,i,n)=>new Zb(e,r,t,i,n)}var $f=class{constructor(e,t,i,n,s){this.parser=e,this.parse=t,this.overlay=i,this.target=n,this.from=s}};function C1(r){if(!r.length||r.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(r))}var qb=class{constructor(e,t,i,n,s,o,a){this.parser=e,this.predicate=t,this.mounts=i,this.index=n,this.start=s,this.target=o,this.prev=a,this.depth=0,this.ranges=[]}},Wb=new je({perNode:!0}),Zb=class{constructor(e,t,i,n,s){this.nest=t,this.input=i,this.fragments=n,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let i=this.baseParse.advance();if(!i)return null;if(this.baseParse=null,this.baseTree=i,this.startInner(),this.stoppedAt!=null)for(let n of this.inner)n.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let i=this.baseTree;return this.stoppedAt!=null&&(i=new Et(i.type,i.children,i.positions,i.length,i.propValues.concat([[Wb,this.stoppedAt]]))),i}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let i=Object.assign(Object.create(null),e.target.props);i[je.mounted.id]=new Ta(t,e.overlay,e.parser),e.target.props=i}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new Xb(this.fragments),t=null,i=null,n=new Bl(new Zi(this.baseTree,this.ranges[0].from,0,null),Ge.IncludeAnonymous|Ge.IgnoreMounts);e:for(let s,o;;){let a=!0,l;if(this.stoppedAt!=null&&n.from>=this.stoppedAt)a=!1;else if(e.hasNode(n)){if(t){let h=t.mounts.find(c=>c.frag.from<=n.from&&c.frag.to>=n.to&&c.mount.overlay);if(h)for(let c of h.mount.overlay){let p=c.from+h.pos,d=c.to+h.pos;p>=n.from&&d<=n.to&&!t.ranges.some(f=>f.from<d&&f.to>p)&&t.ranges.push({from:p,to:d})}}a=!1}else if(i&&(o=XR(i.ranges,n.from,n.to)))a=o!=2;else if(!n.type.isAnonymous&&(s=this.nest(n,this.input))&&(n.from<n.to||!s.overlay)){n.tree||GR(n);let h=e.findMounts(n.from,s.parser);if(typeof s.overlay=="function")t=new qb(s.parser,s.overlay,h,this.inner.length,n.from,n.tree,t);else{let c=M1(this.ranges,s.overlay||(n.from<n.to?[new Wi(n.from,n.to)]:[]));c.length&&C1(c),(c.length||!s.overlay)&&this.inner.push(new $f(s.parser,c.length?s.parser.startParse(this.input,T1(h,c),c):s.parser.startParse(""),s.overlay?s.overlay.map(p=>new Wi(p.from-n.from,p.to-n.from)):null,n.tree,c.length?c[0].from:n.from)),s.overlay?c.length&&(i={ranges:c,depth:0,prev:i}):a=!1}}else t&&(l=t.predicate(n))&&(l===!0&&(l=new Wi(n.from,n.to)),l.from<l.to&&t.ranges.push(l));if(a&&n.firstChild())t&&t.depth++,i&&i.depth++;else for(;!n.nextSibling();){if(!n.parent())break e;if(t&&!--t.depth){let h=M1(this.ranges,t.ranges);h.length&&(C1(h),this.inner.splice(t.index,0,new $f(t.parser,t.parser.startParse(this.input,T1(t.mounts,h),h),t.ranges.map(c=>new Wi(c.from-t.start,c.to-t.start)),t.target,h[0].from))),t=t.prev}i&&!--i.depth&&(i=i.prev)}}}};function XR(r,e,t){for(let i of r){if(i.from>=t)break;if(i.to>e)return i.from<=e&&i.to>=t?2:1}return 0}function S1(r,e,t,i,n,s){if(e<t){let o=r.buffer[e+1];i.push(r.slice(e,t,o)),n.push(o-s)}}function GR(r){let{node:e}=r,t=[],i=e.context.buffer;do t.push(r.index),r.parent();while(!r.tree);let n=r.tree,s=n.children.indexOf(i),o=n.children[s],a=o.buffer,l=[s];function h(c,p,d,f,m,g){let v=t[g],O=[],C=[];S1(o,c,v,O,C,f);let x=a[v+1],M=a[v+2];l.push(O.length);let k=g?h(v+4,a[v+3],o.set.types[a[v]],x,M-x,g-1):e.toTree();return O.push(k),C.push(x-f),S1(o,a[v+3],p,O,C,f),new Et(d,O,C,m)}n.children[s]=h(0,a.length,fi.none,0,o.length,t.length-1);for(let c of l){let p=r.tree.children[c],d=r.tree.positions[c];r.yield(new Zi(p,d+r.from,c,r._tree))}}var Yf=class{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.cursor(Ge.IncludeAnonymous|Ge.IgnoreMounts)}moveTo(e){let{cursor:t}=this,i=e-this.offset;for(;!this.done&&t.from<i;)t.to>=e&&t.enter(i,1,Ge.IgnoreOverlays|Ge.ExcludeBuffers)||t.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(t.children.length&&t.positions[0]==0&&t.children[0]instanceof Et)t=t.children[0];else break}return!1}},Xb=class{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let i=this.curFrag=e[0];this.curTo=(t=i.tree.prop(Wb))!==null&&t!==void 0?t:i.to,this.inner=new Yf(i.tree,-i.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=(e=t.tree.prop(Wb))!==null&&e!==void 0?e:t.to,this.inner=new Yf(t.tree,-t.offset)}}findMounts(e,t){var i;let n=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let s=this.inner.cursor.node;s;s=s.parent){let o=(i=s.tree)===null||i===void 0?void 0:i.prop(je.mounted);if(o&&o.parser==t)for(let a=this.fragI;a<this.fragments.length;a++){let l=this.fragments[a];if(l.from>=s.to)break;l.tree==this.curFrag.tree&&n.push({frag:l,pos:s.from-l.offset,mount:o})}}}return n}};function M1(r,e){let t=null,i=e;for(let n=1,s=0;n<r.length;n++){let o=r[n-1].to,a=r[n].from;for(;s<i.length;s++){let l=i[s];if(l.from>=a)break;l.to<=o||(t||(i=t=e.slice()),l.from<o?(t[s]=new Wi(l.from,o),l.to>a&&t.splice(s+1,0,new Wi(a,l.to))):l.to>a?t[s--]=new Wi(a,l.to):t.splice(s--,1))}}return i}function KR(r,e,t,i){let n=0,s=0,o=!1,a=!1,l=-1e9,h=[];for(;;){let c=n==r.length?1e9:o?r[n].to:r[n].from,p=s==e.length?1e9:a?e[s].to:e[s].from;if(o!=a){let d=Math.max(l,t),f=Math.min(c,p,i);d<f&&h.push(new Wi(d,f))}if(l=Math.min(c,p),l==1e9)break;c==l&&(o?(o=!1,n++):o=!0),p==l&&(a?(a=!1,s++):a=!0)}return h}function T1(r,e){let t=[];for(let{pos:i,mount:n,frag:s}of r){let o=i+(n.overlay?n.overlay[0].from:0),a=o+n.tree.length,l=Math.max(s.from,o),h=Math.min(s.to,a);if(n.overlay){let c=n.overlay.map(d=>new Wi(d.from+i,d.to+i)),p=KR(e,c,l,h);for(let d=0,f=l;;d++){let m=d==p.length,g=m?h:p[d].from;if(g>f&&t.push(new gs(f,g,n.tree,-o,s.from>=f||s.openStart,s.to<=g||s.openEnd)),m)break;f=p[d].to}}else t.push(new gs(l,h,n.tree,-o,s.from>=o||s.openStart,s.to<=a||s.openEnd))}return t}var JR=0,Hr=class r{constructor(e,t,i){this.set=e,this.base=t,this.modified=i,this.id=JR++}static define(e){if(e?.base)throw new Error("Can not derive from a modified tag");let t=new r([],null,[]);if(t.set.push(t),e)for(let i of e.set)t.set.push(i);return t}static defineModifier(){let e=new Xf;return t=>t.modified.indexOf(e)>-1?t:Xf.get(t.base||t,t.modified.concat(e).sort((i,n)=>i.id-n.id))}},e3=0,Xf=class r{constructor(){this.instances=[],this.id=e3++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(a=>a.base==e&&t3(t,a.modified));if(i)return i;let n=[],s=new Hr(n,e,t);for(let a of t)a.instances.push(s);let o=i3(t);for(let a of e.set)if(!a.modified.length)for(let l of o)n.push(r.get(a,l));return s}};function t3(r,e){return r.length==e.length&&r.every((t,i)=>t==e[i])}function i3(r){let e=[[]];for(let t=0;t<r.length;t++)for(let i=0,n=e.length;i<n;i++)e.push(e[i].concat(r[t]));return e.sort((t,i)=>i.length-t.length)}function So(r){let e=Object.create(null);for(let t in r){let i=r[t];Array.isArray(i)||(i=[i]);for(let n of t.split(" "))if(n){let s=[],o=2,a=n;for(let p=0;;){if(a=="..."&&p>0&&p+3==n.length){o=1;break}let d=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!d)throw new RangeError("Invalid path: "+n);if(s.push(d[0]=="*"?"":d[0][0]=='"'?JSON.parse(d[0]):d[0]),p+=d[0].length,p==n.length)break;let f=n[p++];if(p==n.length&&f=="!"){o=0;break}if(f!="/")throw new RangeError("Invalid path: "+n);a=n.slice(p)}let l=s.length-1,h=s[l];if(!h)throw new RangeError("Invalid path: "+n);let c=new Hl(i,o,l>0?s.slice(0,l):null);e[h]=c.sort(e[h])}}return D1.add(e)}var D1=new je,Hl=class{constructor(e,t,i,n){this.tags=e,this.mode=t,this.context=i,this.next=n}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}};Hl.empty=new Hl([],2,null);function iO(r,e){let t=Object.create(null);for(let s of r)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:i,all:n=null}=e||{};return{style:s=>{let o=n;for(let a of s)for(let l of a.set){let h=t[l.id];if(h){o=o?o+" "+h:h;break}}return o},scope:i}}function n3(r,e){let t=null;for(let i of r){let n=i.style(e);n&&(t=t?t+" "+n:n)}return t}function L1(r,e,t,i=0,n=r.length){let s=new eO(i,Array.isArray(e)?e:[e],t);s.highlightRange(r.cursor(),i,n,"",s.highlighters),s.flush(n)}var eO=class{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,n,s){let{type:o,from:a,to:l}=e;if(a>=i||l<=t)return;o.isTop&&(s=this.highlighters.filter(f=>!f.scope||f.scope(o)));let h=n,c=r3(e)||Hl.empty,p=n3(s,c.tags);if(p&&(h&&(h+=" "),h+=p,c.mode==1&&(n+=(n?" ":"")+p)),this.startSpan(Math.max(t,a),h),c.opaque)return;let d=e.tree&&e.tree.prop(je.mounted);if(d&&d.overlay){let f=e.node.enter(d.overlay[0].from+a,1),m=this.highlighters.filter(v=>!v.scope||v.scope(d.tree.type)),g=e.firstChild();for(let v=0,O=a;;v++){let C=v<d.overlay.length?d.overlay[v]:null,x=C?C.from+a:l,M=Math.max(t,O),k=Math.min(i,x);if(M<k&&g)for(;e.from<k&&(this.highlightRange(e,M,k,n,s),this.startSpan(Math.min(k,e.to),h),!(e.to>=x||!e.nextSibling())););if(!C||x>i)break;O=C.to+a,O>t&&(this.highlightRange(f.cursor(),Math.max(t,C.from+a),Math.min(i,O),"",m),this.startSpan(Math.min(i,O),h))}g&&e.parent()}else if(e.firstChild()){d&&(n="");do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,n,s),this.startSpan(Math.min(i,e.to),h)}while(e.nextSibling());e.parent()}}};function r3(r){let e=r.type.prop(D1);for(;e&&e.context&&!r.matchContext(e.context);)e=e.next;return e||null}var le=Hr.define,qf=le(),Oo=le(),E1=le(Oo),k1=le(Oo),Co=le(),Wf=le(Co),Jb=le(Co),Ur=le(),xa=le(Ur),Br=le(),Qr=le(),tO=le(),gu=le(tO),Zf=le(),D={comment:qf,lineComment:le(qf),blockComment:le(qf),docComment:le(qf),name:Oo,variableName:le(Oo),typeName:E1,tagName:le(E1),propertyName:k1,attributeName:le(k1),className:le(Oo),labelName:le(Oo),namespace:le(Oo),macroName:le(Oo),literal:Co,string:Wf,docString:le(Wf),character:le(Wf),attributeValue:le(Wf),number:Jb,integer:le(Jb),float:le(Jb),bool:le(Co),regexp:le(Co),escape:le(Co),color:le(Co),url:le(Co),keyword:Br,self:le(Br),null:le(Br),atom:le(Br),unit:le(Br),modifier:le(Br),operatorKeyword:le(Br),controlKeyword:le(Br),definitionKeyword:le(Br),moduleKeyword:le(Br),operator:Qr,derefOperator:le(Qr),arithmeticOperator:le(Qr),logicOperator:le(Qr),bitwiseOperator:le(Qr),compareOperator:le(Qr),updateOperator:le(Qr),definitionOperator:le(Qr),typeOperator:le(Qr),controlOperator:le(Qr),punctuation:tO,separator:le(tO),bracket:gu,angleBracket:le(gu),squareBracket:le(gu),paren:le(gu),brace:le(gu),content:Ur,heading:xa,heading1:le(xa),heading2:le(xa),heading3:le(xa),heading4:le(xa),heading5:le(xa),heading6:le(xa),contentSeparator:le(Ur),list:le(Ur),quote:le(Ur),emphasis:le(Ur),strong:le(Ur),link:le(Ur),monospace:le(Ur),strikethrough:le(Ur),inserted:le(),deleted:le(),changed:le(),invalid:le(),meta:Zf,documentMeta:le(Zf),annotation:le(Zf),processingInstruction:le(Zf),definition:Hr.defineModifier(),constant:Hr.defineModifier(),function:Hr.defineModifier(),standard:Hr.defineModifier(),local:Hr.defineModifier(),special:Hr.defineModifier()},JG=iO([{tag:D.link,class:"tok-link"},{tag:D.heading,class:"tok-heading"},{tag:D.emphasis,class:"tok-emphasis"},{tag:D.strong,class:"tok-strong"},{tag:D.keyword,class:"tok-keyword"},{tag:D.atom,class:"tok-atom"},{tag:D.bool,class:"tok-bool"},{tag:D.url,class:"tok-url"},{tag:D.labelName,class:"tok-labelName"},{tag:D.inserted,class:"tok-inserted"},{tag:D.deleted,class:"tok-deleted"},{tag:D.literal,class:"tok-literal"},{tag:D.string,class:"tok-string"},{tag:D.number,class:"tok-number"},{tag:[D.regexp,D.escape,D.special(D.string)],class:"tok-string2"},{tag:D.variableName,class:"tok-variableName"},{tag:D.local(D.variableName),class:"tok-variableName tok-local"},{tag:D.definition(D.variableName),class:"tok-variableName tok-definition"},{tag:D.special(D.variableName),class:"tok-variableName2"},{tag:D.definition(D.propertyName),class:"tok-propertyName tok-definition"},{tag:D.typeName,class:"tok-typeName"},{tag:D.namespace,class:"tok-namespace"},{tag:D.className,class:"tok-className"},{tag:D.macroName,class:"tok-macroName"},{tag:D.propertyName,class:"tok-propertyName"},{tag:D.operator,class:"tok-operator"},{tag:D.comment,class:"tok-comment"},{tag:D.meta,class:"tok-meta"},{tag:D.invalid,class:"tok-invalid"},{tag:D.punctuation,class:"tok-punctuation"}]);var nO,_l=new je;function uO(r){return be.define({combine:r?e=>e.concat(r):void 0})}var Gf=new je,fn=class{constructor(e,t,i=[],n=""){this.data=e,this.name=n,Mt.prototype.hasOwnProperty("tree")||Object.defineProperty(Mt.prototype,"tree",{get(){return zt(this)}}),this.parser=t,this.extension=[Fl.of(this),Mt.languageData.of((s,o,a)=>{let l=A1(s,o,a),h=l.type.prop(_l);if(!h)return[];let c=s.facet(h),p=l.type.prop(Gf);if(p){let d=l.resolve(o-l.from,a);for(let f of p)if(f.test(d,s)){let m=s.facet(f.facet);return f.type=="replace"?m:m.concat(c)}}return c})].concat(i)}isActiveAt(e,t,i=-1){return A1(e,t,i).type.prop(_l)==this.data}findRegions(e){let t=e.facet(Fl);if(t?.data==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],n=(s,o)=>{if(s.prop(_l)==this.data){i.push({from:o,to:o+s.length});return}let a=s.prop(je.mounted);if(a){if(a.tree.prop(_l)==this.data){if(a.overlay)for(let l of a.overlay)i.push({from:l.from+o,to:l.to+o});else i.push({from:o,to:o+s.length});return}else if(a.overlay){let l=i.length;if(n(a.tree,a.overlay[0].from+o),i.length>l)return}}for(let l=0;l<s.children.length;l++){let h=s.children[l];h instanceof Et&&n(h,s.positions[l]+o)}};return n(zt(e),0),i}get allowsNesting(){return!0}};fn.setState=Ue.define();function A1(r,e,t){let i=r.facet(Fl),n=zt(r).topNode;if(!i||i.allowsNesting)for(let s=n;s;s=s.enter(e,t,Ge.ExcludeBuffers))s.type.isTop&&(n=s);return n}var Mo=class r extends fn{constructor(e,t,i){super(e,t,[],i),this.parser=t}static define(e){let t=uO(e.languageData);return new r(t,e.parser.configure({props:[_l.add(i=>i.isTop?t:void 0)]}),e.name)}configure(e,t){return new r(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}};function zt(r){let e=r.field(fn.state,!1);return e?e.tree:Et.empty}var aO=class{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}},vu=null,lO=class r{constructor(e,t,i=[],n,s,o,a,l){this.parser=e,this.state=t,this.fragments=i,this.tree=n,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new r(e,t,[],Et.empty,0,i,[],null)}startParse(){return this.parser.startParse(new aO(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Et.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let n=Date.now()+e;e=()=>Date.now()>n}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let n=this.parse.advance();if(n)if(this.fragments=this.withoutTempSkipped(gs.addTree(n,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=n,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(gs.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=vu;vu=this;try{return e()}finally{vu=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=I1(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:n,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((h,c,p,d)=>l.push({fromA:h,toA:c,fromB:p,toB:d})),i=gs.applyChanges(i,l),n=Et.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let h of this.skipped){let c=e.mapPos(h.from,1),p=e.mapPos(h.to,-1);c<p&&a.push({from:c,to:p})}}}return new r(this.parser,t,i,n,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:n,to:s}=this.skipped[i];n<e.to&&s>e.from&&(this.fragments=I1(this.fragments,n,s),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Ul{createParse(t,i,n){let s=n[0].from,o=n[n.length-1].to;return{parsedPos:s,advance(){let l=vu;if(l){for(let h of n)l.tempSkipped.push(h);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Et(fi.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return vu}};function I1(r,e,t){return gs.applyChanges(r,[{fromA:e,toA:t,fromB:e,toB:t}])}var yu=class r{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new r(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=lO.create(e.facet(Fl).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new r(i)}};fn.state=si.define({create:yu.init,update(r,e){for(let t of e.effects)if(t.is(fn.setState))return t.value;return e.startState.facet(Fl)!=e.state.facet(Fl)?yu.init(e.state):r.apply(e)}});var R1=r=>{let e=setTimeout(()=>r(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(R1=r=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(r,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});var rO=typeof navigator<"u"&&(!((nO=navigator.scheduling)===null||nO===void 0)&&nO.isInputPending)?()=>navigator.scheduling.isInputPending():null,s3=qi.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(fn.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(fn.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=R1(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:n}}=this.view,s=i.field(fn.state);if(s.tree==s.context.tree&&s.context.isDone(n+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!rO?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<n&&i.doc.length>n+1e3,l=s.context.work(()=>rO&&rO()||Date.now()>o,n+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:fn.setState.of(new yu(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Pi(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Fl=be.define({combine(r){return r.length?r[0]:null},enables:r=>[fn.state,s3,Te.contentAttributes.compute([r],e=>{let t=e.facet(r);return t&&t.name?{"data-language":t.name}:{}})]}),To=class{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}};var $l=be.define({combine:r=>{if(!r.length)return"  ";let e=r[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(r[0]));return e}});function B1(r){let e=r.facet($l);return e.charCodeAt(0)==9?r.tabSize*e.length:e.length}function Q1(r,e){let t="",i=r.tabSize,n=r.facet($l)[0];if(n=="	"){for(;e>=i;)t+="	",e-=i;n=" "}for(let s=0;s<e;s++)t+=n;return t}var Yl=new je;function o3(r){let e=r.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let n=r.options.simulateBreak,s=r.state.doc.lineAt(t.from),o=n==null||n<=s.from?s.to:Math.min(s.to,n);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==i)return null;if(!l.type.isSkipped)return l.from<o?t:null;a=l.to}}function U1({closing:r,align:e=!0,units:t=1}){return i=>a3(i,e,t,r)}function a3(r,e,t,i,n){let s=r.textAfter,o=s.match(/^\s*/)[0].length,a=i&&s.slice(o,o+i.length)==i||n==r.pos+o,l=e?o3(r):null;return l?a?r.column(l.from):r.column(l.to):r.baseIndent+(a?0:r.unit*t)}var H1=r=>r.baseIndent;function ql({except:r,units:e=1}={}){return t=>{let i=r&&r.test(t.textAfter);return t.baseIndent+(i?0:e*t.unit)}}var Wl=new je;function Kf(r){let e=r.firstChild,t=r.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?r.to:t.from}:null}var Vl=class r{constructor(e,t){this.specs=e;let i;function n(a){let l=Rn.newName();return(i||(i=Object.create(null)))["."+l]=a,l}let s=typeof t.all=="string"?t.all:t.all?n(t.all):void 0,o=t.scope;this.scope=o instanceof fn?a=>a.prop(_l)==o.data:o?a=>a==o:void 0,this.style=iO(e.map(a=>({tag:a.tag,class:a.class||n(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=i?new Rn(i):null,this.themeType=t.themeType}static define(e,t){return new r(e,t||{})}},hO=be.define(),_1=be.define({combine(r){return r.length?[r[0]]:null}});function sO(r){let e=r.facet(hO);return e.length?e:r.facet(_1)}function Jf(r,e){let t=[l3],i;return r instanceof Vl&&(r.module&&t.push(Te.styleModule.of(r.module)),i=r.themeType),e?.fallback?t.push(_1.of(r)):i?t.push(hO.computeN([Te.darkTheme],n=>n.facet(Te.darkTheme)==(i=="dark")?[r]:[])):t.push(hO.of(r)),t}var cO=class{constructor(e){this.markCache=Object.create(null),this.tree=zt(e.state),this.decorations=this.buildDeco(e,sO(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=zt(e.state),i=sO(e.state),n=i!=sO(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);t.length<s.to&&!n&&t.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(t!=this.tree||e.viewportChanged||n)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i),this.decoratedTo=s.to)}buildDeco(e,t){if(!t||!this.tree.length)return _e.none;let i=new Oa;for(let{from:n,to:s}of e.visibleRanges)L1(this.tree,t,(o,a,l)=>{i.add(o,a,this.markCache[l]||(this.markCache[l]=_e.mark({class:l})))},n,s);return i.finish()}},l3=ps.high(qi.fromClass(cO,{decorations:r=>r.decorations})),F1=Vl.define([{tag:D.meta,color:"#404740"},{tag:D.link,textDecoration:"underline"},{tag:D.heading,textDecoration:"underline",fontWeight:"bold"},{tag:D.emphasis,fontStyle:"italic"},{tag:D.strong,fontWeight:"bold"},{tag:D.strikethrough,textDecoration:"line-through"},{tag:D.keyword,color:"#708"},{tag:[D.atom,D.bool,D.url,D.contentSeparator,D.labelName],color:"#219"},{tag:[D.literal,D.inserted],color:"#164"},{tag:[D.string,D.deleted],color:"#a11"},{tag:[D.regexp,D.escape,D.special(D.string)],color:"#e40"},{tag:D.definition(D.variableName),color:"#00f"},{tag:D.local(D.variableName),color:"#30a"},{tag:[D.typeName,D.namespace],color:"#085"},{tag:D.className,color:"#167"},{tag:[D.special(D.variableName),D.macroName],color:"#256"},{tag:D.definition(D.propertyName),color:"#00c"},{tag:D.comment,color:"#940"},{tag:D.invalid,color:"#f00"}]);var V1=new je;var h3=Object.create(null),P1=[fi.none];var j1=[],z1=Object.create(null),c3=Object.create(null);for(let[r,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])c3[r]=u3(h3,e);function oO(r,e){j1.indexOf(r)>-1||(j1.push(r),console.warn(e))}function u3(r,e){let t=[];for(let a of e.split(" ")){let l=[];for(let h of a.split(".")){let c=r[h]||D[h];c?typeof c=="function"?l.length?l=l.map(c):oO(h,`Modifier ${h} used at start of tag`):l.length?oO(h,`Tag ${h} used as modifier`):l=Array.isArray(c)?c:[c]:oO(h,`Unknown highlighting tag ${h}`)}for(let h of l)t.push(h)}if(!t.length)return 0;let i=e.replace(/ /g,"_"),n=i+" "+t.map(a=>a.id),s=z1[n];if(s)return s.id;let o=z1[n]=fi.define({id:P1.length,name:i,props:[So({[i]:t})]});return P1.push(o),o.id}var lK={rtl:_e.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"rtl"},bidiIsolate:jt.RTL}),ltr:_e.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"ltr"},bidiIsolate:jt.LTR}),auto:_e.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"auto"},bidiIsolate:null})};var p3="#e5c07b",$1="#e06c75",d3="#56b6c2",f3="#ffffff",em="#abb2bf",dO="#7d8799",m3="#61afef",g3="#98c379",Y1="#d19a66",v3="#c678dd",y3="#21252b",q1="#2c313a",W1="#282c34",pO="#353a42",b3="#3E4451",Z1="#528bff";var O3=Te.theme({"&":{color:em,backgroundColor:W1},".cm-content":{caretColor:Z1},".cm-cursor, .cm-dropCursor":{borderLeftColor:Z1},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:b3},".cm-panels":{backgroundColor:y3,color:em},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:W1,color:dO,border:"none"},".cm-activeLineGutter":{backgroundColor:q1},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:pO},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:pO,borderBottomColor:pO},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:q1,color:em}}},{dark:!0}),C3=Vl.define([{tag:D.keyword,color:v3},{tag:[D.name,D.deleted,D.character,D.propertyName,D.macroName],color:$1},{tag:[D.function(D.variableName),D.labelName],color:m3},{tag:[D.color,D.constant(D.name),D.standard(D.name)],color:Y1},{tag:[D.definition(D.name),D.separator],color:em},{tag:[D.typeName,D.className,D.number,D.changed,D.annotation,D.modifier,D.self,D.namespace],color:p3},{tag:[D.operator,D.operatorKeyword,D.url,D.escape,D.regexp,D.link,D.special(D.string)],color:d3},{tag:[D.meta,D.comment],color:dO},{tag:D.strong,fontWeight:"bold"},{tag:D.emphasis,fontStyle:"italic"},{tag:D.strikethrough,textDecoration:"line-through"},{tag:D.link,color:dO,textDecoration:"underline"},{tag:D.heading,fontWeight:"bold",color:$1},{tag:[D.atom,D.bool,D.special(D.variableName)],color:Y1},{tag:[D.processingInstruction,D.string,D.inserted],color:g3},{tag:D.invalid,color:f3}]),X1=[O3,Jf(C3)];var gO=class r{constructor(e,t,i,n,s,o,a,l,h,c=0,p){this.p=e,this.stack=t,this.state=i,this.reducePos=n,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=h,this.lookAhead=c,this.parent=p}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let n=e.parser.context;return new r(e,[],t,i,i,0,[],0,n?new tm(n,n.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let i=e>>19,n=e&65535,{parser:s}=this.p,o=s.dynamicPrecedence(n);if(o&&(this.score+=o),i==0){this.pushState(s.getGoto(this.state,n,!0),this.reducePos),n<s.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,4,!0),this.reduceContext(n,this.reducePos);return}let a=this.stack.length-(i-1)*3-(e&262144?6:0),l=a?this.stack[a-2]:this.p.ranges[0].from,h=this.reducePos-l;h>=2e3&&!(!((t=this.p.parser.nodeSet.types[n])===null||t===void 0)&&t.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=h):this.p.lastBigReductionSize<h&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=h));let c=a?this.stack[a-1]:0,p=this.bufferBase+this.buffer.length-c;if(n<s.minRepeatTerm||e&131072){let d=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,l,d,p+4,!0)}if(e&262144)this.state=this.stack[a];else{let d=this.stack[a-3];this.state=s.getGoto(d,n,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(n,l)}storeNode(e,t,i,n=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(t==i)return;if(o.buffer[a-2]>=t){o.buffer[a-2]=i;return}}}if(!s||this.pos==i)this.buffer.push(e,t,i,n);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0)for(;o>0&&this.buffer[o-2]>i;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,n>4&&(n-=4);this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=i,this.buffer[o+3]=n}}shift(e,t,i,n){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=n,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,n,4);else{let s=e,{parser:o}=this.p;(n>this.pos||t<=o.maxNode)&&(this.pos=n,o.stateFlag(s,1)||(this.reducePos=n)),this.pushState(s,i),this.shiftContext(t,i),t<=o.maxNode&&this.buffer.push(t,i,n,4)}}apply(e,t,i,n){e&65536?this.reduce(e):this.shift(e,t,i,n)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let n=this.pos;this.reducePos=this.pos=n+e.length,this.pushState(t,n),this.buffer.push(i,n,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),n=e.bufferBase+t;for(;e&&n==e.bufferBase;)e=e.parent;return new r(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,n,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new vO(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(i==0)return!1;if(!(i&65536))return!0;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let n=[];for(let s=0,o;s<t.length;s+=2)(o=t[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&n.push(t[s],o);if(this.stack.length<120)for(let s=0;n.length<8&&s<t.length;s+=2){let o=t[s+1];n.some((a,l)=>l&1&&a==o)||n.push(t[s],o)}t=n}let i=[];for(let n=0;n<t.length&&i.length<4;n+=2){let s=t[n+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[n],this.pos),o.reducePos=this.pos,o.score-=200,i.push(o)}return i}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let i=t>>19,n=t&65535,s=this.stack.length-i*3;if(s<0||e.getGoto(this.stack[s],n,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;t=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],i=(n,s)=>{if(!t.includes(n))return t.push(n),e.allActions(n,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,h=this.stack.length-a*3;if(h>=0&&e.getGoto(this.stack[h],l,!1)>=0)return a<<19|65536|l}}else{let a=i(o,s+1);if(a!=null)return a}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new tm(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}},tm=class{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}},vO=class{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let n=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=n}},yO=class r{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new r(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new r(this.stack,this.pos,this.index)}};function bu(r,e=Uint16Array){if(typeof r!="string")return r;let t=null;for(let i=0,n=0;i<r.length;){let s=0;for(;;){let o=r.charCodeAt(i++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}t?t[n++]=s:t=new e(s)}return t}var Zl=class{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}},G1=new Zl,bO=class{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=G1,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,n=this.rangeIndex,s=this.pos+e;for(;s<i.from;){if(!n)return null;let o=this.ranges[--n];s-=i.from-o.to,i=o}for(;t<0?s>i.to:s>=i.to;){if(n==this.ranges.length-1)return null;let o=this.ranges[++n];s+=o.from-i.to,i=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,i,n;if(t>=0&&t<this.chunk.length)i=this.pos+e,n=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(i=s,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=i;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-i)),n=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),n}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=G1,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let n of this.ranges){if(n.from>=t)break;n.to>e&&(i+=this.input.read(Math.max(n.from,e),Math.min(n.to,t)))}return i}},No=class{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:i}=t.p;ik(this.data,e,t,this.id,i.data,i.tokenPrecTable)}};No.prototype.contextual=No.prototype.fallback=No.prototype.extend=!1;var xo=class{constructor(e,t,i){this.precTable=t,this.elseToken=i,this.data=typeof e=="string"?bu(e):e}token(e,t){let i=e.pos,n=0;for(;;){let s=e.next<0,o=e.resolveOffset(1,1);if(ik(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||n++,o==null)break;e.reset(o,e.token)}n&&(e.reset(i,e.token),e.acceptToken(this.elseToken,n))}};xo.prototype.contextual=No.prototype.fallback=No.prototype.extend=!1;var Ti=class{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}};function ik(r,e,t,i,n,s){let o=0,a=1<<i,{dialect:l}=t.p.parser;e:for(;a&r[o];){let h=r[o+1];for(let f=o+3;f<h;f+=2)if((r[f+1]&a)>0){let m=r[f];if(l.allows(m)&&(e.token.value==-1||e.token.value==m||M3(m,e.token.value,n,s))){e.acceptToken(m);break}}let c=e.next,p=0,d=r[o+2];if(e.next<0&&d>p&&r[h+d*3-3]==65535){o=r[h+d*3-1];continue e}for(;p<d;){let f=p+d>>1,m=h+f+(f<<1),g=r[m],v=r[m+1]||65536;if(c<g)d=f;else if(c>=v)p=f+1;else{o=r[m+2],e.advance();continue e}}break}}function K1(r,e,t){for(let i=e,n;(n=r[i])!=65535;i++)if(n==t)return i-e;return-1}function M3(r,e,t,i){let n=K1(t,i,e);return n<0||K1(t,i,r)<n}var mn=typeof process<"u"&&process.env&&/\bparse\b/.test(process.env.LOG),fO=null;function J1(r,e,t){let i=r.cursor(Ge.IncludeAnonymous);for(i.moveTo(e);;)if(!(t<0?i.childBefore(e):i.childAfter(e)))for(;;){if((t<0?i.to<e:i.from>e)&&!i.type.isError)return t<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(r.length,Math.max(i.from+1,e+25));if(t<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return t<0?0:r.length}}var OO=class{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?J1(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?J1(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],n=this.index[t];if(n==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[n],o=this.start[t]+i.positions[n];if(o>e)return this.nextStart=o,null;if(s instanceof Et){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(je.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[t]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+s.length}}},CO=class{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new Zl)}getActions(e){let t=0,i=null,{parser:n}=e.p,{tokenizers:s}=n,o=n.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let h=0;h<s.length;h++){if(!(1<<h&o))continue;let c=s[h],p=this.tokens[h];if(!(i&&!c.fallback)&&((c.contextual||p.start!=e.pos||p.mask!=o||p.context!=a)&&(this.updateCachedToken(p,c,e),p.mask=o,p.context=a),p.lookAhead>p.end+25&&(l=Math.max(p.lookAhead,l)),p.value!=0)){let d=t;if(p.extended>-1&&(t=this.addActions(e,p.extended,p.end,t)),t=this.addActions(e,p.value,p.end,t),!c.extend&&(i=p,t>d))break}}for(;this.actions.length>t;)this.actions.pop();return l&&e.setLookAhead(l),!i&&e.pos==this.stream.end&&(i=new Zl,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Zl,{pos:i,p:n}=e;return t.start=i,t.end=Math.min(i+1,n.stream.end),t.value=i==n.stream.end?n.parser.eofTerm:0,t}updateCachedToken(e,t,i){let n=this.stream.clipPos(i.pos);if(t.token(this.stream.reset(n,e),i),e.value>-1){let{parser:s}=i.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),i);if(a>=0&&i.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(n+1)}putAction(e,t,i,n){for(let s=0;s<n;s+=3)if(this.actions[s]==e)return n;return this.actions[n++]=e,this.actions[n++]=t,this.actions[n++]=i,n}addActions(e,t,i,n){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let h=o.stateSlot(s,l?2:1);;h+=3){if(a[h]==65535)if(a[h+1]==1)h=vs(a,h+2);else{n==0&&a[h+1]==2&&(n=this.putAction(vs(a,h+2),t,i,n));break}a[h]==t&&(n=this.putAction(vs(a,h+1),t,i,n))}return n}},SO=class{constructor(e,t,i,n){this.parser=e,this.input=t,this.ranges=n,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new bO(t,n),this.tokens=new CO(e,this.stream),this.topTerm=e.top[1];let{from:s}=n[0];this.stacks=[gO.start(this,e.top[0],s)],this.fragments=i.length&&this.stream.end-s>e.bufferLength*4?new OO(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,i=this.stacks=[],n,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>t)i.push(a);else{if(this.advanceStack(a,i,e))continue;{n||(n=[],s=[]),n.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!i.length){let o=n&&T3(n);if(o)return mn&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw mn&&n&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&n){let o=this.stoppedAt!=null&&n[0].pos>this.stoppedAt?n[0]:this.runRecovery(n,s,i);if(o)return mn&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(i.length>o)for(i.sort((a,l)=>l.score-a.score);i.length>o;)i.pop();i.some(a=>a.reducePos>t)&&this.recovering--}else if(i.length>1){e:for(let o=0;o<i.length-1;o++){let a=i[o];for(let l=o+1;l<i.length;l++){let h=i[l];if(a.sameState(h)||a.buffer.length>500&&h.buffer.length>500)if((a.score-h.score||a.buffer.length-h.buffer.length)>0)i.splice(l--,1);else{i.splice(o--,1);continue e}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let o=1;o<i.length;o++)i[o].pos<this.minStackPos&&(this.minStackPos=i[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let n=e.pos,{parser:s}=this,o=mn?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&n>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let h=e.curContext&&e.curContext.tracker.strict,c=h?e.curContext.hash:0;for(let p=this.fragments.nodeAt(n);p;){let d=this.parser.nodeSet.types[p.type.id]==p.type?s.getGoto(e.state,p.type.id):-1;if(d>-1&&p.length&&(!h||(p.prop(je.contextHash)||0)==c))return e.useNode(p,d),mn&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(p.type.id)})`),!0;if(!(p instanceof Et)||p.children.length==0||p.positions[0]>0)break;let f=p.children[0];if(f instanceof Et&&p.positions[0]==0)p=f;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),mn&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let h=0;h<l.length;){let c=l[h++],p=l[h++],d=l[h++],f=h==l.length||!i,m=f?e:e.split(),g=this.tokens.mainToken;if(m.apply(c,p,g?g.start:m.pos,d),mn&&console.log(o+this.stackID(m)+` (via ${c&65536?`reduce of ${s.getName(c&65535)}`:"shift"} for ${s.getName(p)} @ ${n}${m==e?"":", split"})`),f)return!0;m.pos>n?t.push(m):i.push(m)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return ek(e,t),!0}}runRecovery(e,t,i){let n=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=t[o<<1],h=t[(o<<1)+1],c=mn?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),mn&&console.log(c+this.stackID(a)+" (restarted)"),this.advanceFully(a,i))))continue;let p=a.split(),d=c;for(let f=0;p.forceReduce()&&f<10&&(mn&&console.log(d+this.stackID(p)+" (via force-reduce)"),!this.advanceFully(p,i));f++)mn&&(d=this.stackID(p)+" -> ");for(let f of a.recoverByInsert(l))mn&&console.log(c+this.stackID(f)+" (via recover-insert)"),this.advanceFully(f,i);this.stream.end>a.pos?(h==a.pos&&(h++,l=0),a.recoverByDelete(l,h),mn&&console.log(c+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),ek(a,i)):(!n||n.score<a.score)&&(n=a)}return n}stackToTree(e){return e.close(),Et.build({buffer:yO.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(fO||(fO=new WeakMap)).get(e);return t||fO.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}};function ek(r,e){for(let t=0;t<e.length;t++){let i=e[t];if(i.pos==r.pos&&i.sameState(r)){e[t].score<r.score&&(e[t]=r);return}}e.push(r)}var MO=class{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}},mO=r=>r,Xl=class{constructor(e){this.start=e.start,this.shift=e.shift||mO,this.reduce=e.reduce||mO,this.reuse=e.reuse||mO,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}},wo=class r extends Ul{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let a=0;a<e.repeatNodeCount;a++)t.push("");let i=Object.keys(e.topRules).map(a=>e.topRules[a][1]),n=[];for(let a=0;a<t.length;a++)n.push([]);function s(a,l,h){n[a].push([l,l.deserialize(String(h))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=je[l]);for(let h=1;h<a.length;){let c=a[h++];if(c>=0)s(c,l,a[h++]);else{let p=a[h+-c];for(let d=-c;d>0;d--)s(a[h++],l,p);h++}}}this.nodeSet=new fu(t.map((a,l)=>fi.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:n[l],top:i.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=1024;let o=bu(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(tk),this.states=bu(e.states,Uint32Array),this.data=bu(e.stateData),this.goto=bu(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new No(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let n=new SO(this,e,t,i);for(let s of this.wrappers)n=s(n,e,t,i);return n}getGoto(e,t,i=!1){let n=this.goto;if(t>=n[0])return-1;for(let s=n[t+1];;){let o=n[s++],a=o&1,l=n[s++];if(a&&i)return l;for(let h=s+(o>>1);s<h;s++)if(n[s]==e)return l;if(a)return-1}}hasAction(e,t){let i=this.data;for(let n=0;n<2;n++)for(let s=this.stateSlot(e,n?2:1),o;;s+=3){if((o=i[s])==65535)if(i[s+1]==1)o=i[s=vs(i,s+2)];else{if(i[s+1]==2)return vs(i,s+2);break}if(o==t||o==0)return vs(i,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,i=>i==t?!0:null)}allActions(e,t){let i=this.stateSlot(e,4),n=i?t(i):void 0;for(let s=this.stateSlot(e,1);n==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=vs(this.data,s+2);else break;n=t(vs(this.data,s+1))}return n}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=vs(this.data,i+2);else break;if(!(this.data[i+2]&1)){let n=this.data[i+1];t.some((s,o)=>o&1&&s==n)||t.push(this.data[i],n)}}return t}configure(e){let t=Object.assign(Object.create(r.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(i=>{let n=e.tokenizers.find(s=>s.from==i);return n?n.to:i})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((i,n)=>{let s=e.specializers.find(a=>a.from==i.external);if(!s)return i;let o=Object.assign(Object.assign({},i),{external:s.to});return t.specializers[n]=tk(o),o})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map(()=>!1);if(e)for(let s of e.split(" ")){let o=t.indexOf(s);o>=0&&(i[o]=!0)}let n=null;for(let s=0;s<t.length;s++)if(!i[s])for(let o=this.dialects[t[s]],a;(a=this.data[o++])!=65535;)(n||(n=new Uint8Array(this.maxTerm+1)))[a]=1;return new MO(e,i,n)}static deserialize(e){return new r(e)}};function vs(r,e){return r[e]|r[e+1]<<16}function T3(r){let e=null;for(let t of r){let i=t.p.stoppedAt;(t.pos==t.p.stream.end||i!=null&&t.pos>i)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function tk(r){if(r.external){let e=r.extend?1:0;return(t,i)=>r.external(t,i)<<1|e}return r.get}var N3=54,x3=1,w3=55,E3=2,k3=56,D3=3,nk=4,L3=5,im=6,uk=7,pk=8,dk=9,fk=10,A3=11,I3=12,P3=13,TO=57,j3=14,rk=58,mk=20,z3=22,gk=23,R3=24,xO=26,vk=27,B3=28,Q3=31,U3=34,H3=36,_3=37,F3=0,V3=1,$3={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},Y3={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},sk={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function q3(r){return r==45||r==46||r==58||r>=65&&r<=90||r==95||r>=97&&r<=122||r>=161}function yk(r){return r==9||r==10||r==13||r==32}var ok=null,ak=null,lk=0;function wO(r,e){let t=r.pos+e;if(lk==t&&ak==r)return ok;let i=r.peek(e);for(;yk(i);)i=r.peek(++e);let n="";for(;q3(i);)n+=String.fromCharCode(i),i=r.peek(++e);return ak=r,lk=t,ok=n?n.toLowerCase():i==W3||i==Z3?void 0:null}var bk=60,nm=62,EO=47,W3=63,Z3=33,X3=45;function hk(r,e){this.name=r,this.parent=e,this.hash=e?e.hash:0;for(let t=0;t<r.length;t++)this.hash+=(this.hash<<4)+r.charCodeAt(t)+(r.charCodeAt(t)<<8)}var G3=[im,fk,uk,pk,dk],K3=new Xl({start:null,shift(r,e,t,i){return G3.indexOf(e)>-1?new hk(wO(i,1)||"",r):r},reduce(r,e){return e==mk&&r?r.parent:r},reuse(r,e,t,i){let n=e.type.id;return n==im||n==H3?new hk(wO(i,1)||"",r):r},hash(r){return r?r.hash:0},strict:!1}),J3=new Ti((r,e)=>{if(r.next!=bk){r.next<0&&e.context&&r.acceptToken(TO);return}r.advance();let t=r.next==EO;t&&r.advance();let i=wO(r,0);if(i===void 0)return;if(!i)return r.acceptToken(t?j3:im);let n=e.context?e.context.name:null;if(t){if(i==n)return r.acceptToken(A3);if(n&&Y3[n])return r.acceptToken(TO,-2);if(e.dialectEnabled(F3))return r.acceptToken(I3);for(let s=e.context;s;s=s.parent)if(s.name==i)return;r.acceptToken(P3)}else{if(i=="script")return r.acceptToken(uk);if(i=="style")return r.acceptToken(pk);if(i=="textarea")return r.acceptToken(dk);if($3.hasOwnProperty(i))return r.acceptToken(fk);n&&sk[n]&&sk[n][i]?r.acceptToken(TO,-1):r.acceptToken(im)}},{contextual:!0}),eB=new Ti(r=>{for(let e=0,t=0;;t++){if(r.next<0){t&&r.acceptToken(rk);break}if(r.next==X3)e++;else if(r.next==nm&&e>=2){t>=3&&r.acceptToken(rk,-2);break}else e=0;r.advance()}});function tB(r){for(;r;r=r.parent)if(r.name=="svg"||r.name=="math")return!0;return!1}var iB=new Ti((r,e)=>{if(r.next==EO&&r.peek(1)==nm){let t=e.dialectEnabled(V3)||tB(e.context);r.acceptToken(t?L3:nk,2)}else r.next==nm&&r.acceptToken(nk,1)});function kO(r,e,t){let i=2+r.length;return new Ti(n=>{for(let s=0,o=0,a=0;;a++){if(n.next<0){a&&n.acceptToken(e);break}if(s==0&&n.next==bk||s==1&&n.next==EO||s>=2&&s<i&&n.next==r.charCodeAt(s-2))s++,o++;else if((s==2||s==i)&&yk(n.next))o++;else if(s==i&&n.next==nm){a>o?n.acceptToken(e,-o):n.acceptToken(t,-(o-2));break}else if((n.next==10||n.next==13)&&a){n.acceptToken(e,1);break}else s=o=0;n.advance()}})}var nB=kO("script",N3,x3),rB=kO("style",w3,E3),sB=kO("textarea",k3,D3),oB=So({"Text RawText":D.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":D.angleBracket,TagName:D.tagName,"MismatchedCloseTag/TagName":[D.tagName,D.invalid],AttributeName:D.attributeName,"AttributeValue UnquotedAttributeValue":D.attributeValue,Is:D.definitionOperator,"EntityReference CharacterReference":D.character,Comment:D.blockComment,ProcessingInst:D.processingInstruction,DoctypeDecl:D.documentMeta}),Ok=wo.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%ZQ&rO,59fO%fQ&rO,59iO%qQ&rO,59lO%|Q&rO,59nOOOa'#D^'#D^O&XOaO'#CxO&dOaO,59[OOOb'#D_'#D_O&lObO'#C{O&wObO,59[OOOd'#D`'#D`O'POdO'#DOO'[OdO,59[OOO`'#Da'#DaO'dO!rO,59[O'kQ#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'pO$fO,59oOOO`,59o,59oO'xQ#|O,59qO'}Q#|O,59rOOO`-E7W-E7WO(SQ&rO'#CsOOQW'#DZ'#DZO(bQ&rO1G.wOOOa1G.w1G.wOOO`1G/Y1G/YO(mQ&rO1G/QOOOb1G/Q1G/QO(xQ&rO1G/TOOOd1G/T1G/TO)TQ&rO1G/WOOO`1G/W1G/WO)`Q&rO1G/YOOOa-E7[-E7[O)kQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)pQ#tO'#C|OOOd-E7^-E7^O)uQ#tO'#DPOOO`-E7_-E7_O)zQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O*PQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOO`7+$t7+$tOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rO*[Q#|O,59eO*aQ#|O,59hO*fQ#|O,59kOOO`1G/X1G/XO*kO7[O'#CvO*|OMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O+_O7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+pOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:",]~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OT}OhyO~OS!POT}OhyO~OS!ROT}OhyO~OS!TOT}OhyO~OS}OT}OhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXTgXhgX~OS!fOT!gOhyO~OS!hOT!gOhyO~OS!iOT!gOhyO~OS!jOT!gOhyO~OS!gOT!gOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:"\u26A0 StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:K3,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"],["isolate",-11,21,29,30,32,33,35,36,37,38,41,42,"ltr",-3,26,27,39,""]],propSources:[oB],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[nB,rB,sB,iB,J3,eB,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:509},tokenPrec:511});function Ck(r,e){let t=Object.create(null);for(let i of r.getChildren(gk)){let n=i.getChild(R3),s=i.getChild(xO)||i.getChild(vk);n&&(t[e.read(n.from,n.to)]=s?s.type.id==xO?e.read(s.from+1,s.to-1):e.read(s.from,s.to):"")}return t}function ck(r,e){let t=r.getChild(z3);return t?e.read(t.from,t.to):" "}function NO(r,e,t){let i;for(let n of t)if(!n.attrs||n.attrs(i||(i=Ck(r.node.parent.firstChild,e))))return{parser:n.parser};return null}function DO(r=[],e=[]){let t=[],i=[],n=[],s=[];for(let a of r)(a.tag=="script"?t:a.tag=="style"?i:a.tag=="textarea"?n:s).push(a);let o=e.length?Object.create(null):null;for(let a of e)(o[a.name]||(o[a.name]=[])).push(a);return w1((a,l)=>{let h=a.type.id;if(h==B3)return NO(a,l,t);if(h==Q3)return NO(a,l,i);if(h==U3)return NO(a,l,n);if(h==mk&&s.length){let c=a.node,p=c.firstChild,d=p&&ck(p,l),f;if(d){for(let m of s)if(m.tag==d&&(!m.attrs||m.attrs(f||(f=Ck(c,l))))){let g=c.lastChild,v=g.type.id==_3?g.from:c.to;if(v>p.to)return{parser:m.parser,overlay:[{from:p.to,to:v}]}}}}if(o&&h==gk){let c=a.node,p;if(p=c.firstChild){let d=o[l.read(p.from,p.to)];if(d)for(let f of d){if(f.tagName&&f.tagName!=ck(c.parent,l))continue;let m=c.lastChild;if(m.type.id==xO){let g=m.from+1,v=m.lastChild,O=m.to-(v&&v.isError?0:1);if(O>g)return{parser:f.parser,overlay:[{from:g,to:O}]}}else if(m.type.id==vk)return{parser:f.parser,overlay:[{from:m.from,to:m.to}]}}}}return null})}var aB=99,Sk=1,lB=100,hB=101,Mk=2,Tk=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],cB=58,uB=40,Nk=95,pB=91,rm=45,dB=46,fB=35,mB=37,gB=38,vB=92,yB=10;function Ou(r){return r>=65&&r<=90||r>=97&&r<=122||r>=161}function xk(r){return r>=48&&r<=57}var bB=new Ti((r,e)=>{for(let t=!1,i=0,n=0;;n++){let{next:s}=r;if(Ou(s)||s==rm||s==Nk||t&&xk(s))!t&&(s!=rm||n>0)&&(t=!0),i===n&&s==rm&&i++,r.advance();else if(s==vB&&r.peek(1)!=yB)r.advance(),r.next>-1&&r.advance(),t=!0;else{t&&r.acceptToken(s==uB?lB:i==2&&e.canShift(Mk)?Mk:hB);break}}}),OB=new Ti(r=>{if(Tk.includes(r.peek(-1))){let{next:e}=r;(Ou(e)||e==Nk||e==fB||e==dB||e==pB||e==cB&&Ou(r.peek(1))||e==rm||e==gB)&&r.acceptToken(aB)}}),CB=new Ti(r=>{if(!Tk.includes(r.peek(-1))){let{next:e}=r;if(e==mB&&(r.advance(),r.acceptToken(Sk)),Ou(e)){do r.advance();while(Ou(r.next)||xk(r.next));r.acceptToken(Sk)}}}),SB=So({"AtKeyword import charset namespace keyframes media supports":D.definitionKeyword,"from to selector":D.keyword,NamespaceName:D.namespace,KeyframeName:D.labelName,KeyframeRangeName:D.operatorKeyword,TagName:D.tagName,ClassName:D.className,PseudoClassName:D.constant(D.className),IdName:D.labelName,"FeatureName PropertyName":D.propertyName,AttributeName:D.attributeName,NumberLiteral:D.number,KeywordQuery:D.keyword,UnaryQueryOp:D.operatorKeyword,"CallTag ValueName":D.atom,VariableName:D.variableName,Callee:D.operatorKeyword,Unit:D.unit,"UniversalSelector NestingSelector":D.definitionOperator,MatchOp:D.compareOperator,"ChildOp SiblingOp, LogicOp":D.logicOperator,BinOp:D.arithmeticOperator,Important:D.modifier,Comment:D.blockComment,ColorLiteral:D.color,"ParenthesizedContent StringLiteral":D.string,":":D.punctuation,"PseudoOp #":D.derefOperator,"; ,":D.separator,"( )":D.paren,"[ ]":D.squareBracket,"{ }":D.brace}),MB={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,"nth-last-of-type":32,dir:32,"host-context":32,url:60,"url-prefix":60,domain:60,regexp:60,selector:138},TB={__proto__:null,"@import":118,"@media":142,"@charset":146,"@namespace":150,"@keyframes":156,"@supports":168},NB={__proto__:null,not:132,only:132},wk=wo.deserialize({version:14,states:":^QYQ[OOO#_Q[OOP#fOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#kQ[O'#CfO$_QXO'#CaO$fQ[O'#ChO$qQ[O'#DTO$vQ[O'#DWOOQP'#Em'#EmO${QdO'#DgO%jQ[O'#DtO${QdO'#DvO%{Q[O'#DxO&WQ[O'#D{O&`Q[O'#ERO&nQ[O'#ETOOQS'#El'#ElOOQS'#EW'#EWQYQ[OOO&uQXO'#CdO'jQWO'#DcO'oQWO'#EsO'zQ[O'#EsQOQWOOP(UO#tO'#C_POOO)C@[)C@[OOQP'#Cg'#CgOOQP,59Q,59QO#kQ[O,59QO(aQ[O'#E[O({QWO,58{O)TQ[O,59SO$qQ[O,59oO$vQ[O,59rO(aQ[O,59uO(aQ[O,59wO(aQ[O,59xO)`Q[O'#DbOOQS,58{,58{OOQP'#Ck'#CkOOQO'#DR'#DROOQP,59S,59SO)gQWO,59SO)lQWO,59SOOQP'#DV'#DVOOQP,59o,59oOOQO'#DX'#DXO)qQ`O,59rOOQS'#Cp'#CpO${QdO'#CqO)yQvO'#CsO+ZQtO,5:ROOQO'#Cx'#CxO)lQWO'#CwO+oQWO'#CyO+tQ[O'#DOOOQS'#Ep'#EpOOQO'#Dj'#DjO+|Q[O'#DqO,[QWO'#EtO&`Q[O'#DoO,jQWO'#DrOOQO'#Eu'#EuO)OQWO,5:`O,oQpO,5:bOOQS'#Dz'#DzO,wQWO,5:dO,|Q[O,5:dOOQO'#D}'#D}O-UQWO,5:gO-ZQWO,5:mO-cQWO,5:oOOQS-E8U-E8UO${QdO,59}O-kQ[O'#E^O-xQWO,5;_O-xQWO,5;_POOO'#EV'#EVP.TO#tO,58yPOOO,58y,58yOOQP1G.l1G.lO.zQXO,5:vOOQO-E8Y-E8YOOQS1G.g1G.gOOQP1G.n1G.nO)gQWO1G.nO)lQWO1G.nOOQP1G/Z1G/ZO/XQ`O1G/^O/rQXO1G/aO0YQXO1G/cO0pQXO1G/dO1WQWO,59|O1]Q[O'#DSO1dQdO'#CoOOQP1G/^1G/^O${QdO1G/^O1kQpO,59]OOQS,59_,59_O${QdO,59aO1sQWO1G/mOOQS,59c,59cO1xQ!bO,59eOOQS'#DP'#DPOOQS'#EY'#EYO2QQ[O,59jOOQS,59j,59jO2YQWO'#DjO2eQWO,5:VO2jQWO,5:]O&`Q[O,5:XO&`Q[O'#E_O2rQWO,5;`O2}QWO,5:ZO(aQ[O,5:^OOQS1G/z1G/zOOQS1G/|1G/|OOQS1G0O1G0OO3`QWO1G0OO3eQdO'#EOOOQS1G0R1G0ROOQS1G0X1G0XOOQS1G0Z1G0ZO3pQtO1G/iOOQO,5:x,5:xO4WQ[O,5:xOOQO-E8[-E8[O4eQWO1G0yPOOO-E8T-E8TPOOO1G.e1G.eOOQP7+$Y7+$YOOQP7+$x7+$xO${QdO7+$xOOQS1G/h1G/hO4pQXO'#ErO4wQWO,59nO4|QtO'#EXO5tQdO'#EoO6OQWO,59ZO6TQpO7+$xOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%X7+%XO6]QWO1G/POOQS-E8W-E8WOOQS1G/U1G/UO${QdO1G/qOOQO1G/w1G/wOOQO1G/s1G/sO6bQWO,5:yOOQO-E8]-E8]O6pQXO1G/xOOQS7+%j7+%jO6wQYO'#CsOOQO'#EQ'#EQO7SQ`O'#EPOOQO'#EP'#EPO7_QWO'#E`O7gQdO,5:jOOQS,5:j,5:jO7rQtO'#E]O${QdO'#E]O8sQdO7+%TOOQO7+%T7+%TOOQO1G0d1G0dO9WQpO<<HdO9`QWO,5;^OOQP1G/Y1G/YOOQS-E8V-E8VO${QdO'#EZO9hQWO,5;ZOOQT1G.u1G.uOOQP<<Hd<<HdOOQS7+$k7+$kO9pQdO7+%]OOQO7+%d7+%dOOQO,5:k,5:kO3hQdO'#EaO7_QWO,5:zOOQS,5:z,5:zOOQS-E8^-E8^OOQS1G0U1G0UO9wQtO,5:wOOQS-E8Z-E8ZOOQO<<Ho<<HoOOQPAN>OAN>OO:xQdO,5:uOOQO-E8X-E8XOOQO<<Hw<<HwOOQO,5:{,5:{OOQO-E8_-E8_OOQS1G0f1G0f",stateData:";[~O#ZOS#[QQ~OUYOXYO]VO^VOqXOxWO![aO!]ZO!i[O!k]O!m^O!p_O!v`O#XRO#bTO~OQfOUYOXYO]VO^VOqXOxWO![aO!]ZO!i[O!k]O!m^O!p_O!v`O#XeO#bTO~O#U#gP~P!ZO#[jO~O#XlO~O]qO^qOqsOtoOxrO!OtO!RvO#VuO#bnO~O!TwO~P#pO`}O#WzO#XyO~O#X!OO~O#X!QO~OQ![Ob!TOf![Oh![On!YOq!ZO#W!WO#X!SO#e!UO~Ob!^O!d!`O!g!aO#X!]O!T#hP~Oh!fOn!YO#X!eO~Oh!hO#X!hO~Ob!^O!d!`O!g!aO#X!]O~O!Y#hP~P%jO]WX]!WX^WXqWXtWXxWX!OWX!RWX!TWX#VWX#bWX~O]!mO~O!Y!nO#U#gX!S#gX~O#U#gX!S#gX~P!ZO#]!qO#^!qO#_!sO~OUYOXYO]VO^VOqXOxWO#XRO#bTO~OtoO!TwO~O`!zO#WzO#XyO~O!S#gP~P!ZOb#RO~Ob#SO~Op#TO|#UO~OP#WObgXjgX!YgX!dgX!ggX#XgXagXQgXfgXhgXngXqgXtgX!XgX#UgX#WgX#egXpgX!SgX~Ob!^Oj#XO!d!`O!g!aO#X!]O!Y#hP~Ob#[O~Op#`O#X#]O~Ob!^O!d!`O!g!aO#X#aO~Ot#eO!b#dO!T#hX!Y#hX~Ob#hO~Oj#XO!Y#jO~O!Y#kO~Oh#lOn!YO~O!T#mO~O!TwO!b#dO~O!TwO!Y#pO~O!Y#QX#U#QX!S#QX~P!ZO!Y!nO#U#ga!S#ga~O#]!qO#^!qO#_#wO~O]qO^qOqsOxrO!OtO!RvO#VuO#bnO~Ot#Oa!T#Oaa#Oa~P.`Op#yO|#zO~O]qO^qOqsOxrO#bnO~Ot}i!O}i!R}i!T}i#V}ia}i~P/aOt!Pi!O!Pi!R!Pi!T!Pi#V!Pia!Pi~P/aOt!Qi!O!Qi!R!Qi!T!Qi#V!Qia!Qi~P/aO!S#{O~Oa#fP~P(aOa#cP~P${Oa$SOj#XO~O!Y$UO~Oh$VOo$VO~Op$XO#X#]O~O]!`Xa!^X!b!^X~O]$YO~Oa$ZO!b#dO~Ot#eO!T#ha!Y#ha~O!b#dOt!ca!T!ca!Y!caa!ca~O!Y$`O~O!S$gO#X$bO#e$aO~Oj#XOt$iO!X$kO!Y!Vi#U!Vi!S!Vi~P${O!Y#Qa#U#Qa!S#Qa~P!ZO!Y!nO#U#gi!S#gi~Oa#fX~P#pOa$oO~Oj#XOQ!{Xa!{Xb!{Xf!{Xh!{Xn!{Xq!{Xt!{X#W!{X#X!{X#e!{X~Ot$qOa#cX~P${Oa$sO~Oj#XOp$tO~Oa$uO~O!b#dOt#Ra!T#Ra!Y#Ra~Oa$wO~P.`OP#WOtgX!TgX~O#e$aOt!sX!T!sX~Ot$yO!TwO~O!S$}O#X$bO#e$aO~Oj#XOQ#PXb#PXf#PXh#PXn#PXq#PXt#PX!X#PX!Y#PX#U#PX#W#PX#X#PX#e#PX!S#PX~Ot$iO!X%QO!Y!Vq#U!Vq!S!Vq~P${Oj#XOp%RO~OtoOa#fa~Ot$qOa#ca~Oa%UO~P${Oj#XOQ#Pab#Paf#Pah#Pan#Paq#Pat#Pa!X#Pa!Y#Pa#U#Pa#W#Pa#X#Pa#e#Pa!S#Pa~Oa!}at!}a~P${O#Zo#[#ej!R#e~",goto:"-g#jPPP#kP#nP#w$WP#w$g#wPP$mPPP$s$|$|P%`P$|P$|%z&^PPPP$|&vP&z'Q#wP'W#w'^P#wP#w#wPPP'd'y(WPP#nPP(_(_(i(_P(_P(_(_P#nP#nP#nP(l#nP(o(r(u(|#nP#nP)R)X)h)v)|*S*^*d*n*t*zPPPPPPPPPP+Q+ZP+v+yP,o,r,x-RRkQ_bOPdhw!n#skYOPdhotuvw!n#R#h#skSOPdhotuvw!n#R#h#sQmTR!tnQ{VR!xqQ!x}Q#Z!XR#x!zq![Z]!T!m#S#U#X#q#z$P$Y$i$j$q$v%Sp![Z]!T!m#S#U#X#q#z$P$Y$i$j$q$v%SU$d#m$f$yR$x$cq!XZ]!T!m#S#U#X#q#z$P$Y$i$j$q$v%Sp![Z]!T!m#S#U#X#q#z$P$Y$i$j$q$v%SQ!f^R#l!gT#^!Z#_Q|VR!yqQ!x|R#x!yQ!PWR!{rQ!RXR!|sQxUQ!wpQ#i!cQ#o!jQ#p!kQ${$eR%X$zSgPwQ!phQ#r!nR$l#sZfPhw!n#sa!b[`a!V!^!`#d#eR#b!^R!g^R!i_R#n!iS$e#m$fR%V$yV$c#m$f$yQ!rjR#v!rQdOShPwU!ldh#sR#s!nQ$P#SU$p$P$v%SQ$v$YR%S$qQ#_!ZR$W#_Q$r$PR%T$rQpUS!vp$nR$n#|Q$j#qR%P$jQ!ogS#t!o#uR#u!pQ#f!_R$^#fQ$f#mR$|$fQ$z$eR%W$z_cOPdhw!n#s^UOPdhw!n#sQ!uoQ!}tQ#OuQ#PvQ#|#RR$_#hR$Q#SQ!VZQ!d]Q#V!TQ#q!m[$O#S$P$Y$q$v%SQ$R#UQ$T#XS$h#q$jQ$m#zR%O$iR#}#RQiPR#QwQ!c[Q!kaR#Y!VU!_[a!VQ!j`Q#c!^Q#g!`Q$[#dR$]#e",nodeNames:"\u26A0 Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent ] [ LineNames LineName , PseudoClassName ArgList IdSelector # IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:117,nodeProps:[["isolate",-2,3,24,""],["openedBy",17,"(",32,"[",50,"{"],["closedBy",18,")",33,"]",51,"}"]],propSources:[SB],skippedNodes:[0,3,87],repeatNodeCount:11,tokenData:"J^~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_$}!_!`Cj!`!aC{!a!b$}!b!cDw!c!}$}!}#OFa#O#P$}#P#QFr#Q#R6d#R#T$}#T#UGT#U#c$}#c#dHf#d#o$}#o#pH{#p#q6d#q#rI^#r#sIo#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`JW<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSo`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#Z~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#Z~o`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUo`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Uo`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUo`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Uo`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUo`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Uo`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUo`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Uo`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!X[o`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOh~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYxQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYo`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYo`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYf[o`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYf[o`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYo`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYf[o`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYo`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSf[o`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QS|So`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSb^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOa~n9{UUQjWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWjW!RQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUo`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYo`#e[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYo`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUo`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUo`#e[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[o`#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSt^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWjWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VU#bQOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTjWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSo`#[~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^bBbU]QOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S^Qo`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!Y^Oy%^z;'S%^;'S;=`%o<%lO%^dCoS|SOy%^z;'S%^;'S;=`%o<%lO%^bDQU!OQOy%^z!`%^!`!aDd!a;'S%^;'S;=`%o<%lO%^bDkS!OQo`Oy%^z;'S%^;'S;=`%o<%lO%^bDzWOy%^z!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bEk[![Qo`Oy%^z}%^}!OEd!O!Q%^!Q![Ed![!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^nFfSq^Oy%^z;'S%^;'S;=`%o<%lO%^nFwSp^Oy%^z;'S%^;'S;=`%o<%lO%^bGWUOy%^z#b%^#b#cGj#c;'S%^;'S;=`%o<%lO%^bGoUo`Oy%^z#W%^#W#XHR#X;'S%^;'S;=`%o<%lO%^bHYS!bQo`Oy%^z;'S%^;'S;=`%o<%lO%^bHiUOy%^z#f%^#f#gHR#g;'S%^;'S;=`%o<%lO%^fIQS!TUOy%^z;'S%^;'S;=`%o<%lO%^nIcS!S^Oy%^z;'S%^;'S;=`%o<%lO%^fItU!RQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`JZP;=`<%l$}",tokenizers:[OB,CB,bB,1,2,3,4,new xo("m~RRYZ[z{a~~g~aO#^~~dP!P!Qg~lO#_~~",28,105)],topRules:{StyleSheet:[0,4],Styles:[1,86]},specialized:[{term:100,get:r=>MB[r]||-1},{term:58,get:r=>TB[r]||-1},{term:101,get:r=>NB[r]||-1}],tokenPrec:1200});var LO=null;function AO(){if(!LO&&typeof document=="object"&&document.body){let{style:r}=document.body,e=[],t=new Set;for(let i in r)i!="cssText"&&i!="cssFloat"&&typeof r[i]=="string"&&(/[A-Z]/.test(i)&&(i=i.replace(/[A-Z]/g,n=>"-"+n.toLowerCase())),t.has(i)||(e.push(i),t.add(i)));LO=e.sort().map(i=>({type:"property",label:i}))}return LO||[]}var Ek=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(r=>({type:"class",label:r})),kk=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(r=>({type:"keyword",label:r})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(r=>({type:"constant",label:r}))),xB=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(r=>({type:"type",label:r})),Eo=/^(\w[\w-]*|-\w[\w-]*|)$/,wB=/^-(-[\w-]*)?$/;function EB(r,e){var t;if((r.name=="("||r.type.isError)&&(r=r.parent||r),r.name!="ArgList")return!1;let i=(t=r.parent)===null||t===void 0?void 0:t.firstChild;return i?.name!="Callee"?!1:e.sliceString(i.from,i.to)=="var"}var Dk=new Ql,kB=["Declaration"];function DB(r){for(let e=r;;){if(e.type.isTop)return e;if(!(e=e.parent))return r}}function Lk(r,e,t){if(e.to-e.from>4096){let i=Dk.get(e);if(i)return i;let n=[],s=new Set,o=e.cursor(Ge.IncludeAnonymous);if(o.firstChild())do for(let a of Lk(r,o.node,t))s.has(a.label)||(s.add(a.label),n.push(a));while(o.nextSibling());return Dk.set(e,n),n}else{let i=[],n=new Set;return e.cursor().iterate(s=>{var o;if(t(s)&&s.matchContext(kB)&&((o=s.node.nextSibling)===null||o===void 0?void 0:o.name)==":"){let a=r.sliceString(s.from,s.to);n.has(a)||(n.add(a),i.push({label:a,type:"variable"}))}}),i}}var LB=r=>e=>{let{state:t,pos:i}=e,n=zt(t).resolveInner(i,-1),s=n.type.isError&&n.from==n.to-1&&t.doc.sliceString(n.from,n.to)=="-";if(n.name=="PropertyName"||(s||n.name=="TagName")&&/^(Block|Styles)$/.test(n.resolve(n.to).name))return{from:n.from,options:AO(),validFor:Eo};if(n.name=="ValueName")return{from:n.from,options:kk,validFor:Eo};if(n.name=="PseudoClassName")return{from:n.from,options:Ek,validFor:Eo};if(r(n)||(e.explicit||s)&&EB(n,t.doc))return{from:r(n)||s?n.from:i,options:Lk(t.doc,DB(n),r),validFor:wB};if(n.name=="TagName"){for(let{parent:l}=n;l;l=l.parent)if(l.name=="Block")return{from:n.from,options:AO(),validFor:Eo};return{from:n.from,options:xB,validFor:Eo}}if(!e.explicit)return null;let o=n.resolve(i),a=o.childBefore(i);return a&&a.name==":"&&o.name=="PseudoClassSelector"?{from:i,options:Ek,validFor:Eo}:a&&a.name==":"&&o.name=="Declaration"||o.name=="ArgList"?{from:i,options:kk,validFor:Eo}:o.name=="Block"||o.name=="Styles"?{from:i,options:AO(),validFor:Eo}:null},AB=LB(r=>r.name=="VariableName"),_r=Mo.define({name:"css",parser:wk.configure({props:[Yl.add({Declaration:ql()}),Wl.add({"Block KeyframeList":Kf})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function Cu(){return new To(_r,_r.data.of({autocomplete:AB}))}var IB=309,Ak=1,PB=2,jB=3,zB=310,RB=312,BB=313,QB=4,UB=5,HB=0,PO=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],Ik=125,_B=59,jO=47,FB=42,VB=43,$B=45,YB=60,qB=44,WB=new Xl({start:!1,shift(r,e){return e==QB||e==UB||e==RB?r:e==BB},strict:!1}),ZB=new Ti((r,e)=>{let{next:t}=r;(t==Ik||t==-1||e.context)&&r.acceptToken(zB)},{contextual:!0,fallback:!0}),XB=new Ti((r,e)=>{let{next:t}=r,i;PO.indexOf(t)>-1||t==jO&&((i=r.peek(1))==jO||i==FB)||t!=Ik&&t!=_B&&t!=-1&&!e.context&&r.acceptToken(IB)},{contextual:!0}),GB=new Ti((r,e)=>{let{next:t}=r;if((t==VB||t==$B)&&(r.advance(),t==r.next)){r.advance();let i=!e.context&&e.canShift(Ak);r.acceptToken(i?Ak:PB)}},{contextual:!0});function IO(r,e){return r>=65&&r<=90||r>=97&&r<=122||r==95||r>=192||!e&&r>=48&&r<=57}var KB=new Ti((r,e)=>{if(r.next!=YB||!e.dialectEnabled(HB)||(r.advance(),r.next==jO))return;let t=0;for(;PO.indexOf(r.next)>-1;)r.advance(),t++;if(IO(r.next,!0)){for(r.advance(),t++;IO(r.next,!1);)r.advance(),t++;for(;PO.indexOf(r.next)>-1;)r.advance(),t++;if(r.next==qB)return;for(let i=0;;i++){if(i==7){if(!IO(r.next,!0))return;break}if(r.next!="extends".charCodeAt(i))break;r.advance(),t++}}r.acceptToken(jB,-t)}),JB=So({"get set async static":D.modifier,"for while do if else switch try catch finally return throw break continue default case":D.controlKeyword,"in of await yield void typeof delete instanceof":D.operatorKeyword,"let var const using function class extends":D.definitionKeyword,"import export from":D.moduleKeyword,"with debugger as new":D.keyword,TemplateString:D.special(D.string),super:D.atom,BooleanLiteral:D.bool,this:D.self,null:D.null,Star:D.modifier,VariableName:D.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":D.function(D.variableName),VariableDefinition:D.definition(D.variableName),Label:D.labelName,PropertyName:D.propertyName,PrivatePropertyName:D.special(D.propertyName),"CallExpression/MemberExpression/PropertyName":D.function(D.propertyName),"FunctionDeclaration/VariableDefinition":D.function(D.definition(D.variableName)),"ClassDeclaration/VariableDefinition":D.definition(D.className),PropertyDefinition:D.definition(D.propertyName),PrivatePropertyDefinition:D.definition(D.special(D.propertyName)),UpdateOp:D.updateOperator,"LineComment Hashbang":D.lineComment,BlockComment:D.blockComment,Number:D.number,String:D.string,Escape:D.escape,ArithOp:D.arithmeticOperator,LogicOp:D.logicOperator,BitOp:D.bitwiseOperator,CompareOp:D.compareOperator,RegExp:D.regexp,Equals:D.definitionOperator,Arrow:D.function(D.punctuation),": Spread":D.punctuation,"( )":D.paren,"[ ]":D.squareBracket,"{ }":D.brace,"InterpolationStart InterpolationEnd":D.special(D.brace),".":D.derefOperator,", ;":D.separator,"@":D.meta,TypeName:D.typeName,TypeDefinition:D.definition(D.typeName),"type enum interface implements namespace module declare":D.definitionKeyword,"abstract global Privacy readonly override":D.modifier,"is keyof unique infer":D.operatorKeyword,JSXAttributeValue:D.attributeValue,JSXText:D.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":D.angleBracket,"JSXIdentifier JSXNameSpacedName":D.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":D.attributeName,"JSXBuiltin/JSXIdentifier":D.standard(D.tagName)}),eQ={__proto__:null,export:18,as:23,from:31,default:34,async:39,function:40,extends:52,this:56,true:64,false:64,null:76,void:80,typeof:84,super:102,new:136,delete:152,yield:161,await:165,class:170,public:227,private:227,protected:227,readonly:229,instanceof:248,satisfies:251,in:252,const:254,import:286,keyof:339,unique:343,infer:349,is:385,abstract:405,implements:407,type:409,let:412,var:414,using:417,interface:423,enum:427,namespace:433,module:435,declare:439,global:443,for:462,of:471,while:474,with:478,do:482,if:486,else:488,switch:492,case:498,try:504,catch:508,finally:512,return:516,throw:520,break:524,continue:528,debugger:532},tQ={__proto__:null,async:123,get:125,set:127,declare:187,public:189,private:189,protected:189,static:191,abstract:193,override:195,readonly:201,accessor:203,new:389},iQ={__proto__:null,"<":143},Pk=wo.deserialize({version:14,states:"$<UO%TQ^OOO%[Q^OOO'_Q`OOP(lOWOOO*zQ08SO'#ChO+RO!bO'#CiO+aO#tO'#CiO+oO?MpO'#D^O.QQ^O'#DdO.bQ^O'#DoO%[Q^O'#DyO0fQ^O'#EROOQ07b'#EZ'#EZO1PQWO'#EWOOQO'#El'#ElOOQO'#Ie'#IeO1XQWO'#GmO1dQWO'#EkO1iQWO'#EkO3kQ08SO'#JiO6[Q08SO'#JjO6xQWO'#FZO6}Q&jO'#FqOOQ07b'#Fc'#FcO7YO,YO'#FcO7hQ7[O'#FxO9UQWO'#FwOOQ07b'#Jj'#JjOOQ07`'#Ji'#JiO9ZQWO'#GqOOQU'#KU'#KUO9fQWO'#IRO9kQ07hO'#ISOOQU'#JW'#JWOOQU'#IW'#IWQ`Q^OOO`Q^OOO%[Q^O'#DqO9sQ^O'#D}O9zQ^O'#EPO9aQWO'#GmO:RQ7[O'#CnO:aQWO'#EjO:lQWO'#EuO:qQ7[O'#FbO;`QWO'#GmOOQO'#KV'#KVO;eQWO'#KVO;sQWO'#GuO;sQWO'#GvO;sQWO'#GxO9aQWO'#G{O<jQWO'#HOO>RQWO'#CdO>cQWO'#H[O>kQWO'#HbO>kQWO'#HdO`Q^O'#HfO>kQWO'#HhO>kQWO'#HkO>pQWO'#HqO>uQ07iO'#HwO%[Q^O'#HyO?QQ07iO'#H{O?]Q07iO'#H}O9kQ07hO'#IPO?hQ08SO'#ChO@jQ`O'#DiQOQWOOO%[Q^O'#EPOAQQWO'#ESO:RQ7[O'#EjOA]QWO'#EjOAhQpO'#FbOOQU'#Cf'#CfOOQ07`'#Dn'#DnOOQ07`'#Jm'#JmO%[Q^O'#JmOOQO'#Jq'#JqOOQO'#Ib'#IbOBhQ`O'#EcOOQ07`'#Eb'#EbOCdQ07pO'#EcOCnQ`O'#EVOOQO'#Jp'#JpODSQ`O'#JqOEaQ`O'#EVOCnQ`O'#EcPEnO!0LbO'#CaPOOO)CDu)CDuOOOO'#IX'#IXOEyO!bO,59TOOQ07b,59T,59TOOOO'#IY'#IYOFXO#tO,59TO%[Q^O'#D`OOOO'#I['#I[OFgO?MpO,59xOOQ07b,59x,59xOFuQ^O'#I]OGYQWO'#JkOI[QrO'#JkO+}Q^O'#JkOIcQWO,5:OOIyQWO'#ElOJWQWO'#JyOJcQWO'#JxOJcQWO'#JxOJkQWO,5;YOJpQWO'#JwOOQ07f,5:Z,5:ZOJwQ^O,5:ZOLxQ08SO,5:eOMiQWO,5:mONSQ07hO'#JvONZQWO'#JuO9ZQWO'#JuONoQWO'#JuONwQWO,5;XON|QWO'#JuO!#UQrO'#JjOOQ07b'#Ch'#ChO%[Q^O'#ERO!#tQpO,5:rOOQO'#Jr'#JrOOQO-E<c-E<cO9aQWO,5=XO!$[QWO,5=XO!$aQ^O,5;VO!&dQ7[O'#EgO!'}QWO,5;VO!)mQ7[O'#DsO!)tQ^O'#DxO!*OQ`O,5;`O!*WQ`O,5;`O%[Q^O,5;`OOQU'#FR'#FROOQU'#FT'#FTO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aOOQU'#FX'#FXO!*fQ^O,5;rOOQ07b,5;w,5;wOOQ07b,5;x,5;xO!,iQWO,5;xOOQ07b,5;y,5;yO%[Q^O'#IiO!,qQ07hO,5<eO!&dQ7[O,5;aO!-`Q7[O,5;aO%[Q^O,5;uO!-gQ&jO'#FgO!.dQ&jO'#J}O!.OQ&jO'#J}O!.kQ&jO'#J}OOQO'#J}'#J}O!/PQ&jO,5<POOOS,5<],5<]O!/bQ^O'#FsOOOS'#Ih'#IhO7YO,YO,5;}O!/iQ&jO'#FuOOQ07b,5;},5;}O!0YQMhO'#CuOOQ07b'#Cy'#CyO!0mQWO'#CyO!0rO?MpO'#C}O!1`Q7[O,5<bO!1gQWO,5<dO!3SQ!LQO'#GSO!3aQWO'#GTO!3fQWO'#GTO!3kQ!LQO'#GXO!4jQ`O'#G]OOQO'#Gh'#GhO!(SQ7[O'#GgOOQO'#Gj'#GjO!(SQ7[O'#GiO!5]QMhO'#JdOOQ07b'#Jd'#JdO!5gQWO'#JcO!5uQWO'#JbO!5}QWO'#CtOOQ07b'#Cw'#CwOOQ07b'#DR'#DROOQ07b'#DT'#DTO1SQWO'#DVO!(SQ7[O'#FzO!(SQ7[O'#F|O!6VQWO'#GOO!6[QWO'#GPO!3fQWO'#GVO!(SQ7[O'#G[O!6aQWO'#EmO!7OQWO,5<cOOQ07`'#Cq'#CqO!7WQWO'#EnO!8QQ`O'#EoOOQ07`'#Jw'#JwO!8XQ07hO'#KWO9kQ07hO,5=]O`Q^O,5>mOOQU'#J`'#J`OOQU,5>n,5>nOOQU-E<U-E<UO!:ZQ08SO,5:]O!<wQ08SO,5:iO%[Q^O,5:iO!?bQ08SO,5:kOOQO,5@q,5@qO!@RQ7[O,5=XO!@aQ07hO'#JaO9UQWO'#JaO!@rQ07hO,59YO!@}Q`O,59YO!AVQ7[O,59YO:RQ7[O,59YO!AbQWO,5;VO!AjQWO'#HZO!BOQWO'#KZO%[Q^O,5;zO!7{Q`O,5;|O!BWQWO,5=tO!B]QWO,5=tO!BbQWO,5=tO9kQ07hO,5=tO;sQWO,5=dOOQO'#Cu'#CuO!BpQ`O,5=aO!BxQ7[O,5=bO!CTQWO,5=dO!CYQpO,5=gO!CbQWO'#KVO>pQWO'#HQO9aQWO'#HSO!CgQWO'#HSO:RQ7[O'#HUO!ClQWO'#HUOOQU,5=j,5=jO!CqQWO'#HVO!DSQWO'#CnO!DXQWO,59OO!DcQWO,59OO!FhQ^O,59OOOQU,59O,59OO!FxQ07hO,59OO%[Q^O,59OO!ITQ^O'#H^OOQU'#H_'#H_OOQU'#H`'#H`O`Q^O,5=vO!IkQWO,5=vO`Q^O,5=|O`Q^O,5>OO!IpQWO,5>QO`Q^O,5>SO!IuQWO,5>VO!IzQ^O,5>]OOQU,5>c,5>cO%[Q^O,5>cO9kQ07hO,5>eOOQU,5>g,5>gO!NUQWO,5>gOOQU,5>i,5>iO!NUQWO,5>iOOQU,5>k,5>kO!NZQ`O'#D[O%[Q^O'#JmO!NxQ`O'#JmO# gQ`O'#DjO# xQ`O'#DjO#$ZQ^O'#DjO#$bQWO'#JlO#$jQWO,5:TO#$oQWO'#EpO#$}QWO'#JzO#%VQWO,5;ZO#%[Q`O'#DjO#%iQ`O'#EUOOQ07b,5:n,5:nO%[Q^O,5:nO#%pQWO,5:nO>pQWO,5;UO!@}Q`O,5;UO!AVQ7[O,5;UO:RQ7[O,5;UO#%xQWO,5@XO#%}Q$ISO,5:rOOQO-E<`-E<`O#'TQ07pO,5:}OCnQ`O,5:qO#'_Q`O,5:qOCnQ`O,5:}O!@rQ07hO,5:qOOQ07`'#Ef'#EfOOQO,5:},5:}O%[Q^O,5:}O#'lQ07hO,5:}O#'wQ07hO,5:}O!@}Q`O,5:qOOQO,5;T,5;TO#(VQ07hO,5:}POOO'#IV'#IVP#(kO!0LbO,58{POOO,58{,58{OOOO-E<V-E<VOOQ07b1G.o1G.oOOOO-E<W-E<WO#(vQpO,59zOOOO-E<Y-E<YOOQ07b1G/d1G/dO#({QrO,5>wO+}Q^O,5>wOOQO,5>},5>}O#)VQ^O'#I]OOQO-E<Z-E<ZO#)dQWO,5@VO#)lQrO,5@VO#)sQWO,5@dOOQ07b1G/j1G/jO%[Q^O,5@eO#){QWO'#IcOOQO-E<a-E<aO#)sQWO,5@dOOQ07`1G0t1G0tOOQ07f1G/u1G/uOOQ07f1G0X1G0XO%[Q^O,5@bO#*aQ07hO,5@bO#*rQ07hO,5@bO#*yQWO,5@aO9ZQWO,5@aO#+RQWO,5@aO#+aQWO'#IfO#*yQWO,5@aOOQ07`1G0s1G0sO!*OQ`O,5:tO!*ZQ`O,5:tOOQO,5:v,5:vO#,RQWO,5:vO#,ZQ7[O1G2sO9aQWO1G2sOOQ07b1G0q1G0qO#,iQ08SO1G0qO#-nQ08QO,5;ROOQ07b'#GR'#GRO#.[Q08SO'#JdO!$aQ^O1G0qO#0dQ7[O'#JnO#0nQWO,5:_O#0sQrO'#JoO%[Q^O'#JoO#0}QWO,5:dOOQ07b'#D['#D[OOQ07b1G0z1G0zO%[Q^O1G0zOOQ07b1G1d1G1dO#1SQWO1G0zO#3kQ08SO1G0{O#3rQ08SO1G0{O#6]Q08SO1G0{O#6dQ08SO1G0{O#8nQ08SO1G0{O#9UQ08SO1G0{O#<OQ08SO1G0{O#<VQ08SO1G0{O#>jQ08SO1G0{O#>wQ08SO1G0{O#@uQ08SO1G0{O#CuQ(CYO'#ChO#EsQ(CYO1G1^O#EzQ(CYO'#JjO!,lQWO1G1dO#F[Q08SO,5?TOOQ07`-E<g-E<gO#GOQ08SO1G0{OOQ07b1G0{1G0{O#IZQ08SO1G1aO#I}Q&jO,5<TO#JVQ&jO,5<UO#J_Q&jO'#FlO#JvQWO'#FkOOQO'#KO'#KOOOQO'#Ig'#IgO#J{Q&jO1G1kOOQ07b1G1k1G1kOOOS1G1v1G1vO#K^Q(CYO'#JiO#KhQWO,5<_O!*fQ^O,5<_OOOS-E<f-E<fOOQ07b1G1i1G1iO#KmQ`O'#J}OOQ07b,5<a,5<aO#KuQ`O,5<aOOQ07b,59e,59eO!&dQ7[O'#DPOOOO'#IZ'#IZO#KzO?MpO,59iOOQ07b,59i,59iO%[Q^O1G1|O!6[QWO'#IkO#LVQ7[O,5<uOOQ07b,5<r,5<rO!(SQ7[O'#InO#LuQ7[O,5=RO!(SQ7[O'#IpO#MhQ7[O,5=TO!&dQ7[O,5=VOOQO1G2O1G2OO#MrQpO'#CqO#NVQpO,5<nO#N^QWO'#KRO9aQWO'#KRO#NlQWO,5<pO!(SQ7[O,5<oO#NqQWO'#GUO#N|QWO,5<oO$ RQpO'#GRO$ `QpO'#KSO$ jQWO'#KSO!&dQ7[O'#KSO$ oQWO,5<sO$ tQ`O'#G^O!4eQ`O'#G^O$!VQWO'#G`O$![QWO'#GbO!3fQWO'#GeO$!aQ07hO'#ImO$!lQ`O,5<wOOQ07f,5<w,5<wO$!sQ`O'#G^O$#RQ`O'#G_O$#ZQ`O'#G_O$#`Q7[O,5=RO$#pQ7[O,5=TOOQ07b,5=W,5=WO!(SQ7[O,5?}O!(SQ7[O,5?}O$$QQWO'#IrO$$]QWO,5?|O$$eQWO,59`O$%UQ7[O,59qOOQ07b,59q,59qO$%wQ7[O,5<fO$&jQ7[O,5<hO@bQWO,5<jOOQ07b,5<k,5<kO$&tQWO,5<qO$&yQ7[O,5<vO$'ZQWO'#JuO!$aQ^O1G1}O$'`QWO1G1}O9ZQWO'#JxO9ZQWO'#EpO%[Q^O'#EpO9ZQWO'#ItO$'eQ07hO,5@rOOQU1G2w1G2wOOQU1G4X1G4XOOQ07b1G/w1G/wO!,iQWO1G/wO$)jQ08SO1G0TOOQU1G2s1G2sO!&dQ7[O1G2sO%[Q^O1G2sO#,^QWO1G2sO$+nQ7[O'#EgOOQ07`,5?{,5?{O$+xQ07hO,5?{OOQU1G.t1G.tO!@rQ07hO1G.tO!@}Q`O1G.tO!AVQ7[O1G.tO$,ZQWO1G0qO$,`QWO'#ChO$,kQWO'#K[O$,sQWO,5=uO$,xQWO'#K[O$,}QWO'#K[O$-]QWO'#IzO$-kQWO,5@uO$-sQrO1G1fOOQ07b1G1h1G1hO9aQWO1G3`O@bQWO1G3`O$-zQWO1G3`O$.PQWO1G3`OOQU1G3`1G3`O!CTQWO1G3OO!&dQ7[O1G2{O$.UQWO1G2{OOQU1G2|1G2|O!&dQ7[O1G2|O$.ZQWO1G2|O$.cQ`O'#GzOOQU1G3O1G3OO!4eQ`O'#IvO!CYQpO1G3ROOQU1G3R1G3ROOQU,5=l,5=lO$.kQ7[O,5=nO9aQWO,5=nO$![QWO,5=pO9UQWO,5=pO!@}Q`O,5=pO!AVQ7[O,5=pO:RQ7[O,5=pO$.yQWO'#KYO$/UQWO,5=qOOQU1G.j1G.jO$/ZQ07hO1G.jO@bQWO1G.jO$/fQWO1G.jO9kQ07hO1G.jO$1kQrO,5@wO$1{QWO,5@wO9ZQWO,5@wO$2WQ^O,5=xO$2_QWO,5=xOOQU1G3b1G3bO`Q^O1G3bOOQU1G3h1G3hOOQU1G3j1G3jO>kQWO1G3lO$2dQ^O1G3nO$6hQ^O'#HmOOQU1G3q1G3qO$6uQWO'#HsO>pQWO'#HuOOQU1G3w1G3wO$6}Q^O1G3wO9kQ07hO1G3}OOQU1G4P1G4POOQ07`'#GY'#GYO9kQ07hO1G4RO9kQ07hO1G4TO$;UQWO,5@XO!*fQ^O,5;[O9ZQWO,5;[O>pQWO,5:UO!*fQ^O,5:UO!@}Q`O,5:UO$;ZQ(CYO,5:UOOQO,5;[,5;[O$;eQ`O'#I^O$;{QWO,5@WOOQ07b1G/o1G/oO$<TQ`O'#IdO$<_QWO,5@fOOQ07`1G0u1G0uO# xQ`O,5:UOOQO'#Ia'#IaO$<gQ`O,5:pOOQ07f,5:p,5:pO#%sQWO1G0YOOQ07b1G0Y1G0YO%[Q^O1G0YOOQ07b1G0p1G0pO>pQWO1G0pO!@}Q`O1G0pO!AVQ7[O1G0pOOQ07`1G5s1G5sO!@rQ07hO1G0]OOQO1G0i1G0iO%[Q^O1G0iO$<nQ07hO1G0iO$<yQ07hO1G0iO!@}Q`O1G0]OCnQ`O1G0]O$=XQ07hO1G0iOOQO1G0]1G0]O$=mQ08SO1G0iPOOO-E<T-E<TPOOO1G.g1G.gOOOO1G/f1G/fO$=wQpO,5<eO$>PQrO1G4cOOQO1G4i1G4iO%[Q^O,5>wO$>ZQWO1G5qO$>cQWO1G6OO$>kQrO1G6PO9ZQWO,5>}O$>uQ08SO1G5|O%[Q^O1G5|O$?VQ07hO1G5|O$?hQWO1G5{O$?hQWO1G5{O9ZQWO1G5{O$?pQWO,5?QO9ZQWO,5?QOOQO,5?Q,5?QO$@UQWO,5?QO$'ZQWO,5?QOOQO-E<d-E<dOOQO1G0`1G0`OOQO1G0b1G0bO!,lQWO1G0bOOQU7+(_7+(_O!&dQ7[O7+(_O%[Q^O7+(_O$@dQWO7+(_O$@oQ7[O7+(_O$@}Q08SO,5=RO$CYQ08SO,5=TO$EeQ08SO,5=RO$GvQ08SO,5=TO$JXQ08SO,59qO$LaQ08SO,5<fO$NlQ08SO,5<hO%!wQ08SO,5<vOOQ07b7+&]7+&]O%%YQ08SO7+&]O%%|Q7[O'#I_O%&WQWO,5@YOOQ07b1G/y1G/yO%&`Q^O'#I`O%&mQWO,5@ZO%&uQrO,5@ZOOQ07b1G0O1G0OO%'PQWO7+&fOOQ07b7+&f7+&fO%'UQ(CYO,5:eO%[Q^O7+&xO%'`Q(CYO,5:]O%'mQ(CYO,5:iO%'wQ(CYO,5:kOOQ07b7+'O7+'OOOQO1G1o1G1oOOQO1G1p1G1pO%(RQtO,5<WO!*fQ^O,5<VOOQO-E<e-E<eOOQ07b7+'V7+'VOOOS7+'b7+'bOOOS1G1y1G1yO%(^QWO1G1yOOQ07b1G1{1G1{O%(cQpO,59kOOOO-E<X-E<XOOQ07b1G/T1G/TO%(jQ08SO7+'hOOQ07b,5?V,5?VO%)^QpO,5?VOOQ07b1G2a1G2aP!&dQ7[O'#IkPOQ07b-E<i-E<iO%)|Q7[O,5?YOOQ07b-E<l-E<lO%*oQ7[O,5?[OOQ07b-E<n-E<nO%*yQpO1G2qOOQ07b1G2Y1G2YO%+QQWO'#IjO%+`QWO,5@mO%+`QWO,5@mO%+hQWO,5@mO%+sQWO,5@mOOQO1G2[1G2[O%,RQ7[O1G2ZO!(SQ7[O1G2ZO%,cQ!LQO'#IlO%,sQWO,5@nO!&dQ7[O,5@nO%,{QpO,5@nOOQ07b1G2_1G2_OOQ07`,5<x,5<xOOQ07`,5<y,5<yO$'ZQWO,5<yOC_QWO,5<yO!@}Q`O,5<xOOQO'#Ga'#GaO%-VQWO,5<zOOQ07`,5<|,5<|O$'ZQWO,5=POOQO,5?X,5?XOOQO-E<k-E<kOOQ07f1G2c1G2cO!4eQ`O,5<xO%-_QWO,5<yO$!VQWO,5<zO!4eQ`O,5<yO!(SQ7[O'#InO%.RQ7[O1G2mO!(SQ7[O'#IpO%.tQ7[O1G2oO%/OQ7[O1G5iO%/YQ7[O1G5iOOQO,5?^,5?^OOQO-E<p-E<pOOQO1G.z1G.zO!7{Q`O,59sO%[Q^O,59sO%/gQWO1G2UO!(SQ7[O1G2]O%/lQ08SO7+'iOOQ07b7+'i7+'iO!$aQ^O7+'iO%0`QWO,5;[OOQ07`,5?`,5?`OOQ07`-E<r-E<rOOQ07b7+%c7+%cO%0eQpO'#KTO#%sQWO7+(_O%0oQrO7+(_O$@gQWO7+(_O%0vQ08QO'#ChO%1ZQ08QO,5<}O%1{QWO,5<}OOQ07`1G5g1G5gOOQU7+$`7+$`O!@rQ07hO7+$`O!@}Q`O7+$`O!$aQ^O7+&]O%2QQWO'#IyO%2iQWO,5@vOOQO1G3a1G3aO9aQWO,5@vO%2iQWO,5@vO%2qQWO,5@vOOQO,5?f,5?fOOQO-E<x-E<xOOQ07b7+'Q7+'QO%2vQWO7+(zO9kQ07hO7+(zO9aQWO7+(zO@bQWO7+(zOOQU7+(j7+(jO%2{Q08QO7+(gO!&dQ7[O7+(gO%3VQpO7+(hOOQU7+(h7+(hO!&dQ7[O7+(hO%3^QWO'#KXO%3iQWO,5=fOOQO,5?b,5?bOOQO-E<t-E<tOOQU7+(m7+(mO%4xQ`O'#HTOOQU1G3Y1G3YO!&dQ7[O1G3YO%[Q^O1G3YO%5PQWO1G3YO%5[Q7[O1G3YO9kQ07hO1G3[O$![QWO1G3[O9UQWO1G3[O!@}Q`O1G3[O!AVQ7[O1G3[O%5jQWO'#IxO%6OQWO,5@tO%6WQ`O,5@tOOQ07`1G3]1G3]OOQU7+$U7+$UO@bQWO7+$UO9kQ07hO7+$UO%6cQWO7+$UO%[Q^O1G6cO%[Q^O1G6dO%6hQ07hO1G6cO%6rQ^O1G3dO%6yQWO1G3dO%7OQ^O1G3dOOQU7+(|7+(|O9kQ07hO7+)WO`Q^O7+)YOOQU'#K_'#K_OOQU'#I{'#I{O%7VQ^O,5>XOOQU,5>X,5>XO%[Q^O'#HnO%7dQWO'#HpOOQU,5>_,5>_O9ZQWO,5>_OOQU,5>a,5>aOOQU7+)c7+)cOOQU7+)i7+)iOOQU7+)m7+)mOOQU7+)o7+)oO%7iQ`O1G5sO%7}Q(CYO1G0vO%8XQWO1G0vOOQO1G/p1G/pO%8dQ(CYO1G/pO>pQWO1G/pO!*fQ^O'#DjOOQO,5>x,5>xOOQO-E<[-E<[OOQO,5?O,5?OOOQO-E<b-E<bO!@}Q`O1G/pOOQO-E<_-E<_OOQ07f1G0[1G0[OOQ07b7+%t7+%tO#%sQWO7+%tOOQ07b7+&[7+&[O>pQWO7+&[O!@}Q`O7+&[OOQO7+%w7+%wO$=mQ08SO7+&TOOQO7+&T7+&TO%[Q^O7+&TO%8nQ07hO7+&TO!@rQ07hO7+%wO!@}Q`O7+%wO%8yQ07hO7+&TO%9XQ08SO7++hO%[Q^O7++hO%9iQWO7++gO%9iQWO7++gOOQO1G4l1G4lO9ZQWO1G4lO%9qQWO1G4lOOQO7+%|7+%|O#%sQWO<<KyO%0oQrO<<KyO%:PQWO<<KyOOQU<<Ky<<KyO!&dQ7[O<<KyO%[Q^O<<KyO%:XQWO<<KyO%:dQ08SO,5?YO%<oQ08SO,5?[O%>zQ08SO1G2ZO%A]Q08SO1G2mO%ChQ08SO1G2oO%EsQ7[O,5>yOOQO-E<]-E<]O%E}QrO,5>zO%[Q^O,5>zOOQO-E<^-E<^O%FXQWO1G5uOOQ07b<<JQ<<JQO%FaQ(CYO1G0qO%HkQ(CYO1G0{O%HrQ(CYO1G0{O%JvQ(CYO1G0{O%J}Q(CYO1G0{O%LrQ(CYO1G0{O%MYQ(CYO1G0{O& mQ(CYO1G0{O& tQ(CYO1G0{O&#rQ(CYO1G0{O&$PQ(CYO1G0{O&%}Q(CYO1G0{O&&bQ08SO<<JdO&'gQ(CYO1G0{O&)]Q(CYO'#JdO&+`Q(CYO1G1aO&+mQ(CYO1G0TO!*fQ^O'#FnOOQO'#KP'#KPOOQO1G1r1G1rO&+wQWO1G1qO&+|Q(CYO,5?TOOOS7+'e7+'eOOOO1G/V1G/VOOQ07b1G4q1G4qO!(SQ7[O7+(]O&,WQWO,5?UO9aQWO,5?UOOQO-E<h-E<hO&,fQWO1G6XO&,fQWO1G6XO&,nQWO1G6XO&,yQ7[O7+'uO&-ZQpO,5?WO&-eQWO,5?WO!&dQ7[O,5?WOOQO-E<j-E<jO&-jQpO1G6YO&-tQWO1G6YOOQ07`1G2e1G2eO$'ZQWO1G2eOOQ07`1G2d1G2dO&-|QWO1G2fO!&dQ7[O1G2fOOQ07`1G2k1G2kO!@}Q`O1G2dOC_QWO1G2eO&.RQWO1G2fO&.ZQWO1G2eO&.}Q7[O,5?YOOQ07b-E<m-E<mO&/pQ7[O,5?[OOQ07b-E<o-E<oO!(SQ7[O7++TOOQ07b1G/_1G/_O&/zQWO1G/_OOQ07b7+'p7+'pO&0PQ7[O7+'wO&0aQ08SO<<KTOOQ07b<<KT<<KTO&1TQWO1G0vO!&dQ7[O'#IsO&1YQWO,5@oO!&dQ7[O1G2iOOQU<<Gz<<GzO!@rQ07hO<<GzO&1bQ08SO<<IwOOQ07b<<Iw<<IwOOQO,5?e,5?eO&2UQWO,5?eO&2ZQWO,5?eOOQO-E<w-E<wO&2iQWO1G6bO&2iQWO1G6bO9aQWO1G6bO@bQWO<<LfOOQU<<Lf<<LfO&2qQWO<<LfO9kQ07hO<<LfOOQU<<LR<<LRO%2{Q08QO<<LROOQU<<LS<<LSO%3VQpO<<LSO&2vQ`O'#IuO&3RQWO,5@sO!*fQ^O,5@sOOQU1G3Q1G3QO&3ZQ^O'#JmOOQO'#Iw'#IwO9kQ07hO'#IwO&3eQ`O,5=oOOQU,5=o,5=oO&3lQ`O'#EcO&4QQWO7+(tO&4VQWO7+(tOOQU7+(t7+(tO!&dQ7[O7+(tO%[Q^O7+(tO&4_QWO7+(tOOQU7+(v7+(vO9kQ07hO7+(vO$![QWO7+(vO9UQWO7+(vO!@}Q`O7+(vO&4jQWO,5?dOOQO-E<v-E<vOOQO'#HW'#HWO&4uQWO1G6`O9kQ07hO<<GpOOQU<<Gp<<GpO@bQWO<<GpO&4}QWO7++}O&5SQWO7+,OO%[Q^O7++}O%[Q^O7+,OOOQU7+)O7+)OO&5XQWO7+)OO&5^Q^O7+)OO&5eQWO7+)OOOQU<<Lr<<LrOOQU<<Lt<<LtOOQU-E<y-E<yOOQU1G3s1G3sO&5jQWO,5>YOOQU,5>[,5>[O&5oQWO1G3yO9ZQWO7+&bO!*fQ^O7+&bOOQO7+%[7+%[O&5tQ(CYO1G6PO>pQWO7+%[OOQ07b<<I`<<I`OOQ07b<<Iv<<IvO>pQWO<<IvOOQO<<Io<<IoO$=mQ08SO<<IoO%[Q^O<<IoOOQO<<Ic<<IcO!@rQ07hO<<IcO&6OQ07hO<<IoO&6ZQ08SO<= SO&6kQWO<= ROOQO7+*W7+*WO9ZQWO7+*WOOQUANAeANAeO&6sQWOANAeO!&dQ7[OANAeO#%sQWOANAeO%0oQrOANAeO%[Q^OANAeO&6{Q08SO7+'uO&9^Q08SO,5?YO&;iQ08SO,5?[O&=tQ08SO7+'wO&@VQrO1G4fO&@aQ(CYO7+&]O&BeQ(CYO,5=RO&DlQ(CYO,5=TO&D|Q(CYO,5=RO&E^Q(CYO,5=TO&EnQ(CYO,59qO&GqQ(CYO,5<fO&ItQ(CYO,5<hO&KwQ(CYO,5<vO&MmQ(CYO7+'hO&MzQ(CYO7+'iO&NXQWO,5<YOOQO7+']7+']O&N^Q7[O<<KwOOQO1G4p1G4pO&NeQWO1G4pO&NpQWO1G4pO' OQWO7++sO' OQWO7++sO!&dQ7[O1G4rO' WQpO1G4rO' bQWO7++tOOQ07`7+(P7+(PO$'ZQWO7+(QO' jQpO7+(QOOQ07`7+(O7+(OO$'ZQWO7+(PO' qQWO7+(QO!&dQ7[O7+(QOC_QWO7+(PO' vQ7[O<<NoOOQ07b7+$y7+$yO'!QQpO,5?_OOQO-E<q-E<qO'![Q08QO7+(TOOQUAN=fAN=fO9aQWO1G5POOQO1G5P1G5PO'!lQWO1G5PO'!qQWO7++|O'!qQWO7++|O9kQ07hOANBQO@bQWOANBQOOQUANBQANBQOOQUANAmANAmOOQUANAnANAnO'!yQWO,5?aOOQO-E<s-E<sO'#UQ(CYO1G6_O'%fQrO'#ChOOQO,5?c,5?cOOQO-E<u-E<uOOQU1G3Z1G3ZO&3ZQ^O,5<zOOQU<<L`<<L`O!&dQ7[O<<L`O&4QQWO<<L`O'%pQWO<<L`O%[Q^O<<L`OOQU<<Lb<<LbO9kQ07hO<<LbO$![QWO<<LbO9UQWO<<LbO'%xQ`O1G5OO'&TQWO7++zOOQUAN=[AN=[O9kQ07hOAN=[OOQU<= i<= iOOQU<= j<= jO'&]QWO<= iO'&bQWO<= jOOQU<<Lj<<LjO'&gQWO<<LjO'&lQ^O<<LjOOQU1G3t1G3tO>pQWO7+)eO'&sQWO<<I|O''OQ(CYO<<I|OOQO<<Hv<<HvOOQ07bAN?bAN?bOOQOAN?ZAN?ZO$=mQ08SOAN?ZOOQOAN>}AN>}O%[Q^OAN?ZOOQO<<Mr<<MrOOQUG27PG27PO!&dQ7[OG27PO#%sQWOG27PO''YQWOG27PO%0oQrOG27PO''bQ(CYO<<JdO''oQ(CYO1G2ZO')eQ(CYO,5?YO'+hQ(CYO,5?[O'-kQ(CYO1G2mO'/nQ(CYO1G2oO'1qQ(CYO<<KTO'2OQ(CYO<<IwOOQO1G1t1G1tO!(SQ7[OANAcOOQO7+*[7+*[O'2]QWO7+*[O'2hQWO<= _O'2pQpO7+*^OOQ07`<<Kl<<KlO$'ZQWO<<KlOOQ07`<<Kk<<KkO'2zQpO<<KlO$'ZQWO<<KkOOQO7+*k7+*kO9aQWO7+*kO'3RQWO<= hOOQUG27lG27lO9kQ07hOG27lO!*fQ^O1G4{O'3ZQWO7++yO&4QQWOANAzOOQUANAzANAzO!&dQ7[OANAzO'3cQWOANAzOOQUANA|ANA|O9kQ07hOANA|O$![QWOANA|OOQO'#HX'#HXOOQO7+*j7+*jOOQUG22vG22vOOQUANETANETOOQUANEUANEUOOQUANBUANBUO'3kQWOANBUOOQU<<MP<<MPO!*fQ^OAN?hOOQOG24uG24uO$=mQ08SOG24uO#%sQWOLD,kOOQULD,kLD,kO!&dQ7[OLD,kO'3pQWOLD,kO'3xQ(CYO7+'uO'5nQ(CYO,5?YO'7qQ(CYO,5?[O'9tQ(CYO7+'wO';jQ7[OG26}OOQO<<Mv<<MvOOQ07`ANAWANAWO$'ZQWOANAWOOQ07`ANAVANAVOOQO<<NV<<NVOOQULD-WLD-WO';zQ(CYO7+*gOOQUG27fG27fO&4QQWOG27fO!&dQ7[OG27fOOQUG27hG27hO9kQ07hOG27hOOQUG27pG27pO'<UQ(CYOG25SOOQOLD*aLD*aOOQU!$(!V!$(!VO#%sQWO!$(!VO!&dQ7[O!$(!VO'<`Q08SOG26}OOQ07`G26rG26rOOQULD-QLD-QO&4QQWOLD-QOOQULD-SLD-SOOQU!)9Eq!)9EqO#%sQWO!)9EqOOQU!$(!l!$(!lOOQU!.K;]!.K;]O'>qQ(CYOG26}O!*fQ^O'#DyO1PQWO'#EWO'@gQrO'#JiO!*fQ^O'#DqO'@nQ^O'#D}O'@uQrO'#ChO'C]QrO'#ChO!*fQ^O'#EPO'CmQ^O,5;VO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O'#IiO'EpQWO,5<eO'ExQ7[O,5;aO'GcQ7[O,5;aO!*fQ^O,5;uO!&dQ7[O'#GgO'ExQ7[O'#GgO!&dQ7[O'#GiO'ExQ7[O'#GiO1SQWO'#DVO1SQWO'#DVO!&dQ7[O'#FzO'ExQ7[O'#FzO!&dQ7[O'#F|O'ExQ7[O'#F|O!&dQ7[O'#G[O'ExQ7[O'#G[O!*fQ^O,5:iO!*fQ^O,5@eO'CmQ^O1G0qO'GjQ(CYO'#ChO!*fQ^O1G1|O!&dQ7[O'#InO'ExQ7[O'#InO!&dQ7[O'#IpO'ExQ7[O'#IpO!&dQ7[O,5<oO'ExQ7[O,5<oO'CmQ^O1G1}O!*fQ^O7+&xO!&dQ7[O1G2ZO'ExQ7[O1G2ZO!&dQ7[O'#InO'ExQ7[O'#InO!&dQ7[O'#IpO'ExQ7[O'#IpO!&dQ7[O1G2]O'ExQ7[O1G2]O'CmQ^O7+'iO'CmQ^O7+&]O!&dQ7[OANAcO'ExQ7[OANAcO'GtQWO'#EkO'GyQWO'#EkO'HRQWO'#FZO'HWQWO'#EuO'H]QWO'#JyO'HhQWO'#JwO'HsQWO,5;VO'HxQ7[O,5<bO'IPQWO'#GTO'IUQWO'#GTO'IZQWO,5<cO'IcQWO,5;VO'IkQ(CYO1G1^O'IrQWO,5<oO'IwQWO,5<oO'I|QWO,5<qO'JRQWO,5<qO'JWQWO1G1}O'J]QWO1G0qO'JbQ7[O<<KwO'JiQ7[O<<KwO7hQ7[O'#FxO9UQWO'#FwOA]QWO'#EjO!*fQ^O,5;rO!3fQWO'#GTO!3fQWO'#GTO!3fQWO'#GVO!3fQWO'#GVO!(SQ7[O7+(]O!(SQ7[O7+(]O%*yQpO1G2qO%*yQpO1G2qO!&dQ7[O,5=VO!&dQ7[O,5=V",stateData:"'Km~O'tOS'uOSSOS'vRQ~OPYOQYORfOX!VO`qOczOdyOlkOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO![XO!fuO!kZO!nYO!oYO!pYO!rvO!twO!wxO!{]O#s!PO$T|O%b}O%d!QO%f!OO%g!OO%h!OO%k!RO%m!SO%p!TO%q!TO%s!UO&P!WO&V!XO&X!YO&Z!ZO&]![O&`!]O&f!^O&l!_O&n!`O&p!aO&r!bO&t!cO'{SO'}TO(QUO(XVO(g[O(tiO~OVtO~P`OPYOQYORfOc!jOd!iOlkOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO![!eO!fuO!kZO!nYO!oYO!pYO!rvO!t!gO!w!hO$T!kO'{!dO'}TO(QUO(XVO(g[O(tiO~O`!vOo!nO!P!oO!_!xO!`!uO!a!uO!{:dO#P!pO#Q!pO#R!wO#S!pO#T!pO#W!yO#X!yO'|!lO'}TO(QUO([!mO(g!sO~O'v!zO~OP[XZ[X`[Xn[X|[X}[X!P[X!Y[X!h[X!i[X!k[X!o[X#[[X#geX#j[X#k[X#l[X#m[X#n[X#o[X#p[X#q[X#r[X#t[X#v[X#x[X#y[X$O[X'r[X(X[X(h[X(o[X(p[X~O!d$|X~P(qO^!|O'}#OO(O!|O(P#OO~O^#PO(P#OO(Q#OO(R#PO~Ot#RO!R#SO(Y#SO(Z#UO~OPYOQYORfOc!jOd!iOlkOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO![!eO!fuO!kZO!nYO!oYO!pYO!rvO!t!gO!w!hO$T!kO'{:hO'}TO(QUO(XVO(g[O(tiO~O!X#YO!Y#VO!V(_P!V(lP~P+}O!Z#bO~P`OPYOQYORfOc!jOd!iOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO![!eO!fuO!kZO!nYO!oYO!pYO!rvO!t!gO!w!hO$T!kO'}TO(QUO(XVO(g[O(tiO~Ol#lO!X#hO!{]O#e#kO#f#hO'{:iO!j(iP~P.iO!k#nO'{#mO~O!w#rO!{]O%b#sO~O#g#tO~O!d#uO#g#tO~OP$]OZ$dOn$QO|#yO}#zO!P#{O!Y$aO!h$SO!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO#o$SO#p$SO#q$cO#r$SO#t$TO#v$VO#x$XO#y$YO(XVO(h$ZO(o#|O(p#}O~O`(]X'r(]X'p(]X!j(]X!V(]X![(]X%c(]X!d(]X~P1qO#[$eO$O$eOP(^XZ(^Xn(^X|(^X}(^X!P(^X!Y(^X!h(^X!k(^X!o(^X#j(^X#k(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#t(^X#v(^X#x(^X#y(^X(X(^X(h(^X(o(^X(p(^X![(^X%c(^X~O`(^X!i(^X'r(^X'p(^X!V(^X!j(^Xr(^X!d(^X~P4XO#[$eO~O$Y$gO$[$fO$c$lO~ORfO![$mO$f$nO$h$pO~Og%VOl%WOn$tOo$sOp$sOv%XOx%YOz%ZO!P${O![$|O!f%`O!k$xO#f%aO$T%^O$o%[O$q%]O$t%_O'{$rO'}TO(QUO(X$uO(o$}O(p%POf(UP~O!k%bO~O!P%eO![%fO'{%dO~O!d%jO~O`%kO'r%kO~O'|!lO~P%[O%h%rO~P%[Og%VO!k%bO'{%dO'|!lO~Od%yO!k%bO'{%dO~O#r$SO~O|&OO![%{O!k%}O%d&RO'{%dO'|!lO'}TO(QUO_(}P~O!w#rO~O%m&TO!P(yX![(yX'{(yX~O'{&UO~O!t&ZO#s!PO%d!QO%f!OO%g!OO%h!OO%k!RO%m!SO%p!TO%q!TO~Oc&`Od&_O!w&]O%b&^O%u&[O~P;xOc&cOdyO![&bO!t&ZO!wxO!{]O#s!PO%b}O%f!OO%g!OO%h!OO%k!RO%m!SO%p!TO%q!TO%s!UO~Oa&fO#[&iO%d&dO'|!lO~P<}O!k&jO!t&nO~O!k#nO~O![XO~O`%kO'q&vO'r%kO~O`%kO'q&yO'r%kO~O`%kO'q&{O'r%kO~O'p[X!V[Xr[X!j[X&T[X![[X%c[X!d[X~P(qO!_'YO!`'RO!a'RO'|!lO'}TO(QUO~Oo'PO!P'OO!X'SO([&}O!Z(`P!Z(nP~P@UOj']O!['ZO'{%dO~Od'bO!k%bO'{%dO~O|&OO!k%}O~Oo!nO!P!oO!{:dO#P!pO#Q!pO#S!pO#T!pO'|!lO'}TO(QUO([!mO(g!sO~O!_'hO!`'gO!a'gO#R!pO#W'iO#X'iO~PApO`%kOg%VO!d#uO!k%bO'r%kO(h'kO~O!o'oO#['mO~PCOOo!nO!P!oO'}TO(QUO([!mO(g!sO~O![XOo(eX!P(eX!_(eX!`(eX!a(eX!{(eX#P(eX#Q(eX#R(eX#S(eX#T(eX#W(eX#X(eX'|(eX'}(eX(Q(eX([(eX(g(eX~O!`'gO!a'gO'|!lO~PCnO'w'sO'x'sO'y'uO~O^!|O'}'wO(O!|O(P'wO~O^#PO(P'wO(Q'wO(R#PO~Ot#RO!R#SO(Y#SO(Z'{O~O!X'}O!V'PX!V'VX!Y'PX!Y'VX~P+}O!Y(PO!V(_X~OP$]OZ$dOn$QO|#yO}#zO!P#{O!Y(PO!h$SO!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO#o$SO#p$SO#q$cO#r$SO#t$TO#v$VO#x$XO#y$YO(XVO(h$ZO(o#|O(p#}O~O!V(_X~PGbO!V(UO~O!V(kX!Y(kX!d(kX!j(kX(h(kX~O#[(kX#g#`X!Z(kX~PIhO#[(VO!V(mX!Y(mX~O!Y(WO!V(lX~O!V(ZO~O#[$eO~PIhO!Z([O~P`O|#yO}#zO!P#{O!i#wO!k#xO(XVOP!maZ!man!ma!Y!ma!h!ma!o!ma#j!ma#k!ma#l!ma#m!ma#n!ma#o!ma#p!ma#q!ma#r!ma#t!ma#v!ma#x!ma#y!ma(h!ma(o!ma(p!ma~O`!ma'r!ma'p!ma!V!ma!j!mar!ma![!ma%c!ma!d!ma~PKOO!j(]O~O!d#uO#[(^O(h'kO!Y(jX`(jX'r(jX~O!j(jX~PMnO!P%eO![%fO!{]O#e(cO#f(bO'{%dO~O!Y(dO!j(iX~O!j(fO~O!P%eO![%fO#f(bO'{%dO~OP(^XZ(^Xn(^X|(^X}(^X!P(^X!Y(^X!h(^X!i(^X!k(^X!o(^X#j(^X#k(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#t(^X#v(^X#x(^X#y(^X(X(^X(h(^X(o(^X(p(^X~O!d#uO!j(^X~P! [O|(gO}(hO!i#wO!k#xO!{!za!P!za~O!w!za%b!za![!za#e!za#f!za'{!za~P!#`O!w(lO~OPYOQYORfOc!jOd!iOlkOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO![XO!fuO!kZO!nYO!oYO!pYO!rvO!t!gO!w!hO$T!kO'{!dO'}TO(QUO(XVO(g[O(tiO~Og%VOl%WOn$tOo$sOp$sOv%XOx%YOz;QO!P${O![$|O!f<`O!k$xO#f;WO$T%^O$o;SO$q;UO$t%_O'{(pO'}TO(QUO(X$uO(o$}O(p%PO~O#g(rO~Og%VOl%WOn$tOo$sOp$sOv%XOx%YOz%ZO!P${O![$|O!f%`O!k$xO#f%aO$T%^O$o%[O$q%]O$t%_O'{(pO'}TO(QUO(X$uO(o$}O(p%PO~Of(bP~P!(SO!X(vO!j(cP~P%[O([(xO(g[O~O!P(zO!k#xO([(xO(g[O~OP:cOQ:cORfOc<[Od!iOlkOn:cOokOpkOvkOx:cOz:cO!PWO!TkO!UkO![!eO!f:fO!kZO!n:cO!o:cO!p:cO!r:gO!t:jO!w!hO$T!kO'{)YO'}TO(QUO(XVO(g[O(t<YO~O})]O!k#xO~O!Y$aO`$ma'r$ma'p$ma!j$ma!V$ma![$ma%c$ma!d$ma~O#s)aO~P!&dO|)dO!d)cO![$ZX$W$ZX$Y$ZX$[$ZX$c$ZX~O!d)cO![(qX$W(qX$Y(qX$[(qX$c(qX~O|)dO~P!.OO|)dO![(qX$W(qX$Y(qX$[(qX$c(qX~O![)fO$W)jO$Y)eO$[)eO$c)kO~O!X)nO~P!*fO$Y$gO$[$fO$c)rO~Oj$uX|$uX!P$uX!i$uX(o$uX(p$uX~OfiXf$uXjiX!YiX#[iX~P!/tOo)tO~Ot)uO(Y)vO(Z)xO~Oj*RO|)zO!P){O(o$}O(p%PO~Of)yO~P!0}Of*SO~Og%VOl%WOn$tOo$sOp$sOv%XOx%YOz;QO!P${O![$|O!f<`O!k$xO#f;WO$T%^O$o;SO$q;UO$t%_O'}TO(QUO(X$uO(o$}O(p%PO~O!X*WO'{*TO!j(uP~P!1lO#g*YO~O!k*ZO~O!X*`O'{*]O!V(vP~P!1lOn*lO!P*dO!_*jO!`*cO!a*cO!k*ZO#W*kO%Y*fO'|!lO([!mO~O!Z*iO~P!3xO!i#wOj(WX|(WX!P(WX(o(WX(p(WX!Y(WX#[(WX~Of(WX#|(WX~P!4qOj*qO#[*pOf(VX!Y(VX~O!Y*rOf(UX~O'{&UOf(UP~O!k*yO~O'{(pO~Ol*}O!P%eO!X#hO![%fO!{]O#e#kO#f#hO'{%dO!j(iP~O!d#uO#g+OO~O!P%eO!X+QO!Y(WO![%fO'{%dO!V(lP~Oo'VO!P+SO!X+RO'}TO(QUO([(xO~O!Z(nP~P!7lO!Y+TO`(zX'r(zX~OP$]OZ$dOn$QO|#yO}#zO!P#{O!h$SO!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO#o$SO#p$SO#q$cO#r$SO#t$TO#v$VO#x$XO#y$YO(XVO(h$ZO(o#|O(p#}O~O`!ea!Y!ea'r!ea'p!ea!V!ea!j!ear!ea![!ea%c!ea!d!ea~P!8dO|#yO}#zO!P#{O!i#wO!k#xO(XVOP!qaZ!qan!qa!Y!qa!h!qa!o!qa#j!qa#k!qa#l!qa#m!qa#n!qa#o!qa#p!qa#q!qa#r!qa#t!qa#v!qa#x!qa#y!qa(h!qa(o!qa(p!qa~O`!qa'r!qa'p!qa!V!qa!j!qar!qa![!qa%c!qa!d!qa~P!:}O|#yO}#zO!P#{O!i#wO!k#xO(XVOP!saZ!san!sa!Y!sa!h!sa!o!sa#j!sa#k!sa#l!sa#m!sa#n!sa#o!sa#p!sa#q!sa#r!sa#t!sa#v!sa#x!sa#y!sa(h!sa(o!sa(p!sa~O`!sa'r!sa'p!sa!V!sa!j!sar!sa![!sa%c!sa!d!sa~P!=hOg%VOj+^O!['ZO%c+]O~O!d+`O`(TX![(TX'r(TX!Y(TX~O`%kO![XO'r%kO~Og%VO!k%bO~Og%VO!k%bO'{%dO~O!d#uO#g(rO~Oa+kO%d+lO'{+hO'}TO(QUO!Z)OP~O!Y+mO_(}X~OZ+qO~O_+rO~O![%{O'{%dO'|!lO_(}P~Og%VO#[+wO~Og%VOj+zO![$|O~O![+|O~O|,OO![XO~O%h%rO~O!w,TO~Od,YO~Oa,ZO'{#mO'}TO(QUO!Z(|P~Od%yO~O%d!QO'{&UO~P<}OZ,`O_,_O~OPYOQYORfOczOdyOlkOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO!fuO!kZO!nYO!oYO!pYO!rvO!wxO!{]O%b}O'}TO(QUO(XVO(g[O(tiO~O![!eO!t!gO$T!kO'{!dO~P!DkO_,_O`%kO'r%kO~OPYOQYORfOc!jOd!iOlkOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO![!eO!fuO!kZO!nYO!oYO!pYO!rvO!w!hO$T!kO'{!dO'}TO(QUO(XVO(g[O(tiO~O`,eO!twO#s!OO%f!OO%g!OO%h!OO~P!GTO!k&jO~O&V,kO~O![,mO~O&h,oO&j,pOP&eaQ&eaR&eaX&ea`&eac&ead&eal&ean&eao&eap&eav&eax&eaz&ea!P&ea!T&ea!U&ea![&ea!f&ea!k&ea!n&ea!o&ea!p&ea!r&ea!t&ea!w&ea!{&ea#s&ea$T&ea%b&ea%d&ea%f&ea%g&ea%h&ea%k&ea%m&ea%p&ea%q&ea%s&ea&P&ea&V&ea&X&ea&Z&ea&]&ea&`&ea&f&ea&l&ea&n&ea&p&ea&r&ea&t&ea'p&ea'{&ea'}&ea(Q&ea(X&ea(g&ea(t&ea!Z&ea&^&eaa&ea&c&ea~O'{,uO~Og!bX!Y!OX!Y!bX!Z!OX!Z!bX!d!OX!d!bX!k!bX#[!OX~O!d,zO#[,yOg(aX!Y#dX!Y(aX!Z#dX!Z(aX!d(aX!k(aX~Og%VO!d,|O!k%bO!Y!^X!Z!^X~Oo!nO!P!oO'}TO(QUO([!mO~OP:cOQ:cORfOc<[Od!iOlkOn:cOokOpkOvkOx:cOz:cO!PWO!TkO!UkO![!eO!f:fO!kZO!n:cO!o:cO!p:cO!r:gO!t:jO!w!hO$T!kO'}TO(QUO(XVO(g[O(t<YO~O'{;]O~P#!ZO!Y-QO!Z(`X~O!Z-SO~O!d,zO#[,yO!Y#dX!Z#dX~O!Y-TO!Z(nX~O!Z-VO~O!`-WO!a-WO'|!lO~P# xO!Z-ZO~P'_Oj-^O!['ZO~O!V-cO~Oo!za!_!za!`!za!a!za#P!za#Q!za#R!za#S!za#T!za#W!za#X!za'|!za'}!za(Q!za([!za(g!za~P!#`O!o-hO#[-fO~PCOO!`-jO!a-jO'|!lO~PCnO`%kO#[-fO'r%kO~O`%kO!d#uO#[-fO'r%kO~O`%kO!d#uO!o-hO#[-fO'r%kO(h'kO~O'w'sO'x'sO'y-oO~Or-pO~O!V'Pa!Y'Pa~P!8dO!X-tO!V'PX!Y'PX~P%[O!Y(PO!V(_a~O!V(_a~PGbO!Y(WO!V(la~O!P%eO!X-xO![%fO'{%dO!V'VX!Y'VX~O#[-zO!Y(ja!j(ja`(ja'r(ja~O!d#uO~P#*aO!Y(dO!j(ia~O!P%eO![%fO#f.OO'{%dO~Ol.TO!P%eO!X.QO![%fO!{]O#e.SO#f.QO'{%dO!Y'YX!j'YX~O}.XO!k#xO~Og%VOj.[O!['ZO%c.ZO~O`#_i!Y#_i'r#_i'p#_i!V#_i!j#_ir#_i![#_i%c#_i!d#_i~P!8dOj<fO|)zO!P){O(o$}O(p%PO~O#g#Za`#Za#[#Za'r#Za!Y#Za!j#Za![#Za!V#Za~P#-]O#g(WXP(WXZ(WX`(WXn(WX}(WX!h(WX!k(WX!o(WX#j(WX#k(WX#l(WX#m(WX#n(WX#o(WX#p(WX#q(WX#r(WX#t(WX#v(WX#x(WX#y(WX'r(WX(X(WX(h(WX!j(WX!V(WX'p(WXr(WX![(WX%c(WX!d(WX~P!4qO!Y.iOf(bX~P!0}Of.kO~O!Y.lO!j(cX~P!8dO!j.oO~O!V.qO~OP$]O|#yO}#zO!P#{O!i#wO!k#xO!o$]O(XVOZ#ii`#iin#ii!Y#ii!h#ii#k#ii#l#ii#m#ii#n#ii#o#ii#p#ii#q#ii#r#ii#t#ii#v#ii#x#ii#y#ii'r#ii(h#ii(o#ii(p#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~O#j#ii~P#1XO#j$OO~P#1XOP$]O|#yO}#zO!P#{O!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO(XVOZ#ii`#ii!Y#ii!h#ii#n#ii#o#ii#p#ii#q#ii#r#ii#t#ii#v#ii#x#ii#y#ii'r#ii(h#ii(o#ii(p#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~On#ii~P#3yOn$QO~P#3yOP$]On$QO|#yO}#zO!P#{O!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO(XVO`#ii!Y#ii#t#ii#v#ii#x#ii#y#ii'r#ii(h#ii(o#ii(p#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~OZ#ii!h#ii#o#ii#p#ii#q#ii#r#ii~P#6kOZ$dO!h$SO#o$SO#p$SO#q$cO#r$SO~P#6kOP$]OZ$dOn$QO|#yO}#zO!P#{O!h$SO!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO#o$SO#p$SO#q$cO#r$SO#t$TO(XVO(p#}O`#ii!Y#ii#x#ii#y#ii'r#ii(h#ii(o#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~O#v$VO~P#9lO#v#ii~P#9lOP$]OZ$dOn$QO|#yO}#zO!P#{O!h$SO!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO#o$SO#p$SO#q$cO#r$SO#t$TO(XVO`#ii!Y#ii#x#ii#y#ii'r#ii(h#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~O#v#ii(o#ii(p#ii~P#<^O#v$VO(o#|O(p#}O~P#<^OP$]OZ$dOn$QO|#yO}#zO!P#{O!h$SO!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO#o$SO#p$SO#q$cO#r$SO#t$TO#v$VO#x$XO(XVO(o#|O(p#}O~O`#ii!Y#ii#y#ii'r#ii(h#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~P#?UOP[XZ[Xn[X|[X}[X!P[X!h[X!i[X!k[X!o[X#[[X#geX#j[X#k[X#l[X#m[X#n[X#o[X#p[X#q[X#r[X#t[X#v[X#x[X#y[X$O[X(X[X(h[X(o[X(p[X!Y[X!Z[X~O#|[X~P#AoOP$]OZ:zOn:nO|#yO}#zO!P#{O!h:pO!i#wO!k#xO!o$]O#j:lO#k:mO#l:mO#m:mO#n:oO#o:pO#p:pO#q:yO#r:pO#t:qO#v:sO#x:uO#y:vO(XVO(h$ZO(o#|O(p#}O~O#|.sO~P#C|O#[:{O$O:{O#|(^X!Z(^X~P! [O`']a!Y']a'r']a'p']a!j']a!V']ar']a![']a%c']a!d']a~P!8dOP#iiZ#ii`#iin#ii}#ii!Y#ii!h#ii!i#ii!k#ii!o#ii#j#ii#k#ii#l#ii#m#ii#n#ii#o#ii#p#ii#q#ii#r#ii#t#ii#v#ii#x#ii#y#ii'r#ii(X#ii(h#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~P#-]O`#}i!Y#}i'r#}i'p#}i!V#}i!j#}ir#}i![#}i%c#}i!d#}i~P!8dO$Y.xO$[.xO~O$Y.yO$[.yO~O!d)cO#[.zO![$`X$W$`X$Y$`X$[$`X$c$`X~O!X.{O~O![)fO$W.}O$Y)eO$[)eO$c/OO~O!Y:wO!Z(]X~P#C|O!Z/PO~O!d)cO$c(qX~O$c/RO~Ot)uO(Y)vO(Z/UO~O!V/YO~P!&dO(o$}Oj%Za|%Za!P%Za(p%Za!Y%Za#[%Za~Of%Za#|%Za~P#L^O(p%POj%]a|%]a!P%]a(o%]a!Y%]a#[%]a~Of%]a#|%]a~P#MPO!YeX!deX!jeX!j$uX(heX~P!/tO!j/bO~P#-]O!Y/cO!d#uO(h'kO!j(uX~O!j/hO~O!X*WO'{%dO!j(uP~O#g/jO~O!V$uX!Y$uX!d$|X~P!/tO!Y/kO!V(vX~P#-]O!d/mO~O!V/oO~Og%VOn/sO!d#uO!k%bO(h'kO~O'{/uO~O!d+`O~O`%kO!Y/yO'r%kO~O!Z/{O~P!3xO!`/|O!a/|O'|!lO([!mO~O!P0OO([!mO~O#W0PO~Of%Za!Y%Za#[%Za#|%Za~P!0}Of%]a!Y%]a#[%]a#|%]a~P!0}O'{&UOf'fX!Y'fX~O!Y*rOf(Ua~Of0YO~O|0ZO}0ZO!P0[Ojya(oya(pya!Yya#[ya~Ofya#|ya~P$$jO|)zO!P){Oj$na(o$na(p$na!Y$na#[$na~Of$na#|$na~P$%`O|)zO!P){Oj$pa(o$pa(p$pa!Y$pa#[$pa~Of$pa#|$pa~P$&RO#g0^O~Of%Oa!Y%Oa#[%Oa#|%Oa~P!0}O!d#uO~O#g0aO~O!Y+TO`(za'r(za~O|#yO}#zO!P#{O!i#wO!k#xO(XVOP!qiZ!qin!qi!Y!qi!h!qi!o!qi#j!qi#k!qi#l!qi#m!qi#n!qi#o!qi#p!qi#q!qi#r!qi#t!qi#v!qi#x!qi#y!qi(h!qi(o!qi(p!qi~O`!qi'r!qi'p!qi!V!qi!j!qir!qi![!qi%c!qi!d!qi~P$'pOg%VOn$tOo$sOp$sOv%XOx%YOz;QO!P${O![$|O!f<`O!k$xO#f;WO$T%^O$o;SO$q;UO$t%_O'}TO(QUO(X$uO(o$}O(p%PO~Ol0kO'{0jO~P$*ZO!d+`O`(Ta![(Ta'r(Ta!Y(Ta~O#g0qO~OZ[X!YeX!ZeX~O!Y0rO!Z)OX~O!Z0tO~OZ0uO~Oa0wO'{+hO'}TO(QUO~O![%{O'{%dO_'nX!Y'nX~O!Y+mO_(}a~O!j0zO~P!8dOZ0}O~O_1OO~O#[1RO~Oj1UO![$|O~O([(xO!Z({P~Og%VOj1_O![1[O%c1^O~OZ1iO!Y1gO!Z(|X~O!Z1jO~O_1lO`%kO'r%kO~O'{#mO'}TO(QUO~O#[$eO$O$eOP(^XZ(^Xn(^X|(^X}(^X!P(^X!Y(^X!h(^X!k(^X!o(^X#j(^X#k(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#t(^X#v(^X#x(^X#y(^X(X(^X(h(^X(o(^X(p(^X~O#r1oO&T1pO`(^X!i(^X~P$/qO#[$eO#r1oO&T1pO~O`1rO~P%[O`1tO~O&^1wOP&[iQ&[iR&[iX&[i`&[ic&[id&[il&[in&[io&[ip&[iv&[ix&[iz&[i!P&[i!T&[i!U&[i![&[i!f&[i!k&[i!n&[i!o&[i!p&[i!r&[i!t&[i!w&[i!{&[i#s&[i$T&[i%b&[i%d&[i%f&[i%g&[i%h&[i%k&[i%m&[i%p&[i%q&[i%s&[i&P&[i&V&[i&X&[i&Z&[i&]&[i&`&[i&f&[i&l&[i&n&[i&p&[i&r&[i&t&[i'p&[i'{&[i'}&[i(Q&[i(X&[i(g&[i(t&[i!Z&[ia&[i&c&[i~Oa1}O!Z1{O&c1|O~P`O![XO!k2PO~O&j,pOP&eiQ&eiR&eiX&ei`&eic&eid&eil&ein&eio&eip&eiv&eix&eiz&ei!P&ei!T&ei!U&ei![&ei!f&ei!k&ei!n&ei!o&ei!p&ei!r&ei!t&ei!w&ei!{&ei#s&ei$T&ei%b&ei%d&ei%f&ei%g&ei%h&ei%k&ei%m&ei%p&ei%q&ei%s&ei&P&ei&V&ei&X&ei&Z&ei&]&ei&`&ei&f&ei&l&ei&n&ei&p&ei&r&ei&t&ei'p&ei'{&ei'}&ei(Q&ei(X&ei(g&ei(t&ei!Z&ei&^&eia&ei&c&ei~O!V2VO~O!Y!^a!Z!^a~P#C|Oo!nO!P!oO!X2]O([!mO!Y'QX!Z'QX~P@UO!Y-QO!Z(`a~O!Y'WX!Z'WX~P!7lO!Y-TO!Z(na~O!Z2dO~P'_O`%kO#[2mO'r%kO~O`%kO!d#uO#[2mO'r%kO~O`%kO!d#uO!o2qO#[2mO'r%kO(h'kO~O`%kO'r%kO~P!8dO!Y$aOr$ma~O!V'Pi!Y'Pi~P!8dO!Y(PO!V(_i~O!Y(WO!V(li~O!V(mi!Y(mi~P!8dO!Y(ji!j(ji`(ji'r(ji~P!8dO#[2sO!Y(ji!j(ji`(ji'r(ji~O!Y(dO!j(ii~O!P%eO![%fO!{]O#e2xO#f2wO'{%dO~O!P%eO![%fO#f2wO'{%dO~Oj3PO!['ZO%c3OO~Og%VOj3PO!['ZO%c3OO~O#g%ZaP%ZaZ%Za`%Zan%Za}%Za!h%Za!i%Za!k%Za!o%Za#j%Za#k%Za#l%Za#m%Za#n%Za#o%Za#p%Za#q%Za#r%Za#t%Za#v%Za#x%Za#y%Za'r%Za(X%Za(h%Za!j%Za!V%Za'p%Zar%Za![%Za%c%Za!d%Za~P#L^O#g%]aP%]aZ%]a`%]an%]a}%]a!h%]a!i%]a!k%]a!o%]a#j%]a#k%]a#l%]a#m%]a#n%]a#o%]a#p%]a#q%]a#r%]a#t%]a#v%]a#x%]a#y%]a'r%]a(X%]a(h%]a!j%]a!V%]a'p%]ar%]a![%]a%c%]a!d%]a~P#MPO#g%ZaP%ZaZ%Za`%Zan%Za}%Za!Y%Za!h%Za!i%Za!k%Za!o%Za#j%Za#k%Za#l%Za#m%Za#n%Za#o%Za#p%Za#q%Za#r%Za#t%Za#v%Za#x%Za#y%Za'r%Za(X%Za(h%Za!j%Za!V%Za'p%Za#[%Zar%Za![%Za%c%Za!d%Za~P#-]O#g%]aP%]aZ%]a`%]an%]a}%]a!Y%]a!h%]a!i%]a!k%]a!o%]a#j%]a#k%]a#l%]a#m%]a#n%]a#o%]a#p%]a#q%]a#r%]a#t%]a#v%]a#x%]a#y%]a'r%]a(X%]a(h%]a!j%]a!V%]a'p%]a#[%]ar%]a![%]a%c%]a!d%]a~P#-]O#gyaPyaZya`yanya!hya!iya!kya!oya#jya#kya#lya#mya#nya#oya#pya#qya#rya#tya#vya#xya#yya'rya(Xya(hya!jya!Vya'pyarya![ya%cya!dya~P$$jO#g$naP$naZ$na`$nan$na}$na!h$na!i$na!k$na!o$na#j$na#k$na#l$na#m$na#n$na#o$na#p$na#q$na#r$na#t$na#v$na#x$na#y$na'r$na(X$na(h$na!j$na!V$na'p$nar$na![$na%c$na!d$na~P$%`O#g$paP$paZ$pa`$pan$pa}$pa!h$pa!i$pa!k$pa!o$pa#j$pa#k$pa#l$pa#m$pa#n$pa#o$pa#p$pa#q$pa#r$pa#t$pa#v$pa#x$pa#y$pa'r$pa(X$pa(h$pa!j$pa!V$pa'p$par$pa![$pa%c$pa!d$pa~P$&RO#g%OaP%OaZ%Oa`%Oan%Oa}%Oa!Y%Oa!h%Oa!i%Oa!k%Oa!o%Oa#j%Oa#k%Oa#l%Oa#m%Oa#n%Oa#o%Oa#p%Oa#q%Oa#r%Oa#t%Oa#v%Oa#x%Oa#y%Oa'r%Oa(X%Oa(h%Oa!j%Oa!V%Oa'p%Oa#[%Oar%Oa![%Oa%c%Oa!d%Oa~P#-]O`#_q!Y#_q'r#_q'p#_q!V#_q!j#_qr#_q![#_q%c#_q!d#_q~P!8dOf'RX!Y'RX~P!(SO!Y.iOf(ba~O!X3ZO!Y'SX!j'SX~P%[O!Y.lO!j(ca~O!Y.lO!j(ca~P!8dO!V3^O~O#|!ma!Z!ma~PKOO#|!ea!Y!ea!Z!ea~P#C|O#|!qa!Z!qa~P!:}O#|!sa!Z!sa~P!=hORfO![3pO$a3qO~O!Z3uO~Or3vO~P#-]O`$jq!Y$jq'r$jq'p$jq!V$jq!j$jqr$jq![$jq%c$jq!d$jq~P!8dO!V3wO~P#-]O|)zO!P){O(p%POj'ba(o'ba!Y'ba#['ba~Of'ba#|'ba~P%)eO|)zO!P){Oj'da(o'da(p'da!Y'da#['da~Of'da#|'da~P%*WO(h$ZO~P#-]O!X3zO'{%dO!Y'^X!j'^X~O!Y/cO!j(ua~O!Y/cO!d#uO!j(ua~O!Y/cO!d#uO(h'kO!j(ua~Of$wi!Y$wi#[$wi#|$wi~P!0}O!X4SO'{*]O!V'`X!Y'`X~P!1lO!Y/kO!V(va~O!Y/kO!V(va~P#-]O!d#uO#r4[O~On4_O!d#uO(h'kO~O(o$}Oj%Zi|%Zi!P%Zi(p%Zi!Y%Zi#[%Zi~Of%Zi#|%Zi~P%-jO(p%POj%]i|%]i!P%]i(o%]i!Y%]i#[%]i~Of%]i#|%]i~P%.]Of(Vi!Y(Vi~P!0}O#[4fOf(Vi!Y(Vi~P!0}O!j4iO~O`$kq!Y$kq'r$kq'p$kq!V$kq!j$kqr$kq![$kq%c$kq!d$kq~P!8dO!V4mO~O!Y4nO![(wX~P#-]O!i#wO~P4XO`$uX![$uX%W[X'r$uX!Y$uX~P!/tO%W4pO`kXjkX|kX!PkX![kX'rkX(okX(pkX!YkX~O%W4pO~Oa4vO%d4wO'{+hO'}TO(QUO!Y'mX!Z'mX~O!Y0rO!Z)Oa~OZ4{O~O_4|O~O`%kO'r%kO~P#-]O![$|O~P#-]O!Y5UO#[5WO!Z({X~O!Z5XO~Oo!nO!P5YO!_!xO!`!uO!a!uO!{:dO#P!pO#Q!pO#R!pO#S!pO#T!pO#W5_O#X!yO'|!lO'}TO(QUO([!mO(g!sO~O!Z5^O~P%3nOj5dO![1[O%c5cO~Og%VOj5dO![1[O%c5cO~Oa5kO'{#mO'}TO(QUO!Y'lX!Z'lX~O!Y1gO!Z(|a~O'}TO(QUO([5mO~O_5qO~O#r5tO&T5uO~PMnO!j5vO~P%[O`5xO~O`5xO~P%[Oa1}O!Z5}O&c1|O~P`O!d6PO~O!d6ROg(ai!Y(ai!Z(ai!d(ai!k(ai~O!Y#di!Z#di~P#C|O#[6SO!Y#di!Z#di~O!Y!^i!Z!^i~P#C|O`%kO#[6]O'r%kO~O`%kO!d#uO#[6]O'r%kO~O!Y(jq!j(jq`(jq'r(jq~P!8dO!Y(dO!j(iq~O!P%eO![%fO#f6dO'{%dO~O!['ZO%c6gO~Oj6jO!['ZO%c6gO~O#g'baP'baZ'ba`'ban'ba}'ba!h'ba!i'ba!k'ba!o'ba#j'ba#k'ba#l'ba#m'ba#n'ba#o'ba#p'ba#q'ba#r'ba#t'ba#v'ba#x'ba#y'ba'r'ba(X'ba(h'ba!j'ba!V'ba'p'bar'ba!['ba%c'ba!d'ba~P%)eO#g'daP'daZ'da`'dan'da}'da!h'da!i'da!k'da!o'da#j'da#k'da#l'da#m'da#n'da#o'da#p'da#q'da#r'da#t'da#v'da#x'da#y'da'r'da(X'da(h'da!j'da!V'da'p'dar'da!['da%c'da!d'da~P%*WO#g$wiP$wiZ$wi`$win$wi}$wi!Y$wi!h$wi!i$wi!k$wi!o$wi#j$wi#k$wi#l$wi#m$wi#n$wi#o$wi#p$wi#q$wi#r$wi#t$wi#v$wi#x$wi#y$wi'r$wi(X$wi(h$wi!j$wi!V$wi'p$wi#[$wir$wi![$wi%c$wi!d$wi~P#-]O#g%ZiP%ZiZ%Zi`%Zin%Zi}%Zi!h%Zi!i%Zi!k%Zi!o%Zi#j%Zi#k%Zi#l%Zi#m%Zi#n%Zi#o%Zi#p%Zi#q%Zi#r%Zi#t%Zi#v%Zi#x%Zi#y%Zi'r%Zi(X%Zi(h%Zi!j%Zi!V%Zi'p%Zir%Zi![%Zi%c%Zi!d%Zi~P%-jO#g%]iP%]iZ%]i`%]in%]i}%]i!h%]i!i%]i!k%]i!o%]i#j%]i#k%]i#l%]i#m%]i#n%]i#o%]i#p%]i#q%]i#r%]i#t%]i#v%]i#x%]i#y%]i'r%]i(X%]i(h%]i!j%]i!V%]i'p%]ir%]i![%]i%c%]i!d%]i~P%.]Of'Ra!Y'Ra~P!0}O!Y'Sa!j'Sa~P!8dO!Y.lO!j(ci~O#|#_i!Y#_i!Z#_i~P#C|OP$]O|#yO}#zO!P#{O!i#wO!k#xO!o$]O(XVOZ#iin#ii!h#ii#k#ii#l#ii#m#ii#n#ii#o#ii#p#ii#q#ii#r#ii#t#ii#v#ii#x#ii#y#ii#|#ii(h#ii(o#ii(p#ii!Y#ii!Z#ii~O#j#ii~P%FnO#j:lO~P%FnOP$]O|#yO}#zO!P#{O!i#wO!k#xO!o$]O#j:lO#k:mO#l:mO#m:mO(XVOZ#ii!h#ii#n#ii#o#ii#p#ii#q#ii#r#ii#t#ii#v#ii#x#ii#y#ii#|#ii(h#ii(o#ii(p#ii!Y#ii!Z#ii~On#ii~P%HyOn:nO~P%HyOP$]On:nO|#yO}#zO!P#{O!i#wO!k#xO!o$]O#j:lO#k:mO#l:mO#m:mO#n:oO(XVO#t#ii#v#ii#x#ii#y#ii#|#ii(h#ii(o#ii(p#ii!Y#ii!Z#ii~OZ#ii!h#ii#o#ii#p#ii#q#ii#r#ii~P%KUOZ:zO!h:pO#o:pO#p:pO#q:yO#r:pO~P%KUOP$]OZ:zOn:nO|#yO}#zO!P#{O!h:pO!i#wO!k#xO!o$]O#j:lO#k:mO#l:mO#m:mO#n:oO#o:pO#p:pO#q:yO#r:pO#t:qO(XVO(p#}O#x#ii#y#ii#|#ii(h#ii(o#ii!Y#ii!Z#ii~O#v:sO~P%MpO#v#ii~P%MpOP$]OZ:zOn:nO|#yO}#zO!P#{O!h:pO!i#wO!k#xO!o$]O#j:lO#k:mO#l:mO#m:mO#n:oO#o:pO#p:pO#q:yO#r:pO#t:qO(XVO#x#ii#y#ii#|#ii(h#ii!Y#ii!Z#ii~O#v#ii(o#ii(p#ii~P& {O#v:sO(o#|O(p#}O~P& {OP$]OZ:zOn:nO|#yO}#zO!P#{O!h:pO!i#wO!k#xO!o$]O#j:lO#k:mO#l:mO#m:mO#n:oO#o:pO#p:pO#q:yO#r:pO#t:qO#v:sO#x:uO(XVO(o#|O(p#}O~O#y#ii#|#ii(h#ii!Y#ii!Z#ii~P&$^O`#zy!Y#zy'r#zy'p#zy!V#zy!j#zyr#zy![#zy%c#zy!d#zy~P!8dOj<gO|)zO!P){O(o$}O(p%PO~OP#iiZ#iin#ii}#ii!h#ii!i#ii!k#ii!o#ii#j#ii#k#ii#l#ii#m#ii#n#ii#o#ii#p#ii#q#ii#r#ii#t#ii#v#ii#x#ii#y#ii#|#ii(X#ii(h#ii!Y#ii!Z#ii~P&'UO!i#wOP(WXZ(WXj(WXn(WX|(WX}(WX!P(WX!h(WX!k(WX!o(WX#j(WX#k(WX#l(WX#m(WX#n(WX#o(WX#p(WX#q(WX#r(WX#t(WX#v(WX#x(WX#y(WX#|(WX(X(WX(h(WX(o(WX(p(WX!Y(WX!Z(WX~O#|#}i!Y#}i!Z#}i~P#C|O#|!qi!Z!qi~P$'pO!Z6|O~O!Y']a!Z']a~P#C|O!d#uO(h'kO!Y'^a!j'^a~O!Y/cO!j(ui~O!Y/cO!d#uO!j(ui~Of$wq!Y$wq#[$wq#|$wq~P!0}O!V'`a!Y'`a~P#-]O!d7TO~O!Y/kO!V(vi~P#-]O!Y/kO!V(vi~O!V7XO~O!d#uO#r7^O~On7_O!d#uO(h'kO~O|)zO!P){O(p%POj'ca(o'ca!Y'ca#['ca~Of'ca#|'ca~P&.fO|)zO!P){Oj'ea(o'ea(p'ea!Y'ea#['ea~Of'ea#|'ea~P&/XO!V7aO~Of$yq!Y$yq#[$yq#|$yq~P!0}O`$ky!Y$ky'r$ky'p$ky!V$ky!j$kyr$ky![$ky%c$ky!d$ky~P!8dO!d6RO~O!Y4nO![(wa~O`#_y!Y#_y'r#_y'p#_y!V#_y!j#_yr#_y![#_y%c#_y!d#_y~P!8dOZ7fO~Oa7hO'{+hO'}TO(QUO~O!Y0rO!Z)Oi~O_7lO~O([(xO!Y'iX!Z'iX~O!Y5UO!Z({a~OlkO'{7sO~P.iO!Z7vO~P%3nOo!nO!P7wO'}TO(QUO([!mO(g!sO~O![1[O~O![1[O%c7yO~Oj7|O![1[O%c7yO~OZ8RO!Y'la!Z'la~O!Y1gO!Z(|i~O!j8VO~O!j8WO~O!j8ZO~O!j8ZO~P%[O`8]O~O!d8^O~O!j8_O~O!Y(mi!Z(mi~P#C|O`%kO#[8gO'r%kO~O!Y(jy!j(jy`(jy'r(jy~P!8dO!Y(dO!j(iy~O!['ZO%c8jO~O#g$wqP$wqZ$wq`$wqn$wq}$wq!Y$wq!h$wq!i$wq!k$wq!o$wq#j$wq#k$wq#l$wq#m$wq#n$wq#o$wq#p$wq#q$wq#r$wq#t$wq#v$wq#x$wq#y$wq'r$wq(X$wq(h$wq!j$wq!V$wq'p$wq#[$wqr$wq![$wq%c$wq!d$wq~P#-]O#g'caP'caZ'ca`'can'ca}'ca!h'ca!i'ca!k'ca!o'ca#j'ca#k'ca#l'ca#m'ca#n'ca#o'ca#p'ca#q'ca#r'ca#t'ca#v'ca#x'ca#y'ca'r'ca(X'ca(h'ca!j'ca!V'ca'p'car'ca!['ca%c'ca!d'ca~P&.fO#g'eaP'eaZ'ea`'ean'ea}'ea!h'ea!i'ea!k'ea!o'ea#j'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#t'ea#v'ea#x'ea#y'ea'r'ea(X'ea(h'ea!j'ea!V'ea'p'ear'ea!['ea%c'ea!d'ea~P&/XO#g$yqP$yqZ$yq`$yqn$yq}$yq!Y$yq!h$yq!i$yq!k$yq!o$yq#j$yq#k$yq#l$yq#m$yq#n$yq#o$yq#p$yq#q$yq#r$yq#t$yq#v$yq#x$yq#y$yq'r$yq(X$yq(h$yq!j$yq!V$yq'p$yq#[$yqr$yq![$yq%c$yq!d$yq~P#-]O!Y'Si!j'Si~P!8dO#|#_q!Y#_q!Z#_q~P#C|O(o$}OP%ZaZ%Zan%Za}%Za!h%Za!i%Za!k%Za!o%Za#j%Za#k%Za#l%Za#m%Za#n%Za#o%Za#p%Za#q%Za#r%Za#t%Za#v%Za#x%Za#y%Za#|%Za(X%Za(h%Za!Y%Za!Z%Za~Oj%Za|%Za!P%Za(p%Za~P&@nO(p%POP%]aZ%]an%]a}%]a!h%]a!i%]a!k%]a!o%]a#j%]a#k%]a#l%]a#m%]a#n%]a#o%]a#p%]a#q%]a#r%]a#t%]a#v%]a#x%]a#y%]a#|%]a(X%]a(h%]a!Y%]a!Z%]a~Oj%]a|%]a!P%]a(o%]a~P&BuOj<gO|)zO!P){O(p%PO~P&@nOj<gO|)zO!P){O(o$}O~P&BuO|0ZO}0ZO!P0[OPyaZyajyanya!hya!iya!kya!oya#jya#kya#lya#mya#nya#oya#pya#qya#rya#tya#vya#xya#yya#|ya(Xya(hya(oya(pya!Yya!Zya~O|)zO!P){OP$naZ$naj$nan$na}$na!h$na!i$na!k$na!o$na#j$na#k$na#l$na#m$na#n$na#o$na#p$na#q$na#r$na#t$na#v$na#x$na#y$na#|$na(X$na(h$na(o$na(p$na!Y$na!Z$na~O|)zO!P){OP$paZ$paj$pan$pa}$pa!h$pa!i$pa!k$pa!o$pa#j$pa#k$pa#l$pa#m$pa#n$pa#o$pa#p$pa#q$pa#r$pa#t$pa#v$pa#x$pa#y$pa#|$pa(X$pa(h$pa(o$pa(p$pa!Y$pa!Z$pa~OP%OaZ%Oan%Oa}%Oa!h%Oa!i%Oa!k%Oa!o%Oa#j%Oa#k%Oa#l%Oa#m%Oa#n%Oa#o%Oa#p%Oa#q%Oa#r%Oa#t%Oa#v%Oa#x%Oa#y%Oa#|%Oa(X%Oa(h%Oa!Y%Oa!Z%Oa~P&'UO#|$jq!Y$jq!Z$jq~P#C|O#|$kq!Y$kq!Z$kq~P#C|O!Z8vO~O#|8wO~P!0}O!d#uO!Y'^i!j'^i~O!d#uO(h'kO!Y'^i!j'^i~O!Y/cO!j(uq~O!V'`i!Y'`i~P#-]O!Y/kO!V(vq~O!V8}O~P#-]O!V8}O~Of(Vy!Y(Vy~P!0}O!Y'ga!['ga~P#-]O`%Vq![%Vq'r%Vq!Y%Vq~P#-]OZ9SO~O!Y0rO!Z)Oq~O#[9WO!Y'ia!Z'ia~O!Y5UO!Z({i~P#C|OP[XZ[Xn[X|[X}[X!P[X!V[X!Y[X!h[X!i[X!k[X!o[X#[[X#geX#j[X#k[X#l[X#m[X#n[X#o[X#p[X#q[X#r[X#t[X#v[X#x[X#y[X$O[X(X[X(h[X(o[X(p[X~O!d%TX#r%TX~P'#`O![1[O%c9[O~O'}TO(QUO([9aO~O!Y1gO!Z(|q~O!j9dO~O!j9eO~O!j9fO~O!j9fO~P%[O#[9iO!Y#dy!Z#dy~O!Y#dy!Z#dy~P#C|O!['ZO%c9nO~O#|#zy!Y#zy!Z#zy~P#C|OP$wiZ$win$wi}$wi!h$wi!i$wi!k$wi!o$wi#j$wi#k$wi#l$wi#m$wi#n$wi#o$wi#p$wi#q$wi#r$wi#t$wi#v$wi#x$wi#y$wi#|$wi(X$wi(h$wi!Y$wi!Z$wi~P&'UO|)zO!P){O(p%POP'baZ'baj'ban'ba}'ba!h'ba!i'ba!k'ba!o'ba#j'ba#k'ba#l'ba#m'ba#n'ba#o'ba#p'ba#q'ba#r'ba#t'ba#v'ba#x'ba#y'ba#|'ba(X'ba(h'ba(o'ba!Y'ba!Z'ba~O|)zO!P){OP'daZ'daj'dan'da}'da!h'da!i'da!k'da!o'da#j'da#k'da#l'da#m'da#n'da#o'da#p'da#q'da#r'da#t'da#v'da#x'da#y'da#|'da(X'da(h'da(o'da(p'da!Y'da!Z'da~O(o$}OP%ZiZ%Zij%Zin%Zi|%Zi}%Zi!P%Zi!h%Zi!i%Zi!k%Zi!o%Zi#j%Zi#k%Zi#l%Zi#m%Zi#n%Zi#o%Zi#p%Zi#q%Zi#r%Zi#t%Zi#v%Zi#x%Zi#y%Zi#|%Zi(X%Zi(h%Zi(p%Zi!Y%Zi!Z%Zi~O(p%POP%]iZ%]ij%]in%]i|%]i}%]i!P%]i!h%]i!i%]i!k%]i!o%]i#j%]i#k%]i#l%]i#m%]i#n%]i#o%]i#p%]i#q%]i#r%]i#t%]i#v%]i#x%]i#y%]i#|%]i(X%]i(h%]i(o%]i!Y%]i!Z%]i~O#|$ky!Y$ky!Z$ky~P#C|O#|#_y!Y#_y!Z#_y~P#C|O!d#uO!Y'^q!j'^q~O!Y/cO!j(uy~O!V'`q!Y'`q~P#-]O!V9wO~P#-]O!Y0rO!Z)Oy~O!Y5UO!Z({q~O![1[O%c:OO~O!j:RO~O!['ZO%c:WO~OP$wqZ$wqn$wq}$wq!h$wq!i$wq!k$wq!o$wq#j$wq#k$wq#l$wq#m$wq#n$wq#o$wq#p$wq#q$wq#r$wq#t$wq#v$wq#x$wq#y$wq#|$wq(X$wq(h$wq!Y$wq!Z$wq~P&'UO|)zO!P){O(p%POP'caZ'caj'can'ca}'ca!h'ca!i'ca!k'ca!o'ca#j'ca#k'ca#l'ca#m'ca#n'ca#o'ca#p'ca#q'ca#r'ca#t'ca#v'ca#x'ca#y'ca#|'ca(X'ca(h'ca(o'ca!Y'ca!Z'ca~O|)zO!P){OP'eaZ'eaj'ean'ea}'ea!h'ea!i'ea!k'ea!o'ea#j'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#t'ea#v'ea#x'ea#y'ea#|'ea(X'ea(h'ea(o'ea(p'ea!Y'ea!Z'ea~OP$yqZ$yqn$yq}$yq!h$yq!i$yq!k$yq!o$yq#j$yq#k$yq#l$yq#m$yq#n$yq#o$yq#p$yq#q$yq#r$yq#t$yq#v$yq#x$yq#y$yq#|$yq(X$yq(h$yq!Y$yq!Z$yq~P&'UOf%_!Z!Y%_!Z#[%_!Z#|%_!Z~P!0}O!Y'iq!Z'iq~P#C|O!Y#d!Z!Z#d!Z~P#C|O#g%_!ZP%_!ZZ%_!Z`%_!Zn%_!Z}%_!Z!Y%_!Z!h%_!Z!i%_!Z!k%_!Z!o%_!Z#j%_!Z#k%_!Z#l%_!Z#m%_!Z#n%_!Z#o%_!Z#p%_!Z#q%_!Z#r%_!Z#t%_!Z#v%_!Z#x%_!Z#y%_!Z'r%_!Z(X%_!Z(h%_!Z!j%_!Z!V%_!Z'p%_!Z#[%_!Zr%_!Z![%_!Z%c%_!Z!d%_!Z~P#-]OP%_!ZZ%_!Zn%_!Z}%_!Z!h%_!Z!i%_!Z!k%_!Z!o%_!Z#j%_!Z#k%_!Z#l%_!Z#m%_!Z#n%_!Z#o%_!Z#p%_!Z#q%_!Z#r%_!Z#t%_!Z#v%_!Z#x%_!Z#y%_!Z#|%_!Z(X%_!Z(h%_!Z!Y%_!Z!Z%_!Z~P&'UOr(]X~P1qO'|!lO~P!*fO!VeX!YeX#[eX~P'#`OP[XZ[Xn[X|[X}[X!P[X!Y[X!YeX!h[X!i[X!k[X!o[X#[[X#[eX#geX#j[X#k[X#l[X#m[X#n[X#o[X#p[X#q[X#r[X#t[X#v[X#x[X#y[X$O[X(X[X(h[X(o[X(p[X~O!deX!j[X!jeX(heX~P'ASOP:cOQ:cORfOc<[Od!iOlkOn:cOokOpkOvkOx:cOz:cO!PWO!TkO!UkO![XO!f:fO!kZO!n:cO!o:cO!p:cO!r:gO!t:jO!w!hO$T!kO'{)YO'}TO(QUO(XVO(g[O(t<YO~O!Y:wO!Z$ma~Og%VOl%WOn$tOo$sOp$sOv%XOx%YOz;RO!P${O![$|O!f<aO!k$xO#f;XO$T%^O$o;TO$q;VO$t%_O'{(pO'}TO(QUO(X$uO(o$}O(p%PO~O#s)aO~P'ExO!Z[X!ZeX~P'ASO#g:kO~O!d#uO#g:kO~O#[:{O~O#r:pO~O#[;ZO!Y(mX!Z(mX~O#[:{O!Y(kX!Z(kX~O#g;[O~Of;^O~P!0}O#g;cO~O#g;dO~O!d#uO#g;eO~O!d#uO#g;[O~O#|;fO~P#C|O#g;gO~O#g;hO~O#g;mO~O#g;nO~O#g;oO~O#g;pO~O#|;qO~P!0}O#|;rO~P!0}O!i#P#Q#S#T#W#e#f#q(t$o$q$t%W%b%c%d%k%m%p%q%s%u~'vS#k!U't'|#lo#j#mn|'u$Y'u'{$[([~",goto:"$2p)SPPPPP)TPP)WP)iP*x.|PPPP5pPP6WPP<S?gP?zP?zPPP?zPAxP?zP?zP?zPA|PPBRPBlPGdPPPGhPPPPGhJiPPPJoKjPGhPMxPPPP!!WGhPPPGhPGhP!$fGhP!'z!(|!)VP!)y!)}!)yPPPPP!-Y!(|PP!-v!.pP!1dGhGh!1i!4s!9Y!9Y!=OPPP!=VGhPPPPPPPPPPP!@dP!AqPPGh!CSPGhPGhGhGhGhPGh!DfP!GnP!JrP!Jv!KQ!KU!KUP!GkP!KY!KYP!N^P!NbGhGh!Nh##k?zP?zP?z?zP#$v?z?z#'O?z#)k?z#+m?z?z#,[#.f#.f#.j#.r#.f#.zP#.fP?z#/d?z#3R?z?z5pPPP#6vPPP#7a#7aP#7aP#7w#7aPP#7}P#7tP#7t#8b#7t#8|#9S5m)W#9V)WP#9^#9^#9^P)WP)WP)WP)WPP)WP#9d#9gP#9g)WP#9kP#9nP)WP)WP)WP)WP)WP)W)WPP#9t#9z#:V#:]#:c#:i#:o#:}#;T#;Z#;e#;k#;u#<U#<[#<|#=`#=f#=l#=z#>a#@O#@^#@d#Ax#BW#Cr#DQ#DW#D^#Dd#Dn#Dt#Dz#EU#Eh#EnPPPPPPPPPP#EtPPPPPPP#Fi#Ip#KP#KW#K`PPPP$!d$%Z$+r$+u$+x$,q$,t$,w$-O$-WPP$-^$-b$.Y$/X$/]$/qPP$/u$/{$0PP$0S$0W$0Z$1P$1h$2P$2T$2W$2Z$2a$2d$2h$2lR!{RoqOXst!Z#c%j&m&o&p&r,h,m1w1zY!uQ'Z-Y1[5]Q%pvQ%xyQ&P|Q&e!VS'R!e-QQ'a!iS'g!r!xS*c$|*hQ+f%yQ+s&RQ,X&_Q-W'YQ-b'bQ-j'hQ/|*jQ1f,YR;Y:g%OdOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&m&o&p&r&v'O']'m'}(P(V(^(r(v(z)y+O+S,e,h,m-^-f-t-z.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3Z5Y5d5t5u5x6]7w7|8]8gS#p]:d!r)[$[$m'S)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]Q*u%ZQ+k%{Q,Z&bQ,b&jQ.c;QQ0h+^Q0l+`Q0w+lQ1n,`Q2{.[Q4v0rQ5k1gQ6i3PQ6u;RQ7h4wR8m6j&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]t!nQ!r!u!x!y'R'Y'Z'g'h'i-Q-W-Y-j1[5]5_$v$si#u#w$c$d$x${%O%Q%[%]%a)u){)}*P*R*Y*`*p*q+]+`+w+z.Z.i/Z/j/k/m0Q0S0^1R1U1^3O3x4S4[4f4n4p5c6g7T7^7y8j8w9[9n:O:W:y:z:|:};O;P;S;T;U;V;W;X;_;`;a;b;c;d;g;h;i;j;k;l;m;n;q;r<Y<b<c<f<gQ&S|Q'P!eS'V%f-TQ+k%{Q,Z&bQ0]*yQ0w+lQ0|+rQ1m,_Q1n,`Q4v0rQ5P1OQ5k1gQ5n1iQ5o1lQ7h4wQ7k4|Q8U5qQ9V7lR9b8RrnOXst!V!Z#c%j&d&m&o&p&r,h,m1w1zR,]&f&v^OPXYstuvwz!Z!`!g!j!o#R#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%j%p%}&f&i&j&m&o&p&r&v'O']'m(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<[<][#[WZ#V#Y'S'}!S%gm#g#h#k%b%e(W(b(c(d+Q+R+T,d,z-x.O.P.Q.S2P2w2x6R6dQ%sxQ%wyS%||&RQ&Y!TQ'^!hQ'`!iQ(k#rS*V$x*ZS+e%x%yQ+i%{Q,S&]Q,W&_S-a'a'bQ.^(lQ/g*WQ0p+fQ0v+lQ0x+mQ0{+qQ1a,TS1e,X,YQ2i-bQ3y/cQ4u0rQ4y0uQ5O0}Q5j1fQ7Q3zQ7g4wQ7j4{Q9R7fR9y9S!O$zi#w%O%Q%[%]%a)}*P*Y*p*q.i/j0Q0S0^3x4f8w<Y<b<c!S%uy!i!t%w%x%y'Q'`'a'b'f'p*b+e+f,}-a-b-i/t0p2b2i2p4^Q+_%sQ+x&VQ+{&WQ,V&_Q.](kQ1`,SU1d,W,X,YQ3Q.^Q5e1aS5i1e1fQ8Q5j#W<^#u$c$d$x${)u){*R*`+]+`+w+z.Z/Z/k/m1R1U1^3O4S4[4n4p5c6g7T7^7y8j9[9n:O:W:|;O;S;U;W;_;a;c;g;i;k;m;q<f<go<_:y:z:};P;T;V;X;`;b;d;h;j;l;n;rW%Ti%V*r<YS&V!Q&dQ&W!RQ&X!SR+v&T$w%Si#u#w$c$d$x${%O%Q%[%]%a)u){)}*P*R*Y*`*p*q+]+`+w+z.Z.i/Z/j/k/m0Q0S0^1R1U1^3O3x4S4[4f4n4p5c6g7T7^7y8j8w9[9n:O:W:y:z:|:};O;P;S;T;U;V;W;X;_;`;a;b;c;d;g;h;i;j;k;l;m;n;q;r<Y<b<c<f<gT)v$u)wV*v%Z;Q;RU'V!e%f-TS(y#y#zQ+p&OS.V(g(hQ1V+|Q4g0ZR7p5U&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]$i$`c#X#d%n%o%q'|(S(n(u(})O)P)Q)R)S)T)U)V)W)X)Z)^)b)l+Z+o-O-m-r-w-y.h.n.r.t.u.v/V0_2W2Z2k2r3Y3_3`3a3b3c3d3e3f3g3h3i3j3k3n3o3t4k4s6U6[6a6o6p6y6z7r8a8e8n8t8u9k9{:S:e<PT#SV#T&}kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]Q'T!eR2^-Qv!nQ!e!r!u!x!y'R'Y'Z'g'h'i-Q-W-Y-j1[5]5_S*b$|*hS/t*c*jQ/}*kQ1X,OQ4^/|R4a0PnqOXst!Z#c%j&m&o&p&r,h,m1w1zQ&t!^Q'q!wS(m#t:kQ+c%vQ,Q&YQ,R&[Q-_'_Q-l'jS.g(r;[S0`+O;eQ0n+dQ1Z,PQ2O,oQ2Q,pQ2Y,{Q2g-`Q2j-dS4l0a;oQ4q0oS4t0q;pQ6T2[Q6X2hQ6^2oQ7e4rQ8b6VQ8c6YQ8f6_R9h8_$d$_c#X#d%o%q'|(S(n(u(})O)P)Q)R)S)T)U)V)W)X)Z)^)b)l+Z+o-O-m-r-w-y.h.n.r.u.v/V0_2W2Z2k2r3Y3_3`3a3b3c3d3e3f3g3h3i3j3k3n3o3t4k4s6U6[6a6o6p6y6z7r8a8e8n8t8u9k9{:S:e<PS(j#o'dU*o%R(q3mS+Y%n.tQ2|0hQ6f2{Q8l6iR9o8m$d$^c#X#d%o%q'|(S(n(u(})O)P)Q)R)S)T)U)V)W)X)Z)^)b)l+Z+o-O-m-r-w-y.h.n.r.u.v/V0_2W2Z2k2r3Y3_3`3a3b3c3d3e3f3g3h3i3j3k3n3o3t4k4s6U6[6a6o6p6y6z7r8a8e8n8t8u9k9{:S:e<PS(i#o'dS({#z$_S+X%n.tS.W(h(jQ.w)]Q0e+YR2y.X&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]S#p]:dQ&o!XQ&p!YQ&r![Q&s!]R1v,kQ'[!hQ+[%sQ-]'^S.Y(k+_Q2e-[W2}.].^0g0iQ6W2fU6e2z2|3QS8i6f6hS9m8k8lS:U9l9oQ:^:VR:a:_U!vQ'Z-YT5Z1[5]!Q_OXZ`st!V!Z#c#g%b%j&d&f&m&o&p&r(d,h,m.P1w1z]!pQ!r'Z-Y1[5]T#p]:d%Y{OPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&j&m&o&p&r&v'O']'m'}(P(V(^(r(v(z)y+O+S+^,e,h,m-^-f-t-z.[.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3P3Z5Y5d5t5u5x6]6j7w7|8]8gS(y#y#zS.V(g(h!s;v$[$m'S)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]Y!tQ'Z-Y1[5]Q'f!rS'p!u!xS'r!y5_S-i'g'hQ-k'iR2p-jQ'o!tS(`#f1qS-h'f'rQ/f*VQ/r*bQ2q-kQ4O/gS4X/s/}Q7P3yS7[4_4aQ8y7QR9Q7_Q#vbQ'n!tS(_#f1qS(a#l*}Q+P%cQ+a%tQ+g%zU-g'f'o'rQ-{(`Q/e*VQ/q*bQ/w*eQ0m+bQ1b,US2n-h-kQ2v.TS3}/f/gS4W/r/}Q4Z/vQ4]/xQ5g1cQ6`2qQ7O3yQ7S4OS7W4X4aQ7]4`Q8O5hS8x7P7QQ8|7XQ9O7[Q9_8PQ9u8yQ9v8}Q9x9QQ:Q9`Q:Y9wQ;y;tQ<U;}R<V<OV!vQ'Z-Y%YaOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&j&m&o&p&r&v'O']'m'}(P(V(^(r(v(z)y+O+S+^,e,h,m-^-f-t-z.[.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3P3Z5Y5d5t5u5x6]6j7w7|8]8gS#vz!j!r;s$[$m'S)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]R;y<[%YbOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&j&m&o&p&r&v'O']'m'}(P(V(^(r(v(z)y+O+S+^,e,h,m-^-f-t-z.[.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3P3Z5Y5d5t5u5x6]6j7w7|8]8gQ%cj!S%ty!i!t%w%x%y'Q'`'a'b'f'p*b+e+f,}-a-b-i/t0p2b2i2p4^S%zz!jQ+b%uQ,U&_W1c,V,W,X,YU5h1d1e1fS8P5i5jQ9`8Q!r;t$[$m'S)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]Q;}<ZR<O<[$|eOPXYstuvw!Z!`!g!o#R#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&m&o&p&r&v'O']'m(P(V(^(r(v(z)y+O+S+^,e,h,m-^-f-t-z.[.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3P3Z5Y5d5t5u5x6]6j7w7|8]8gY#aWZ#V#Y'}!S%gm#g#h#k%b%e(W(b(c(d+Q+R+T,d,z-x.O.P.Q.S2P2w2x6R6dQ,c&j!p;u$[$m)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]R;x'SS'W!e%fR2`-T%OdOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&m&o&p&r&v'O']'m'}(P(V(^(r(v(z)y+O+S,e,h,m-^-f-t-z.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3Z5Y5d5t5u5x6]7w7|8]8g!r)[$[$m'S)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]Q,b&jQ0h+^Q2{.[Q6i3PR8m6j!b$Uc#X%n'|(S(n(u)W)X)^)b+o-m-r-w-y.h.n/V0_2k2r3Y3k4k4s6[6a6o8e9k:e!P:r)Z)l-O.t2W2Z3_3i3j3n3t6U6p6y6z7r8a8n8t8u9{:S<P!f$Wc#X%n'|(S(n(u)T)U)W)X)^)b+o-m-r-w-y.h.n/V0_2k2r3Y3k4k4s6[6a6o8e9k:e!T:t)Z)l-O.t2W2Z3_3f3g3i3j3n3t6U6p6y6z7r8a8n8t8u9{:S<P!^$[c#X%n'|(S(n(u)^)b+o-m-r-w-y.h.n/V0_2k2r3Y3k4k4s6[6a6o8e9k:eQ3x/az<])Z)l-O.t2W2Z3_3n3t6U6p6y6z7r8a8n8t8u9{:S<PQ<b<dR<c<e&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]S$nh$oR3q.z'TgOPWXYZhstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m$o%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.z.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]T$jf$pQ$hfS)e$k)iR)q$pT$if$pT)g$k)i'ThOPWXYZhstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m$o%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.z.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]T$nh$oQ$qhR)p$o%YjOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&j&m&o&p&r&v'O']'m'}(P(V(^(r(v(z)y+O+S+^,e,h,m-^-f-t-z.[.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3P3Z5Y5d5t5u5x6]6j7w7|8]8g!s<Z$[$m'S)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]#clOPXZst!Z!`!o#R#c#n#{$m%j&f&i&j&m&o&p&r&v'O'](z)n+S+^,e,h,m-^.[.{0[1_1o1p1r1t1w1z1|3P3p5Y5d5t5u5x6j7w7|8]!O%Ri#w%O%Q%[%]%a)}*P*Y*p*q.i/j0Q0S0^3x4f8w<Y<b<c#W(q#u$c$d$x${)u){*R*`+]+`+w+z.Z/Z/k/m1R1U1^3O4S4[4n4p5c6g7T7^7y8j9[9n:O:W:|;O;S;U;W;_;a;c;g;i;k;m;q<f<gQ*z%_Q/W)zo3m:y:z:};P;T;V;X;`;b;d;h;j;l;n;r!O$yi#w%O%Q%[%]%a)}*P*Y*p*q.i/j0Q0S0^3x4f8w<Y<b<cQ*[$zS*e$|*hQ*{%`Q/x*f#W;{#u$c$d$x${)u){*R*`+]+`+w+z.Z/Z/k/m1R1U1^3O4S4[4n4p5c6g7T7^7y8j9[9n:O:W:|;O;S;U;W;_;a;c;g;i;k;m;q<f<gn;|:y:z:};P;T;V;X;`;b;d;h;j;l;n;rQ<Q<^Q<R<_Q<S<`R<T<a!O%Ri#w%O%Q%[%]%a)}*P*Y*p*q.i/j0Q0S0^3x4f8w<Y<b<c#W(q#u$c$d$x${)u){*R*`+]+`+w+z.Z/Z/k/m1R1U1^3O4S4[4n4p5c6g7T7^7y8j9[9n:O:W:|;O;S;U;W;_;a;c;g;i;k;m;q<f<go3m:y:z:};P;T;V;X;`;b;d;h;j;l;n;rnoOXst!Z#c%j&m&o&p&r,h,m1w1zQ*_${Q,v&yQ,w&{R4R/k$v%Si#u#w$c$d$x${%O%Q%[%]%a)u){)}*P*R*Y*`*p*q+]+`+w+z.Z.i/Z/j/k/m0Q0S0^1R1U1^3O3x4S4[4f4n4p5c6g7T7^7y8j8w9[9n:O:W:y:z:|:};O;P;S;T;U;V;W;X;_;`;a;b;c;d;g;h;i;j;k;l;m;n;q;r<Y<b<c<f<gQ+y&WQ1T+{Q5S1SR7o5TT*g$|*hS*g$|*hT5[1[5]S/v*d5YT4`0O7wQ+a%tQ/w*eQ0m+bQ1b,UQ5g1cQ8O5hQ9_8PR:Q9`!O%Oi#w%O%Q%[%]%a)}*P*Y*p*q.i/j0Q0S0^3x4f8w<Y<b<cr)}$v(s*O*n*|/i0U0V3W4P4j6}7`9t;z<W<XS0Q*m0R#W:|#u$c$d$x${)u){*R*`+]+`+w+z.Z/Z/k/m1R1U1^3O4S4[4n4p5c6g7T7^7y8j9[9n:O:W:|;O;S;U;W;_;a;c;g;i;k;m;q<f<gn:}:y:z:};P;T;V;X;`;b;d;h;j;l;n;r!^;_(o)`*U*^._.b.f/S/X/a/n0f1Q1S3T4Q4U5R5T6k6n7U7Y7b7d8{9P:X<d<e`;`3l6q6t6x8o9p9s:bS;i.a3UT;j6s8r!O%Qi#w%O%Q%[%]%a)}*P*Y*p*q.i/j0Q0S0^3x4f8w<Y<b<cv*P$v(s*Q*m*|/]/i0U0V3W4P4b4j6}7`9t;z<W<XS0S*n0T#W;O#u$c$d$x${)u){*R*`+]+`+w+z.Z/Z/k/m1R1U1^3O4S4[4n4p5c6g7T7^7y8j9[9n:O:W:|;O;S;U;W;_;a;c;g;i;k;m;q<f<gn;P:y:z:};P;T;V;X;`;b;d;h;j;l;n;r!b;a(o)`*U*^.`.a.f/S/X/a/n0f1Q1S3R3T4Q4U5R5T6k6l6n7U7Y7b7d8{9P:X<d<ed;b3l6r6s6x8o8p9p9q9s:bS;k.b3VT;l6t8srnOXst!V!Z#c%j&d&m&o&p&r,h,m1w1zQ&a!UR,e&jrnOXst!V!Z#c%j&d&m&o&p&r,h,m1w1zR&a!UQ+}&XR1P+vsnOXst!V!Z#c%j&d&m&o&p&r,h,m1w1zQ1],SS5b1`1aU7x5`5a5eS9Z7z7{S9|9Y9]Q:Z9}R:`:[Q&h!VR,^&dR5n1iS%||&RR0x+mQ&m!WR,h&nR,n&sT1x,m1zR,r&tQ,q&tR2R,rQ't!zR-n'tSsOtQ#cXT%ms#cQ!}TR'v!}Q#QUR'x#QQ)w$uR/T)wQ#TVR'z#TQ#WWU(Q#W(R-uQ(R#XR-u(SQ-R'TR2_-RQ.j(sR3X.jQ.m(uS3[.m3]R3].nQ-Y'ZR2c-YY!rQ'Z-Y1[5]R'e!rS#^W%eU(X#^(Y-vQ(Y#_R-v(TQ-U'WR2a-Ut`OXst!V!Z#c%j&d&f&m&o&p&r,h,m1w1zS#gZ%bU#q`#g.PR.P(dQ(e#iQ-|(aW.U(e-|2t6bQ2t-}R6b2uQ)i$kR.|)iQ$ohR)o$oQ$bcU)_$b-q:xQ-q:eR:x)lQ/d*VW3{/d3|7R8zU3|/e/f/gS7R3}4OR8z7S$X)|$v(o(s)`*U*^*m*n*w*x*|.a.b.d.e.f/S/X/]/_/a/i/n0U0V0f1Q1S3R3S3T3W3l4P4Q4U4b4d4j5R5T6k6l6m6n6s6t6v6w6x6}7U7Y7`7b7d8o8p8q8{9P9p9q9r9s9t:X:b;z<W<X<d<eQ/l*^U4T/l4V7VQ4V/nR7V4UQ*h$|R/z*hr*O$v(s*m*n*|/i0U0V3W4P4j6}7`9t;z<W<X!^._(o)`*U*^.a.b.f/S/X/a/n0f1Q1S3T4Q4U5R5T6k6n7U7Y7b7d8{9P:X<d<eU/^*O._6qa6q3l6s6t6x8o9p9s:bQ0R*mQ3U.aU4c0R3U8rR8r6sv*Q$v(s*m*n*|/]/i0U0V3W4P4b4j6}7`9t;z<W<X!b.`(o)`*U*^.a.b.f/S/X/a/n0f1Q1S3R3T4Q4U5R5T6k6l6n7U7Y7b7d8{9P:X<d<eU/`*Q.`6re6r3l6s6t6x8o8p9p9q9s:bQ0T*nQ3V.bU4e0T3V8sR8s6tQ*s%UR0X*sQ4o0fR7c4oQ+U%hR0d+UQ5V1VS7q5V9XR9X7rQ,P&YR1Y,PQ5]1[R7u5]Q1h,ZS5l1h8SR8S5nQ0s+iW4x0s4z7i9TQ4z0vQ7i4yR9T7jQ+n%|R0y+nQ1z,mR5|1zYrOXst#cQ&q!ZQ+W%jQ,g&mQ,i&oQ,j&pQ,l&rQ1u,hS1x,m1zR5{1wQ%lpQ&u!_Q&x!aQ&z!bQ&|!cQ'l!tQ+V%iQ+c%vQ+u&SQ,]&hQ,t&wW-e'f'n'o'rQ-l'jQ/y*gQ0n+dS1k,^,aQ2S,sQ2T,vQ2U,wQ2j-dW2l-g-h-k-mQ4q0oQ4}0|Q5Q1QQ5f1bQ5p1mQ5z1vU6Z2k2n2qQ6^2oQ7e4rQ7m5PQ7n5RQ7t5[Q7}5gQ8T5oS8d6[6`Q8f6_Q9U7kQ9^8OQ9c8UQ9j8eQ9z9VQ:P9_Q:T9kR:]:QQ%vyQ'_!iQ'j!tU+d%w%x%yQ,{'QU-`'`'a'bS-d'f'pQ/p*bS0o+e+fQ2[,}S2h-a-bQ2o-iQ4Y/tQ4r0pQ6V2bQ6Y2iQ6_2pR7Z4^S$wi<YR*t%VU%Ui%V<YR0W*rQ$viS(o#u+`Q(s#wS)`$c$dQ*U$xQ*^${Q*m%OQ*n%QQ*w%[Q*x%]Q*|%aQ.a:|Q.b;OQ.d;SQ.e;UQ.f;WQ/S)uS/X){/ZQ/])}Q/_*PQ/a*RQ/i*YQ/n*`Q0U*pQ0V*qh0f+].Z1^3O5c6g7y8j9[9n:O:WQ1Q+wQ1S+zQ3R;_Q3S;aQ3T;cQ3W.iS3l:y:zQ4P/jQ4Q/kQ4U/mQ4b0QQ4d0SQ4j0^Q5R1RQ5T1UQ6k;gQ6l;iQ6m;kQ6n;mQ6s:}Q6t;PQ6v;TQ6w;VQ6x;XQ6}3xQ7U4SQ7Y4[Q7`4fQ7b4nQ7d4pQ8o;dQ8p;`Q8q;bQ8{7TQ9P7^Q9p;hQ9q;jQ9r;lQ9s;nQ9t8wQ:X;qQ:b;rQ;z<YQ<W<bQ<X<cQ<d<fR<e<gnpOXst!Z#c%j&m&o&p&r,h,m1w1zQ!fPS#eZ#nQ&w!`U'c!o5Y7wQ'y#RQ(|#{Q)m$mS,a&f&iQ,f&jQ,s&vQ,x'OQ-[']Q.p(zQ/Q)nQ0b+SQ0i+^Q1s,eQ2f-^Q2|.[Q3s.{Q4h0[Q5a1_Q5r1oQ5s1pQ5w1rQ5y1tQ6O1|Q6f3PQ6{3pQ7{5dQ8X5tQ8Y5uQ8[5xQ8l6jQ9]7|R9g8]#WcOPXZst!Z!`!o#c#n#{%j&f&i&j&m&o&p&r&v'O'](z+S+^,e,h,m-^.[0[1_1o1p1r1t1w1z1|3P5Y5d5t5u5x6j7w7|8]Q#XWQ#dYQ%nuQ%ovS%qw!gS'|#V(PQ(S#YQ(n#tQ(u#xQ(}$OQ)O$PQ)P$QQ)Q$RQ)R$SQ)S$TQ)T$UQ)U$VQ)V$WQ)W$XQ)X$YQ)Z$[Q)^$aQ)b$eW)l$m)n.{3pQ+Z%pQ+o%}S-O'S2]Q-m'mS-r'}-tQ-w(VQ-y(^Q.h(rQ.n(vQ.r:cQ.t:fQ.u:gQ.v:jQ/V)yQ0_+OQ2W,yQ2Z,|Q2k-fQ2r-zQ3Y.lQ3_:kQ3`:lQ3a:mQ3b:nQ3c:oQ3d:pQ3e:qQ3f:rQ3g:sQ3h:tQ3i:uQ3j:vQ3k.sQ3n:{Q3o;YQ3t:wQ4k0aQ4s0qQ6U;ZQ6[2mQ6a2sQ6o3ZQ6p;[Q6y;^Q6z;eQ7r5WQ8a6SQ8e6]Q8n;fQ8t;oQ8u;pQ9k8gQ9{9WQ:S9iQ:e#RR<P<]R#ZWR'U!eY!tQ'Z-Y1[5]S'Q!e-QQ'f!rS'p!u!xS'r!y5_S,}'R'YS-i'g'hQ-k'iQ2b-WR2p-jR(t#wR(w#xQ!fQT-X'Z-Y]!qQ!r'Z-Y1[5]Q#o]R'd:dT#jZ%bS#iZ%bS%hm,dU(a#g#h#kS-}(b(cQ.R(dQ0c+TQ2u.OU2v.P.Q.SS6c2w2xR8h6d`#]W#V#Y%e'}(W+Q-xr#fZm#g#h#k%b(b(c(d+T.O.P.Q.S2w2x6dQ1q,dQ2X,zQ6Q2PQ8`6RT;w'S+RT#`W%eS#_W%eS(O#V(WS(T#Y+QS-P'S+RT-s'}-xT'X!e%fQ$kfR)s$pT)h$k)iR3r.zT*X$x*ZR*a${Q0g+]Q2z.ZQ5`1^Q6h3OQ7z5cQ8k6gQ9Y7yQ9l8jQ9}9[Q:V9nQ:[:OR:_:WnqOXst!Z#c%j&m&o&p&r,h,m1w1zQ&g!VR,]&dtmOXst!U!V!Z#c%j&d&m&o&p&r,h,m1w1zR,d&jT%im,dR1W+|R,[&bQ&Q|R+t&RR+j%{T&k!W&nT&l!W&nT1y,m1z",nodeNames:"\u26A0 ArithOp ArithOp JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:371,context:WB,nodeProps:[["isolate",-8,4,5,13,33,35,48,50,52,""],["group",-26,8,16,18,65,201,205,209,210,212,215,218,228,230,236,238,240,242,245,251,257,259,261,263,265,267,268,"Statement",-32,12,13,28,31,32,38,48,51,52,54,59,67,75,79,81,83,84,106,107,116,117,134,137,139,140,141,142,144,145,164,165,167,"Expression",-23,27,29,33,37,39,41,168,170,172,173,175,176,177,179,180,181,183,184,185,195,197,199,200,"Type",-3,87,99,105,"ClassItem"],["openedBy",22,"<",34,"InterpolationStart",53,"[",57,"{",72,"(",157,"JSXStartCloseTag"],["closedBy",23,">",36,"InterpolationEnd",47,"]",58,"}",73,")",162,"JSXEndTag"]],propSources:[JB],skippedNodes:[0,4,5,271],repeatNodeCount:37,tokenData:"$Fj(CSR!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#8g!R![#:v![!]#Gv!]!^#IS!^!_#J^!_!`#Ns!`!a$#_!a!b$(l!b!c$,k!c!}Er!}#O$-u#O#P$/P#P#Q$4h#Q#R$5r#R#SEr#S#T$7P#T#o$8Z#o#p$<k#p#q$=a#q#r$>q#r#s$?}#s$f%Z$f$g+g$g#BYEr#BY#BZ$AX#BZ$ISEr$IS$I_$AX$I_$I|Er$I|$I}$Dd$I}$JO$Dd$JO$JTEr$JT$JU$AX$JU$KVEr$KV$KW$AX$KW&FUEr&FU&FV$AX&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$AX?HUOEr(n%d_$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$f&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$f&j(R!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(R!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$f&j(OpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(OpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Op(R!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z(CS+rq$f&j(Op(R!b't(;dOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z(CS.ST(P#S$f&j'u(;dO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c(CS.n_$f&j(Op(R!b'u(;dOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`/x`$f&j!o$Ip(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S1V`#t$Id$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S2d_#t$Id$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/|3l_'}$(n$f&j(R!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$f&j(R!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$f&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$a`$f&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$a``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$a`$f&j(R!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(R!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$a`(R!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k#%|:hh$f&j(Op(R!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__VS$f&j(Op(R!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]VS$f&j(R!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXVS$f&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSVSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWVS(R!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]VS$f&j(OpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWVS(OpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYVS(Op(R!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S#%|C}i$f&j(g!L^(Op(R!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr#%|EoP;=`<%lCr(CSFRk$f&j(Op(R!b$Y#t'{&;d([!LYOY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$f&j(Op(R!b$Y#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv(CSJPP;=`<%lEr%#SJ_`$f&j(Op(R!b#l$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SKl_$f&j$O$Id(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&COLva(p&;`$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SNW`$f&j#x$Id(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/|! c_(Q$)`$f&j(OpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$f&j(OpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$f&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$a`$f&j(OpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(OpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$a`(OpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b(*Q!'t_!k(!b$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'l!)O_!jM|$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h!*[b$f&j(Op(R!b'|#)d#m$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S!+o`$f&j(Op(R!b#j$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&-O!,|`$f&j(Op(R!bn&%`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&C[!.Z_!Y&;l$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!/ec$f&j(Op(R!b|'<nOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!0ya$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!2Z_!XMt$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!3eg$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!5Vg$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!6wc$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!8_c$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!9uf$f&j(Op(R!b#k$IdOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpxz!;Zz{#,f{!P!;Z!P!Q#-{!Q!^!;Z!^!_#'Z!_!`#5k!`!a#7Q!a!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(r!;fb$f&j(Op(R!b!USOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(Q!<w`$f&j(R!b!USOY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eb!Q!^!<n!^!_!GY!_!}!<n!}#O!Ja#O#P!Dj#P#o!<n#o#p!GY#p;'S!<n;'S;=`!Kj<%lO!<n&n!>Q^$f&j!USOY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@Y!_!}!=y!}#O!Bw#O#P!Dj#P#o!=y#o#p!@Y#p;'S!=y;'S;=`!E[<%lO!=y&n!?Ta$f&j!USO!^&c!_#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&cS!@_X!USOY!@YZ!P!@Y!P!Q!@z!Q!}!@Y!}#O!Ac#O#P!Bb#P;'S!@Y;'S;=`!Bq<%lO!@YS!APU!US#Z#[!@z#]#^!@z#a#b!@z#g#h!@z#i#j!@z#m#n!@zS!AfVOY!AcZ#O!Ac#O#P!A{#P#Q!@Y#Q;'S!Ac;'S;=`!B[<%lO!AcS!BOSOY!AcZ;'S!Ac;'S;=`!B[<%lO!AcS!B_P;=`<%l!AcS!BeSOY!@YZ;'S!@Y;'S;=`!Bq<%lO!@YS!BtP;=`<%l!@Y&n!B|[$f&jOY!BwYZ&cZ!^!Bw!^!_!Ac!_#O!Bw#O#P!Cr#P#Q!=y#Q#o!Bw#o#p!Ac#p;'S!Bw;'S;=`!Dd<%lO!Bw&n!CwX$f&jOY!BwYZ&cZ!^!Bw!^!_!Ac!_#o!Bw#o#p!Ac#p;'S!Bw;'S;=`!Dd<%lO!Bw&n!DgP;=`<%l!Bw&n!DoX$f&jOY!=yYZ&cZ!^!=y!^!_!@Y!_#o!=y#o#p!@Y#p;'S!=y;'S;=`!E[<%lO!=y&n!E_P;=`<%l!=y(Q!Eki$f&j(R!b!USOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#Z&}#Z#[!Eb#[#]&}#]#^!Eb#^#a&}#a#b!Eb#b#g&}#g#h!Eb#h#i&}#i#j!Eb#j#m&}#m#n!Eb#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!f!GaZ(R!b!USOY!GYZw!GYwx!@Yx!P!GY!P!Q!HS!Q!}!GY!}#O!Ic#O#P!Bb#P;'S!GY;'S;=`!JZ<%lO!GY!f!HZb(R!b!USOY'}Zw'}x#O'}#P#Z'}#Z#[!HS#[#]'}#]#^!HS#^#a'}#a#b!HS#b#g'}#g#h!HS#h#i'}#i#j!HS#j#m'}#m#n!HS#n;'S'};'S;=`(f<%lO'}!f!IhX(R!bOY!IcZw!Icwx!Acx#O!Ic#O#P!A{#P#Q!GY#Q;'S!Ic;'S;=`!JT<%lO!Ic!f!JWP;=`<%l!Ic!f!J^P;=`<%l!GY(Q!Jh^$f&j(R!bOY!JaYZ&cZw!Jawx!Bwx!^!Ja!^!_!Ic!_#O!Ja#O#P!Cr#P#Q!<n#Q#o!Ja#o#p!Ic#p;'S!Ja;'S;=`!Kd<%lO!Ja(Q!KgP;=`<%l!Ja(Q!KmP;=`<%l!<n'`!Ky`$f&j(Op!USOY!KpYZ&cZr!Kprs!=ys!P!Kp!P!Q!L{!Q!^!Kp!^!_!Ns!_!}!Kp!}#O##z#O#P!Dj#P#o!Kp#o#p!Ns#p;'S!Kp;'S;=`#%T<%lO!Kp'`!MUi$f&j(Op!USOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#Z(r#Z#[!L{#[#](r#]#^!L{#^#a(r#a#b!L{#b#g(r#g#h!L{#h#i(r#i#j!L{#j#m(r#m#n!L{#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rt!NzZ(Op!USOY!NsZr!Nsrs!@Ys!P!Ns!P!Q# m!Q!}!Ns!}#O#!|#O#P!Bb#P;'S!Ns;'S;=`##t<%lO!Nst# tb(Op!USOY)rZr)rs#O)r#P#Z)r#Z#[# m#[#])r#]#^# m#^#a)r#a#b# m#b#g)r#g#h# m#h#i)r#i#j# m#j#m)r#m#n# m#n;'S)r;'S;=`*Z<%lO)rt##RX(OpOY#!|Zr#!|rs!Acs#O#!|#O#P!A{#P#Q!Ns#Q;'S#!|;'S;=`##n<%lO#!|t##qP;=`<%l#!|t##wP;=`<%l!Ns'`#$R^$f&j(OpOY##zYZ&cZr##zrs!Bws!^##z!^!_#!|!_#O##z#O#P!Cr#P#Q!Kp#Q#o##z#o#p#!|#p;'S##z;'S;=`#$}<%lO##z'`#%QP;=`<%l##z'`#%WP;=`<%l!Kp(r#%fk$f&j(Op(R!b!USOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#Z%Z#Z#[#%Z#[#]%Z#]#^#%Z#^#a%Z#a#b#%Z#b#g%Z#g#h#%Z#h#i%Z#i#j#%Z#j#m%Z#m#n#%Z#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#W#'d](Op(R!b!USOY#'ZZr#'Zrs!GYsw#'Zwx!Nsx!P#'Z!P!Q#(]!Q!}#'Z!}#O#)w#O#P!Bb#P;'S#'Z;'S;=`#*w<%lO#'Z#W#(fe(Op(R!b!USOY*gZr*grs'}sw*gwx)rx#O*g#P#Z*g#Z#[#(]#[#]*g#]#^#(]#^#a*g#a#b#(]#b#g*g#g#h#(]#h#i*g#i#j#(]#j#m*g#m#n#(]#n;'S*g;'S;=`+Z<%lO*g#W#*OZ(Op(R!bOY#)wZr#)wrs!Icsw#)wwx#!|x#O#)w#O#P!A{#P#Q#'Z#Q;'S#)w;'S;=`#*q<%lO#)w#W#*tP;=`<%l#)w#W#*zP;=`<%l#'Z(r#+W`$f&j(Op(R!bOY#*}YZ&cZr#*}rs!Jasw#*}wx##zx!^#*}!^!_#)w!_#O#*}#O#P!Cr#P#Q!;Z#Q#o#*}#o#p#)w#p;'S#*};'S;=`#,Y<%lO#*}(r#,]P;=`<%l#*}(r#,cP;=`<%l!;Z(CS#,sb$f&j(Op(R!b'v(;d!USOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(CS#.W_$f&j(Op(R!bS(;dOY#-{YZ&cZr#-{rs#/Vsw#-{wx#2gx!^#-{!^!_#4f!_#O#-{#O#P#0X#P#o#-{#o#p#4f#p;'S#-{;'S;=`#5e<%lO#-{(Bb#/`]$f&j(R!bS(;dOY#/VYZ&cZw#/Vwx#0Xx!^#/V!^!_#1j!_#O#/V#O#P#0X#P#o#/V#o#p#1j#p;'S#/V;'S;=`#2a<%lO#/V(AO#0`X$f&jS(;dOY#0XYZ&cZ!^#0X!^!_#0{!_#o#0X#o#p#0{#p;'S#0X;'S;=`#1d<%lO#0X(;d#1QSS(;dOY#0{Z;'S#0{;'S;=`#1^<%lO#0{(;d#1aP;=`<%l#0{(AO#1gP;=`<%l#0X(<v#1qW(R!bS(;dOY#1jZw#1jwx#0{x#O#1j#O#P#0{#P;'S#1j;'S;=`#2Z<%lO#1j(<v#2^P;=`<%l#1j(Bb#2dP;=`<%l#/V(Ap#2p]$f&j(OpS(;dOY#2gYZ&cZr#2grs#0Xs!^#2g!^!_#3i!_#O#2g#O#P#0X#P#o#2g#o#p#3i#p;'S#2g;'S;=`#4`<%lO#2g(<U#3pW(OpS(;dOY#3iZr#3irs#0{s#O#3i#O#P#0{#P;'S#3i;'S;=`#4Y<%lO#3i(<U#4]P;=`<%l#3i(Ap#4cP;=`<%l#2g(=h#4oY(Op(R!bS(;dOY#4fZr#4frs#1jsw#4fwx#3ix#O#4f#O#P#0{#P;'S#4f;'S;=`#5_<%lO#4f(=h#5bP;=`<%l#4f(CS#5hP;=`<%l#-{%#W#5xb$f&j$O$Id(Op(R!b!USOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z+h#7_b$W#t$f&j(Op(R!b!USOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z$/l#8rp$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#:v![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#:v#S#U%Z#U#V#>Q#V#X%Z#X#Y!4|#Y#b%Z#b#c#<v#c#d#AY#d#l%Z#l#m#D[#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#;Rk$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#:v![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#:v#S#X%Z#X#Y!4|#Y#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#=R_$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#>Zd$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#?i!R!S#?i!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#?i#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#?tf$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#?i!R!S#?i!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#?i#S#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Acc$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#Bn!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Bn#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Bye$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#Bn!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Bn#S#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Deg$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#E|![!^%Z!^!_*g!_!c%Z!c!i#E|!i#O%Z#O#P&c#P#R%Z#R#S#E|#S#T%Z#T#Z#E|#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#FXi$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#E|![!^%Z!^!_*g!_!c%Z!c!i#E|!i#O%Z#O#P&c#P#R%Z#R#S#E|#S#T%Z#T#Z#E|#Z#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#HT_!d$b$f&j#|%<f(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#I__`l$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(@^#Jk^g!*v!h'.r(Op(R!b(tSOY*gZr*grs'}sw*gwx)rx!P*g!P!Q#Kg!Q!^*g!^!_#L]!_!`#M}!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#KpX$h&j(Op(R!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#LfZ#n$Id(Op(R!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#MX!`#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#MbX$O$Id(Op(R!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#NWX#o$Id(Op(R!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Gh$ Oa#[%?x$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$!T!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#W$!`_#g$Ih$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh$#nafBf#o$Id$c#|$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$$s!`!a$%}!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$%O_#o$Id$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$&Ya#n$Id$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$'_!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$'j`#n$Id$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h$(wc(h$Ip$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P$*S!P!^%Z!^!_*g!_!a%Z!a!b$+^!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+`$*__}'#p$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$+i`$f&j#y$Id(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&^$,v_!{!Ln$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(@^$.Q_!P(8n$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/UZ$f&jO!^$/w!^!_$0_!_#i$/w#i#j$0d#j#l$/w#l#m$2V#m#o$/w#o#p$0_#p;'S$/w;'S;=`$4b<%lO$/w(n$0OT^#S$f&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0dO^#S(n$0i[$f&jO!Q&c!Q![$1_![!^&c!_!c&c!c!i$1_!i#T&c#T#Z$1_#Z#o&c#o#p$3u#p;'S&c;'S;=`&w<%lO&c(n$1dZ$f&jO!Q&c!Q![$2V![!^&c!_!c&c!c!i$2V!i#T&c#T#Z$2V#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2[Z$f&jO!Q&c!Q![$2}![!^&c!_!c&c!c!i$2}!i#T&c#T#Z$2}#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3SZ$f&jO!Q&c!Q![$/w![!^&c!_!c&c!c!i$/w!i#T&c#T#Z$/w#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$3xR!Q![$4R!c!i$4R#T#Z$4R#S$4US!Q![$4R!c!i$4R#T#Z$4R#q#r$0_(n$4eP;=`<%l$/w!2r$4s_!V!+S$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$5}`#v$Id$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&,v$7[_$f&j(Op(R!b(X&%WOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$8jk$f&j(Op(R!b'{&;d$[#t([!LYOY%ZYZ&cZr%Zrs&}st%Ztu$8Zuw%Zwx(rx}%Z}!O$:_!O!Q%Z!Q![$8Z![!^%Z!^!_*g!_!c%Z!c!}$8Z!}#O%Z#O#P&c#P#R%Z#R#S$8Z#S#T%Z#T#o$8Z#o#p*g#p$g%Z$g;'S$8Z;'S;=`$<e<%lO$8Z+d$:jk$f&j(Op(R!b$[#tOY%ZYZ&cZr%Zrs&}st%Ztu$:_uw%Zwx(rx}%Z}!O$:_!O!Q%Z!Q![$:_![!^%Z!^!_*g!_!c%Z!c!}$:_!}#O%Z#O#P&c#P#R%Z#R#S$:_#S#T%Z#T#o$:_#o#p*g#p$g%Z$g;'S$:_;'S;=`$<_<%lO$:_+d$<bP;=`<%l$:_(CS$<hP;=`<%l$8Z!5p$<tX![!3l(Op(R!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g&CO$=la(o&;`$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+^#q;'S%Z;'S;=`+a<%lO%Z%#`$?O_!Z$I`r`$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(r$@Y_!pS$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$Aj|$f&j(Op(R!b't(;d$Y#t'{&;d([!LYOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$AX#BZ$ISEr$IS$I_$AX$I_$JTEr$JT$JU$AX$JU$KVEr$KV$KW$AX$KW&FUEr&FU&FV$AX&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$AX?HUOEr(CS$Duk$f&j(Op(R!b'u(;d$Y#t'{&;d([!LYOY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[XB,GB,KB,2,3,4,5,6,7,8,9,10,11,12,13,ZB,new xo("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOt~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!R~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(Z~~",141,332),new xo("j~RQYZXz{^~^O'x~~aP!P!Qd~iO'y~~",25,315)],topRules:{Script:[0,6],SingleExpression:[1,269],SingleClassItem:[2,270]},dialects:{jsx:0,ts:14614},dynamicPrecedences:{69:1,79:1,81:1,165:1,193:1},specialized:[{term:319,get:r=>eQ[r]||-1},{term:334,get:r=>tQ[r]||-1},{term:70,get:r=>iQ[r]||-1}],tokenPrec:14638});var om=class{constructor(e,t,i){this.state=e,this.pos=t,this.explicit=i,this.abortListeners=[]}tokenBefore(e){let t=zt(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),i=Math.max(t.from,this.pos-250),n=t.text.slice(i-t.from,this.pos-t.from),s=n.search(_k(e,!1));return s<0?null:{from:i+s,to:this.pos,text:n.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t){e=="abort"&&this.abortListeners&&this.abortListeners.push(t)}};function jk(r){let e=Object.keys(r).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function nQ(r){let e=Object.create(null),t=Object.create(null);for(let{label:n}of r){e[n[0]]=!0;for(let s=1;s<n.length;s++)t[n[s]]=!0}let i=jk(e)+jk(t)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function qO(r){let e=r.map(n=>typeof n=="string"?{label:n}:n),[t,i]=e.every(n=>/^\w+$/.test(n.label))?[/\w*$/,/\w+$/]:nQ(e);return n=>{let s=n.matchBefore(i);return s||n.explicit?{from:s?s.from:n.pos,options:e,validFor:t}:null}}function Hk(r,e){return t=>{for(let i=zt(t.state).resolveInner(t.pos,-1);i;i=i.parent){if(r.indexOf(i.name)>-1)return null;if(i.type.isTop)break}return e(t)}}var am=class{constructor(e,t,i,n){this.completion=e,this.source=t,this.match=i,this.score=n}};function ko(r){return r.selection.main.from}function _k(r,e){var t;let{source:i}=r,n=e&&i[0]!="^",s=i[i.length-1]!="$";return!n&&!s?r:new RegExp(`${n?"^":""}(?:${i})${s?"$":""}`,(t=r.flags)!==null&&t!==void 0?t:r.ignoreCase?"i":"")}var Tu=Yi.define();function rQ(r,e,t,i){let{main:n}=r.selection,s=t-n.from,o=i-n.from;return Object.assign(Object.assign({},r.changeByRange(a=>a!=n&&t!=i&&r.sliceDoc(a.from+s,a.from+o)!=r.sliceDoc(t,i)?{range:a}:{changes:{from:a.from+s,to:i==n.from?a.to:a.from+o,insert:e},range:ye.cursor(a.from+s+e.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}var zk=new WeakMap;function sQ(r){if(!Array.isArray(r))return r;let e=zk.get(r);return e||zk.set(r,e=qO(r)),e}var lm=Ue.define(),Su=Ue.define(),RO=class{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let i=jn(e,t),n=Ar(i);this.chars.push(i);let s=e.slice(t,t+n),o=s.toUpperCase();this.folded.push(jn(o==s?s.toLowerCase():o,0)),t+=n}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:i,any:n,precise:s,byWord:o}=this;if(t.length==1){let C=jn(e,0),x=Ar(C),M=x==e.length?0:-100;if(C!=t[0])if(C==i[0])M+=-200;else return null;return this.ret(M,[0,x])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=t.length,h=0;if(a<0){for(let C=0,x=Math.min(e.length,200);C<x&&h<l;){let M=jn(e,C);(M==t[h]||M==i[h])&&(n[h++]=C),C+=Ar(M)}if(h<l)return null}let c=0,p=0,d=!1,f=0,m=-1,g=-1,v=/[a-z]/.test(e),O=!0;for(let C=0,x=Math.min(e.length,200),M=0;C<x&&p<l;){let k=jn(e,C);a<0&&(c<l&&k==t[c]&&(s[c++]=C),f<l&&(k==t[f]||k==i[f]?(f==0&&(m=C),g=C+1,f++):f=0));let A,j=k<255?k>=48&&k<=57||k>=97&&k<=122?2:k>=65&&k<=90?1:0:(A=Ew(k))!=A.toLowerCase()?1:A!=A.toUpperCase()?2:0;(!C||j==1&&v||M==0&&j!=0)&&(t[p]==k||i[p]==k&&(d=!0)?o[p++]=C:o.length&&(O=!1)),M=j,C+=Ar(k)}return p==l&&o[0]==0&&O?this.result(-100+(d?-200:0),o,e):f==l&&m==0?this.ret(-200-e.length+(g==e.length?0:-100),[0,g]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):f==l?this.ret(-900-e.length,[m,g]):p==l?this.result(-100+(d?-200:0)+-700+(O?0:-1100),o,e):t.length==2?null:this.result((n[0]?-700:0)+-200+-1100,n,e)}result(e,t,i){let n=[],s=0;for(let o of t){let a=o+(this.astral?Ar(jn(i,o)):1);s&&n[s-1]==o?n[s-1]=a:(n[s++]=o,n[s++]=a)}return this.ret(e-i.length,n)}},BO=class{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),i=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return i==null?null:(this.matched=[0,t.length],this.score=i+(e.length==this.pattern.length?0:-100),this)}},mi=be.define({combine(r){return Ca(r,{activateOnTyping:!0,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:oQ,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>i=>Rk(e(i),t(i)),optionClass:(e,t)=>i=>Rk(e(i),t(i)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function Rk(r,e){return r?e?r+" "+e:r:e}function oQ(r,e,t,i,n,s){let o=r.textDirection==jt.RTL,a=o,l=!1,h="top",c,p,d=e.left-n.left,f=n.right-e.right,m=i.right-i.left,g=i.bottom-i.top;if(a&&d<Math.min(m,f)?a=!1:!a&&f<Math.min(m,d)&&(a=!0),m<=(a?d:f))c=Math.max(n.top,Math.min(t.top,n.bottom-g))-e.top,p=Math.min(400,a?d:f);else{l=!0,p=Math.min(400,(o?e.right:n.right-e.left)-30);let C=n.bottom-e.bottom;C>=g||C>e.top?c=t.bottom-e.top:(h="bottom",c=e.bottom-t.top)}let v=(e.bottom-e.top)/s.offsetHeight,O=(e.right-e.left)/s.offsetWidth;return{style:`${h}: ${c/v}px; max-width: ${p/O}px`,class:"cm-completionInfo-"+(l?o?"left-narrow":"right-narrow":a?"left":"right")}}function aQ(r){let e=r.addToOptions.slice();return r.icons&&e.push({render(t){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),t.type&&i.classList.add(...t.type.split(/\s+/g).map(n=>"cm-completionIcon-"+n)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(t,i,n,s){let o=document.createElement("span");o.className="cm-completionLabel";let a=t.displayLabel||t.label,l=0;for(let h=0;h<s.length;){let c=s[h++],p=s[h++];c>l&&o.appendChild(document.createTextNode(a.slice(l,c)));let d=o.appendChild(document.createElement("span"));d.appendChild(document.createTextNode(a.slice(c,p))),d.className="cm-completionMatchedText",l=p}return l<a.length&&o.appendChild(document.createTextNode(a.slice(l))),o},position:50},{render(t){if(!t.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=t.detail,i},position:80}),e.sort((t,i)=>t.position-i.position).map(t=>t.render)}function zO(r,e,t){if(r<=t)return{from:0,to:r};if(e<0&&(e=0),e<=r>>1){let n=Math.floor(e/t);return{from:n*t,to:(n+1)*t}}let i=Math.floor((r-e)/t);return{from:r-(i+1)*t,to:r-i*t}}var QO=class{constructor(e,t,i){this.view=e,this.stateField=t,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let n=e.state.field(t),{options:s,selected:o}=n.open,a=e.state.facet(mi);this.optionContent=aQ(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=zO(s.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:h}=e.state.field(t).open;for(let c=l.target,p;c&&c!=this.dom;c=c.parentNode)if(c.nodeName=="LI"&&(p=/-(\d+)$/.exec(c.id))&&+p[1]<h.length){this.applyCompletion(e,h[+p[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let h=e.state.field(this.stateField,!1);h&&h.tooltip&&e.state.facet(mi).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:Su.of(null)})}),this.showOptions(s,n.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let i=e.state.field(this.stateField),n=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),i!=n){let{options:s,selected:o,disabled:a}=i.open;(!n.open||n.open.options!=s)&&(this.range=zO(s.length,o,e.state.facet(mi).maxRenderedOptions),this.showOptions(s,i.id)),this.updateSel(),a!=((t=n.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of t.split(" "))i&&this.dom.classList.add(i);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=zO(t.options.length,t.selected,this.view.state.facet(mi).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:i}=t.options[t.selected],{info:n}=i;if(!n)return;let s=typeof n=="string"?document.createTextNode(n):n(i);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,i)}).catch(o=>Pi(this.view.state,o,"completion info")):this.addInfoPane(s,i)}}addInfoPane(e,t){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",e.nodeType!=null)i.appendChild(e),this.infoDestroy=null;else{let{dom:n,destroy:s}=e;i.appendChild(n),this.infoDestroy=s||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let i=this.list.firstChild,n=this.range.from;i;i=i.nextSibling,n++)i.nodeName!="LI"||!i.id?n--:n==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),t=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return t&&hQ(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),n=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.defaultView||window;s={left:0,top:0,right:o.innerWidth,bottom:o.innerHeight}}return n.top>Math.min(s.bottom,t.bottom)-10||n.bottom<Math.max(s.top,t.top)+10?null:this.view.state.facet(mi).positionInfo(this.view,t,n,i,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,i){let n=document.createElement("ul");n.id=t,n.setAttribute("role","listbox"),n.setAttribute("aria-expanded","true"),n.setAttribute("aria-label",this.view.state.phrase("Completions"));let s=null;for(let o=i.from;o<i.to;o++){let{completion:a,match:l}=e[o],{section:h}=a;if(h){let d=typeof h=="string"?h:h.name;if(d!=s&&(o>i.from||i.from==0))if(s=d,typeof h!="string"&&h.header)n.appendChild(h.header(h));else{let f=n.appendChild(document.createElement("completion-section"));f.textContent=d}}let c=n.appendChild(document.createElement("li"));c.id=t+"-"+o,c.setAttribute("role","option");let p=this.optionClass(a);p&&(c.className=p);for(let d of this.optionContent){let f=d(a,this.view.state,this.view,l);f&&c.appendChild(f)}}return i.from&&n.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&n.classList.add("cm-completionListIncompleteBottom"),n}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}};function lQ(r,e){return t=>new QO(t,r,e)}function hQ(r,e){let t=r.getBoundingClientRect(),i=e.getBoundingClientRect(),n=t.height/r.offsetHeight;i.top<t.top?r.scrollTop-=(t.top-i.top)/n:i.bottom>t.bottom&&(r.scrollTop+=(i.bottom-t.bottom)/n)}function Bk(r){return(r.boost||0)*100+(r.apply?10:0)+(r.info?5:0)+(r.type?1:0)}function cQ(r,e){let t=[],i=null,n=h=>{t.push(h);let{section:c}=h.completion;if(c){i||(i=[]);let p=typeof c=="string"?c:c.name;i.some(d=>d.name==p)||i.push(typeof c=="string"?{name:p}:c)}},s=e.facet(mi);for(let h of r)if(h.hasResult()){let c=h.result.getMatch;if(h.result.filter===!1)for(let p of h.result.options)n(new am(p,h.source,c?c(p):[],1e9-t.length));else{let p=e.sliceDoc(h.from,h.to),d,f=s.filterStrict?new BO(p):new RO(p);for(let m of h.result.options)if(d=f.match(m.label)){let g=m.displayLabel?c?c(m,d.matched):[]:d.matched;n(new am(m,h.source,g,d.score+(m.boost||0)))}}}if(i){let h=Object.create(null),c=0,p=(d,f)=>{var m,g;return((m=d.rank)!==null&&m!==void 0?m:1e9)-((g=f.rank)!==null&&g!==void 0?g:1e9)||(d.name<f.name?-1:1)};for(let d of i.sort(p))c-=1e5,h[d.name]=c;for(let d of t){let{section:f}=d.completion;f&&(d.score+=h[typeof f=="string"?f:f.name])}}let o=[],a=null,l=s.compareCompletions;for(let h of t.sort((c,p)=>p.score-c.score||l(c.completion,p.completion))){let c=h.completion;!a||a.label!=c.label||a.detail!=c.detail||a.type!=null&&c.type!=null&&a.type!=c.type||a.apply!=c.apply||a.boost!=c.boost?o.push(h):Bk(h.completion)>Bk(a)&&(o[o.length-1]=h),a=h.completion}return o}var UO=class r{constructor(e,t,i,n,s,o){this.options=e,this.attrs=t,this.tooltip=i,this.timestamp=n,this.selected=s,this.disabled=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new r(this.options,Qk(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,i,n,s){let o=cQ(e,t);if(!o.length)return n&&e.some(l=>l.state==1)?new r(n.options,n.attrs,n.tooltip,n.timestamp,n.selected,!0):null;let a=t.facet(mi).selectOnOpen?0:-1;if(n&&n.selected!=a&&n.selected!=-1){let l=n.options[n.selected].completion;for(let h=0;h<o.length;h++)if(o[h].completion==l){a=h;break}}return new r(o,Qk(i,a),{pos:e.reduce((l,h)=>h.hasResult()?Math.min(l,h.from):l,1e8),create:mQ,above:s.aboveCursor},n?n.timestamp:Date.now(),a,!1)}map(e){return new r(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}},HO=class r{constructor(e,t,i){this.active=e,this.id=t,this.open=i}static start(){return new r(dQ,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,i=t.facet(mi),s=(i.override||t.languageDataAt("autocomplete",ko(t)).map(sQ)).map(a=>(this.active.find(h=>h.source==a)||new Fr(a,this.active.some(h=>h.state!=0)?1:0)).update(e,i));s.length==this.active.length&&s.every((a,l)=>a==this.active[l])&&(s=this.active);let o=this.open;o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(a=>a.hasResult()&&e.changes.touchesRange(a.from,a.to))||!uQ(s,this.active)?o=UO.build(s,t,this.id,o,i):o&&o.disabled&&!s.some(a=>a.state==1)&&(o=null),!o&&s.every(a=>a.state!=1)&&s.some(a=>a.hasResult())&&(s=s.map(a=>a.hasResult()?new Fr(a.source,0):a));for(let a of e.effects)a.is(Vk)&&(o=o&&o.setSelected(a.value,this.id));return s==this.active&&o==this.open?this:new r(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:pQ}};function uQ(r,e){if(r==e)return!0;for(let t=0,i=0;;){for(;t<r.length&&!r[t].hasResult;)t++;for(;i<e.length&&!e[i].hasResult;)i++;let n=t==r.length,s=i==e.length;if(n||s)return n==s;if(r[t++].result!=e[i++].result)return!1}}var pQ={"aria-autocomplete":"list"};function Qk(r,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":r};return e>-1&&(t["aria-activedescendant"]=r+"-"+e),t}var dQ=[];function _O(r){return r.isUserEvent("input.type")?"input":r.isUserEvent("delete.backward")?"delete":null}var Fr=class r{constructor(e,t,i=-1){this.source=e,this.state=t,this.explicitPos=i}hasResult(){return!1}update(e,t){let i=_O(e),n=this;i?n=n.handleUserEvent(e,i,t):e.docChanged?n=n.handleChange(e):e.selection&&n.state!=0&&(n=new r(n.source,0));for(let s of e.effects)if(s.is(lm))n=new r(n.source,1,s.value?ko(e.state):-1);else if(s.is(Su))n=new r(n.source,0);else if(s.is(Fk))for(let o of s.value)o.source==n.source&&(n=o);return n}handleUserEvent(e,t,i){return t=="delete"||!i.activateOnTyping?this.map(e.changes):new r(this.source,1)}handleChange(e){return e.changes.touchesRange(ko(e.startState))?new r(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new r(this.source,this.state,e.mapPos(this.explicitPos))}},hm=class r extends Fr{constructor(e,t,i,n,s){super(e,2,t),this.result=i,this.from=n,this.to=s}hasResult(){return!0}handleUserEvent(e,t,i){var n;let s=this.result;s.map&&!e.changes.empty&&(s=s.map(s,e.changes));let o=e.changes.mapPos(this.from),a=e.changes.mapPos(this.to,1),l=ko(e.state);if((this.explicitPos<0?l<=o:l<this.from)||l>a||!s||t=="delete"&&ko(e.startState)==this.from)return new Fr(this.source,t=="input"&&i.activateOnTyping?1:0);let h=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return fQ(s.validFor,e.state,o,a)?new r(this.source,h,s,o,a):s.update&&(s=s.update(s,o,a,new om(e.state,l,h>=0)))?new r(this.source,h,s,s.from,(n=s.to)!==null&&n!==void 0?n:ko(e.state)):new Fr(this.source,1,h)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new Fr(this.source,0):this.map(e.changes)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new r(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Fr(this.source,0)}};function fQ(r,e,t,i){if(!r)return!1;let n=e.sliceDoc(t,i);return typeof r=="function"?r(n,t,i,e):_k(r,!0).test(n)}var Fk=Ue.define({map(r,e){return r.map(t=>t.map(e))}}),Vk=Ue.define(),ji=si.define({create(){return HO.start()},update(r,e){return r.update(e)},provide:r=>[du.from(r,e=>e.tooltip),Te.contentAttributes.from(r,e=>e.attrs)]});function WO(r,e){let t=e.completion.apply||e.completion.label,i=r.state.field(ji).active.find(n=>n.source==e.source);return i instanceof hm?(typeof t=="string"?r.dispatch(Object.assign(Object.assign({},rQ(r.state,t,i.from,i.to)),{annotations:Tu.of(e.completion)})):t(r,e.completion,i.from,i.to),!0):!1}var mQ=lQ(ji,WO);function sm(r,e="option"){return t=>{let i=t.state.field(ji,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<t.state.facet(mi).interactionDelay)return!1;let n=1,s;e=="page"&&(s=Hb(t,i.open.tooltip))&&(n=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=i.open.options,a=i.open.selected>-1?i.open.selected+n*(r?1:-1):r?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),t.dispatch({effects:Vk.of(a)}),!0}}var gQ=r=>{let e=r.state.field(ji,!1);return r.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<r.state.facet(mi).interactionDelay?!1:WO(r,e.open.options[e.open.selected])},vQ=r=>r.state.field(ji,!1)?(r.dispatch({effects:lm.of(!0)}),!0):!1,yQ=r=>{let e=r.state.field(ji,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(r.dispatch({effects:Su.of(null)}),!0)},FO=class{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}},bQ=50,OQ=1e3,CQ=qi.fromClass(class{constructor(r){this.view=r,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of r.state.field(ji).active)e.state==1&&this.startQuery(e)}update(r){let e=r.state.field(ji);if(!r.selectionSet&&!r.docChanged&&r.startState.field(ji)==e)return;let t=r.transactions.some(n=>(n.selection||n.docChanged)&&!_O(n));for(let n=0;n<this.running.length;n++){let s=this.running[n];if(t||s.updates.length+r.transactions.length>bQ&&Date.now()-s.time>OQ){for(let o of s.context.abortListeners)try{o()}catch(a){Pi(this.view.state,a)}s.context.abortListeners=null,this.running.splice(n--,1)}else s.updates.push(...r.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),r.transactions.some(n=>n.effects.some(s=>s.is(lm)))&&(this.pendingStart=!0);let i=this.pendingStart?50:r.state.facet(mi).activateOnTypingDelay;if(this.debounceUpdate=e.active.some(n=>n.state==1&&!this.running.some(s=>s.active.source==n.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let n of r.transactions)_O(n)=="input"?this.composing=2:this.composing==2&&n.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:r}=this.view,e=r.field(ji);for(let t of e.active)t.state==1&&!this.running.some(i=>i.active.source==t.source)&&this.startQuery(t)}startQuery(r){let{state:e}=this.view,t=ko(e),i=new om(e,t,r.explicitPos==t),n=new FO(r,i);this.running.push(n),Promise.resolve(r.source(i)).then(s=>{n.context.aborted||(n.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Su.of(null)}),Pi(this.view.state,s)})}scheduleAccept(){this.running.every(r=>r.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(mi).updateSyncTime))}accept(){var r;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(mi);for(let i=0;i<this.running.length;i++){let n=this.running[i];if(n.done===void 0)continue;if(this.running.splice(i--,1),n.done){let o=new hm(n.active.source,n.active.explicitPos,n.done,n.done.from,(r=n.done.to)!==null&&r!==void 0?r:ko(n.updates.length?n.updates[0].startState:this.view.state));for(let a of n.updates)o=o.update(a,t);if(o.hasResult()){e.push(o);continue}}let s=this.view.state.field(ji).active.find(o=>o.source==n.active.source);if(s&&s.state==1)if(n.done==null){let o=new Fr(n.active.source,0);for(let a of n.updates)o=o.update(a,t);o.state!=1&&e.push(o)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:Fk.of(e)})}},{eventHandlers:{blur(r){let e=this.view.state.field(ji,!1);if(e&&e.tooltip&&this.view.state.facet(mi).closeOnBlur){let t=e.open&&Hb(this.view,e.open.tooltip);(!t||!t.dom.contains(r.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Su.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:lm.of(!1)}),20),this.composing=0}}}),SQ=typeof navigator=="object"&&/Win/.test(navigator.platform),MQ=ps.highest(Te.domEventHandlers({keydown(r,e){let t=e.state.field(ji,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||r.key.length>1||r.ctrlKey&&!(SQ&&r.altKey)||r.metaKey)return!1;let i=t.open.options[t.open.selected],n=t.active.find(o=>o.source==i.source),s=i.completion.commitCharacters||n.result.commitCharacters;return s&&s.indexOf(r.key)>-1&&WO(e,i),!1}})),$k=Te.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1D465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1D436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1D461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1F511}\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),VO=class{constructor(e,t,i,n){this.field=e,this.line=t,this.from=i,this.to=n}},$O=class r{constructor(e,t,i){this.field=e,this.from=t,this.to=i}map(e){let t=e.mapPos(this.from,-1,pi.TrackDel),i=e.mapPos(this.to,1,pi.TrackDel);return t==null||i==null?null:new r(this.field,t,i)}},YO=class r{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let i=[],n=[t],s=e.doc.lineAt(t),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(i.length){let h=o,c=/^\t*/.exec(l)[0].length;for(let p=0;p<c;p++)h+=e.facet($l);n.push(t+h.length-c),l=h+l.slice(c)}i.push(l),t+=l.length+1}let a=this.fieldPositions.map(l=>new $O(l.field,n[l.line]+l.from,n[l.line]+l.to));return{text:i,ranges:a}}static parse(e){let t=[],i=[],n=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",h=-1;for(let c=0;c<t.length;c++)(a!=null?t[c].seq==a:l&&t[c].name==l)&&(h=c);if(h<0){let c=0;for(;c<t.length&&(a==null||t[c].seq!=null&&t[c].seq<a);)c++;t.splice(c,0,{seq:a,name:l}),h=c;for(let p of n)p.field>=h&&p.field++}n.push(new VO(h,i.length,s.index,s.index+l.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}for(let a;a=/\\([{}])/.exec(o);){o=o.slice(0,a.index)+a[1]+o.slice(a.index+a[0].length);for(let l of n)l.line==i.length&&l.from>a.index&&(l.from--,l.to--)}i.push(o)}return new r(i,n)}},TQ=_e.widget({widget:new class extends go{toDOM(){let r=document.createElement("span");return r.className="cm-snippetFieldPosition",r}ignoreEvent(){return!1}}}),NQ=_e.mark({class:"cm-snippetField"}),Gl=class r{constructor(e,t){this.ranges=e,this.active=t,this.deco=_e.set(e.map(i=>(i.from==i.to?TQ:NQ).range(i.from,i.to)))}map(e){let t=[];for(let i of this.ranges){let n=i.map(e);if(!n)return null;t.push(n)}return new r(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(i=>i.field==this.active&&i.from<=t.from&&i.to>=t.to))}},Nu=Ue.define({map(r,e){return r&&r.map(e)}}),xQ=Ue.define(),Mu=si.define({create(){return null},update(r,e){for(let t of e.effects){if(t.is(Nu))return t.value;if(t.is(xQ)&&r)return new Gl(r.ranges,t.value)}return r&&e.docChanged&&(r=r.map(e.changes)),r&&e.selection&&!r.selectionInsideField(e.selection)&&(r=null),r},provide:r=>Te.decorations.from(r,e=>e?e.deco:_e.none)});function ZO(r,e){return ye.create(r.filter(t=>t.field==e).map(t=>ye.range(t.from,t.to)))}function cm(r){let e=YO.parse(r);return(t,i,n,s)=>{let{text:o,ranges:a}=e.instantiate(t.state,n),l={changes:{from:n,to:s,insert:He.of(o)},scrollIntoView:!0,annotations:i?[Tu.of(i),$t.userEvent.of("input.complete")]:void 0};if(a.length&&(l.selection=ZO(a,0)),a.some(h=>h.field>0)){let h=new Gl(a,0),c=l.effects=[Nu.of(h)];t.state.field(Mu,!1)===void 0&&c.push(Ue.appendConfig.of([Mu,LQ,AQ,$k]))}t.dispatch(t.state.update(l))}}function Yk(r){return({state:e,dispatch:t})=>{let i=e.field(Mu,!1);if(!i||r<0&&i.active==0)return!1;let n=i.active+r,s=r>0&&!i.ranges.some(o=>o.field==n+r);return t(e.update({selection:ZO(i.ranges,n),effects:Nu.of(s?null:new Gl(i.ranges,n)),scrollIntoView:!0})),!0}}var wQ=({state:r,dispatch:e})=>r.field(Mu,!1)?(e(r.update({effects:Nu.of(null)})),!0):!1,EQ=Yk(1),kQ=Yk(-1);var DQ=[{key:"Tab",run:EQ,shift:kQ},{key:"Escape",run:wQ}],Uk=be.define({combine(r){return r.length?r[0]:DQ}}),LQ=ps.highest(yo.compute([Uk],r=>r.facet(Uk)));function zi(r,e){return Object.assign(Object.assign({},e),{apply:cm(r)})}var AQ=Te.domEventHandlers({mousedown(r,e){let t=e.state.field(Mu,!1),i;if(!t||(i=e.posAtCoords({x:r.clientX,y:r.clientY}))==null)return!1;let n=t.ranges.find(s=>s.from<=i&&s.to>=i);return!n||n.field==t.active?!1:(e.dispatch({selection:ZO(t.ranges,n.field),effects:Nu.of(t.ranges.some(s=>s.field>n.field)?new Gl(t.ranges,n.field):null),scrollIntoView:!0}),!0)}});var qk=new class extends nr{};qk.startSide=1;qk.endSide=-1;var PK=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent);function Wk(r={}){return[MQ,ji,mi.of(r),CQ,PQ,$k]}var IQ=[{key:"Ctrl-Space",run:vQ},{key:"Escape",run:yQ},{key:"ArrowDown",run:sm(!0)},{key:"ArrowUp",run:sm(!1)},{key:"PageDown",run:sm(!0,"page")},{key:"PageUp",run:sm(!1,"page")},{key:"Enter",run:gQ}],PQ=ps.highest(yo.computeN([mi],r=>r.facet(mi).defaultKeymap?[IQ]:[]));function XO(r){let e=r.field(ji,!1);return e&&e.active.some(t=>t.state==1)?"pending":e&&e.active.some(t=>t.state!=0)?"active":null}var Kk=[zi("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),zi("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),zi("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),zi("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),zi("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),zi(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),zi("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),zi(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),zi(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),zi('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),zi('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],jQ=Kk.concat([zi("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),zi("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),zi("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),Zk=new Ql,Jk=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function xu(r){return(e,t)=>{let i=e.node.getChild("VariableDefinition");return i&&t(i,r),!0}}var zQ=["FunctionDeclaration"],RQ={FunctionDeclaration:xu("function"),ClassDeclaration:xu("class"),ClassExpression:()=>!0,EnumDeclaration:xu("constant"),TypeAliasDeclaration:xu("type"),NamespaceDeclaration:xu("namespace"),VariableDefinition(r,e){r.matchContext(zQ)||e(r,"variable")},TypeDefinition(r,e){e(r,"type")},__proto__:null};function eD(r,e){let t=Zk.get(e);if(t)return t;let i=[],n=!0;function s(o,a){let l=r.sliceString(o.from,o.to);i.push({label:l,type:a})}return e.cursor(Ge.IncludeAnonymous).iterate(o=>{if(n)n=!1;else if(o.name){let a=RQ[o.name];if(a&&a(o,s)||Jk.has(o.name))return!1}else if(o.to-o.from>8192){for(let a of eD(r,o.node))i.push(a);return!1}}),Zk.set(e,i),i}var Xk=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,tD=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function BQ(r){let e=zt(r.state).resolveInner(r.pos,-1);if(tD.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&Xk.test(r.state.sliceDoc(e.from,e.to));if(!t&&!r.explicit)return null;let i=[];for(let n=e;n;n=n.parent)Jk.has(n.name)&&(i=i.concat(eD(r.state.doc,n)));return{options:i,from:t?e.from:r.pos,validFor:Xk}}var ar=Mo.define({name:"javascript",parser:Pk.configure({props:[Yl.add({IfStatement:ql({except:/^\s*({|else\b)/}),TryStatement:ql({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:H1,SwitchBody:r=>{let e=r.textAfter,t=/^\s*\}/.test(e),i=/^\s*(case|default)\b/.test(e);return r.baseIndent+(t?0:i?1:2)*r.unit},Block:U1({closing:"}"}),ArrowFunction:r=>r.baseIndent+r.unit,"TemplateString BlockComment":()=>null,"Statement Property":ql({except:/^{/}),JSXElement(r){let e=/^\s*<\//.test(r.textAfter);return r.lineIndent(r.node.from)+(e?0:r.unit)},JSXEscape(r){let e=/\s*\}/.test(r.textAfter);return r.lineIndent(r.node.from)+(e?0:r.unit)},"JSXOpenTag JSXSelfClosingTag"(r){return r.column(r.node.from)+r.unit}}),Wl.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":Kf,BlockComment(r){return{from:r.from+2,to:r.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),iD={test:r=>/^JSX/.test(r.name),facet:uO({commentTokens:{block:{open:"{/*",close:"*/}"}}})},GO=ar.configure({dialect:"ts"},"typescript"),KO=ar.configure({dialect:"jsx",props:[Gf.add(r=>r.isTop?[iD]:void 0)]}),JO=ar.configure({dialect:"jsx ts",props:[Gf.add(r=>r.isTop?[iD]:void 0)]},"typescript"),nD=r=>({label:r,type:"keyword"}),rD="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(nD),QQ=rD.concat(["declare","implements","private","protected","public"].map(nD));function sD(r={}){let e=r.jsx?r.typescript?JO:KO:r.typescript?GO:ar,t=r.typescript?jQ.concat(QQ):Kk.concat(rD);return new To(e,[ar.data.of({autocomplete:Hk(tD,qO(t))}),ar.data.of({autocomplete:BQ}),r.jsx?_Q:[]])}function UQ(r){for(;;){if(r.name=="JSXOpenTag"||r.name=="JSXSelfClosingTag"||r.name=="JSXFragmentTag")return r;if(r.name=="JSXEscape"||!r.parent)return null;r=r.parent}}function Gk(r,e,t=r.length){for(let i=e?.firstChild;i;i=i.nextSibling)if(i.name=="JSXIdentifier"||i.name=="JSXBuiltin"||i.name=="JSXNamespacedName"||i.name=="JSXMemberExpression")return r.sliceString(i.from,Math.min(i.to,t));return""}var HQ=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),_Q=Te.inputHandler.of((r,e,t,i,n)=>{if((HQ?r.composing:r.compositionStarted)||r.state.readOnly||e!=t||i!=">"&&i!="/"||!ar.isActiveAt(r.state,e,-1))return!1;let s=n(),{state:o}=s,a=o.changeByRange(l=>{var h;let{head:c}=l,p=zt(o).resolveInner(c-1,-1),d;if(p.name=="JSXStartTag"&&(p=p.parent),!(o.doc.sliceString(c-1,c)!=i||p.name=="JSXAttributeValue"&&p.to>c)){if(i==">"&&p.name=="JSXFragmentTag")return{range:l,changes:{from:c,insert:"</>"}};if(i=="/"&&p.name=="JSXStartCloseTag"){let f=p.parent,m=f.parent;if(m&&f.from==c-2&&((d=Gk(o.doc,m.firstChild,c))||((h=m.firstChild)===null||h===void 0?void 0:h.name)=="JSXFragmentTag")){let g=`${d}>`;return{range:ye.cursor(c+g.length,-1),changes:{from:c,insert:g}}}}else if(i==">"){let f=UQ(p);if(f&&f.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(o.doc.sliceString(c,c+2))&&(d=Gk(o.doc,f,c)))return{range:l,changes:{from:c,insert:`</${d}>`}}}}return{range:l}});return a.changes.empty?!1:(r.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});var wu=["_blank","_self","_top","_parent"],e0=["ascii","utf-8","utf-16","latin1","latin1"],t0=["get","post","put","delete"],i0=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],gn=["true","false"],Oe={},FQ={a:{attrs:{href:null,ping:null,type:null,media:null,target:wu,hreflang:null}},abbr:Oe,address:Oe,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:Oe,aside:Oe,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:Oe,base:{attrs:{href:null,target:wu}},bdi:Oe,bdo:Oe,blockquote:{attrs:{cite:null}},body:Oe,br:Oe,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:i0,formmethod:t0,formnovalidate:["novalidate"],formtarget:wu,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:Oe,center:Oe,cite:Oe,code:Oe,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:Oe,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:Oe,div:Oe,dl:Oe,dt:Oe,em:Oe,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:Oe,figure:Oe,footer:Oe,form:{attrs:{action:null,name:null,"accept-charset":e0,autocomplete:["on","off"],enctype:i0,method:t0,novalidate:["novalidate"],target:wu}},h1:Oe,h2:Oe,h3:Oe,h4:Oe,h5:Oe,h6:Oe,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:Oe,hgroup:Oe,hr:Oe,html:{attrs:{manifest:null}},i:Oe,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:i0,formmethod:t0,formnovalidate:["novalidate"],formtarget:wu,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:Oe,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:Oe,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:Oe,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:e0,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:Oe,noscript:Oe,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:Oe,param:{attrs:{name:null,value:null}},pre:Oe,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:Oe,rt:Oe,ruby:Oe,samp:Oe,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:e0}},section:Oe,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:Oe,source:{attrs:{src:null,type:null,media:null}},span:Oe,strong:Oe,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:Oe,summary:Oe,sup:Oe,table:Oe,tbody:Oe,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:Oe,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:Oe,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:Oe,time:{attrs:{datetime:null}},title:Oe,tr:Oe,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:Oe,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:Oe},hD={accesskey:null,class:null,contenteditable:gn,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:gn,autocorrect:gn,autocapitalize:gn,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":gn,"aria-autocomplete":["inline","list","both","none"],"aria-busy":gn,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":gn,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":gn,"aria-hidden":gn,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":gn,"aria-multiselectable":gn,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":gn,"aria-relevant":null,"aria-required":gn,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},cD="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(r=>"on"+r);for(let r of cD)hD[r]=null;var Kl=class{constructor(e,t){this.tags=Object.assign(Object.assign({},FQ),e),this.globalAttrs=Object.assign(Object.assign({},hD),t),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}};Kl.default=new Kl;function Jl(r,e,t=r.length){if(!e)return"";let i=e.firstChild,n=i&&i.getChild("TagName");return n?r.sliceString(n.from,Math.min(n.to,t)):""}function eh(r,e=!1){for(;r;r=r.parent)if(r.name=="Element")if(e)e=!1;else return r;return null}function uD(r,e,t){let i=t.tags[Jl(r,eh(e))];return i?.children||t.allTags}function n0(r,e){let t=[];for(let i=eh(e);i&&!i.type.isTop;i=eh(i.parent)){let n=Jl(r,i);if(n&&i.lastChild.name=="CloseTag")break;n&&t.indexOf(n)<0&&(e.name=="EndTag"||e.from>=i.firstChild.to)&&t.push(n)}return t}var pD=/^[:\-\.\w\u00b7-\uffff]*$/;function oD(r,e,t,i,n){let s=/\s*>/.test(r.sliceDoc(n,n+5))?"":">",o=eh(t,!0);return{from:i,to:n,options:uD(r.doc,o,e).map(a=>({label:a,type:"type"})).concat(n0(r.doc,t).map((a,l)=>({label:"/"+a,apply:"/"+a+s,type:"type",boost:99-l}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function aD(r,e,t,i){let n=/\s*>/.test(r.sliceDoc(i,i+5))?"":">";return{from:t,to:i,options:n0(r.doc,e).map((s,o)=>({label:s,apply:s+n,type:"type",boost:99-o})),validFor:pD}}function VQ(r,e,t,i){let n=[],s=0;for(let o of uD(r.doc,t,e))n.push({label:"<"+o,type:"type"});for(let o of n0(r.doc,t))n.push({label:"</"+o+">",type:"type",boost:99-s++});return{from:i,to:i,options:n,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function $Q(r,e,t,i,n){let s=eh(t),o=s?e.tags[Jl(r.doc,s)]:null,a=o&&o.attrs?Object.keys(o.attrs):[],l=o&&o.globalAttrs===!1?a:a.length?a.concat(e.globalAttrNames):e.globalAttrNames;return{from:i,to:n,options:l.map(h=>({label:h,type:"property"})),validFor:pD}}function YQ(r,e,t,i,n){var s;let o=(s=t.parent)===null||s===void 0?void 0:s.getChild("AttributeName"),a=[],l;if(o){let h=r.sliceDoc(o.from,o.to),c=e.globalAttrs[h];if(!c){let p=eh(t),d=p?e.tags[Jl(r.doc,p)]:null;c=d?.attrs&&d.attrs[h]}if(c){let p=r.sliceDoc(i,n).toLowerCase(),d='"',f='"';/^['"]/.test(p)?(l=p[0]=='"'?/^[^"]*$/:/^[^']*$/,d="",f=r.sliceDoc(n,n+1)==p[0]?"":p[0],p=p.slice(1),i++):l=/^[^\s<>='"]*$/;for(let m of c)a.push({label:m,apply:d+m+f,type:"constant"})}}return{from:i,to:n,options:a,validFor:l}}function qQ(r,e){let{state:t,pos:i}=e,n=zt(t).resolveInner(i,-1),s=n.resolve(i);for(let o=i,a;s==n&&(a=n.childBefore(o));){let l=a.lastChild;if(!l||!l.type.isError||l.from<l.to)break;s=n=a,o=l.from}return n.name=="TagName"?n.parent&&/CloseTag$/.test(n.parent.name)?aD(t,n,n.from,i):oD(t,r,n,n.from,i):n.name=="StartTag"?oD(t,r,n,i,i):n.name=="StartCloseTag"||n.name=="IncompleteCloseTag"?aD(t,n,i,i):n.name=="OpenTag"||n.name=="SelfClosingTag"||n.name=="AttributeName"?$Q(t,r,n,n.name=="AttributeName"?n.from:i,i):n.name=="Is"||n.name=="AttributeValue"||n.name=="UnquotedAttributeValue"?YQ(t,r,n,n.name=="Is"?i:n.from,i):e.explicit&&(s.name=="Element"||s.name=="Text"||s.name=="Document")?VQ(t,r,n,i):null}function WQ(r){let{extraTags:e,extraGlobalAttributes:t}=r,i=t||e?new Kl(e,t):Kl.default;return n=>qQ(i,n)}var ZQ=ar.parser.configure({top:"SingleExpression"}),dD=[{tag:"script",attrs:r=>r.type=="text/typescript"||r.lang=="ts",parser:GO.parser},{tag:"script",attrs:r=>r.type=="text/babel"||r.type=="text/jsx",parser:KO.parser},{tag:"script",attrs:r=>r.type=="text/typescript-jsx",parser:JO.parser},{tag:"script",attrs(r){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(r.type)},parser:ZQ},{tag:"script",attrs(r){return!r.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(r.type)},parser:ar.parser},{tag:"style",attrs(r){return(!r.lang||r.lang=="css")&&(!r.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(r.type))},parser:_r.parser}],fD=[{name:"style",parser:_r.parser.configure({top:"Styles"})}].concat(cD.map(r=>({name:r,parser:ar.parser}))),mD=Mo.define({name:"html",parser:Ok.configure({props:[Yl.add({Element(r){let e=/^(\s*)(<\/)?/.exec(r.textAfter);return r.node.to<=r.pos+e[0].length?r.continue():r.lineIndent(r.node.from)+(e[2]?0:r.unit)},"OpenTag CloseTag SelfClosingTag"(r){return r.column(r.node.from)+r.unit},Document(r){if(r.pos+/\s*/.exec(r.textAfter)[0].length<r.node.to)return r.continue();let e=null,t;for(let i=r.node;;){let n=i.lastChild;if(!n||n.name!="Element"||n.to!=i.to)break;e=i=n}return e&&!((t=e.lastChild)&&(t.name=="CloseTag"||t.name=="SelfClosingTag"))?r.lineIndent(e.from)+r.unit:null}}),Wl.add({Element(r){let e=r.firstChild,t=r.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:t.name=="CloseTag"?t.from:r.to}}}),V1.add({"OpenTag CloseTag":r=>r.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),wa=mD.configure({wrap:DO(dD,fD)});function Eu(r={}){let e="",t;r.matchClosingTags===!1&&(e="noMatch"),r.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(r.nestedLanguages&&r.nestedLanguages.length||r.nestedAttributes&&r.nestedAttributes.length)&&(t=DO((r.nestedLanguages||[]).concat(dD),(r.nestedAttributes||[]).concat(fD)));let i=t?mD.configure({wrap:t,dialect:e}):e?wa.configure({dialect:e}):wa;return new To(i,[wa.data.of({autocomplete:WQ(r)}),r.autoCloseTags!==!1?XQ:[],sD().support,Cu().support])}var lD=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),XQ=Te.inputHandler.of((r,e,t,i,n)=>{if(r.composing||r.state.readOnly||e!=t||i!=">"&&i!="/"||!wa.isActiveAt(r.state,e,-1))return!1;let s=n(),{state:o}=s,a=o.changeByRange(l=>{var h,c,p;let d=o.doc.sliceString(l.from-1,l.to)==i,{head:f}=l,m=zt(o).resolveInner(f-1,-1),g;if((m.name=="TagName"||m.name=="StartTag")&&(m=m.parent),d&&i==">"&&m.name=="OpenTag"){if(((c=(h=m.parent)===null||h===void 0?void 0:h.lastChild)===null||c===void 0?void 0:c.name)!="CloseTag"&&(g=Jl(o.doc,m.parent,f))&&!lD.has(g)){let v=f+(o.doc.sliceString(f,f+1)===">"?1:0),O=`</${g}>`;return{range:l,changes:{from:f,to:v,insert:O}}}}else if(d&&i=="/"&&m.name=="IncompleteCloseTag"){let v=m.parent;if(m.from==f-2&&((p=v.lastChild)===null||p===void 0?void 0:p.name)!="CloseTag"&&(g=Jl(o.doc,v,f))&&!lD.has(g)){let O=f+(o.doc.sliceString(f,f+1)===">"?1:0),C=`${g}>`;return{range:ye.cursor(f+C.length,-1),changes:{from:f,to:O,insert:C}}}}return{range:l}});return a.changes.empty?!1:(r.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});var s0=Yi.define(),GQ=Yi.define(),KQ=be.define(),JQ=be.define({combine(r){return Ca(r,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(i,n)=>e(i,n)||t(i,n)})}}),e2=si.define({create(){return Ea.empty},update(r,e){let t=e.state.facet(JQ),i=e.annotation(s0);if(i){let l=lr.fromTransaction(e,i.selection),h=i.side,c=h==0?r.undone:r.done;return l?c=um(c,c.length,t.minDepth,l):c=yD(c,e.startState.selection),new Ea(h==0?i.rest:c,h==0?c:i.rest)}let n=e.annotation(GQ);if((n=="full"||n=="before")&&(r=r.isolate()),e.annotation($t.addToHistory)===!1)return e.changes.empty?r:r.addMapping(e.changes.desc);let s=lr.fromTransaction(e),o=e.annotation($t.time),a=e.annotation($t.userEvent);return s?r=r.addChanges(s,o,a,t,e):e.selection&&(r=r.addSelection(e.startState.selection,o,a,t.newGroupDelay)),(n=="full"||n=="after")&&(r=r.isolate()),r},toJSON(r){return{done:r.done.map(e=>e.toJSON()),undone:r.undone.map(e=>e.toJSON())}},fromJSON(r){return new Ea(r.done.map(lr.fromJSON),r.undone.map(lr.fromJSON))}});function t2(r,e){return function({state:t,dispatch:i}){if(!e&&t.readOnly)return!1;let n=t.field(e2,!1);if(!n)return!1;let s=n.pop(r,t,e);return s?(i(s),!0):!1}}var gD=t2(0,!1);var lr=class r{constructor(e,t,i,n,s){this.changes=e,this.effects=t,this.mapped=i,this.startSelection=n,this.selectionsAfter=s}setSelAfter(e){return new r(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(n=>n.toJSON())}}static fromJSON(e){return new r(e.changes&&Ai.fromJSON(e.changes),[],e.mapped&&us.fromJSON(e.mapped),e.startSelection&&ye.fromJSON(e.startSelection),e.selectionsAfter.map(ye.fromJSON))}static fromTransaction(e,t){let i=Qn;for(let n of e.startState.facet(KQ)){let s=n(e);s.length&&(i=i.concat(s))}return!i.length&&e.changes.empty?null:new r(e.changes.invert(e.startState.doc),i,void 0,t||e.startState.selection,Qn)}static selection(e){return new r(void 0,Qn,void 0,void 0,e)}};function um(r,e,t,i){let n=e+1>t+20?e-t-1:0,s=r.slice(n,e);return s.push(i),s}function i2(r,e){let t=[],i=!1;return r.iterChangedRanges((n,s)=>t.push(n,s)),e.iterChangedRanges((n,s,o,a)=>{for(let l=0;l<t.length;){let h=t[l++],c=t[l++];a>=h&&o<=c&&(i=!0)}}),i}function n2(r,e){return r.ranges.length==e.ranges.length&&r.ranges.filter((t,i)=>t.empty!=e.ranges[i].empty).length===0}function vD(r,e){return r.length?e.length?r.concat(e):r:e}var Qn=[],r2=200;function yD(r,e){if(r.length){let t=r[r.length-1],i=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-r2));return i.length&&i[i.length-1].eq(e)?r:(i.push(e),um(r,r.length-1,1e9,t.setSelAfter(i)))}else return[lr.selection([e])]}function s2(r){let e=r[r.length-1],t=r.slice();return t[r.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function r0(r,e){if(!r.length)return r;let t=r.length,i=Qn;for(;t;){let n=o2(r[t-1],e,i);if(n.changes&&!n.changes.empty||n.effects.length){let s=r.slice(0,t);return s[t-1]=n,s}else e=n.mapped,t--,i=n.selectionsAfter}return i.length?[lr.selection(i)]:Qn}function o2(r,e,t){let i=vD(r.selectionsAfter.length?r.selectionsAfter.map(a=>a.map(e)):Qn,t);if(!r.changes)return lr.selection(i);let n=r.changes.map(e),s=e.mapDesc(r.changes,!0),o=r.mapped?r.mapped.composeDesc(s):s;return new lr(n,Ue.mapEffects(r.effects,e),o,r.startSelection.map(s),i)}var a2=/^(input\.type|delete)($|\.)/,Ea=class r{constructor(e,t,i=0,n=void 0){this.done=e,this.undone=t,this.prevTime=i,this.prevUserEvent=n}isolate(){return this.prevTime?new r(this.done,this.undone):this}addChanges(e,t,i,n,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!i||a2.test(i))&&(!a.selectionsAfter.length&&t-this.prevTime<n.newGroupDelay&&n.joinToEvent(s,i2(a.changes,e.changes))||i=="input.type.compose")?o=um(o,o.length-1,n.minDepth,new lr(e.changes.compose(a.changes),vD(e.effects,a.effects),a.mapped,a.startSelection,Qn)):o=um(o,o.length,n.minDepth,e),new r(o,Qn,t,i)}addSelection(e,t,i,n){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Qn;return s.length>0&&t-this.prevTime<n&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&n2(s[s.length-1],e)?this:new r(yD(this.done,e),this.undone,t,i)}addMapping(e){return new r(r0(this.done,e),r0(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,i){let n=e==0?this.done:this.undone;if(n.length==0)return null;let s=n[n.length-1],o=s.selectionsAfter[0]||t.selection;if(i&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:s0.of({side:e,rest:s2(n),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let a=n.length==1?Qn:n.slice(0,n.length-1);return s.mapped&&(a=r0(a,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:s0.of({side:e,rest:a,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}};Ea.empty=new Ea(Qn,Qn);var sJ=typeof Intl<"u"&&Intl.Segmenter?new Intl.Segmenter(void 0,{granularity:"word"}):null;function bD(r,e){let t=-1;return r.changeByRange(i=>{let n=[];for(let o=i.from;o<=i.to;){let a=r.doc.lineAt(o);a.number>t&&(i.empty||i.to>a.from)&&(e(a,n,i),t=a.number),o=a.to+1}let s=r.changes(n);return{changes:n,range:ye.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}})}var l2=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(bD(r,(t,i)=>{i.push({from:t.from,insert:r.facet($l)})}),{userEvent:"input.indent"})),!0),h2=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(bD(r,(t,i)=>{let n=/^\s*/.exec(t.text)[0];if(!n)return;let s=ff(n,r.tabSize),o=0,a=Q1(r,Math.max(0,s-B1(r)));for(;o<n.length&&o<a.length&&n.charCodeAt(o)==a.charCodeAt(o);)o++;i.push({from:t.from+o,to:t.from+n.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0);var OD={key:"Tab",run:l2,shift:h2};var c2=Object.defineProperty,u2=Object.defineProperties,p2=Object.getOwnPropertyDescriptors,CD=Object.getOwnPropertySymbols,d2=Object.prototype.hasOwnProperty,f2=Object.prototype.propertyIsEnumerable,p0=(r,e,t)=>e in r?c2(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Xi=(r,e)=>{for(var t in e||(e={}))d2.call(e,t)&&p0(r,t,e[t]);if(CD)for(var t of CD(e))f2.call(e,t)&&p0(r,t,e[t]);return r},Lo=(r,e)=>u2(r,p2(e)),d0=(r,e,t)=>(p0(r,typeof e!="symbol"?e+"":e,t),t);function hr(r){return r>47&&r<58}function Tm(r,e,t){return e=e||65,t=t||90,r&=-33,r>=e&&r<=t}function iL(r){return hr(r)||Nm(r)}function Nm(r){return r===95||Tm(r)}function m2(r){return r===196||r==214||r===220||r===228||r===246||r===252}function g2(r){return r===32||r===9||r===160}function O0(r){return g2(r)||r===10||r===13}function C0(r){return r===39||r===34}var mm=class r{constructor(e,t,i){i==null&&typeof e=="string"&&(i=e.length),this.string=e,this.pos=this.start=t||0,this.end=i||0}eof(){return this.pos>=this.end}limit(e,t){return new r(this.string,e,t)}peek(){return this.string.charCodeAt(this.pos)}next(){if(this.pos<this.string.length)return this.string.charCodeAt(this.pos++)}eat(e){let t=this.peek(),i=typeof e=="function"?e(t):t===e;return i&&this.next(),i}eatWhile(e){let t=this.pos;for(;!this.eof()&&this.eat(e););return this.pos!==t}backUp(e){this.pos-=e||1}current(){return this.substring(this.start,this.pos)}substring(e,t){return this.string.slice(e,t)}error(e,t=this.pos){return new ku(`${e} at ${t+1}`,t,this.string)}},ku=class extends Error{constructor(e,t,i){super(e),this.pos=t,this.string=i}};function v2(r){return{tokens:r,start:0,pos:0,size:r.length}}function Ao(r){return r.tokens[r.pos]}function S0(r){return r.tokens[r.pos++]}function th(r,e=r.start,t=r.pos){return r.tokens.slice(e,t)}function bs(r){return r.pos<r.size}function gi(r,e){let t=Ao(r);return t&&e(t)?(r.pos++,!0):!1}function M0(r,e,t=Ao(r)){t&&t.start!=null&&(e+=` at ${t.start}`);let i=new Error(e);return i.pos=t&&t.start,i}function y2(r,e={}){let t=v2(r),i=nL(t,e);if(bs(t))throw M0(t,"Unexpected character");return i}function nL(r,e){let t={type:"TokenGroup",elements:[]},i=t,n,s=[];for(;bs(r)&&(n=O2(r,e)||b2(r,e));)if(i.elements.push(n),gi(r,P2))s.push(i),i=n;else{if(gi(r,j2))continue;if(gi(r,ND))do s.length&&(i=s.pop());while(gi(r,ND))}return t}function b2(r,e){if(gi(r,A2)){let t=nL(r,e),i=S0(r);return _n(i,"group",!1)&&(t.repeat=M2(r)),t}}function O2(r,e){let t,i={type:"TokenElement",name:void 0,attributes:void 0,value:void 0,repeat:void 0,selfClose:!1,elements:[]};for(T2(r,e)&&(i.name=th(r));bs(r);)if(r.start=r.pos,!i.repeat&&!o0(i)&&gi(r,vm))i.repeat=r.tokens[r.pos-1];else if(!i.value&&rL(r))i.value=sL(r);else if(t=SD(r,"id",e)||SD(r,"class",e)||C2(r))i.attributes?i.attributes=i.attributes.concat(t):i.attributes=Array.isArray(t)?t.slice():[t];else{!o0(i)&&gi(r,z2)&&(i.selfClose=!0,!i.repeat&&gi(r,vm)&&(i.repeat=r.tokens[r.pos-1]));break}return o0(i)?void 0:i}function C2(r){if(gi(r,k2)){let e=[],t;for(;bs(r);)if(t=S2(r))e.push(t);else{if(gi(r,D2))break;if(!gi(r,oL))throw M0(r,`Unexpected "${Ao(r).type}" token`)}return e}}function SD(r,e,t){if(Os(Ao(r),e)){r.pos++;let i=1;for(;Os(Ao(r),e);)r.pos++,i++;let n={name:[I2(e)]};return i>1&&(n.multiple=!0),t.jsx&&rL(r)?(n.value=sL(r),n.expression=!0):n.value=f0(r)?th(r):void 0,n}}function S2(r){if(MD(r))return{value:th(r)};if(f0(r,!0)){let e=th(r),t;return gi(r,N2)&&(MD(r)||f0(r,!0))&&(t=th(r)),{name:e,value:t}}}function M2(r){return vm(Ao(r))?r.tokens[r.pos++]:void 0}function MD(r){let e=r.pos,t=Ao(r);if(gm(t)){for(r.pos++;bs(r);)if(gm(S0(r),t.single))return r.start=e,!0;throw M0(r,"Unclosed quote",t)}return!1}function f0(r,e){let t=r.pos,i={attribute:0,expression:0,group:0};for(;bs(r);){let n=Ao(r);if(i.expression)_n(n,"expression")&&(i[n.context]+=n.open?1:-1);else{if(gm(n)||Os(n)||oL(n)||vm(n))break;if(_n(n)){if(!e)break;if(n.open)i[n.context]++;else if(i[n.context])i[n.context]--;else break}}r.pos++}return t!==r.pos?(r.start=t,!0):!1}function T2(r,e){let t=r.pos;if(e.jsx&&gi(r,TD))for(;bs(r);){let{pos:i}=r;if(!gi(r,E2)||!gi(r,TD)){r.pos=i;break}}for(;bs(r)&&gi(r,w2););return r.pos!==t?(r.start=t,!0):!1}function rL(r){let e=r.pos;if(gi(r,L2)){let t=0;for(;bs(r);){let i=S0(r);if(_n(i,"expression"))if(i.open)t++;else if(t)t--;else break}return r.start=e,!0}return!1}function sL(r){let e=r.start,t=r.pos;return _n(r.tokens[e],"expression",!0)&&e++,_n(r.tokens[t-1],"expression",!1)&&t--,th(r,e,t)}function _n(r,e,t){return!!(r&&r.type==="Bracket"&&(!e||r.context===e)&&(t==null||r.open===t))}function Os(r,e){return!!(r&&r.type==="Operator"&&(!e||r.operator===e))}function gm(r,e){return!!(r&&r.type==="Quote"&&(e==null||r.single===e))}function oL(r){return!!(r&&r.type==="WhiteSpace")}function N2(r){return Os(r,"equal")}function vm(r){return!!(r&&r.type==="Repeater")}function x2(r){return r.type==="Literal"}function TD(r){if(x2(r)){let e=r.value.charCodeAt(0);return e>=65&&e<=90}return!1}function w2(r){return r.type==="Literal"||r.type==="RepeaterNumber"||r.type==="RepeaterPlaceholder"}function E2(r){return Os(r,"class")}function k2(r){return _n(r,"attribute",!0)}function D2(r){return _n(r,"attribute",!1)}function L2(r){return _n(r,"expression",!0)}function A2(r){return _n(r,"group",!0)}function I2(r){return{type:"Literal",value:r}}function o0(r){return!r.name&&!r.value&&!r.attributes}function P2(r){return Os(r,"child")}function j2(r){return Os(r,"sibling")}function ND(r){return Os(r,"climb")}function z2(r){return Os(r,"close")}var Ie;(function(r){r[r.CurlyBracketOpen=123]="CurlyBracketOpen",r[r.CurlyBracketClose=125]="CurlyBracketClose",r[r.Escape=92]="Escape",r[r.Equals=61]="Equals",r[r.SquareBracketOpen=91]="SquareBracketOpen",r[r.SquareBracketClose=93]="SquareBracketClose",r[r.Asterisk=42]="Asterisk",r[r.Hash=35]="Hash",r[r.Dollar=36]="Dollar",r[r.Dash=45]="Dash",r[r.Dot=46]="Dot",r[r.Slash=47]="Slash",r[r.Colon=58]="Colon",r[r.Excl=33]="Excl",r[r.At=64]="At",r[r.Underscore=95]="Underscore",r[r.RoundBracketOpen=40]="RoundBracketOpen",r[r.RoundBracketClose=41]="RoundBracketClose",r[r.Sibling=43]="Sibling",r[r.Child=62]="Child",r[r.Climb=94]="Climb",r[r.SingleQuote=39]="SingleQuote",r[r.DoubleQuote=34]="DoubleQuote"})(Ie||(Ie={}));function R2(r){return r.eat(Ie.Escape)?(r.start=r.pos,r.eof()||r.pos++,!0):!1}function B2(r){let e=new mm(r),t=[],i={group:0,attribute:0,expression:0,quote:0},n=0,s;for(;!e.eof();)if(n=e.peek(),s=Q2(e,i),s)t.push(s),s.type==="Quote"?i.quote=n===i.quote?0:n:s.type==="Bracket"&&(i[s.context]+=s.open?1:-1);else throw e.error("Unexpected character");return t}function Q2(r,e){return W2(r,e)||Y2(r)||q2(r)||$2(r)||H2(r)||U2(r,e)||V2(r)||_2(r)||F2(r)}function U2(r,e){let t=r.pos,i=e.expression,n="";for(;!r.eof();){if(R2(r)){n+=r.current();continue}let s=r.peek();if(s===Ie.Slash&&!e.quote&&!e.expression&&!e.attribute){let o=r.string.charCodeAt(r.pos-1),a=r.string.charCodeAt(r.pos+1);if(hr(o)&&hr(a)){n+=r.string[r.pos++];continue}}if(s===e.quote||s===Ie.Dollar||Z2(s,e))break;if(i){if(s===Ie.CurlyBracketOpen)e.expression++;else if(s===Ie.CurlyBracketClose)if(e.expression>i)e.expression--;else break}else if(!e.quote&&(!e.attribute&&!J2(s)||X2(s,e)||G2(s,e)||C0(s)||aL(s)))break;n+=r.string[r.pos++]}if(t!==r.pos)return r.start=t,{type:"Literal",value:n,start:t,end:r.pos}}function H2(r){let e=r.pos;if(r.eatWhile(O0))return{type:"WhiteSpace",start:e,end:r.pos,value:r.substring(e,r.pos)}}function _2(r){let e=r.peek();if(C0(e))return{type:"Quote",single:e===Ie.SingleQuote,start:r.pos++,end:r.pos}}function F2(r){let e=r.peek(),t=aL(e);if(t)return{type:"Bracket",open:K2(e),context:t,start:r.pos++,end:r.pos}}function V2(r){let e=lL(r.peek());if(e)return{type:"Operator",operator:e,start:r.pos++,end:r.pos}}function $2(r){let e=r.pos;if(r.eat(Ie.Asterisk)){r.start=r.pos;let t=1,i=!1;return r.eatWhile(hr)?t=Number(r.current()):i=!0,{type:"Repeater",count:t,value:0,implicit:i,start:e,end:r.pos}}}function Y2(r){let e=r.pos;if(r.eat(Ie.Dollar)&&r.eat(Ie.Hash))return{type:"RepeaterPlaceholder",value:void 0,start:e,end:r.pos};r.pos=e}function q2(r){let e=r.pos;if(r.eatWhile(Ie.Dollar)){let t=r.pos-e,i=!1,n=1,s=0;if(r.eat(Ie.At)){for(;r.eat(Ie.Climb);)s++;i=r.eat(Ie.Dash),r.start=r.pos,r.eatWhile(hr)&&(n=Number(r.current()))}return r.start=e,{type:"RepeaterNumber",size:t,reverse:i,base:n,parent:s,start:e,end:r.pos}}}function W2(r,e){let t=r.pos;if((e.expression||e.attribute)&&r.eat(Ie.Dollar)&&r.eat(Ie.CurlyBracketOpen)){r.start=r.pos;let i,n="";if(r.eatWhile(hr)?(i=Number(r.current()),n=r.eat(Ie.Colon)?xD(r):""):Tm(r.peek())&&(n=xD(r)),r.eat(Ie.CurlyBracketClose))return{type:"Field",index:i,name:n,start:t,end:r.pos};throw r.error("Expecting }")}r.pos=t}function xD(r){let e=[];for(r.start=r.pos;!r.eof();)if(r.eat(Ie.CurlyBracketOpen))e.push(r.pos);else if(r.eat(Ie.CurlyBracketClose)){if(!e.length){r.pos--;break}e.pop()}else r.pos++;if(e.length)throw r.pos=e.pop(),r.error("Expecting }");return r.current()}function Z2(r,e){let t=lL(r);return!t||e.quote||e.expression?!1:!e.attribute||t==="equal"}function X2(r,e){return O0(r)&&!e.expression}function G2(r,e){return r===Ie.Asterisk&&!e.attribute&&!e.expression}function aL(r){if(r===Ie.RoundBracketOpen||r===Ie.RoundBracketClose)return"group";if(r===Ie.SquareBracketOpen||r===Ie.SquareBracketClose)return"attribute";if(r===Ie.CurlyBracketOpen||r===Ie.CurlyBracketClose)return"expression"}function lL(r){return r===Ie.Child&&"child"||r===Ie.Sibling&&"sibling"||r===Ie.Climb&&"climb"||r===Ie.Dot&&"class"||r===Ie.Hash&&"id"||r===Ie.Slash&&"close"||r===Ie.Equals&&"equal"||void 0}function K2(r){return r===Ie.CurlyBracketOpen||r===Ie.SquareBracketOpen||r===Ie.RoundBracketOpen}function J2(r){return iL(r)||m2(r)||r===Ie.Dash||r===Ie.Colon||r===Ie.Excl}var e5={child:">",class:".",climb:"^",id:"#",equal:"=",close:"/",sibling:"+"},wD={Literal(r){return r.value},Quote(r){return r.single?"'":'"'},Bracket(r){return r.context==="attribute"?r.open?"[":"]":r.context==="expression"?r.open?"{":"}":r.open?"(":"}"},Operator(r){return e5[r.operator]},Field(r,e){return r.index!=null?r.name?`\${${r.index}:${r.name}}`:`\${${r.index}`:r.name?e.getVariable(r.name):""},RepeaterPlaceholder(r,e){let t;for(let i=e.repeaters.length-1;i>=0;i--)if(e.repeaters[i].implicit){t=e.repeaters[i];break}return e.inserted=!0,e.getText(t&&t.value)},RepeaterNumber(r,e){let t=1,i=e.repeaters.length-1,n=e.repeaters[i];if(n&&(t=r.reverse?r.base+n.count-n.value-1:r.base+n.value,r.parent)){let o=Math.max(0,i-r.parent);if(o!==i){let a=e.repeaters[o];t+=n.count*a.value}}let s=String(t);for(;s.length<r.size;)s="0"+s;return s},WhiteSpace(r){return r.value}};function hL(r,e){if(!wD[r.type])throw new Error(`Unknown token ${r.type}`);return wD[r.type](r,e)}var t5=/^((https?:|ftp:|file:)?\/\/|(www|ftp)\.)[^ ]*$/,i5=/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,5}$/;function n5(r,e={}){let t=!1,i;e.text&&(Array.isArray(e.text)?i=e.text.filter(s=>s.trim()):i=e.text);let n={type:"Abbreviation",children:m0(r,{inserted:!1,repeaters:[],text:e.text,cleanText:i,repeatGuard:e.maxRepeat||Number.POSITIVE_INFINITY,getText(s){var o;t=!0;let a;if(Array.isArray(e.text)){if(s!==void 0&&s>=0&&s<i.length)return i[s];a=s!==void 0?e.text[s]:e.text.join(`
`)}else a=(o=e.text)!==null&&o!==void 0?o:"";return a},getVariable(s){let o=e.variables&&e.variables[s];return o??s}})};if(e.text!=null&&!t){let s=T0(rh(n.children));if(s){let o=Array.isArray(e.text)?e.text.join(`
`):e.text;fL(s,o),s.name==="a"&&e.href&&s5(s,o)}}return n}function cL(r,e){let t=[];if(r.repeat){let i=r.repeat,n=Object.assign({},i);n.count=n.implicit&&Array.isArray(e.text)?e.cleanText.length:n.count||1;let s;e.repeaters.push(n);for(let o=0;o<n.count;o++){if(n.value=o,r.repeat=n,s=kD(r)?m0(r,e):ED(r,e),n.implicit&&!e.inserted){let a=rh(s),l=a&&T0(a);l&&fL(l,e.getText(n.value))}if(t=t.concat(s),--e.repeatGuard<=0)break}e.repeaters.pop(),r.repeat=i,n.implicit&&(e.inserted=!0)}else t=t.concat(kD(r)?m0(r,e):ED(r,e));return t}function ED(r,e){let t=[],i={type:"AbbreviationNode",name:r.name&&uL(r.name,e),value:r.value&&pL(r.value,e),attributes:void 0,children:t,repeat:r.repeat&&Object.assign({},r.repeat),selfClosing:r.selfClose},n=[i];for(let s of r.elements)t=t.concat(cL(s,e));if(r.attributes){i.attributes=[];for(let s of r.attributes)i.attributes.push(r5(s,e))}return!i.name&&!i.attributes&&i.value&&!i.value.some(dL)?n=n.concat(t):i.children=t,n}function m0(r,e){let t=[];for(let i of r.elements)t=t.concat(cL(i,e));return r.repeat&&(t=o5(t,r.repeat)),t}function r5(r,e){let t=!1,i=!1,n=r.expression?"expression":"raw",s,o=r.name&&uL(r.name,e);if(o&&o[0]==="!"&&(t=!0),o&&o[o.length-1]==="."&&(i=!0),r.value){let a=r.value.slice();if(gm(a[0])){let l=a.shift();a.length&&rh(a).type===l.type&&a.pop(),n=l.single?"singleQuote":"doubleQuote"}else _n(a[0],"expression",!0)&&(n="expression",a.shift(),_n(rh(a),"expression",!1)&&a.pop());s=pL(a,e)}return{name:i||t?o.slice(t?1:0,i?-1:void 0):o,value:s,boolean:i,implied:t,valueType:n,multiple:r.multiple}}function uL(r,e){let t="";for(let i=0;i<r.length;i++)t+=hL(r[i],e);return t}function pL(r,e){let t=[],i="";for(let n=0,s;n<r.length;n++)s=r[n],dL(s)?(i&&(t.push(i),i=""),t.push(s)):i+=hL(s,e);return i&&t.push(i),t}function kD(r){return r.type==="TokenGroup"}function dL(r){return typeof r=="object"&&r.type==="Field"&&r.index!=null}function rh(r){return r[r.length-1]}function T0(r){return r.children.length?T0(rh(r.children)):r}function fL(r,e){r.value?typeof rh(r.value)=="string"?r.value[r.value.length-1]+=e:r.value.push(e):r.value=[e]}function s5(r,e){var t;let i="";t5.test(e)?(i=e,!/\w+:/.test(i)&&!i.startsWith("//")&&(i=`http://${i}`)):i5.test(e)&&(i=`mailto:${e}`);let n=(t=r.attributes)===null||t===void 0?void 0:t.find(s=>s.name==="href");n?n.value||(n.value=[i]):(r.attributes||(r.attributes=[]),r.attributes.push({name:"href",value:[i],valueType:"doubleQuote"}))}function o5(r,e){for(let t of r)t.repeat||(t.repeat=Object.assign({},e));return r}function N0(r,e){try{let t=typeof r=="string"?B2(r):r;return n5(y2(t,e),e)}catch(t){throw t instanceof ku&&typeof r=="string"&&(t.message+=`
${r}
${"-".repeat(t.pos)}^`),t}}var Un;(function(r){r.Sibling="+",r.Important="!",r.ArgumentDelimiter=",",r.ValueDelimiter="-",r.PropertyDelimiter=":"})(Un||(Un={}));var We;(function(r){r[r.Hash=35]="Hash",r[r.Dollar=36]="Dollar",r[r.Dash=45]="Dash",r[r.Dot=46]="Dot",r[r.Colon=58]="Colon",r[r.Comma=44]="Comma",r[r.Excl=33]="Excl",r[r.At=64]="At",r[r.Percent=37]="Percent",r[r.Underscore=95]="Underscore",r[r.RoundBracketOpen=40]="RoundBracketOpen",r[r.RoundBracketClose=41]="RoundBracketClose",r[r.CurlyBracketOpen=123]="CurlyBracketOpen",r[r.CurlyBracketClose=125]="CurlyBracketClose",r[r.Sibling=43]="Sibling",r[r.SingleQuote=39]="SingleQuote",r[r.DoubleQuote=34]="DoubleQuote",r[r.Transparent=116]="Transparent",r[r.Slash=47]="Slash"})(We||(We={}));function a5(r,e){let t=0,i,n=new mm(r),s=[];for(;!n.eof();){if(i=l5(n,t===0&&!e),!i)throw n.error("Unexpected character");if(i.type==="Bracket"&&(!t&&i.open&&T5(n,s),t+=i.open?1:-1,t<0))throw n.error("Unexpected bracket",i.start);s.push(i),M5(i)&&(i=mL(n))&&s.push(i)}return s}function l5(r,e){return h5(r)||m5(r)||u5(r)||d5(r)||p5(r)||g5(r)||mL(r)||f5(r)||c5(r,e)}function h5(r){let e=r.pos;if(r.eat(We.Dollar)&&r.eat(We.CurlyBracketOpen)){r.start=r.pos;let t,i="";if(r.eatWhile(hr)?(t=Number(r.current()),i=r.eat(We.Colon)?DD(r):""):Tm(r.peek())&&(i=DD(r)),r.eat(We.CurlyBracketClose))return{type:"Field",index:t,name:i,start:e,end:r.pos};throw r.error("Expecting }")}r.pos=e}function DD(r){let e=[];for(r.start=r.pos;!r.eof();)if(r.eat(We.CurlyBracketOpen))e.push(r.pos);else if(r.eat(We.CurlyBracketClose)){if(!e.length){r.pos--;break}e.pop()}else r.pos++;if(e.length)throw r.pos=e.pop(),r.error("Expecting }");return r.current()}function c5(r,e){let t=r.pos;if(r.eat(y5)?r.eatWhile(t?g0:l0):r.eat(Nm)?r.eatWhile(e?l0:g0):(r.eat(We.Dot),r.eatWhile(l0)),t!==r.pos)return r.start=t,x0(r,r.start=t)}function x0(r,e=r.start,t=r.pos){return{type:"Literal",value:r.substring(e,t),start:e,end:t}}function u5(r){let e=r.pos;if(v5(r)){r.start=e;let t=r.current();return r.start=r.pos,r.eat(We.Percent)||r.eatWhile(Nm),{type:"NumberValue",value:Number(t),rawValue:t,unit:r.current(),start:e,end:r.pos}}}function p5(r){let e=r.peek(),t=r.pos,i=!1;if(C0(e)){for(r.pos++;!r.eof();)if(r.eat(e)){i=!0;break}else r.pos++;return r.start=t,{type:"StringValue",value:r.substring(t+1,r.pos-(i?1:0)),quote:e===We.SingleQuote?"single":"double",start:t,end:r.pos}}}function d5(r){let e=r.pos;if(r.eat(We.Hash)){let t=r.pos,i="",n="";if(r.eatWhile(O5)?(i=r.substring(t,r.pos),n=a0(r)):r.eat(We.Transparent)?(i="0",n=a0(r)||"0"):n=a0(r),i||n||r.eof()){let{r:s,g:o,b:a,a:l}=S5(i,n);return{type:"ColorValue",r:s,g:o,b:a,a:l,raw:r.substring(e+1,r.pos),start:e,end:r.pos}}else return x0(r,e)}r.pos=e}function a0(r){let e=r.pos;return r.eat(We.Dot)?(r.start=e,r.eatWhile(hr)?r.current():"1"):""}function f5(r){let e=r.pos;if(r.eatWhile(O0))return{type:"WhiteSpace",start:e,end:r.pos}}function m5(r){let e=r.pos;if(r.eat(We.Dash)&&r.eat(We.Dash))return r.start=e,r.eatWhile(g0),{type:"CustomProperty",value:r.current(),start:e,end:r.pos};r.pos=e}function g5(r){let e=r.peek();if(C5(e))return{type:"Bracket",open:e===We.RoundBracketOpen,start:r.pos++,end:r.pos}}function mL(r){let e=b5(r.peek());if(e)return{type:"Operator",operator:e,start:r.pos++,end:r.pos}}function v5(r){let e=r.pos;r.eat(We.Dash);let t=r.pos,i=r.eatWhile(hr),n=r.pos;if(r.eat(We.Dot)){let s=r.eatWhile(hr);!i&&!s&&(r.pos=n)}return r.pos===t&&(r.pos=e),r.pos!==e}function y5(r){return r===We.At||r===We.Dollar}function b5(r){return r===We.Sibling&&Un.Sibling||r===We.Excl&&Un.Important||r===We.Comma&&Un.ArgumentDelimiter||r===We.Colon&&Un.PropertyDelimiter||r===We.Dash&&Un.ValueDelimiter||void 0}function O5(r){return hr(r)||Tm(r,65,70)}function g0(r){return iL(r)||r===We.Dash}function C5(r){return r===We.RoundBracketOpen||r===We.RoundBracketClose}function l0(r){return Nm(r)||r===We.Percent||r===We.Slash}function S5(r,e){let t="0",i="0",n="0",s=Number(e!=null&&e!==""?e:1);if(r==="t")s=0;else switch(r.length){case 0:break;case 1:t=i=n=r+r;break;case 2:t=i=n=r;break;case 3:t=r[0]+r[0],i=r[1]+r[1],n=r[2]+r[2];break;default:r+=r,t=r.slice(0,2),i=r.slice(2,4),n=r.slice(4,6)}return{r:parseInt(t,16),g:parseInt(i,16),b:parseInt(n,16),a:s}}function M5(r){return r.type==="ColorValue"||r.type==="NumberValue"&&!r.unit}function T5(r,e){let t=0,i=0;for(;e.length;){let n=N5(e);if(n.type==="Literal"||n.type==="NumberValue")t=n.start,i||(i=n.end),e.pop();else break}t!==i&&e.push(x0(r,t,i))}function N5(r){return r[r.length-1]}function x5(r){return{tokens:r,start:0,pos:0,size:r.length}}function xm(r){return r.tokens[r.pos]}function wm(r){return r.pos<r.size}function ys(r,e){return e(xm(r))?(r.pos++,!0):!1}function gL(r,e,t=xm(r)){t&&t.start!=null&&(e+=` at ${t.start}`);let i=new Error(e);return i.pos=t&&t.start,i}function w5(r,e={}){let t=x5(r),i=[],n;for(;wm(t);)if(n=E5(t,e))i.push(n);else if(!ys(t,A5))throw gL(t,"Unexpected token");return i}function E5(r,e){let t,i=!1,n,s=[],o=xm(r),a=!!e.value;for(!a&&w0(o)&&!z5(r)&&(r.pos++,t=o.value,ys(r,OL)),a&&ys(r,E0);wm(r);)if(ys(r,P5))i=!0;else if(n=vL(r,a))s.push(n);else if(!ys(r,I5))break;if(t||s.length||i)return{name:t,value:s,important:i}}function vL(r,e){let t=[],i,n;for(;wm(r);)if(i=xm(r),j5(i))r.pos++,w0(i)&&(n=k5(r))?t.push({type:"FunctionCall",name:i.value,arguments:n}):t.push(i);else if(OL(i)||e&&E0(i))r.pos++;else break;return t.length?{type:"CSSValue",value:t}:void 0}function k5(r){let e=r.pos;if(ys(r,D5)){let t=[],i;for(;wm(r)&&!ys(r,L5);)if(i=vL(r,!0))t.push(i);else if(!ys(r,E0)&&!ys(r,bL))throw gL(r,"Unexpected token");return r.start=e,t}}function w0(r){return r&&r.type==="Literal"}function yL(r,e){return r&&r.type==="Bracket"&&(e==null||r.open===e)}function D5(r){return yL(r,!0)}function L5(r){return yL(r,!1)}function E0(r){return r&&r.type==="WhiteSpace"}function Du(r,e){return r&&r.type==="Operator"&&(!e||r.operator===e)}function A5(r){return Du(r,Un.Sibling)}function bL(r){return Du(r,Un.ArgumentDelimiter)}function I5(r){return bL(r)}function P5(r){return Du(r,Un.Important)}function j5(r){return r.type==="StringValue"||r.type==="ColorValue"||r.type==="NumberValue"||r.type==="Literal"||r.type==="Field"||r.type==="CustomProperty"}function OL(r){return Du(r,Un.PropertyDelimiter)||Du(r,Un.ValueDelimiter)}function z5(r){let e=r.tokens[r.pos],t=r.tokens[r.pos+1];return e&&t&&w0(e)&&t.type==="Bracket"}function CL(r,e){try{let t=typeof r=="string"?a5(r,e&&e.value):r;return w5(t,e)}catch(t){throw t instanceof ku&&typeof r=="string"&&(t.message+=`
${r}
${"-".repeat(t.pos)}^`),t}}function R5(r,e){if(!r.attributes)return;let t=[],i={};for(let n of r.attributes)if(n.name){let s=n.name;if(s in i){let o=i[s];s==="class"?o.value=B5(o.value,n.value," "):Q5(o,n,e)}else t.push(i[s]=Object.assign({},n))}else t.push(n);r.attributes=t}function B5(r,e,t){if(r&&e){r.length&&t&&LD(r,t);for(let n of e)LD(r,n);return r}let i=r||e;return i&&i.slice()}function Q5(r,e,t){return r.name=e.name,t.options["output.reverseAttributes"]||(r.value=e.value),r.implied||(r.implied=e.implied),r.boolean||(r.boolean=e.boolean),r.valueType!=="expression"&&(r.valueType=e.valueType),r}function LD(r,e){let t=r.length-1;typeof r[t]=="string"&&typeof e=="string"?r[t]+=e:r.push(e)}function U5(r,e,t){let i=[r],n=s=>{e(s,i,t),i.push(s),s.children.forEach(n),i.pop()};r.children.forEach(n)}function H5(r){let e;for(;r.children.length;)e=r,r=r.children[r.children.length-1];return{parent:e,node:r}}function SL(r){return r.type==="AbbreviationNode"}function _5(r,e){let t=[],i=e.options["output.reverseAttributes"],n=s=>{let o=s.name&&e.snippets[s.name];if(!o||t.includes(o))return null;let a=N0(o,e);t.push(o),ym(a,n),t.pop();for(let l of a.children){if(s.attributes){let h=l.attributes||[],c=s.attributes||[];l.attributes=i?c.concat(h):h.concat(c)}F5(s,l)}return a};return ym(r,n),r}function ym(r,e,t){let i=[];for(let n of r.children){let s=e(n);if(s){i=i.concat(s.children);let o=H5(s);SL(o.node)&&(o.node.children=o.node.children.concat(ym(n,e)))}else i.push(n),n.children=ym(n,e)}return r.children=i}function F5(r,e){r.selfClosing&&(e.selfClosing=!0),r.value!=null&&(e.value=r.value),r.repeat&&(e.repeat=r.repeat)}var ML="{",TL="}";function NL(r,e=0){return{options:r,value:"",level:e,offset:0,line:0,column:0}}function qt(r,e){let t=r.options["output.text"];EL(r,t(e,r.offset,r.line,r.column))}function lt(r,e){let t=q5(e);for(let i=0,n=t.length-1;i<=n;i++)qt(r,t[i]),i!==n&&Vr(r,!0)}function Vr(r,e){let t=r.options["output.baseIndent"],i=r.options["output.newline"];qt(r,i+t),r.line++,r.column=t.length,e&&V5(r,e===!0?r.level:e)}function V5(r,e=r.level){let t=r.options["output.indent"];qt(r,t.repeat(Math.max(e,0)))}function k0(r,e,t){let i=r.options["output.field"];EL(r,i(e,t,r.offset,r.line,r.column))}function $5(r,e){return kL(r,e.options["output.tagCase"])}function xL(r,e){return kL(r,e.options["output.attributeCase"])}function bm(r,e,t){return r.valueType==="expression"?t?ML:TL:e.options["output.attributeQuotes"]==="single"?"'":'"'}function wL(r,e){return r.boolean||e.options["output.booleanAttributes"].includes((r.name||"").toLowerCase())}function Y5(r){switch(r.options["output.selfClosingStyle"]){case"xhtml":return" /";case"xml":return"/";default:return""}}function ih(r,e){return typeof r=="string"?e.options.inlineElements.includes(r.toLowerCase()):r.name?ih(r.name,e):!!(r.value&&!r.attributes)}function q5(r){return r.split(/\r\n|\r|\n/g)}function EL(r,e){r.value+=e,r.offset+=e.length,r.column+=e.length}function kL(r,e){return e?e==="upper"?r.toUpperCase():r.toLowerCase():r}var W5={p:"span",ul:"li",ol:"li",table:"tr",tr:"td",tbody:"tr",thead:"tr",tfoot:"tr",colgroup:"col",select:"option",optgroup:"option",audio:"source",video:"source",object:"param",map:"area"};function Z5(r,e,t){!r.name&&r.attributes&&DL(r,e,t)}function DL(r,e,t){let i=G5(e),n=t.context?t.context.name:"",s=X5(i?i.name:n);r.name=W5[s]||(ih(s,t)?"span":"div")}function X5(r){return(r||"").toLowerCase()}function G5(r){for(let e=r.length-1;e>=0;e--){let t=r[e];if(SL(t))return t}}var K5={common:["lorem","ipsum","dolor","sit","amet","consectetur","adipisicing","elit"],words:["exercitationem","perferendis","perspiciatis","laborum","eveniet","sunt","iure","nam","nobis","eum","cum","officiis","excepturi","odio","consectetur","quasi","aut","quisquam","vel","eligendi","itaque","non","odit","tempore","quaerat","dignissimos","facilis","neque","nihil","expedita","vitae","vero","ipsum","nisi","animi","cumque","pariatur","velit","modi","natus","iusto","eaque","sequi","illo","sed","ex","et","voluptatibus","tempora","veritatis","ratione","assumenda","incidunt","nostrum","placeat","aliquid","fuga","provident","praesentium","rem","necessitatibus","suscipit","adipisci","quidem","possimus","voluptas","debitis","sint","accusantium","unde","sapiente","voluptate","qui","aspernatur","laudantium","soluta","amet","quo","aliquam","saepe","culpa","libero","ipsa","dicta","reiciendis","nesciunt","doloribus","autem","impedit","minima","maiores","repudiandae","ipsam","obcaecati","ullam","enim","totam","delectus","ducimus","quis","voluptates","dolores","molestiae","harum","dolorem","quia","voluptatem","molestias","magni","distinctio","omnis","illum","dolorum","voluptatum","ea","quas","quam","corporis","quae","blanditiis","atque","deserunt","laboriosam","earum","consequuntur","hic","cupiditate","quibusdam","accusamus","ut","rerum","error","minus","eius","ab","ad","nemo","fugit","officia","at","in","id","quos","reprehenderit","numquam","iste","fugiat","sit","inventore","beatae","repellendus","magnam","recusandae","quod","explicabo","doloremque","aperiam","consequatur","asperiores","commodi","optio","dolor","labore","temporibus","repellat","veniam","architecto","est","esse","mollitia","nulla","a","similique","eos","alias","dolore","tenetur","deleniti","porro","facere","maxime","corrupti"]},J5={common:["\u0434\u0430\u043B\u0435\u043A\u043E-\u0434\u0430\u043B\u0435\u043A\u043E","\u0437\u0430","\u0441\u043B\u043E\u0432\u0435\u0441\u043D\u044B\u043C\u0438","\u0433\u043E\u0440\u0430\u043C\u0438","\u0432 \u0441\u0442\u0440\u0430\u043D\u0435","\u0433\u043B\u0430\u0441\u043D\u044B\u0445","\u0438 \u0441\u043E\u0433\u043B\u0430\u0441\u043D\u044B\u0445","\u0436\u0438\u0432\u0443\u0442","\u0440\u044B\u0431\u043D\u044B\u0435","\u0442\u0435\u043A\u0441\u0442\u044B"],words:["\u0432\u0434\u0430\u043B\u0438","\u043E\u0442 \u0432\u0441\u0435\u0445","\u043E\u043D\u0438","\u0431\u0443\u043A\u0432\u0435\u043D\u043D\u044B\u0445","\u0434\u043E\u043C\u0430\u0445","\u043D\u0430 \u0431\u0435\u0440\u0435\u0433\u0443","\u0441\u0435\u043C\u0430\u043D\u0442\u0438\u043A\u0430","\u0431\u043E\u043B\u044C\u0448\u043E\u0433\u043E","\u044F\u0437\u044B\u043A\u043E\u0432\u043E\u0433\u043E","\u043E\u043A\u0435\u0430\u043D\u0430","\u043C\u0430\u043B\u0435\u043D\u044C\u043A\u0438\u0439","\u0440\u0443\u0447\u0435\u0435\u043A","\u0434\u0430\u043B\u044C","\u0436\u0443\u0440\u0447\u0438\u0442","\u043F\u043E \u0432\u0441\u0435\u0439","\u043E\u0431\u0435\u0441\u043F\u0435\u0447\u0438\u0432\u0430\u0435\u0442","\u0435\u0435","\u0432\u0441\u0435\u043C\u0438","\u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u044B\u043C\u0438","\u043F\u0440\u0430\u0432\u0438\u043B\u0430\u043C\u0438","\u044D\u0442\u0430","\u043F\u0430\u0440\u0430\u0434\u0438\u0433\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0430\u044F","\u0441\u0442\u0440\u0430\u043D\u0430","\u043A\u043E\u0442\u043E\u0440\u043E\u0439","\u0436\u0430\u0440\u0435\u043D\u043D\u044B\u0435","\u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u044F","\u0437\u0430\u043B\u0435\u0442\u0430\u044E\u0442","\u043F\u0440\u044F\u043C\u043E","\u0440\u043E\u0442","\u0434\u0430\u0436\u0435","\u0432\u0441\u0435\u043C\u043E\u0433\u0443\u0449\u0430\u044F","\u043F\u0443\u043D\u043A\u0442\u0443\u0430\u0446\u0438\u044F","\u043D\u0435","\u0438\u043C\u0435\u0435\u0442","\u0432\u043B\u0430\u0441\u0442\u0438","\u043D\u0430\u0434","\u0440\u044B\u0431\u043D\u044B\u043C\u0438","\u0442\u0435\u043A\u0441\u0442\u0430\u043C\u0438","\u0432\u0435\u0434\u0443\u0449\u0438\u043C\u0438","\u0431\u0435\u0437\u043E\u0440\u0444\u043E\u0433\u0440\u0430\u0444\u0438\u0447\u043D\u044B\u0439","\u043E\u0431\u0440\u0430\u0437","\u0436\u0438\u0437\u043D\u0438","\u043E\u0434\u043D\u0430\u0436\u0434\u044B","\u043E\u0434\u043D\u0430","\u043C\u0430\u043B\u0435\u043D\u044C\u043A\u0430\u044F","\u0441\u0442\u0440\u043E\u0447\u043A\u0430","\u0440\u044B\u0431\u043D\u043E\u0433\u043E","\u0442\u0435\u043A\u0441\u0442\u0430","\u0438\u043C\u0435\u043D\u0438","lorem","ipsum","\u0440\u0435\u0448\u0438\u043B\u0430","\u0432\u044B\u0439\u0442\u0438","\u0431\u043E\u043B\u044C\u0448\u043E\u0439","\u043C\u0438\u0440","\u0433\u0440\u0430\u043C\u043C\u0430\u0442\u0438\u043A\u0438","\u0432\u0435\u043B\u0438\u043A\u0438\u0439","\u043E\u043A\u0441\u043C\u043E\u043A\u0441","\u043F\u0440\u0435\u0434\u0443\u043F\u0440\u0435\u0436\u0434\u0430\u043B","\u043E","\u0437\u043B\u044B\u0445","\u0437\u0430\u043F\u044F\u0442\u044B\u0445","\u0434\u0438\u043A\u0438\u0445","\u0437\u043D\u0430\u043A\u0430\u0445","\u0432\u043E\u043F\u0440\u043E\u0441\u0430","\u043A\u043E\u0432\u0430\u0440\u043D\u044B\u0445","\u0442\u043E\u0447\u043A\u0430\u0445","\u0437\u0430\u043F\u044F\u0442\u043E\u0439","\u043D\u043E","\u0442\u0435\u043A\u0441\u0442","\u0434\u0430\u043B","\u0441\u0431\u0438\u0442\u044C","\u0441\u0435\u0431\u044F","\u0442\u043E\u043B\u043A\u0443","\u043E\u043D","\u0441\u043E\u0431\u0440\u0430\u043B","\u0441\u0435\u043C\u044C","\u0441\u0432\u043E\u0438\u0445","\u0437\u0430\u0433\u043B\u0430\u0432\u043D\u044B\u0445","\u0431\u0443\u043A\u0432","\u043F\u043E\u0434\u043F\u043E\u044F\u0441\u0430\u043B","\u0438\u043D\u0438\u0446\u0438\u0430\u043B","\u0437\u0430","\u043F\u043E\u044F\u0441","\u043F\u0443\u0441\u0442\u0438\u043B\u0441\u044F","\u0434\u043E\u0440\u043E\u0433\u0443","\u0432\u0437\u043E\u0431\u0440\u0430\u0432\u0448\u0438\u0441\u044C","\u043F\u0435\u0440\u0432\u0443\u044E","\u0432\u0435\u0440\u0448\u0438\u043D\u0443","\u043A\u0443\u0440\u0441\u0438\u0432\u043D\u044B\u0445","\u0433\u043E\u0440","\u0431\u0440\u043E\u0441\u0438\u043B","\u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0439","\u0432\u0437\u0433\u043B\u044F\u0434","\u043D\u0430\u0437\u0430\u0434","\u0441\u0438\u043B\u0443\u044D\u0442","\u0441\u0432\u043E\u0435\u0433\u043E","\u0440\u043E\u0434\u043D\u043E\u0433\u043E","\u0433\u043E\u0440\u043E\u0434\u0430","\u0431\u0443\u043A\u0432\u043E\u0433\u0440\u0430\u0434","\u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A","\u0434\u0435\u0440\u0435\u0432\u043D\u0438","\u0430\u043B\u0444\u0430\u0432\u0438\u0442","\u043F\u043E\u0434\u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A","\u0441\u0432\u043E\u0435\u0433\u043E","\u043F\u0435\u0440\u0435\u0443\u043B\u043A\u0430","\u0433\u0440\u0443\u0441\u0442\u043D\u044B\u0439","\u0440\u0435\u0442\u043E\u0440\u0438\u0447\u0435\u0441\u043A\u0438\u0439","\u0432\u043E\u043F\u0440\u043E\u0441","\u0441\u043A\u0430\u0442\u0438\u043B\u0441\u044F","\u0435\u0433\u043E","\u0449\u0435\u043A\u0435","\u043F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u043B","\u0441\u0432\u043E\u0439","\u043F\u0443\u0442\u044C","\u0434\u043E\u0440\u043E\u0433\u0435","\u0432\u0441\u0442\u0440\u0435\u0442\u0438\u043B","\u0440\u0443\u043A\u043E\u043F\u0438\u0441\u044C","\u043E\u043D\u0430","\u043F\u0440\u0435\u0434\u0443\u043F\u0440\u0435\u0434\u0438\u043B\u0430","\u043C\u043E\u0435\u0439","\u0432\u0441\u0435","\u043F\u0435\u0440\u0435\u043F\u0438\u0441\u044B\u0432\u0430\u0435\u0442\u0441\u044F","\u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E","\u0440\u0430\u0437","\u0435\u0434\u0438\u043D\u0441\u0442\u0432\u0435\u043D\u043D\u043E\u0435","\u0447\u0442\u043E","\u043C\u0435\u043D\u044F","\u043E\u0441\u0442\u0430\u043B\u043E\u0441\u044C","\u044D\u0442\u043E","\u043F\u0440\u0438\u0441\u0442\u0430\u0432\u043A\u0430","\u0432\u043E\u0437\u0432\u0440\u0430\u0449\u0430\u0439\u0441\u044F","\u0442\u044B","\u043B\u0443\u0447\u0448\u0435","\u0441\u0432\u043E\u044E","\u0431\u0435\u0437\u043E\u043F\u0430\u0441\u043D\u0443\u044E","\u0441\u0442\u0440\u0430\u043D\u0443","\u043F\u043E\u0441\u043B\u0443\u0448\u0430\u0432\u0448\u0438\u0441\u044C","\u0440\u0443\u043A\u043E\u043F\u0438\u0441\u0438","\u043D\u0430\u0448","\u043F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u043B","\u0441\u0432\u043E\u0439","\u043F\u0443\u0442\u044C","\u0432\u0441\u043A\u043E\u0440\u0435","\u0435\u043C\u0443","\u043F\u043E\u0432\u0441\u0442\u0440\u0435\u0447\u0430\u043B\u0441\u044F","\u043A\u043E\u0432\u0430\u0440\u043D\u044B\u0439","\u0441\u043E\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043B\u044C","\u0440\u0435\u043A\u043B\u0430\u043C\u043D\u044B\u0445","\u0442\u0435\u043A\u0441\u0442\u043E\u0432","\u043D\u0430\u043F\u043E\u0438\u0432\u0448\u0438\u0439","\u044F\u0437\u044B\u043A\u043E\u043C","\u0440\u0435\u0447\u044C\u044E","\u0437\u0430\u043C\u0430\u043D\u0438\u0432\u0448\u0438\u0439","\u0441\u0432\u043E\u0435","\u0430\u0433\u0435\u043D\u0442\u0441\u0442\u0432\u043E","\u043A\u043E\u0442\u043E\u0440\u043E\u0435","\u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043B\u043E","\u0441\u043D\u043E\u0432\u0430","\u0441\u043D\u043E\u0432\u0430","\u0441\u0432\u043E\u0438\u0445","\u043F\u0440\u043E\u0435\u043A\u0442\u0430\u0445","\u0435\u0441\u043B\u0438","\u043F\u0435\u0440\u0435\u043F\u0438\u0441\u0430\u043B\u0438","\u0442\u043E","\u0436\u0438\u0432\u0435\u0442","\u0442\u0430\u043C","\u0434\u043E","\u0441\u0438\u0445","\u043F\u043E\u0440"]},eU={common:["mujer","uno","dolor","m\xE1s","de","poder","mismo","si"],words:["ejercicio","preferencia","perspicacia","laboral","pa\xF1o","suntuoso","molde","namibia","planeador","mirar","dem\xE1s","oficinista","excepci\xF3n","odio","consecuencia","casi","auto","chicharra","velo","elixir","ataque","no","odio","temporal","cu\xF3rum","dign\xEDsimo","facilismo","letra","nihilista","expedici\xF3n","alma","alveolar","aparte","le\xF3n","animal","como","paria","belleza","modo","natividad","justo","ataque","s\xE9quito","pillo","sed","ex","y","voluminoso","temporalidad","verdades","racional","asunci\xF3n","incidente","marejada","placenta","amanecer","fuga","previsor","presentaci\xF3n","lejos","necesariamente","sospechoso","adiposidad","quind\xEDo","p\xF3cima","voluble","d\xE9bito","sinti\xF3","accesorio","falda","sapiencia","volutas","queso","permacultura","laudo","soluciones","entero","pan","litro","tonelada","culpa","libertario","mosca","dictado","reincidente","nascimiento","dolor","escolar","impedimento","m\xEDnima","mayores","repugnante","dulce","obcecado","monta\xF1a","enigma","total","delet\xE9reo","d\xE9cima","c\xE1bala","fotograf\xEDa","dolores","molesto","olvido","paciencia","resiliencia","voluntad","molestias","magn\xEDfico","distinci\xF3n","ovni","marejada","cerro","torre","y","abogada","manantial","corporal","agua","crep\xFAsculo","ataque","desierto","laboriosamente","angustia","afortunado","alma","encefalograma","materialidad","cosas","o","renuncia","error","menos","conejo","abad\xEDa","analfabeto","remo","fugacidad","oficio","en","alm\xE1cigo","vos","pan","represi\xF3n","n\xFAmeros","triste","refugiado","trote","inventor","corchea","repelente","magma","recusado","patr\xF3n","expl\xEDcito","paloma","s\xEDndrome","inmune","autoinmune","comodidad","ley","vietnamita","demonio","tasmania","repeler","ap\xE9ndice","arquitecto","columna","yugo","computador","mula","a","prop\xF3sito","fantas\xEDa","alias","rayo","tenedor","deleznable","ventana","cara","anemia","corrupto"]},AD={ru:J5,sp:eU,latin:K5},tU=/^lorem([a-z]*)(\d*)(-\d*)?$/i;function iU(r,e,t){let i;if(r.name&&(i=r.name.match(tU))){let n=AD[i[1]]||AD.latin,s=i[2]?Math.max(1,Number(i[2])):30,o=i[3]?Math.max(s,Number(i[3].slice(1))):s,a=Do(s,o),l=r.repeat||aU(e);r.name=r.attributes=void 0,r.value=[oU(n,a,!l||l.value===0)],r.repeat&&e.length>1&&DL(r,e,t)}}function Do(r,e){return Math.floor(Math.random()*(e-r)+r)}function nU(r,e){let t=r.length,i=Math.min(t,e),n=[];for(;n.length<i;){let s=r[Do(0,t)];n.includes(s)||n.push(s)}return n}function rU(r){return r[Do(0,r.length-1)]}function ID(r,e){return r.length&&(r=[sU(r[0])].concat(r.slice(1))),r.join(" ")+(e||rU("?!..."))}function sU(r){return r[0].toUpperCase()+r.slice(1)}function PD(r){if(r.length<2)return r;r=r.slice();let e=r.length,t=/,$/,i=0;e>3&&e<=6?i=Do(0,1):e>6&&e<=12?i=Do(0,2):i=Do(1,4);for(let n=0,s;n<i;n++)s=Do(0,e-2),t.test(r[s])||(r[s]+=",");return r}function oU(r,e,t){let i=[],n=0,s;for(t&&r.common&&(s=r.common.slice(0,e),n+=s.length,i.push(ID(PD(s),".")));n<e;)s=nU(r.words,Math.min(Do(2,30),e-n)),n+=s.length,i.push(ID(PD(s)));return i.join(" ")}function aU(r){for(let e=r.length-1;e>=0;e--){let t=r[e];if(t.type==="AbbreviationNode"&&t.repeat)return t.repeat}}function lU(r){cU(r.name)&&r.attributes&&(r.children.length||r.value)&&(r.attributes=r.attributes.filter(hU))}function hU(r){return r.name!=="select"}function cU(r){return r==="xsl:variable"||r==="xsl:with-param"}var LL=/^(-+)([a-z0-9]+[a-z0-9-]*)/i,AL=/^(_+)([a-z0-9]+[a-z0-9-_]*)/i,uU=r=>/^[a-z]\-/i.test(r),pU=r=>/^[a-z]/i.test(r);function dU(r,e,t){fU(r),mU(r,e,t)}function fU(r){let e=D0(r),t=[];for(let i of e.classNames){let n=i.indexOf("_");n>0&&!i.startsWith("-")?(t.push(i.slice(0,n)),t.push(i.slice(n))):t.push(i)}t.length&&(e.classNames=t.filter(zL),e.block=PL(e.classNames),jL(r,e.classNames.join(" ")))}function mU(r,e,t){let i=D0(r),n=[],{options:s}=t,o=e.slice(1).concat(r);for(let l of i.classNames){let h="",c,p=l;(c=l.match(LL))&&(h=jD(o,c[1].length,t.context)+s["bem.element"]+c[2],n.push(h),l=l.slice(c[0].length)),(c=l.match(AL))&&(h||(h=jD(o,c[1].length),n.push(h)),n.push(`${h}${s["bem.modifier"]}${c[2]}`),l=l.slice(c[0].length)),l===p&&n.push(p)}let a=n.filter(zL);a.length&&jL(r,a.join(" "))}function D0(r){if(!r._bem){let e="";if(r.attributes){for(let t of r.attributes)if(t.name==="class"&&t.value){e=vU(t.value);break}}r._bem=IL(e)}return r._bem}function gU(r){return r._bem||(r._bem=IL(r.attributes&&r.attributes.class||"")),r._bem}function IL(r){let e=r?r.split(/\s+/):[];return{classNames:e,block:PL(e)}}function jD(r,e=0,t){let n=Math.max(r.length-e,0);do{let s=r[n];if(s){let o=D0(s);if(o.block)return o.block}}while(0<n--);if(t){let s=gU(t);if(s.block)return s.block}return""}function PL(r){return zD(r,uU)||zD(r,pU)||void 0}function zD(r,e){for(let t of r){if(LL.test(t)||AL.test(t))break;if(e(t))return t}}function jL(r,e){for(let t of r.attributes)if(t.name==="class"){t.value=[e];break}}function vU(r){let e="";for(let t of r)e+=typeof t=="string"?t:t.name;return e}function zL(r,e,t){return!!r&&t.indexOf(r)===e}function RL(r,e,t){let i=(s,o,a)=>{let{parent:l,current:h}=t;t.parent=h,t.current=s,e(s,o,a,t,n),t.current=h,t.parent=l},n=(s,o,a)=>{t.ancestors.push(t.current),i(s,o,a),t.ancestors.pop()};r.children.forEach(i)}function BL(r){return{current:null,parent:void 0,ancestors:[],config:r,field:1,out:NL(r.options)}}var Em=[{type:"Field",index:0,name:""}];function Da(r){return r?!r.name&&!r.attributes:!1}function RD(r,e){return r?ih(r,e):!1}function QL(r){return typeof r=="object"&&r.type==="Field"}function Hn(r,e){let{out:t}=e,i=-1;for(let n of r)typeof n=="string"?lt(t,n):(k0(t,e.field+n.index,n.name),n.index>i&&(i=n.index));i!==-1&&(e.field+=i+1)}function yU(r){let e=[],t=[];for(let i of r)if(typeof i=="string"){let n=i.split(/\r\n?|\n/g);for(t.push(n.shift()||"");n.length;)e.push(t),t=[n.shift()||""]}else t.push(i);return t.length&&e.push(t),e}function UL(r){return!r.implied||r.valueType!=="raw"||!!r.value&&r.value.length>0}var La;(function(r){r[r.Start=91]="Start",r[r.End=93]="End",r[r.Underscore=95]="Underscore",r[r.Dash=45]="Dash"})(La||(La={}));function BD(r){let e=[],t={pos:0,text:r},i,n=t.pos,s=t.pos;for(;t.pos<t.text.length;)s=t.pos,(i=bU(t))?(n!==t.pos&&e.push(r.slice(n,s)),e.push(i),n=t.pos):t.pos++;return n!==t.pos&&e.push(r.slice(n)),e}function bU(r){if(h0(r)===La.Start){let e=++r.pos,t=e,i=e,n=1;for(;r.pos<r.text.length;){let s=h0(r);if(HL(s)){for(t=r.pos;OU(h0(r));)r.pos++;i=r.pos}else{if(s===La.Start)n++;else if(s===La.End&&--n===0)return{before:r.text.slice(e,t),after:r.text.slice(i,r.pos++),name:r.text.slice(t,i)};r.pos++}}}}function h0(r,e=r.pos){return r.text.charCodeAt(e)}function HL(r){return r>=65&&r<=90}function OU(r){return HL(r)||r>47&&r<58||r===La.Underscore||r===La.Dash}function CU(r){let{options:e}=r;return{enabled:e["comment.enabled"],trigger:e["comment.trigger"],before:e["comment.before"]?BD(e["comment.before"]):void 0,after:e["comment.after"]?BD(e["comment.after"]):void 0}}function SU(r,e){_L(r,e)&&e.comment.before&&FL(r,e.comment.before,e)}function MU(r,e){_L(r,e)&&e.comment.after&&FL(r,e.comment.after,e)}function _L(r,e){let{comment:t}=e;if(!t.enabled||!t.trigger||!r.name||!r.attributes)return!1;for(let i of r.attributes)if(i.name&&t.trigger.includes(i.name))return!0;return!1}function FL(r,e,t){let i={},{out:n}=t;for(let s of r.attributes)s.name&&s.value&&(i[s.name.toUpperCase()]=s.value);for(let s of e)typeof s=="string"?lt(n,s):i[s.name]&&(lt(n,s.before),Hn(i[s.name],t),lt(n,s.after))}var TU=/^<([\w\-:]+)[\s>]/,NU=new Set(["for","while","of","async","await","const","let","var","continue","break","debugger","do","export","import","in","instanceof","new","return","switch","this","throw","try","catch","typeof","void","with","yield"]);function VL(r,e){let t=BL(e);return t.comment=CU(e),RL(r,xU,t),t.out.value}function xU(r,e,t,i,n){let{out:s,config:o}=i,a=$L(r,e,t,i),l=EU(i);if(s.level+=l,a&&Vr(s,!0),r.name){let h=$5(r.name,o);if(SU(r,i),lt(s,`<${h}`),r.attributes)for(let c of r.attributes)UL(c)&&wU(c,i);if(r.selfClosing&&!r.children.length&&!r.value)lt(s,`${Y5(o)}>`);else{if(lt(s,">"),!QD(r,i,n)){if(r.value){let c=r.value.some(YL)||kU(r.value,o);c&&Vr(i.out,++s.level),Hn(r.value,i),c&&Vr(i.out,--s.level)}if(r.children.forEach(n),!r.value&&!r.children.length){let c=o.options["output.formatLeafNode"]||o.options["output.formatForce"].includes(r.name);c&&Vr(i.out,++s.level),Hn(Em,i),c&&Vr(i.out,--s.level)}}lt(s,`</${h}>`),MU(r,i)}}else!QD(r,i,n)&&r.value&&(Hn(r.value,i),r.children.forEach(n));if(a&&e===t.length-1&&i.parent){let h=Da(i.parent)?0:1;Vr(s,s.level-h)}s.level-=l}function wU(r,e){let{out:t,config:i}=e;if(r.name){let n=i.options["markup.attributes"],s=i.options["markup.valuePrefix"],{name:o,value:a}=r,l=bm(r,i,!0),h=bm(r,i);n&&(o=UD(o,n,r.multiple)||o),o=xL(o,i);let c=s?UD(r.name,s,r.multiple):null;if(c&&a?.length===1&&typeof a[0]=="string"){let p=a[0];a=[DU(p)?`${c}.${p}`:`${c}['${p}']`],i.options["jsx.enabled"]&&(l=ML,h=TL)}wL(r,i)&&!a?i.options["output.compactBoolean"]||(a=[o]):a||(a=Em),lt(t," "+o),a?(lt(t,"="+l),Hn(a,e),lt(t,h)):i.options["output.selfClosingStyle"]!=="html"&&lt(t,"="+l+h)}}function QD(r,e,t){if(r.value&&r.children.length){let i=r.value.findIndex(QL);if(i!==-1){Hn(r.value.slice(0,i),e);let n=e.out.line,s=i+1;return r.children.forEach(t),e.out.line!==n&&typeof r.value[s]=="string"&&lt(e.out,r.value[s++].trimLeft()),Hn(r.value.slice(s),e),!0}}return!1}function $L(r,e,t,i){let{config:n,parent:s}=i;if(!n.options["output.format"]||e===0&&!s||s&&Da(s)&&t.length===1)return!1;if(Da(r)&&(Da(t[e-1])||Da(t[e+1])||r.value.some(YL)||r.value.some(QL)&&r.children.length))return!0;if(ih(r,n)){if(e===0){for(let o=0;o<t.length;o++)if(!ih(t[o],n))return!0}else if(!ih(t[e-1],n))return!0;if(n.options["output.inlineBreak"]){let o=1,a=e,l=e;for(;RD(t[--a],n);)o++;for(;RD(t[++l],n);)o++;if(o>=n.options["output.inlineBreak"])return!0}for(let o=0,a=r.children.length;o<a;o++)if($L(r.children[o],o,r.children,i))return!0;return!1}return!0}function EU(r){let{config:e,parent:t}=r;return!t||Da(t)||t.name&&e.options["output.formatSkip"].includes(t.name)?0:1}function YL(r){return typeof r=="string"&&/\r|\n/.test(r)}function kU(r,e){if(r.length&&typeof r[0]=="string"){let t=TU.exec(r[0]);if(t?.length&&!e.options.inlineElements.includes(t[1].toLowerCase()))return!0}return!1}function UD(r,e,t){return t&&e[`${r}*`]||e[r]}function DU(r){return!NU.has(r)&&/^[a-zA-Z_$][\w_$]*$/.test(r)}function L0(r,e,t){let i=BL(e);return i.options=t||{},RL(r,LU,i),i.out.value}function LU(r,e,t,i,n){let{out:s,options:o}=i,{primary:a,secondary:l}=AU(r),h=i.parent?1:0;s.level+=h,BU(r,e,t,i)&&Vr(s,!0),r.name&&(r.name!=="div"||!a.length)&&lt(s,(o.beforeName||"")+r.name+(o.afterName||"")),IU(a,i),PU(l.filter(UL),i),r.selfClosing&&!r.value&&!r.children.length?i.options.selfClose&&lt(s,i.options.selfClose):(jU(r,i),r.children.forEach(n)),s.level-=h}function AU(r){let e=[],t=[];if(r.attributes)for(let i of r.attributes)zU(i)?e.push(i):t.push(i);return{primary:e,secondary:t}}function IU(r,e){for(let t of r)if(t.value)if(t.name==="class"){lt(e.out,".");let i=t.value.map(n=>typeof n=="string"?n.replace(/\s+/g,"."):n);Hn(i,e)}else lt(e.out,"#"),Hn(t.value,e)}function PU(r,e){if(r.length){let{out:t,config:i,options:n}=e;n.beforeAttribute&&lt(t,n.beforeAttribute);for(let s=0;s<r.length;s++){let o=r[s];lt(t,xL(o.name||"",i)),wL(o,i)&&!o.value?!i.options["output.compactBoolean"]&&n.booleanValue&&lt(t,"="+n.booleanValue):(lt(t,"="+bm(o,i,!0)),Hn(o.value||Em,e),lt(t,bm(o,i))),s!==r.length-1&&n.glueAttribute&&lt(t,n.glueAttribute)}n.afterAttribute&&lt(t,n.afterAttribute)}}function jU(r,e){if(!r.value&&r.children.length)return;let t=r.value||Em,i=yU(t),{out:n,options:s}=e;if(i.length===1)(r.name||r.attributes)&&qt(n," "),Hn(t,e);else{let o=[],a=0;for(let l of i){let h=RU(l);o.push(h),h>a&&(a=h)}n.level++;for(let l=0;l<i.length;l++)Vr(n,!0),s.beforeTextLine&&qt(n,s.beforeTextLine),Hn(i[l],e),s.afterTextLine&&(qt(n," ".repeat(a-o[l])),qt(n,s.afterTextLine));n.level--}}function zU(r){return r.name==="class"||r.name==="id"}function RU(r){let e=0;for(let t of r)e+=typeof t=="string"?t.length:t.name.length;return e}function BU(r,e,t,i){return!i.parent&&e===0?!1:!Da(r)}function QU(r,e){return L0(r,e,{beforeName:"%",beforeAttribute:"(",afterAttribute:")",glueAttribute:" ",afterTextLine:" |",booleanValue:"true",selfClose:"/"})}function UU(r,e){return L0(r,e,{beforeAttribute:" ",glueAttribute:" ",beforeTextLine:"| ",selfClose:"/"})}function HU(r,e){return L0(r,e,{beforeAttribute:"(",afterAttribute:")",glueAttribute:", ",beforeTextLine:"| ",selfClose:e.options["output.selfClosingStyle"]==="xml"?"/":""})}var _U={html:VL,haml:QU,slim:UU,pug:HU};function FU(r,e){let t;if(typeof r=="string"){let i=Object.assign({},e);e.options["jsx.enabled"]&&(i.jsx=!0),e.options["markup.href"]&&(i.href=!0),r=N0(r,i),t=e.text,e.text=void 0}return r=_5(r,e),U5(r,$U,e),e.text=t??e.text,r}function VU(r,e){return(_U[e.syntax]||VL)(r,e)}function $U(r,e,t){Z5(r,e,t),R5(r,t),iU(r,e,t),t.syntax==="xsl"&&lU(r),t.options["bem.enabled"]&&dU(r,e,t)}var Cs;(function(r){r.Raw="Raw",r.Property="Property"})(Cs||(Cs={}));var YU=/^([a-z-]+)(?:\s*:\s*([^\n\r;]+?);*)?$/,qU={value:!0};function WU(r,e){let t=e.match(YU);if(t){let i={},n=t[2]?t[2].split("|").map(GU):[];for(let s of n)for(let o of s)JU(o,i);return{type:Cs.Property,key:r,property:t[1],value:n,keywords:i,dependencies:[]}}return{type:Cs.Raw,key:r,value:e}}function ZU(r){r=r.slice().sort(XU);let e=[],t;for(let i of r.filter(KU)){for(;e.length;){if(t=e[e.length-1],i.property.startsWith(t.property)&&i.property.charCodeAt(t.property.length)===45){t.dependencies.push(i),e.push(i);break}e.pop()}e.length||e.push(i)}return r}function XU(r,e){return r.key===e.key?0:r.key<e.key?-1:1}function GU(r){return CL(r.trim(),qU)[0].value}function KU(r){return r.type===Cs.Property}function JU(r,e){for(let t of r.value)if(t.type==="Literal")e[t.value]=t;else if(t.type==="FunctionCall")e[t.name]=t;else if(t.type==="Field"){let i=t.name.trim();i&&(e[i]={type:"Literal",value:i})}}function eH(r,e,t=!1){if(r=r.toLowerCase(),e=e.toLowerCase(),r===e)return 1;if(!r||!e||r.charCodeAt(0)!==e.charCodeAt(0))return 0;let i=r.length,n=e.length;if(!t&&i>n)return 0;let s=Math.min(i,n),o=Math.max(i,n),a=1,l=1,h=o,c=0,p=0,d=!1,f=!1;for(;a<i;){for(c=r.charCodeAt(a),d=!1,f=!1;l<n;){if(p=e.charCodeAt(l),c===p){d=!0,h+=o-(f?a:l);break}f=p===45,l++}if(!d){if(!t)return 0;break}a++}let m=a/o,g=o-s,v=HD(o)-HD(g);return h*m/v}function HD(r){return r*(r+1)/2}function qL(r,e){return!r.r&&!r.g&&!r.b&&!r.a?"transparent":r.a===1?tH(r,e):iH(r)}function tH(r,e){let t=e&&c0(r.r)&&c0(r.g)&&c0(r.b)?nH:rH;return"#"+t(r.r)+t(r.g)+t(r.b)}function iH(r){let e=[r.r,r.g,r.b];return r.a!==1&&e.push(WL(r.a,8)),`${e.length===3?"rgb":"rgba"}(${e.join(", ")})`}function WL(r,e=4){return r.toFixed(e).replace(/\.?0+$/,"")}function c0(r){return!(r%17)}function nH(r){return(r>>4).toString(16)}function rH(r){return sH(r.toString(16),2)}function sH(r,e){for(;r.length<e;)r="0"+r;return r}var Om={Global:"@@global",Section:"@@section",Property:"@@property",Value:"@@value"};function oH(r,e){var t;let i=NL(e.options),n=e.options["output.format"];((t=e.context)===null||t===void 0?void 0:t.name)===Om.Section&&(r=r.filter(s=>s.snippet));for(let s=0;s<r.length;s++)n&&s!==0&&Vr(i,!0),aH(r[s],i,e);return i.value}function aH(r,e,t){let i=t.options["stylesheet.json"];if(r.name){let n=i?cH(r.name):r.name;lt(e,n+t.options["stylesheet.between"]),r.value.length?lH(r,e,t):k0(e,0,""),i?qt(e,","):(_D(r,e,!0),qt(e,t.options["stylesheet.after"]))}else{for(let n of r.value)for(let s of n.value)XL(s,e,t);_D(r,e,r.value.length>0)}}function lH(r,e,t){let i=t.options["stylesheet.json"],n=i?hH(r):null;if(n&&(!n.unit||n.unit==="px"))qt(e,String(n.value));else{let s=uH(t);i&&qt(e,s);for(let o=0;o<r.value.length;o++)o!==0&&qt(e,", "),ZL(r.value[o],e,t);i&&qt(e,s)}}function _D(r,e,t){r.important&&(t&&qt(e," "),qt(e,"!important"))}function ZL(r,e,t){for(let i=0,n=-1;i<r.value.length;i++){let s=r.value[i];i!==0&&(s.type!=="Field"||s.start!==n)&&qt(e," "),XL(s,e,t),n=s.end}}function XL(r,e,t){if(r.type==="ColorValue")qt(e,qL(r,t.options["stylesheet.shortHex"]));else if(r.type==="Literal"||r.type==="CustomProperty")lt(e,r.value);else if(r.type==="NumberValue")lt(e,WL(r.value,4)+r.unit);else if(r.type==="StringValue"){let i=r.quote==="double"?'"':"'";lt(e,i+r.value+i)}else if(r.type==="Field")k0(e,r.index,r.name);else if(r.type==="FunctionCall"){qt(e,r.name+"(");for(let i=0;i<r.arguments.length;i++)i&&qt(e,", "),ZL(r.arguments[i],e,t);qt(e,")")}}function hH(r){if(r.value.length===1){let e=r.value[0];if(e.value.length===1&&e.value[0].type==="NumberValue")return e.value[0]}}function cH(r){return r.replace(/\-(\w)/g,(e,t)=>t.toUpperCase())}function uH(r){return r.options["stylesheet.jsonDoubleQuotes"]?'"':"'"}var FD="lg";function pH(r,e){var t;let i=((t=e.cache)===null||t===void 0?void 0:t.stylesheetSnippets)||dH(e.snippets);e.cache&&(e.cache.stylesheetSnippets=i),typeof r=="string"&&(r=CL(r,{value:eA(e)}));let n=CH(i,e);for(let s of r)fH(s,n,e);return r}function dH(r){let e=[];for(let t of Object.keys(r))e.push(WU(t,r[t]));return ZU(e)}function fH(r,e,t){if(!mH(r,t)){let i=t.options["stylesheet.fuzzySearchMinScore"];if(eA(t)){let n=t.context.name,s=e.find(o=>o.type===Cs.Property&&o.property===n);GL(r,t,s,i),r.snippet=s}else if(r.name){let n=dm(r.name,e,i,!0);r.snippet=n,n&&(n.type===Cs.Property?gH(r,n,t):vH(r,n))}}return(r.name||t.context)&&OH(r,t),r}function mH(r,e){let t=null,i=r.value.length===1?r.value[0]:null;if(i&&i.value.length===1){let n=i.value[0];n.type==="FunctionCall"&&n.name===FD&&(t=n)}return t||r.name===FD?(t?t=Object.assign(Object.assign({},t),{name:"linear-gradient"}):t={type:"FunctionCall",name:"linear-gradient",arguments:[Cm(ka(0,""))]},e.context||(r.name="background-image"),r.value=[Cm(t)],!0):!1}function gH(r,e,t){let i=r.name,n=bH(i,e.key);if(n){if(r.value.length)return r;let s=v0(n,t,e);if(!s)return r;r.value.push(Cm(s))}if(r.name=e.property,r.value.length)GL(r,t,e);else if(e.value.length){let s=e.value[0];r.value=e.value.length===1||s.some(KL)?s:s.map(o=>JL(o,t))}return r}function GL(r,e,t,i){for(let n of r.value){let s=[];for(let o of n.value)if(o.type==="Literal")s.push(v0(o.value,e,t,i)||o);else if(o.type==="FunctionCall"){let a=v0(o.name,e,t,i);a&&a.type==="FunctionCall"?s.push(Object.assign(Object.assign({},a),{arguments:o.arguments.concat(a.arguments.slice(o.arguments.length))})):s.push(o)}else s.push(o);n.value=s}}function vH(r,e){let t=0,i,n=/\$\{(\d+)(:[^}]+)?\}/g,s=r.value[0],o=[];for(;i=n.exec(e.value);)t!==i.index&&o.push(nh(e.value.slice(t,i.index))),t=i.index+i[0].length,s&&s.value.length?o.push(s.value.shift()):o.push(ka(Number(i[1]),i[2]?i[2].slice(1):""));let a=e.value.slice(t);return a&&o.push(nh(a)),r.name=void 0,r.value=[Cm(...o)],r}function dm(r,e,t=0,i=!1){let n=null,s=0;for(let o of e){let a=eH(r,yH(o),i);if(a===1)return o;a&&a>=s&&(s=a,n=o)}return s>=t?n:null}function yH(r){return typeof r=="string"?r:r.key}function bH(r,e){for(let t=0,i=0;t<r.length;t++){if(i=e.indexOf(r[t],i),i===-1)return r.slice(t);i++}return""}function v0(r,e,t,i){let n;if(t){if(n=dm(r,Object.keys(t.keywords),i))return t.keywords[n];for(let s of t.dependencies)if(n=dm(r,Object.keys(s.keywords),i))return s.keywords[n]}return(n=dm(r,e.options["stylesheet.keywords"],i))?nh(n):null}function OH(r,e){let t=e.options["stylesheet.unitAliases"],i=e.options["stylesheet.unitless"];for(let n of r.value)for(let s of n.value)s.type==="NumberValue"&&(s.unit?s.unit=t[s.unit]||s.unit:s.value!==0&&!i.includes(r.name)&&(s.unit=s.rawValue.includes(".")?e.options["stylesheet.floatUnit"]:e.options["stylesheet.intUnit"]))}function Cm(...r){return{type:"CSSValue",value:r}}function nh(r){return{type:"Literal",value:r}}function ka(r,e){return{type:"Field",index:r,name:e}}function KL(r){for(let e of r.value)if(e.type==="Field"||e.type==="FunctionCall"&&e.arguments.some(KL))return!0;return!1}function JL(r,e,t={index:1}){let i=[];for(let n of r.value)switch(n.type){case"ColorValue":i.push(ka(t.index++,qL(n,e.options["stylesheet.shortHex"])));break;case"Literal":i.push(ka(t.index++,n.value));break;case"NumberValue":i.push(ka(t.index++,`${n.value}${n.unit}`));break;case"StringValue":let s=n.quote==="single"?"'":'"';i.push(ka(t.index++,s+n.value+s));break;case"FunctionCall":i.push(ka(t.index++,n.name),nh("("));for(let o=0,a=n.arguments.length;o<a;o++)i=i.concat(JL(n.arguments[o],e,t).value),o!==a-1&&i.push(nh(", "));i.push(nh(")"));break;default:i.push(n)}return Object.assign(Object.assign({},r),{value:i})}function eA(r){return r.context?r.context.name===Om.Value||!r.context.name.startsWith("@@"):!1}function CH(r,e){if(e.context){if(e.context.name===Om.Section)return r.filter(t=>t.type===Cs.Raw);if(e.context.name===Om.Property)return r.filter(t=>t.type===Cs.Property)}return r}var SH={a:"a[href]","a:blank":"a[href='http://${0}' target='_blank' rel='noopener noreferrer']","a:link":"a[href='http://${0}']","a:mail":"a[href='mailto:${0}']","a:tel":"a[href='tel:+${0}']",abbr:"abbr[title]","acr|acronym":"acronym[title]",base:"base[href]/",basefont:"basefont/",br:"br/",frame:"frame/",hr:"hr/",bdo:"bdo[dir]","bdo:r":"bdo[dir=rtl]","bdo:l":"bdo[dir=ltr]",col:"col/",link:"link[rel=stylesheet href]/","link:css":"link[href='${1:style}.css']","link:print":"link[href='${1:print}.css' media=print]","link:favicon":"link[rel='shortcut icon' type=image/x-icon href='${1:favicon.ico}']","link:mf|link:manifest":"link[rel='manifest' href='${1:manifest.json}']","link:touch":"link[rel=apple-touch-icon href='${1:favicon.png}']","link:rss":"link[rel=alternate type=application/rss+xml title=RSS href='${1:rss.xml}']","link:atom":"link[rel=alternate type=application/atom+xml title=Atom href='${1:atom.xml}']","link:im|link:import":"link[rel=import href='${1:component}.html']",meta:"meta/","meta:utf":"meta[http-equiv=Content-Type content='text/html;charset=UTF-8']","meta:vp":"meta[name=viewport content='width=${1:device-width}, initial-scale=${2:1.0}']","meta:compat":"meta[http-equiv=X-UA-Compatible content='${1:IE=7}']","meta:edge":"meta:compat[content='${1:ie=edge}']","meta:redirect":"meta[http-equiv=refresh content='0; url=${1:http://example.com}']","meta:refresh":"meta[http-equiv=refresh content='${1:5}']","meta:kw":"meta[name=keywords content]","meta:desc":"meta[name=description content]",style:"style",script:"script","script:src":"script[src]","script:module":"script[type=module src]",img:"img[src alt]/","img:s|img:srcset":"img[srcset src alt]","img:z|img:sizes":"img[sizes srcset src alt]",picture:"picture","src|source":"source/","src:sc|source:src":"source[src type]","src:s|source:srcset":"source[srcset]","src:t|source:type":"source[srcset type='${1:image/}']","src:z|source:sizes":"source[sizes srcset]","src:m|source:media":"source[media='(${1:min-width: })' srcset]","src:mt|source:media:type":"source:media[type='${2:image/}']","src:mz|source:media:sizes":"source:media[sizes srcset]","src:zt|source:sizes:type":"source[sizes srcset type='${1:image/}']",iframe:"iframe[src frameborder=0]",embed:"embed[src type]/",object:"object[data type]",param:"param[name value]/",map:"map[name]",area:"area[shape coords href alt]/","area:d":"area[shape=default]","area:c":"area[shape=circle]","area:r":"area[shape=rect]","area:p":"area[shape=poly]",form:"form[action]","form:get":"form[method=get]","form:post":"form[method=post]",label:"label[for]",input:"input[type=${1:text}]/",inp:"input[name=${1} id=${1}]","input:h|input:hidden":"input[type=hidden name]","input:t|input:text":"inp[type=text]","input:search":"inp[type=search]","input:email":"inp[type=email]","input:url":"inp[type=url]","input:p|input:password":"inp[type=password]","input:datetime":"inp[type=datetime]","input:date":"inp[type=date]","input:datetime-local":"inp[type=datetime-local]","input:month":"inp[type=month]","input:week":"inp[type=week]","input:time":"inp[type=time]","input:tel":"inp[type=tel]","input:number":"inp[type=number]","input:color":"inp[type=color]","input:c|input:checkbox":"inp[type=checkbox]","input:r|input:radio":"inp[type=radio]","input:range":"inp[type=range]","input:f|input:file":"inp[type=file]","input:s|input:submit":"input[type=submit value]","input:i|input:image":"input[type=image src alt]","input:b|input:btn|input:button":"input[type=button value]","input:reset":"input:button[type=reset]",isindex:"isindex/",select:"select[name=${1} id=${1}]","select:d|select:disabled":"select[disabled.]","opt|option":"option[value]",textarea:"textarea[name=${1} id=${1} cols=${2:30} rows=${3:10}]",marquee:"marquee[behavior direction]","menu:c|menu:context":"menu[type=context]","menu:t|menu:toolbar":"menu[type=toolbar]",video:"video[src]",audio:"audio[src]","html:xml":"html[xmlns=http://www.w3.org/1999/xhtml]",keygen:"keygen/",command:"command/","btn:s|button:s|button:submit":"button[type=submit]","btn:r|button:r|button:reset":"button[type=reset]","btn:d|button:d|button:disabled":"button[disabled.]","fst:d|fset:d|fieldset:d|fieldset:disabled":"fieldset[disabled.]",bq:"blockquote",fig:"figure",figc:"figcaption",pic:"picture",ifr:"iframe",emb:"embed",obj:"object",cap:"caption",colg:"colgroup",fst:"fieldset",btn:"button",optg:"optgroup",tarea:"textarea",leg:"legend",sect:"section",art:"article",hdr:"header",ftr:"footer",adr:"address",dlg:"dialog",str:"strong",prog:"progress",mn:"main",tem:"template",fset:"fieldset",datag:"datagrid",datal:"datalist",kg:"keygen",out:"output",det:"details",sum:"summary",cmd:"command","ri:d|ri:dpr":"img:s","ri:v|ri:viewport":"img:z","ri:a|ri:art":"pic>src:m+img","ri:t|ri:type":"pic>src:t+img","!!!":"{<!DOCTYPE html>}",doc:"html[lang=${lang}]>(head>meta[charset=${charset}]+meta:vp+title{${1:Document}})+body","!|html:5":"!!!+doc",c:"{<!-- ${0} -->}","cc:ie":"{<!--[if IE]>${0}<![endif]-->}","cc:noie":"{<!--[if !IE]><!-->${0}<!--<![endif]-->}"},MH={"@f":`@font-face {
	font-family: \${1};
	src: url(\${2});
}`,"@ff":"@font-face {\n	font-family: '${1:FontName}';\n	src: url('${2:FileName}.eot');\n	src: url('${2:FileName}.eot?#iefix') format('embedded-opentype'),\n		 url('${2:FileName}.woff') format('woff'),\n		 url('${2:FileName}.ttf') format('truetype'),\n		 url('${2:FileName}.svg#${1:FontName}') format('svg');\n	font-style: ${3:normal};\n	font-weight: ${4:normal};\n}","@i|@import":"@import url(${0});","@kf":"@keyframes ${1:identifier} {\n	${2}\n}","@m|@media":"@media ${1:screen} {\n	${0}\n}",ac:"align-content:start|end|flex-start|flex-end|center|space-between|space-around|stretch|space-evenly",ai:"align-items:start|end|flex-start|flex-end|center|baseline|stretch",anim:"animation:${1:name} ${2:duration} ${3:timing-function} ${4:delay} ${5:iteration-count} ${6:direction} ${7:fill-mode}",animdel:"animation-delay:time",animdir:"animation-direction:normal|reverse|alternate|alternate-reverse",animdur:"animation-duration:${1:0}s",animfm:"animation-fill-mode:both|forwards|backwards",animic:"animation-iteration-count:1|infinite",animn:"animation-name",animps:"animation-play-state:running|paused",animtf:"animation-timing-function:linear|ease|ease-in|ease-out|ease-in-out|cubic-bezier(${1:0.1}, ${2:0.7}, ${3:1.0}, ${3:0.1})",ap:"appearance:none",as:"align-self:start|end|auto|flex-start|flex-end|center|baseline|stretch",b:"bottom",bd:"border:${1:1px} ${2:solid} ${3:#000}",bdb:"border-bottom:${1:1px} ${2:solid} ${3:#000}",bdbc:"border-bottom-color:${1:#000}",bdbi:"border-bottom-image:url(${0})",bdbk:"border-break:close",bdbli:"border-bottom-left-image:url(${0})|continue",bdblrs:"border-bottom-left-radius",bdbri:"border-bottom-right-image:url(${0})|continue",bdbrrs:"border-bottom-right-radius",bdbs:"border-bottom-style",bdbw:"border-bottom-width",bdc:"border-color:${1:#000}",bdci:"border-corner-image:url(${0})|continue",bdcl:"border-collapse:collapse|separate",bdf:"border-fit:repeat|clip|scale|stretch|overwrite|overflow|space",bdi:"border-image:url(${0})",bdl:"border-left:${1:1px} ${2:solid} ${3:#000}",bdlc:"border-left-color:${1:#000}",bdlen:"border-length",bdli:"border-left-image:url(${0})",bdls:"border-left-style",bdlw:"border-left-width",bdr:"border-right:${1:1px} ${2:solid} ${3:#000}",bdrc:"border-right-color:${1:#000}",bdri:"border-right-image:url(${0})",bdrs:"border-radius",bdrst:"border-right-style",bdrw:"border-right-width",bds:"border-style:none|hidden|dotted|dashed|solid|double|dot-dash|dot-dot-dash|wave|groove|ridge|inset|outset",bdsp:"border-spacing",bdt:"border-top:${1:1px} ${2:solid} ${3:#000}",bdtc:"border-top-color:${1:#000}",bdti:"border-top-image:url(${0})",bdtli:"border-top-left-image:url(${0})|continue",bdtlrs:"border-top-left-radius",bdtri:"border-top-right-image:url(${0})|continue",bdtrrs:"border-top-right-radius",bdts:"border-top-style",bdtw:"border-top-width",bdw:"border-width",bfv:"backface-visibility:hidden|visible",bg:"background:${1:#000}","bg:n":"background: none",bga:"background-attachment:fixed|scroll",bgbk:"background-break:bounding-box|each-box|continuous",bgc:"background-color:${1:#fff}",bgcp:"background-clip:padding-box|border-box|content-box|no-clip",bgi:"background-image:url(${0})",bgo:"background-origin:padding-box|border-box|content-box",bgp:"background-position:${1:0} ${2:0}",bgpx:"background-position-x",bgpy:"background-position-y",bgr:"background-repeat:no-repeat|repeat-x|repeat-y|space|round",bgsz:"background-size:contain|cover",bxsh:"box-shadow:${1:inset }${2:hoff} ${3:voff} ${4:blur} ${5:#000}|none",bxsz:"box-sizing:border-box|content-box|border-box",c:"color:${1:#000}",cr:"color:rgb(${1:0}, ${2:0}, ${3:0})",cra:"color:rgba(${1:0}, ${2:0}, ${3:0}, ${4:.5})",cl:"clear:both|left|right|none",cm:"/* ${0} */",cnt:"content:'${0}'|normal|open-quote|no-open-quote|close-quote|no-close-quote|attr(${0})|counter(${0})|counters(${0})",coi:"counter-increment",colm:"columns",colmc:"column-count",colmf:"column-fill",colmg:"column-gap",colmr:"column-rule",colmrc:"column-rule-color",colmrs:"column-rule-style",colmrw:"column-rule-width",colms:"column-span",colmw:"column-width",cor:"counter-reset",cp:"clip:auto|rect(${1:top} ${2:right} ${3:bottom} ${4:left})",cps:"caption-side:top|bottom",cur:"cursor:pointer|auto|default|crosshair|hand|help|move|pointer|text",d:"display:block|none|flex|inline-flex|inline|inline-block|grid|inline-grid|subgrid|list-item|run-in|contents|table|inline-table|table-caption|table-column|table-column-group|table-header-group|table-footer-group|table-row|table-row-group|table-cell|ruby|ruby-base|ruby-base-group|ruby-text|ruby-text-group",ec:"empty-cells:show|hide",f:"font:${1:1em} ${2:sans-serif}",fd:"font-display:auto|block|swap|fallback|optional",fef:"font-effect:none|engrave|emboss|outline",fem:"font-emphasize",femp:"font-emphasize-position:before|after",fems:"font-emphasize-style:none|accent|dot|circle|disc",ff:"font-family:serif|sans-serif|cursive|fantasy|monospace",fft:'font-family:"Times New Roman", Times, Baskerville, Georgia, serif',ffa:'font-family:Arial, "Helvetica Neue", Helvetica, sans-serif',ffv:"font-family:Verdana, Geneva, sans-serif",fl:"float:left|right|none",fs:"font-style:italic|normal|oblique",fsm:"font-smoothing:antialiased|subpixel-antialiased|none",fst:"font-stretch:normal|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",fv:"font-variant:normal|small-caps",fvs:"font-variation-settings:normal|inherit|initial|unset",fw:"font-weight:normal|bold|bolder|lighter",fx:"flex",fxb:"flex-basis:fill|max-content|min-content|fit-content|content",fxd:"flex-direction:row|row-reverse|column|column-reverse",fxf:"flex-flow",fxg:"flex-grow",fxsh:"flex-shrink",fxw:"flex-wrap:nowrap|wrap|wrap-reverse",fsz:"font-size",fsza:"font-size-adjust",g:"gap",gtc:"grid-template-columns:repeat(${0})|minmax()",gtr:"grid-template-rows:repeat(${0})|minmax()",gta:"grid-template-areas",gt:"grid-template",gg:"grid-gap",gcg:"grid-column-gap",grg:"grid-row-gap",gac:"grid-auto-columns:auto|minmax()",gar:"grid-auto-rows:auto|minmax()",gaf:"grid-auto-flow:row|column|dense|inherit|initial|unset",gd:"grid",gc:"grid-column",gcs:"grid-column-start",gce:"grid-column-end",gr:"grid-row",grs:"grid-row-start",gre:"grid-row-end",ga:"grid-area",h:"height",jc:"justify-content:start|end|stretch|flex-start|flex-end|center|space-between|space-around|space-evenly",ji:"justify-items:start|end|center|stretch",js:"justify-self:start|end|center|stretch",l:"left",lg:"background-image:linear-gradient(${1})",lh:"line-height",lis:"list-style",lisi:"list-style-image",lisp:"list-style-position:inside|outside",list:"list-style-type:disc|circle|square|decimal|decimal-leading-zero|lower-roman|upper-roman",lts:"letter-spacing:normal",m:"margin",mah:"max-height",mar:"max-resolution",maw:"max-width",mb:"margin-bottom",mih:"min-height",mir:"min-resolution",miw:"min-width",ml:"margin-left",mr:"margin-right",mt:"margin-top",ol:"outline",olc:"outline-color:${1:#000}|invert",olo:"outline-offset",ols:"outline-style:none|dotted|dashed|solid|double|groove|ridge|inset|outset",olw:"outline-width|thin|medium|thick","op|opa":"opacity",ord:"order",ori:"orientation:landscape|portrait",orp:"orphans",ov:"overflow:hidden|visible|hidden|scroll|auto",ovs:"overflow-style:scrollbar|auto|scrollbar|panner|move|marquee",ovx:"overflow-x:hidden|visible|hidden|scroll|auto",ovy:"overflow-y:hidden|visible|hidden|scroll|auto",p:"padding",pb:"padding-bottom",pgba:"page-break-after:auto|always|left|right",pgbb:"page-break-before:auto|always|left|right",pgbi:"page-break-inside:auto|avoid",pl:"padding-left",pos:"position:relative|absolute|relative|fixed|static",pr:"padding-right",pt:"padding-top",q:"quotes",qen:"quotes:'\\201C' '\\201D' '\\2018' '\\2019'",qru:"quotes:'\\00AB' '\\00BB' '\\201E' '\\201C'",r:"right",rsz:"resize:none|both|horizontal|vertical",t:"top",ta:"text-align:left|center|right|justify",tal:"text-align-last:left|center|right",tbl:"table-layout:fixed",td:"text-decoration:none|underline|overline|line-through",te:"text-emphasis:none|accent|dot|circle|disc|before|after",th:"text-height:auto|font-size|text-size|max-size",ti:"text-indent",tj:"text-justify:auto|inter-word|inter-ideograph|inter-cluster|distribute|kashida|tibetan",to:"text-outline:${1:0} ${2:0} ${3:#000}",tov:"text-overflow:ellipsis|clip",tr:"text-replace",trf:"transform:${1}|skewX(${1:angle})|skewY(${1:angle})|scale(${1:x}, ${2:y})|scaleX(${1:x})|scaleY(${1:y})|scaleZ(${1:z})|scale3d(${1:x}, ${2:y}, ${3:z})|rotate(${1:angle})|rotateX(${1:angle})|rotateY(${1:angle})|rotateZ(${1:angle})|translate(${1:x}, ${2:y})|translateX(${1:x})|translateY(${1:y})|translateZ(${1:z})|translate3d(${1:tx}, ${2:ty}, ${3:tz})",trfo:"transform-origin",trfs:"transform-style:preserve-3d",trs:"transition:${1:prop} ${2:time}",trsde:"transition-delay:${1:time}",trsdu:"transition-duration:${1:time}",trsp:"transition-property:${1:prop}",trstf:"transition-timing-function:${1:fn}",tsh:"text-shadow:${1:hoff} ${2:voff} ${3:blur} ${4:#000}",tt:"text-transform:uppercase|lowercase|capitalize|none",tw:"text-wrap:none|normal|unrestricted|suppress",us:"user-select:none",v:"visibility:hidden|visible|collapse",va:"vertical-align:top|super|text-top|middle|baseline|bottom|text-bottom|sub",w:"width",whs:"white-space:nowrap|pre|pre-wrap|pre-line|normal",whsc:"white-space-collapse:normal|keep-all|loose|break-strict|break-all",wid:"widows",wm:"writing-mode:lr-tb|lr-tb|lr-bt|rl-tb|rl-bt|tb-rl|tb-lr|bt-lr|bt-rl",wob:"word-break:normal|keep-all|break-all",wos:"word-spacing",wow:"word-wrap:none|unrestricted|suppress|break-word|normal",z:"z-index",zom:"zoom:1"},TH={"tm|tmatch":"xsl:template[match mode]","tn|tname":"xsl:template[name]",call:"xsl:call-template[name]",ap:"xsl:apply-templates[select mode]",api:"xsl:apply-imports",imp:"xsl:import[href]",inc:"xsl:include[href]",ch:"xsl:choose","wh|xsl:when":"xsl:when[test]",ot:"xsl:otherwise",if:"xsl:if[test]",par:"xsl:param[name]",pare:"xsl:param[name select]",var:"xsl:variable[name]",vare:"xsl:variable[name select]",wp:"xsl:with-param[name select]",key:"xsl:key[name match use]",elem:"xsl:element[name]",attr:"xsl:attribute[name]",attrs:"xsl:attribute-set[name]",cp:"xsl:copy[select]",co:"xsl:copy-of[select]",val:"xsl:value-of[select]","for|each":"xsl:for-each[select]",tex:"xsl:text",com:"xsl:comment",msg:"xsl:message[terminate=no]",fall:"xsl:fallback",num:"xsl:number[value]",nam:"namespace-alias[stylesheet-prefix result-prefix]",pres:"xsl:preserve-space[elements]",strip:"xsl:strip-space[elements]",proc:"xsl:processing-instruction[name]",sort:"xsl:sort[select order]",choose:"xsl:choose>xsl:when+xsl:otherwise",xsl:`!!!+xsl:stylesheet[version=1.0 xmlns:xsl=http://www.w3.org/1999/XSL/Transform]>{
|}`,"!!!":'{<?xml version="1.0" encoding="UTF-8"?>}'},NH={"!!!":"{doctype html}"},xH={lang:"en",locale:"en-US",charset:"UTF-8",indentation:"	",newline:`
`},wH={markup:"html",stylesheet:"css"},EH={inlineElements:["a","abbr","acronym","applet","b","basefont","bdo","big","br","button","cite","code","del","dfn","em","font","i","iframe","img","input","ins","kbd","label","map","object","q","s","samp","select","small","span","strike","strong","sub","sup","textarea","tt","u","var"],"output.indent":"	","output.baseIndent":"","output.newline":`
`,"output.tagCase":"","output.attributeCase":"","output.attributeQuotes":"double","output.format":!0,"output.formatLeafNode":!1,"output.formatSkip":["html"],"output.formatForce":["body"],"output.inlineBreak":3,"output.compactBoolean":!1,"output.booleanAttributes":["contenteditable","seamless","async","autofocus","autoplay","checked","controls","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","novalidate","readonly","required","reversed","selected","typemustmatch"],"output.reverseAttributes":!1,"output.selfClosingStyle":"html","output.field":(r,e)=>e,"output.text":r=>r,"markup.href":!0,"comment.enabled":!1,"comment.trigger":["id","class"],"comment.before":"","comment.after":`
<!-- /[#ID][.CLASS] -->`,"bem.enabled":!1,"bem.element":"__","bem.modifier":"_","jsx.enabled":!1,"stylesheet.keywords":["auto","inherit","unset","none"],"stylesheet.unitless":["z-index","line-height","opacity","font-weight","zoom","flex","flex-grow","flex-shrink"],"stylesheet.shortHex":!0,"stylesheet.between":": ","stylesheet.after":";","stylesheet.intUnit":"px","stylesheet.floatUnit":"em","stylesheet.unitAliases":{e:"em",p:"%",x:"ex",r:"rem"},"stylesheet.json":!1,"stylesheet.jsonDoubleQuotes":!1,"stylesheet.fuzzySearchMinScore":0},tA={type:"markup",syntax:"html",variables:xH,snippets:{},options:EH},VD={markup:{snippets:pm(SH)},xhtml:{options:{"output.selfClosingStyle":"xhtml"}},xml:{options:{"output.selfClosingStyle":"xml"}},xsl:{snippets:pm(TH),options:{"output.selfClosingStyle":"xml"}},jsx:{options:{"jsx.enabled":!0,"markup.attributes":{class:"className","class*":"styleName",for:"htmlFor"},"markup.valuePrefix":{"class*":"styles"}}},vue:{options:{"markup.attributes":{"class*":":class"}}},svelte:{options:{"jsx.enabled":!0}},pug:{snippets:pm(NH)},stylesheet:{snippets:pm(MH)},sass:{options:{"stylesheet.after":""}},stylus:{options:{"stylesheet.between":" ","stylesheet.after":""}}};function pm(r){let e={};return Object.keys(r).forEach(t=>{for(let i of t.split("|"))e[i]=r[t]}),e}function iA(r={},e={}){let t=r.type||"markup",i=r.syntax||wH[t];return Object.assign(Object.assign(Object.assign({},tA),r),{type:t,syntax:i,variables:u0(t,i,"variables",r,e),snippets:u0(t,i,"snippets",r,e),options:u0(t,i,"options",r,e)})}function u0(r,e,t,i,n={}){let s=VD[r],o=n[r],a=VD[e],l=n[e];return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},tA[t]),s&&s[t]),a&&a[t]),o&&o[t]),l&&l[t]),i[t])}function nA(r,e=0){return{text:r,start:e,pos:r.length}}function Ms(r){return r.pos===r.start}function Lu(r,e=0){return r.text.charCodeAt(r.pos-1+e)}function $D(r){if(!Ms(r))return r.text.charCodeAt(--r.pos)}function vn(r,e){if(Ms(r))return!1;let t=typeof e=="function"?e(Lu(r)):e===Lu(r);return t&&r.pos--,!!t}function rA(r,e){let t=r.pos;for(;vn(r,e););return r.pos<t}var Au;(function(r){r[r.SingleQuote=39]="SingleQuote",r[r.DoubleQuote=34]="DoubleQuote",r[r.Escape=92]="Escape"})(Au||(Au={}));function A0(r){return r===Au.SingleQuote||r===Au.DoubleQuote}function kH(r){let e=r.pos,t=$D(r);if(A0(t)){for(;!Ms(r);)if($D(r)===t&&Lu(r)!==Au.Escape)return!0}return r.pos=e,!1}var nt;(function(r){r[r.SquareL=91]="SquareL",r[r.SquareR=93]="SquareR",r[r.RoundL=40]="RoundL",r[r.RoundR=41]="RoundR",r[r.CurlyL=123]="CurlyL",r[r.CurlyR=125]="CurlyR"})(nt||(nt={}));var sA={[nt.SquareL]:nt.SquareR,[nt.RoundL]:nt.RoundR,[nt.CurlyL]:nt.CurlyR},Ri;(function(r){r[r.Tab=9]="Tab",r[r.Space=32]="Space",r[r.Dash=45]="Dash",r[r.Slash=47]="Slash",r[r.Colon=58]="Colon",r[r.Equals=61]="Equals",r[r.AngleLeft=60]="AngleLeft",r[r.AngleRight=62]="AngleRight"})(Ri||(Ri={}));function DH(r){let e=r.pos;if(!vn(r,Ri.AngleRight))return!1;let t=!1;for(vn(r,Ri.Slash);!Ms(r);){if(rA(r,y0),Sm(r)){if(vn(r,Ri.Slash)){t=vn(r,Ri.AngleLeft);break}else if(vn(r,Ri.AngleLeft)){t=!0;break}else{if(vn(r,y0))continue;if(vn(r,Ri.Equals)){if(Sm(r))continue;break}else if(oA(r)){t=!0;break}}break}if(!LH(r))break}return r.pos=e,t}function LH(r){return AH(r)||oA(r)}function AH(r){let e=r.pos;return kH(r)&&vn(r,Ri.Equals)&&Sm(r)?!0:(r.pos=e,!1)}function oA(r){let e=r.pos,t=[];for(;!Ms(r);){let i=Lu(r);if(BH(i))t.push(i);else if(RH(i)){if(t.pop()!==sA[i])break}else if(!zH(i))break;r.pos--}return e!==r.pos&&vn(r,Ri.Equals)&&Sm(r)?!0:(r.pos=e,!1)}function Sm(r){return rA(r,IH)}function IH(r){return r===Ri.Colon||r===Ri.Dash||PH(r)||jH(r)}function PH(r){return r&=-33,r>=65&&r<=90}function jH(r){return r>47&&r<58}function y0(r){return r===Ri.Space||r===Ri.Tab}function zH(r){return!isNaN(r)&&r!==Ri.Equals&&!y0(r)&&!A0(r)}function RH(r){return r===nt.CurlyL||r===nt.RoundL||r===nt.SquareL}function BH(r){return r===nt.CurlyR||r===nt.RoundR||r===nt.SquareR}var aA=r=>r.charCodeAt(0),QH="#.*:$-_!@%^+>/".split("").map(aA),UH={type:"markup",lookAhead:!0,prefix:""};function HH(r,e=r.length,t={}){let i=Object.assign(Object.assign({},UH),t);e=Math.min(r.length,Math.max(0,e??r.length)),i.lookAhead&&(e=_H(r,e,i));let n,s=FH(r,e,i.prefix||"");if(s===-1)return;let o=nA(r,s);o.pos=e;let a=[];for(;!Ms(o);){if(n=Lu(o),a.includes(nt.CurlyR)){if(n===nt.CurlyR){a.push(n),o.pos--;continue}if(n!==nt.CurlyL){o.pos--;continue}}if(lA(n,i.type))a.push(n);else if(YH(n,i.type)){if(a.pop()!==sA[n])break}else if(a.includes(nt.SquareR)||a.includes(nt.CurlyR)){o.pos--;continue}else if(DH(o)||!$H(n))break;o.pos--}if(!a.length&&o.pos!==e){let l=r.slice(o.pos,e).replace(/^[*+>^]+/,"");return{abbreviation:l,location:e-l.length,start:t.prefix?s-t.prefix.length:e-l.length,end:e}}}function _H(r,e,t){for(A0(r.charCodeAt(e))&&e++;lA(r.charCodeAt(e),t.type);)e++;return e}function FH(r,e,t){if(!t)return 0;let i=nA(r),n=t.split("").map(aA);i.pos=e;let s;for(;!Ms(i);)if(!(YD(i,nt.SquareR,nt.SquareL)||YD(i,nt.CurlyR,nt.CurlyL))){if(s=i.pos,VH(i,n))return s;i.pos--}return-1}function YD(r,e,t){let i=r.pos;if(vn(r,e))for(;!Ms(r);){if(vn(r,t))return!0;r.pos--}return r.pos=i,!1}function VH(r,e){let t=r.pos,i=!1;for(let n=e.length-1;n>=0&&!Ms(r)&&vn(r,e[n]);n--)i=n===0;return i||(r.pos=t),i}function $H(r){return r>64&&r<91||r>96&&r<123||r>47&&r<58||QH.includes(r)}function YH(r,e){return r===nt.RoundL||e==="markup"&&(r===nt.SquareL||r===nt.CurlyL)}function lA(r,e){return r===nt.RoundR||e==="markup"&&(r===nt.SquareR||r===nt.CurlyR)}function qH(r,e){let t=iA(e);return t.type==="stylesheet"?ZH(r,t):WH(r,t)}function WH(r,e){return VU(FU(r,e),e)}function ZH(r,e){return oH(pH(r,e),e)}var qD=String.fromCodePoint(65520),XH=String.fromCodePoint(65521);function GH(r){return r.selection.main.from}function $r(r,e){return r.doc.sliceString(e.from,e.to)}function Ss(r,e){return e>=r.from&&e<=r.to}function WD(r){return r==='"'||r==="'"}function hA(r,e){let{from:t,to:i}=e,n=$r(r,e);return WD(n[0])&&t++,WD(n[n.length-1])&&i--,{from:t,to:i}}function KH(r,e){let t={};for(let i of e.getChildren("Attribute")){let n=i.getChild("AttributeName");if(n){let s=$r(r,n),o=i.getChild("AttributeValue");t[s]=o?$r(r,hA(r,o)):null}}return t}function JH(r){return r.from===r.to}function cA(r){return r.length>0?r[r.length-1]:void 0}function e_(r,e=0){let t=[],i="",n=null,s=0,o=0,a;for(;o<r.length;)a=r.charAt(o++),(a===qD||a===XH)&&(i+=r.slice(s,o-1),s=o,a===qD?(n={from:e+i.length,to:e+i.length},t.push(n)):n&&(n=null));return t.length||t.push({from:r.length+e,to:r.length+e}),{ranges:t,snippet:i+r.slice(s)}}var ZD={OpenTag:"open",CloseTag:"close",SelfClosingTag:"selfClose"};function t_(r,e){if(_r.isActiveAt(r,e))return uA(r,e);if(wa.isActiveAt(r,e))return pA(r,e)}function uA(r,e,t){let i={type:"css",ancestors:[],current:null,inline:!1,embedded:t},n=zt(r).resolveInner(e,-1),s=[];for(let a=n;a;a=a.parent)if(a.name==="RuleSet"){let l=n_(a);s.push({name:$r(r,l),type:"selector",range:a})}else if(a.name==="Declaration"){let{name:l,value:h}=r_(a);h&&Ss(h,e)&&s.push({name:$r(r,h),type:"propertyValue",range:h}),l&&s.push({name:$r(r,l),type:"propertyName",range:l})}let o=s.shift();if(o){let a=o.type==="selector"?{from:o.range.from,to:o.range.from+o.name.length}:o.range;Ss(a,e)?(i.current=o,o.range=a):s.unshift(o)}return i.ancestors=s.reverse(),i}function pA(r,e){let t={type:"html",ancestors:[],current:null},i=zt(r).resolveInner(e);for(let n=i;n;n=n?n.parent:null)if(n.name in ZD){let s=XD(r,n);s&&(t.current=Lo(Xi({},s),{type:ZD[n.name]}),n=n.parent)}else if(n.name==="Element"){let s=n.getChild("OpenTag");if(s){let o=XD(r,s);o&&t.ancestors.push(o)}}return t.ancestors.reverse(),i_(r,e,t),t}function i_(r,e,t){var i;if(((i=t.current)==null?void 0:i.type)==="open"){let n=zt(r).resolve(t.current.range.from,1);for(;n&&n.name!=="OpenTag";)n=n.parent;if(n)for(let s of n.getChildren("Attribute")){if(s.from>e)break;if(Ss(s,e)&&s_(r,s)==="style"){let o=s.getChild("AttributeValue");if(o){let a=hA(r,o);Ss(a,e)&&(t.css=o_($r(r,a),e-a.from,a.from))}}}}}function XD(r,e){let t=e.getChild("TagName");if(t)return{name:$r(r,t).toLowerCase(),range:e}}function n_(r){let e=r.from,t=e;for(let i=r.firstChild;i&&i.name!=="Block";i=i.nextSibling)t=i.to;return{from:e,to:t}}function r_(r){let e,t,i=r.firstChild;return i?.name==="PropertyName"&&(e=i,i=i.nextSibling,i?.name===":"&&(i=i.nextSibling),i&&(t={from:i.from,to:r.lastChild.to})),{name:e,value:t}}function s_(r,e){let t=e.getChild("AttributeName");return t?$r(r,t).toLowerCase():""}function o_(r,e,t=0){let i={type:"css",ancestors:[],current:null,inline:!0,embedded:{from:e+t,to:e+t+r.length}},n=a_(r,e);for(let s of n)if(s.value&&Ss(s.value,e)){i.current={name:r.substring(s.value.from,s.value.to).trim(),type:"propertyValue",range:{from:t+s.value.from,to:t+s.value.to}},i.ancestors.push({name:r.substring(s.name.from,s.name.to).trim(),type:"propertyName",range:{from:t+s.name.from,to:t+s.value.to}});break}else if(Ss(s.name,e)){let o=s.value?s.value.to:s.name.to;i.current={name:r.substring(s.name.from,s.name.to).trim(),type:"propertyName",range:{from:t+s.name.from,to:t+o}};break}return i}function a_(r,e=r.length){var t;let i=` 	
\r`,n=[],s;for(let o=0;o<r.length;o++){let a=r[o];if(s&&(s.value?s.value.from!==-1&&(s.value.to=o):s.name.to=o),a===";"){if(s=void 0,o>e)break}else a===":"?s&&!s.value&&(s.value={from:-1,to:-1}):s?((t=s.value)==null?void 0:t.from)===-1&&!i.includes(a)&&(s.value.from=s.value.to=o):i.includes(a)||(s={name:{from:o,to:o}},n.push(s))}return s&&(s.value?s.value.to++:s.name.to++),n}function Mm(r,e){let t=P0(r)||"html",i=Dm(r),n={"output.field":dA,"output.indent":"	","output.format":!e,"output.attributeQuotes":i.attributeQuotes,"stylesheet.shortHex":i.shortHex};return t==="html"&&(n["output.selfClosingStyle"]=i.markupStyle,n["output.compactBoolean"]=i.markupStyle==="html"),vA(t)&&(i.comments&&(n["comment.enabled"]=!0,i.commentsTemplate&&(n["comment.after"]=i.commentsTemplate)),n["bem.enabled"]=i.bem),n}function dA(r,e){return e?`\${${r}:${e}}`:`\${${r}}`}var fA={};function km(r,e,t){let i={cache:fA},n={"output.field":dA};t&&(Object.assign(i,t),t.options&&Object.assign(n,t.options)),i.options=n;let s=Dm(r);return s.config&&(i=iA(i,s.config)),qH(e,i)}function l_(r,e,t="markup",i){return HH(r,e,Xi({lookAhead:t!=="stylesheet",type:t},i))}function h_(r,e){let t=m_(r,e),{context:i}=t,n={type:t.type,syntax:t.syntax||"html",options:Mm(r,t.inline)};return i&&(i.type==="html"&&i.ancestors.length?n.context=bA(r,i):i.type==="css"&&(n.context=OA(i))),n}function c_(){fA={}}var u_={syntax:"html",mark:!0,preview:{},previewEnabled:!0,autoRenameTags:!0,markTagPairs:!0,previewOpenTag:!1,attributeQuotes:"double",markupStyle:"html",comments:!1,commentsTemplate:"<!-- /[#ID][.CLASS] -->",bem:!1,completionBoost:99},I0=be.define({combine(r){c_();let e=Xi({},u_),{preview:t}=e;for(let i of r)Object.assign(e,i),i.preview&&(e.preview=Xi(Xi({},t),i.preview));return e}});function Dm(r,e){let t=r.facet(I0);return e&&(t=Xi(Xi({},t),e)),t}var p_=["html","vue"],mA=["jsx","tsx"],d_=["xml","xsl",...mA],gA=["css","scss","less"],f_=["sass","sss","stylus","postcss",...gA];function m_(r,e){let t=P0(r),i,n=typeof e=="number"?t_(r,e):e;return n?.type==="html"&&n.css?(i=!0,t="css",n=n.css):n?.type==="css"&&(t="css"),{type:j0(t),syntax:t,inline:i,context:n}}function P0(r){return Dm(r).syntax}function j0(r){return r&&f_.includes(r)?"stylesheet":"markup"}function g_(r){return d_.includes(r)}function vA(r){return p_.includes(r)||g_(r)}function yA(r){return gA.includes(r)}function z0(r){return mA.includes(r)}function bA(r,e){let t=cA(e.ancestors);if(t){let i=zt(r).resolve(t.range.from,1);for(;i&&i.name!=="OpenTag";)i=i.parent;return{name:t.name,attributes:i?KH(r,i):{}}}}function OA(r){if(r.inline)return{name:"@@property"};let e=cA(r.ancestors),t="@@global";return r.current?r.current.type==="propertyValue"&&e?t=e.name:(r.current.type==="selector"||r.current.type==="propertyName")&&!e&&(t="@@section"):e||(t="@@section"),{name:t}}function CA(r,e,t){let i=document.createElement("div");i.className="emmet-preview",e==="error"&&i.classList.add("emmet-preview_error");let n=e==="css"?Cu:Eu;t&&e in t&&(n=t[e]);let s=new Te({doc:r,extensions:[Mt.readOnly.of(!0),Jf(F1,{fallback:!0}),e==="css"?Cu():Eu(),n()],parent:i});return i.update=o=>{let a=s.state.update({changes:{from:0,to:s.state.doc.length,insert:o}});s.dispatch(a)},i}var v_="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjM5MyIgdmlld0JveD0iMCAwIDM5MyAzOTMiIHdpZHRoPSIzOTMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxsaW5lYXJHcmFkaWVudCBpZD0iYSIgeDE9Ijk4LjYwODY5JSIgeDI9IjUwJSIgeTE9IjUwJSIgeTI9IjUwJSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjY2VmYmFkIi8+PHN0b3Agb2Zmc2V0PSIuODM2OTcyNTM1IiBzdG9wLWNvbG9yPSIjY2VmYmFkIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLW9wYWNpdHk9IjAiLz48L2xpbmVhckdyYWRpZW50PjxwYXRoIGlkPSJiIiBkPSJtMTE2IDQ4IDEwNSA2M3YzNC45ODVsLTc1LTQ0Ljk5OTI4OXY2Ny42NjcyODlsNDkuNSAyOS4zNDctNDkuNSAyOS4zNDZ2NjcuNjY4Mjg5bDc1LTQ1LjAwMDI4OXYzNC45ODZsLTEwNSA2M3ptMTQ1IDg3IDEwNSA2My0xMDUgNjN2LTM0Ljk4Nmw0Ni42OTA0ODEtMjguMDE0LTQ2LjY5MDQ4MS0yOC4wMTR6Ii8+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgdHJhbnNmb3JtPSJtYXRyaXgoLjcwNzEwNjc4IC0uNzA3MTA2NzggLjcwNzEwNjc4IC43MDcxMDY3OCAtODEuMzkyOTY1IDE5Ni41KSI+PGNpcmNsZSBjeD0iMTk2LjUiIGN5PSIxOTYuNSIgZmlsbD0iIzI1MjcyYiIgcj0iMTk2LjUiLz48dXNlIGZpbGw9IiM5MmMxMzEiIHhsaW5rOmhyZWY9IiNiIi8+PHVzZSBmaWxsPSJ1cmwoI2EpIiB4bGluazpocmVmPSIjYiIvPjwvZz48L3N2Zz4=",y_=r=>{let e=r.state.field(sh);return e?.type==="abbreviation"&&e.preview?{from:e.range.from,to:e.range.to,filter:!1,update(t,i,n,s){let o=s.state.field(sh);return!o||o.type==="error"?null:Lo(Xi({},t),{from:o.range.from,to:o.range.to,options:eL(s.state,o)})},options:eL(r.state,e)}:null},fJ=_r.data.of({autocomplete:y_}),b0="<",b_=_e.mark({class:"emmet-tracker"}),SA=Ue.define(),O_=Ue.define();var sh=si.define({create:()=>null,update(r,e){if(e.annotation(Tu))return null;for(let i of e.effects){if(i.is(SA))return null;if(i.is(O_)){let n=e.newSelection.main,s=R0(e.state,n.from);if(s)return B0(e.state,n,{forced:!0,config:s})}}return e.docChanged?k_(e.state,r,e):r}}),mJ=si.define({create:GD,update(r,e){return!e.docChanged&&!e.selection?e.state.field(sh)?r:null:GD(e.state,r)},provide:r=>du.from(r)});function GD(r,e){let t=r.field(sh);if(t&&!t.inactive&&XO(r)!=="active"){if(t.config.type==="stylesheet")return null;e&&e.tracker.type!==t.type&&(e=null);let{range:i}=t;if(A_(r,t))return e||{pos:i.from,above:!1,arrow:!1,tracker:t,create(){let n=r.facet(I0).preview,s="",o="";t.type==="error"?(s=t.error.message,o="error"):(s=t.preview,o=t.config.syntax||"html");let a=CA(s,o,n);return{dom:a,update({state:l}){let h=l.field(sh);if(h&&a.update){let c=h.type==="error"?h.error.message:h.preview;a.update(c)}}}}}}return null}var gJ=qi.fromClass(class{constructor(){d0(this,"decorations"),this.decorations=_e.none}update(r){let{state:e}=r,t=e.field(sh),i=[];if(t&&!t.inactive){let{range:n}=t;JH(n)||i.push(b_.range(n.from,n.to)),this.decorations=_e.set(i,!0)}else this.decorations=_e.none}},{decorations:r=>r.decorations});function C_(r,e){let{from:t,to:i}=e.range,n=km(r.state,e.abbreviation,e.config),s=cm(n);r.dispatch(r.state.update({effects:SA.of(null)})),s(r,{label:"expand"},t,i)}var vJ=Te.baseTheme({".emmet-tracker":{textDecoration:"underline 1px green"},".emmet-preview":{fontSize:"0.9em"},".emmet-preview_error":{color:"red"},".cm-completionIcon-emmet::after":{content:'" "',background:`url("${v_}") center/contain no-repeat`,display:"inline-block",width:"11px",height:"11px",verticalAlign:"middle"}});function S_(r,e,t){if(t.length!==1)return null;let i=r.doc.lineAt(e),n=i.text.substring(Math.max(0,e-i.from-1),e-i.from);if(!JD(n,t,D_(r,e)))return null;let s=R0(r,e);if(!s||s.type==="stylesheet"&&!JD(n,t,"css"))return null;let o=s.syntax||"html",a=e,l=e+t.length,h=0;return z0(o)&&n===b0&&(h=b0.length,a-=h),B0(r,{from:a,to:l},{config:s})}function R0(r,e){if(_r.isActiveAt(r,e))return KD(r,e,"css",uA(r,e));let t=P0(r);if(vA(t)){let i=pA(r,e);if(i.css)return KD(r,e,"css",i.css);if(!i.current)return{syntax:t,type:"markup",context:bA(r,i),options:Mm(r)}}else return{syntax:t,type:j0(t),options:Mm(r)}}function KD(r,e,t,i){if(!i.current||i.current.type==="propertyName"||i.current.type==="propertyValue"||M_(r,e,i))return{syntax:t,type:"stylesheet",context:OA(i),options:Mm(r,i.inline)}}function M_(r,e,{current:t}){return t?.type==="selector"&&t.range.from===e-1?r.doc.lineAt(t.range.from).text.trim().length===1:!1}function T_(r,e){return z0(e)?r===b0:yA(e)?r===""||/^[\s>;"\']$/.test(r):r===""||/^[\s>;"\']$/.test(r)}function N_(r,e){return z0(e)?/^[a-zA-Z.#\[\(]$/.test(r):yA(e)?/^[a-zA-Z!@#]$/.test(r):/^[a-zA-Z.#!@\[\(]$/.test(r)}function B0(r,e,t){if(e.from>e.to)return null;let i=$r(r,e),{config:n,forced:s}=t;if(t.offset&&(i=i.slice(t.offset)),!i&&!s||MA(i))return null;let o={abbreviation:i,range:e,config:n,forced:!!s,inactive:!1,offset:t.offset||0};try{let a,l=!1;n.type==="markup"&&(a=N0(i,{jsx:n.syntax==="jsx"}),l=x_(a));let h=w_(n),c=km(r,a||i,h);return c?Lo(Xi({},o),{type:"abbreviation",simple:l,preview:c}):null}catch(a){return o.forced?Lo(Xi({},o),{type:"error",error:a}):null}}function MA(r){return/[\r\n]/.test(r)}function x_(r){if(r.children.length===1&&!r.children[0].children.length){let e=r.children[0];return!e.name||/^[a-z]/i.test(e.name)}return!r.children.length}function w_(r){return Lo(Xi({},r),{options:Lo(Xi({},r.options),{"output.field":E_,"output.indent":"  ","output.baseIndent":""})})}function E_(r,e){return e}function k_(r,e,t){return L_(r)?null:((!e||e.inactive)&&(t.changes.iterChanges((i,n,s,o,a)=>{a.length&&(e=S_(r,s,a.toString())||e)}),!e||!e.inactive)||t.changes.iterChanges((i,n,s,o,a)=>{if(!e)return;let{range:l}=e;if(!Ss(l,i))e.inactive||(e=null);else if(Ss(l,s)){let h=n-i,c=o-i,p=l.to+c-h;if(p<=l.from||MA(a.toString()))e=null;else{let d=e.inactive?l:{from:l.from,to:p},f=B0(r,d,{config:e.config,forced:e.forced});f?e=f:e=Lo(Xi({},e),{inactive:!0})}}}),e)}function D_(r,e){return _r.isActiveAt(r,e)?"css":wa.isActiveAt(r,e)?"html":""}function JD(r,e,t){return T_(r,t)&&N_(e,t)}function L_(r){return Array.isArray(r.values)?r.values.some(e=>{var t;return e&&((t=e.constructor)==null?void 0:t.name)==="ActiveSnippet"}):!1}function A_(r,e){if(XO(r)==="active")return!1;let t=Dm(r);if(!t.previewEnabled)return!1;if(Array.isArray(t.previewEnabled)){let{type:i,syntax:n}=e.config;if(!t.previewEnabled.includes(i)&&!t.previewEnabled.includes(n))return!1}return e.type==="error"||(!e.simple||e.forced)&&!!e.abbreviation&&Ss(e.range,GH(r))}function eL(r,e,t){let i=r.facet(I0);return[{label:"Emmet abbreviation",type:"emmet",boost:i.completionBoost,tracker:e,previewConfig:i.preview,preview:t?.preview,info:I_,apply:(n,s)=>{n.dispatch({annotations:Tu.of(s)}),C_(n,e)}}]}function I_(r){let{tracker:e,previewConfig:t,preview:i}=r;return i?.update?i.update(e.preview):r.preview=i=CA(e.preview,e.config.syntax||"html",t),i}var TA=({state:r,dispatch:e})=>{let t=r.selection.main,i=r.doc.lineAt(t.anchor),n=h_(r,t.anchor),s=l_(i.text,t.anchor-i.from,j0(n.syntax));if(s){let o=i.from+s.start,a=km(r,s.abbreviation,R0(r,o)||n);return cm(a)({state:r,dispatch:e},{label:"expand"},o,i.from+s.end),!0}return!1};var yJ=P_("null",0);function P_(r,e,t=0){return{type:r,value:e,priority:t}}var fm=Ue.define(),tL=si.define({create:()=>null,update(r,e){for(let t of e.effects)t.is(fm)&&(r=t.value);return r}}),bJ=Te.baseTheme({".emmet-wrap-with-abbreviation":{position:"absolute",top:0,zIndex:2,width:"100%"},".emmet-wrap-with-abbreviation__content":{background:"#fff",margin:"0 auto",padding:"5px",boxSizing:"border-box",width:"100%",maxWidth:"30em",borderBottomLeftRadius:"5px",borderBottomRightRadius:"5px",boxShadow:"0 3px 10px rgba(0, 0, 0, 0.3)"},".emmet-wrap-with-abbreviation__content input":{width:"100%",boxSizing:"border-box"}});var OJ=qi.fromClass(class{constructor(){d0(this,"widget",null),d0(this,"input",null)}update(e){let{state:t,view:i}=e,n=t.field(tL);n?(this.widget||this.createInputPanel(i),this.updateAbbreviation(n.abbreviation)):this.widget&&(this.disposeWidget(),i.focus())}createInputPanel(e){let t=document.createElement("div");t.className="emmet-wrap-with-abbreviation";let i=document.createElement("div");i.className="emmet-wrap-with-abbreviation__content";let n=document.createElement("input");n.placeholder="Enter abbreviation";let s=!1,o=()=>{s&&(gD(e),s=!1)};n.addEventListener("input",()=>{let a=e.state.field(tL);if(a){let l=n.value;o();let h=Lo(Xi({},a),{abbreviation:l});if(h.abbreviation){s=!0;let{from:c,to:p}=h.range,d=km(e.state,h.abbreviation,h.options),{ranges:f,snippet:m}=e_(d,c),g=f[0];e.dispatch({effects:[fm.of(h)],changes:[{from:c,to:p,insert:m}],selection:{head:g.from,anchor:g.to}})}else e.dispatch({effects:[fm.of(h)]})}}),n.addEventListener("keydown",a=>{(a.key==="Escape"||a.key==="Enter")&&(a.key==="Escape"&&o(),a.preventDefault(),e.dispatch({effects:[fm.of(null)]}))}),i.append(n),t.append(i),e.dom.append(t),this.widget=t,this.input=n,n.focus()}updateAbbreviation(e){this.input&&this.input.value!==e&&(this.input.value=e)}disposeWidget(){this.widget&&(this.widget.remove(),this.widget=this.input=null)}});function _0(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Pa=_0();function DA(r){Pa=r}var LA=/[&<>"']/,j_=new RegExp(LA.source,"g"),AA=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,z_=new RegExp(AA.source,"g"),R_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},NA=r=>R_[r];function yn(r,e){if(e){if(LA.test(r))return r.replace(j_,NA)}else if(AA.test(r))return r.replace(z_,NA);return r}var B_=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Q_(r){return r.replace(B_,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}var U_=/(^|[^\[])\^/g;function ht(r,e){let t=typeof r=="string"?r:r.source;e=e||"";let i={replace:(n,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(U_,"$1"),t=t.replace(n,o),i},getRegex:()=>new RegExp(t,e)};return i}function xA(r){try{r=encodeURI(r).replace(/%25/g,"%")}catch{return null}return r}var Pu={exec:()=>null};function wA(r,e){let t=r.replace(/\|/g,(s,o,a)=>{let l=!1,h=o;for(;--h>=0&&a[h]==="\\";)l=!l;return l?"|":" |"}),i=t.split(/ \|/),n=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),e)if(i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;n<i.length;n++)i[n]=i[n].trim().replace(/\\\|/g,"|");return i}function Lm(r,e,t){let i=r.length;if(i===0)return"";let n=0;for(;n<i;){let s=r.charAt(i-n-1);if(s===e&&!t)n++;else if(s!==e&&t)n++;else break}return r.slice(0,i-n)}function H_(r,e){if(r.indexOf(e[1])===-1)return-1;let t=0;for(let i=0;i<r.length;i++)if(r[i]==="\\")i++;else if(r[i]===e[0])t++;else if(r[i]===e[1]&&(t--,t<0))return i;return-1}function EA(r,e,t,i){let n=e.href,s=e.title?yn(e.title):null,o=r[1].replace(/\\([\[\]])/g,"$1");if(r[0].charAt(0)!=="!"){i.state.inLink=!0;let a={type:"link",raw:t,href:n,title:s,text:o,tokens:i.inlineTokens(o)};return i.state.inLink=!1,a}return{type:"image",raw:t,href:n,title:s,text:yn(o)}}function __(r,e){let t=r.match(/^(\s+)(?:```)/);if(t===null)return e;let i=t[1];return e.split(`
`).map(n=>{let s=n.match(/^\s+/);if(s===null)return n;let[o]=s;return o.length>=i.length?n.slice(i.length):n}).join(`
`)}var oh=class{constructor(e){Ct(this,"options");Ct(this,"rules");Ct(this,"lexer");this.options=e||Pa}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:Lm(i,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let i=t[0],n=__(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let i=t[2].trim();if(/#$/.test(i)){let n=Lm(i,"#");(this.options.pedantic||!n||/ $/.test(n))&&(i=n.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let i=Lm(t[0].replace(/^ *>[ \t]?/gm,""),`
`),n=this.lexer.state.top;this.lexer.state.top=!0;let s=this.lexer.blockTokens(i);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:s,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i=t[1].trim(),n=i.length>1,s={type:"list",raw:"",ordered:n,start:n?+i.slice(0,-1):"",loose:!1,items:[]};i=n?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=n?i:"[*+-]");let o=new RegExp(`^( {0,3}${i})((?:[	 ][^\\n]*)?(?:\\n|$))`),a="",l="",h=!1;for(;e;){let c=!1;if(!(t=o.exec(e))||this.rules.block.hr.test(e))break;a=t[0],e=e.substring(a.length);let p=t[2].split(`
`,1)[0].replace(/^\t+/,O=>" ".repeat(3*O.length)),d=e.split(`
`,1)[0],f=0;this.options.pedantic?(f=2,l=p.trimStart()):(f=t[2].search(/[^ ]/),f=f>4?1:f,l=p.slice(f),f+=t[1].length);let m=!1;if(!p&&/^ *$/.test(d)&&(a+=d+`
`,e=e.substring(d.length+1),c=!0),!c){let O=new RegExp(`^ {0,${Math.min(3,f-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),C=new RegExp(`^ {0,${Math.min(3,f-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),x=new RegExp(`^ {0,${Math.min(3,f-1)}}(?:\`\`\`|~~~)`),M=new RegExp(`^ {0,${Math.min(3,f-1)}}#`);for(;e;){let k=e.split(`
`,1)[0];if(d=k,this.options.pedantic&&(d=d.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),x.test(d)||M.test(d)||O.test(d)||C.test(e))break;if(d.search(/[^ ]/)>=f||!d.trim())l+=`
`+d.slice(f);else{if(m||p.search(/[^ ]/)>=4||x.test(p)||M.test(p)||C.test(p))break;l+=`
`+d}!m&&!d.trim()&&(m=!0),a+=k+`
`,e=e.substring(k.length+1),p=d.slice(f)}}s.loose||(h?s.loose=!0:/\n *\n *$/.test(a)&&(h=!0));let g=null,v;this.options.gfm&&(g=/^\[[ xX]\] /.exec(l),g&&(v=g[0]!=="[ ] ",l=l.replace(/^\[[ xX]\] +/,""))),s.items.push({type:"list_item",raw:a,task:!!g,checked:v,loose:!1,text:l,tokens:[]}),s.raw+=a}s.items[s.items.length-1].raw=a.trimEnd(),s.items[s.items.length-1].text=l.trimEnd(),s.raw=s.raw.trimEnd();for(let c=0;c<s.items.length;c++)if(this.lexer.state.top=!1,s.items[c].tokens=this.lexer.blockTokens(s.items[c].text,[]),!s.loose){let p=s.items[c].tokens.filter(f=>f.type==="space"),d=p.length>0&&p.some(f=>/\n.*\n/.test(f.raw));s.loose=d}if(s.loose)for(let c=0;c<s.items.length;c++)s.items[c].loose=!0;return s}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let i=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:i,raw:t[0],href:n,title:s}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;let i=wA(t[1]),n=t[2].replace(/^\||\| *$/g,"").split("|"),s=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],o={type:"table",raw:t[0],header:[],align:[],rows:[]};if(i.length===n.length){for(let a of n)/^ *-+: *$/.test(a)?o.align.push("right"):/^ *:-+: *$/.test(a)?o.align.push("center"):/^ *:-+ *$/.test(a)?o.align.push("left"):o.align.push(null);for(let a of i)o.header.push({text:a,tokens:this.lexer.inline(a)});for(let a of s)o.rows.push(wA(a,o.header.length).map(l=>({text:l,tokens:this.lexer.inline(l)})));return o}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let i=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:i,tokens:this.lexer.inline(i)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:yn(t[1])}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;let o=Lm(i.slice(0,-1),"\\");if((i.length-o.length)%2===0)return}else{let o=H_(t[2],"()");if(o>-1){let l=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,l).trim(),t[3]=""}}let n=t[2],s="";if(this.options.pedantic){let o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);o&&(n=o[1],s=o[3])}else s=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(this.options.pedantic&&!/>$/.test(i)?n=n.slice(1):n=n.slice(1,-1)),EA(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){let n=(i[2]||i[1]).replace(/\s+/g," "),s=t[n.toLowerCase()];if(!s){let o=i[0].charAt(0);return{type:"text",raw:o,text:o}}return EA(i,s,i[0],this.lexer)}}emStrong(e,t,i=""){let n=this.rules.inline.emStrongLDelim.exec(e);if(!n||n[3]&&i.match(/[\p{L}\p{N}]/u))return;if(!(n[1]||n[2]||"")||!i||this.rules.inline.punctuation.exec(i)){let o=[...n[0]].length-1,a,l,h=o,c=0,p=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,t=t.slice(-1*e.length+o);(n=p.exec(t))!=null;){if(a=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!a)continue;if(l=[...a].length,n[3]||n[4]){h+=l;continue}else if((n[5]||n[6])&&o%3&&!((o+l)%3)){c+=l;continue}if(h-=l,h>0)continue;l=Math.min(l,l+h+c);let d=[...n[0]][0].length,f=e.slice(0,o+n.index+d+l);if(Math.min(o,l)%2){let g=f.slice(1,-1);return{type:"em",raw:f,text:g,tokens:this.lexer.inlineTokens(g)}}let m=f.slice(2,-2);return{type:"strong",raw:f,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let i=t[2].replace(/\n/g," "),n=/[^ ]/.test(i),s=/^ /.test(i)&&/ $/.test(i);return n&&s&&(i=i.substring(1,i.length-1)),i=yn(i,!0),{type:"codespan",raw:t[0],text:i}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let i,n;return t[2]==="@"?(i=yn(t[1]),n="mailto:"+i):(i=yn(t[1]),n=i),{type:"link",raw:t[0],text:i,href:n,tokens:[{type:"text",raw:i,text:i}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let i,n;if(t[2]==="@")i=yn(t[0]),n="mailto:"+i;else{let s;do s=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(s!==t[0]);i=yn(t[0]),t[1]==="www."?n="http://"+t[0]:n=t[0]}return{type:"link",raw:t[0],text:i,href:n,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let i;return this.lexer.state.inRawBlock?i=t[0]:i=yn(t[0]),{type:"text",raw:t[0],text:i}}}},F_=/^(?: *(?:\n|$))+/,V_=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,$_=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ru=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Y_=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,IA=/(?:[*+-]|\d{1,9}[.)])/,PA=ht(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,IA).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),F0=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,q_=/^[^\n]+/,V0=/(?!\s*\])(?:\\.|[^\[\]\\])+/,W_=ht(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",V0).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Z_=ht(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,IA).getRegex(),jm="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",$0=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,X_=ht("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",$0).replace("tag",jm).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),jA=ht(F0).replace("hr",Ru).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",jm).getRegex(),G_=ht(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",jA).getRegex(),Y0={blockquote:G_,code:V_,def:W_,fences:$_,heading:Y_,hr:Ru,html:X_,lheading:PA,list:Z_,newline:F_,paragraph:jA,table:Pu,text:q_},kA=ht("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ru).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",jm).getRegex(),K_={...Y0,table:kA,paragraph:ht(F0).replace("hr",Ru).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",kA).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",jm).getRegex()},J_={...Y0,html:ht(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",$0).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Pu,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ht(F0).replace("hr",Ru).replace("heading",` *#{1,6} *[^
]`).replace("lheading",PA).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},zA=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,eF=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,RA=/^( {2,}|\\)\n(?!\s*$)/,tF=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Bu="\\p{P}\\p{S}",iF=ht(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Bu).getRegex(),nF=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,rF=ht(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Bu).getRegex(),sF=ht("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Bu).getRegex(),oF=ht("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Bu).getRegex(),aF=ht(/\\([punct])/,"gu").replace(/punct/g,Bu).getRegex(),lF=ht(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),hF=ht($0).replace("(?:-->|$)","-->").getRegex(),cF=ht("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",hF).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Im=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,uF=ht(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Im).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),BA=ht(/^!?\[(label)\]\[(ref)\]/).replace("label",Im).replace("ref",V0).getRegex(),QA=ht(/^!?\[(ref)\](?:\[\])?/).replace("ref",V0).getRegex(),pF=ht("reflink|nolink(?!\\()","g").replace("reflink",BA).replace("nolink",QA).getRegex(),q0={_backpedal:Pu,anyPunctuation:aF,autolink:lF,blockSkip:nF,br:RA,code:eF,del:Pu,emStrongLDelim:rF,emStrongRDelimAst:sF,emStrongRDelimUnd:oF,escape:zA,link:uF,nolink:QA,punctuation:iF,reflink:BA,reflinkSearch:pF,tag:cF,text:tF,url:Pu},dF={...q0,link:ht(/^!?\[(label)\]\((.*?)\)/).replace("label",Im).getRegex(),reflink:ht(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Im).getRegex()},Q0={...q0,escape:ht(zA).replace("])","~|])").getRegex(),url:ht(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},fF={...Q0,br:ht(RA).replace("{2,}","*").getRegex(),text:ht(Q0.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Am={normal:Y0,gfm:K_,pedantic:J_},Iu={normal:q0,gfm:Q0,breaks:fF,pedantic:dF},Ts=class r{constructor(e){Ct(this,"tokens");Ct(this,"options");Ct(this,"state");Ct(this,"tokenizer");Ct(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Pa,this.options.tokenizer=this.options.tokenizer||new oh,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={block:Am.normal,inline:Iu.normal};this.options.pedantic?(t.block=Am.pedantic,t.inline=Iu.pedantic):this.options.gfm&&(t.block=Am.gfm,this.options.breaks?t.inline=Iu.breaks:t.inline=Iu.gfm),this.tokenizer.rules=t}static get rules(){return{block:Am,inline:Iu}}static lex(e,t){return new r(t).lex(e)}static lexInline(e,t){return new r(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let i=this.inlineQueue[t];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(a,l,h)=>l+"    ".repeat(h.length));let i,n,s,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(i=a.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length),i.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length),n=t[t.length-1],n&&(n.type==="paragraph"||n.type==="text")?(n.raw+=`
`+i.raw,n.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length),n=t[t.length-1],n&&(n.type==="paragraph"||n.type==="text")?(n.raw+=`
`+i.raw,n.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=n.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0,l=e.slice(1),h;this.options.extensions.startBlock.forEach(c=>{h=c.call({lexer:this},l),typeof h=="number"&&h>=0&&(a=Math.min(a,h))}),a<1/0&&a>=0&&(s=e.substring(0,a+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s))){n=t[t.length-1],o&&n.type==="paragraph"?(n.raw+=`
`+i.raw,n.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(i),o=s.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length),n=t[t.length-1],n&&n.type==="text"?(n.raw+=`
`+i.raw,n.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(i);continue}if(e){let a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let i,n,s,o=e,a,l,h;if(this.tokens.links){let c=Object.keys(this.tokens.links);if(c.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)c.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,a.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(l||(h=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(c=>(i=c.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.escape(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.tag(e)){e=e.substring(i.raw.length),n=t[t.length-1],n&&i.type==="text"&&n.type==="text"?(n.raw+=i.raw,n.text+=i.text):t.push(i);continue}if(i=this.tokenizer.link(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(i.raw.length),n=t[t.length-1],n&&i.type==="text"&&n.type==="text"?(n.raw+=i.raw,n.text+=i.text):t.push(i);continue}if(i=this.tokenizer.emStrong(e,o,h)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.codespan(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.br(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.del(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.autolink(e)){e=e.substring(i.raw.length),t.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(e))){e=e.substring(i.raw.length),t.push(i);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let c=1/0,p=e.slice(1),d;this.options.extensions.startInline.forEach(f=>{d=f.call({lexer:this},p),typeof d=="number"&&d>=0&&(c=Math.min(c,d))}),c<1/0&&c>=0&&(s=e.substring(0,c+1))}if(i=this.tokenizer.inlineText(s)){e=e.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(h=i.raw.slice(-1)),l=!0,n=t[t.length-1],n&&n.type==="text"?(n.raw+=i.raw,n.text+=i.text):t.push(i);continue}if(e){let c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return t}},ah=class{constructor(e){Ct(this,"options");this.options=e||Pa}code(e,t,i){let n=(t||"").match(/^\S*/)?.[0];return e=e.replace(/\n$/,"")+`
`,n?'<pre><code class="language-'+yn(n)+'">'+(i?e:yn(e,!0))+`</code></pre>
`:"<pre><code>"+(i?e:yn(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,t){return e}heading(e,t,i){return`<h${t}>${e}</h${t}>
`}hr(){return`<hr>
`}list(e,t,i){let n=t?"ol":"ul",s=t&&i!==1?' start="'+i+'"':"";return"<"+n+s+`>
`+e+"</"+n+`>
`}listitem(e,t,i){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){let i=t.header?"th":"td";return(t.align?`<${i} align="${t.align}">`:`<${i}>`)+e+`</${i}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,i){let n=xA(e);if(n===null)return i;e=n;let s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+i+"</a>",s}image(e,t,i){let n=xA(e);if(n===null)return i;e=n;let s=`<img src="${e}" alt="${i}"`;return t&&(s+=` title="${t}"`),s+=">",s}text(e){return e}},ju=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,i){return""+i}image(e,t,i){return""+i}br(){return""}},Ns=class r{constructor(e){Ct(this,"options");Ct(this,"renderer");Ct(this,"textRenderer");this.options=e||Pa,this.options.renderer=this.options.renderer||new ah,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ju}static parse(e,t){return new r(t).parse(e)}static parseInline(e,t){return new r(t).parseInline(e)}parse(e,t=!0){let i="";for(let n=0;n<e.length;n++){let s=e[n];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){let o=s,a=this.options.extensions.renderers[o.type].call({parser:this},o);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type)){i+=a||"";continue}}switch(s.type){case"space":continue;case"hr":{i+=this.renderer.hr();continue}case"heading":{let o=s;i+=this.renderer.heading(this.parseInline(o.tokens),o.depth,Q_(this.parseInline(o.tokens,this.textRenderer)));continue}case"code":{let o=s;i+=this.renderer.code(o.text,o.lang,!!o.escaped);continue}case"table":{let o=s,a="",l="";for(let c=0;c<o.header.length;c++)l+=this.renderer.tablecell(this.parseInline(o.header[c].tokens),{header:!0,align:o.align[c]});a+=this.renderer.tablerow(l);let h="";for(let c=0;c<o.rows.length;c++){let p=o.rows[c];l="";for(let d=0;d<p.length;d++)l+=this.renderer.tablecell(this.parseInline(p[d].tokens),{header:!1,align:o.align[d]});h+=this.renderer.tablerow(l)}i+=this.renderer.table(a,h);continue}case"blockquote":{let o=s,a=this.parse(o.tokens);i+=this.renderer.blockquote(a);continue}case"list":{let o=s,a=o.ordered,l=o.start,h=o.loose,c="";for(let p=0;p<o.items.length;p++){let d=o.items[p],f=d.checked,m=d.task,g="";if(d.task){let v=this.renderer.checkbox(!!f);h?d.tokens.length>0&&d.tokens[0].type==="paragraph"?(d.tokens[0].text=v+" "+d.tokens[0].text,d.tokens[0].tokens&&d.tokens[0].tokens.length>0&&d.tokens[0].tokens[0].type==="text"&&(d.tokens[0].tokens[0].text=v+" "+d.tokens[0].tokens[0].text)):d.tokens.unshift({type:"text",text:v+" "}):g+=v+" "}g+=this.parse(d.tokens,h),c+=this.renderer.listitem(g,m,!!f)}i+=this.renderer.list(c,a,l);continue}case"html":{let o=s;i+=this.renderer.html(o.text,o.block);continue}case"paragraph":{let o=s;i+=this.renderer.paragraph(this.parseInline(o.tokens));continue}case"text":{let o=s,a=o.tokens?this.parseInline(o.tokens):o.text;for(;n+1<e.length&&e[n+1].type==="text";)o=e[++n],a+=`
`+(o.tokens?this.parseInline(o.tokens):o.text);i+=t?this.renderer.paragraph(a):a;continue}default:{let o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return i}parseInline(e,t){t=t||this.renderer;let i="";for(let n=0;n<e.length;n++){let s=e[n];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){let o=this.options.extensions.renderers[s.type].call({parser:this},s);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){i+=o||"";continue}}switch(s.type){case"escape":{let o=s;i+=t.text(o.text);break}case"html":{let o=s;i+=t.html(o.text);break}case"link":{let o=s;i+=t.link(o.href,o.title,this.parseInline(o.tokens,t));break}case"image":{let o=s;i+=t.image(o.href,o.title,o.text);break}case"strong":{let o=s;i+=t.strong(this.parseInline(o.tokens,t));break}case"em":{let o=s;i+=t.em(this.parseInline(o.tokens,t));break}case"codespan":{let o=s;i+=t.codespan(o.text);break}case"br":{i+=t.br();break}case"del":{let o=s;i+=t.del(this.parseInline(o.tokens,t));break}case"text":{let o=s;i+=t.text(o.text);break}default:{let o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return i}},Aa=class{constructor(e){Ct(this,"options");this.options=e||Pa}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}};Ct(Aa,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var zu,H0,Pm,UA,U0=class{constructor(...e){Hm(this,zu);Hm(this,Pm);Ct(this,"defaults",_0());Ct(this,"options",this.setOptions);Ct(this,"parse",Uu(this,zu,H0).call(this,Ts.lex,Ns.parse));Ct(this,"parseInline",Uu(this,zu,H0).call(this,Ts.lexInline,Ns.parseInline));Ct(this,"Parser",Ns);Ct(this,"Renderer",ah);Ct(this,"TextRenderer",ju);Ct(this,"Lexer",Ts);Ct(this,"Tokenizer",oh);Ct(this,"Hooks",Aa);this.use(...e)}walkTokens(e,t){let i=[];for(let n of e)switch(i=i.concat(t.call(this,n)),n.type){case"table":{let s=n;for(let o of s.header)i=i.concat(this.walkTokens(o.tokens,t));for(let o of s.rows)for(let a of o)i=i.concat(this.walkTokens(a.tokens,t));break}case"list":{let s=n;i=i.concat(this.walkTokens(s.items,t));break}default:{let s=n;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(o=>{let a=s[o].flat(1/0);i=i.concat(this.walkTokens(a,t))}):s.tokens&&(i=i.concat(this.walkTokens(s.tokens,t)))}}return i}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(i=>{let n={...i};if(n.async=this.defaults.async||n.async||!1,i.extensions&&(i.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let o=t.renderers[s.name];o?t.renderers[s.name]=function(...a){let l=s.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:t.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=t[s.level];o?o.unshift(s.tokenizer):t[s.level]=[s.tokenizer],s.start&&(s.level==="block"?t.startBlock?t.startBlock.push(s.start):t.startBlock=[s.start]:s.level==="inline"&&(t.startInline?t.startInline.push(s.start):t.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(t.childTokens[s.name]=s.childTokens)}),n.extensions=t),i.renderer){let s=this.defaults.renderer||new ah(this.defaults);for(let o in i.renderer){if(!(o in s))throw new Error(`renderer '${o}' does not exist`);if(o==="options")continue;let a=o,l=i.renderer[a],h=s[a];s[a]=(...c)=>{let p=l.apply(s,c);return p===!1&&(p=h.apply(s,c)),p||""}}n.renderer=s}if(i.tokenizer){let s=this.defaults.tokenizer||new oh(this.defaults);for(let o in i.tokenizer){if(!(o in s))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let a=o,l=i.tokenizer[a],h=s[a];s[a]=(...c)=>{let p=l.apply(s,c);return p===!1&&(p=h.apply(s,c)),p}}n.tokenizer=s}if(i.hooks){let s=this.defaults.hooks||new Aa;for(let o in i.hooks){if(!(o in s))throw new Error(`hook '${o}' does not exist`);if(o==="options")continue;let a=o,l=i.hooks[a],h=s[a];Aa.passThroughHooks.has(o)?s[a]=c=>{if(this.defaults.async)return Promise.resolve(l.call(s,c)).then(d=>h.call(s,d));let p=l.call(s,c);return h.call(s,p)}:s[a]=(...c)=>{let p=l.apply(s,c);return p===!1&&(p=h.apply(s,c)),p}}n.hooks=s}if(i.walkTokens){let s=this.defaults.walkTokens,o=i.walkTokens;n.walkTokens=function(a){let l=[];return l.push(o.call(this,a)),s&&(l=l.concat(s.call(this,a))),l}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Ts.lex(e,t??this.defaults)}parser(e,t){return Ns.parse(e,t??this.defaults)}};zu=new WeakSet,H0=function(e,t){return(i,n)=>{let s={...n},o={...this.defaults,...s};this.defaults.async===!0&&s.async===!1&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);let a=Uu(this,Pm,UA).call(this,!!o.silent,!!o.async);if(typeof i>"u"||i===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof i!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(i):i).then(l=>e(l,o)).then(l=>o.hooks?o.hooks.processAllTokens(l):l).then(l=>o.walkTokens?Promise.all(this.walkTokens(l,o.walkTokens)).then(()=>l):l).then(l=>t(l,o)).then(l=>o.hooks?o.hooks.postprocess(l):l).catch(a);try{o.hooks&&(i=o.hooks.preprocess(i));let l=e(i,o);o.hooks&&(l=o.hooks.processAllTokens(l)),o.walkTokens&&this.walkTokens(l,o.walkTokens);let h=t(l,o);return o.hooks&&(h=o.hooks.postprocess(h)),h}catch(l){return a(l)}}},Pm=new WeakSet,UA=function(e,t){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let n="<p>An error occurred:</p><pre>"+yn(i.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(i);throw i}};var Ia=new U0;function Ke(r,e){return Ia.parse(r,e)}Ke.options=Ke.setOptions=function(r){return Ia.setOptions(r),Ke.defaults=Ia.defaults,DA(Ke.defaults),Ke};Ke.getDefaults=_0;Ke.defaults=Pa;Ke.use=function(...r){return Ia.use(...r),Ke.defaults=Ia.defaults,DA(Ke.defaults),Ke};Ke.walkTokens=function(r,e){return Ia.walkTokens(r,e)};Ke.parseInline=Ia.parseInline;Ke.Parser=Ns;Ke.parser=Ns.parse;Ke.Renderer=ah;Ke.TextRenderer=ju;Ke.Lexer=Ts;Ke.lexer=Ts.lex;Ke.Tokenizer=oh;Ke.Hooks=Aa;Ke.parse=Ke;var TJ=Ke.options,NJ=Ke.setOptions,xJ=Ke.use,wJ=Ke.walkTokens,EJ=Ke.parseInline;var kJ=Ns.parse,DJ=Ts.lex;ky.Inject(TN,_x,Fx,Vx,kx,wN,XN,Yx,Ux);function mF({state:r,statePath:e,placeholder:t,syncfusionLicenseKey:i,mode:n,toolbarItems:s,insertImageSettings:o,insertVideoSettings:a,emojiPickerSettings:l,height:h}){return{state:r,statePath:e,placeholder:t,editor:null,observer:null,darkThemeLink:null,lightThemeLink:null,myCodeMirror:null,mdSource:null,htmlPreview:null,textArea:null,async init(){Gm(i),this.initEditor(),this.applyInitialTheme(),this.observeDarkModeChanges()},actionCompleteHandler(c){if(c.targetItem&&(c.targetItem==="SourceCode"||c.targetItem==="Preview")){this.editor.sourceCodeModule.getPanel().style.display="none",this.mirrorConversion(c);return}else setTimeout(()=>{this.editor.toolbarModule.refreshToolbarOverflow()},400);this.updateContent()},applyInitialTheme(){this.lightThemeLink=document.querySelector('link[href*="filament-syncfusion-rich-text-light.css"]')?.getAttribute("href"),this.darkThemeLink=document.querySelector('link[href*="filament-syncfusion-rich-text-dark.css"]')?.getAttribute("href"),this.setTheme()},fullPreview(c){let p=this.editor.getID()+"html-preview";this.htmlPreview=this.editor.element.querySelector("#"+p),this.mdSource.classList.contains("e-active")?(this.mdSource.classList.remove("e-active"),this.mdSource.parentElement.title="Preview",this.textArea.style.display="block",this.textArea.style.width="100%",this.htmlPreview.style.display="none"):(this.mdSource.classList.add("e-active"),this.htmlPreview||(this.htmlPreview=B("div",{className:"e-content"}),this.htmlPreview.id=p,this.textArea.parentNode.appendChild(this.htmlPreview)),c.type==="preview"?(this.textArea.style.display="none",this.htmlPreview.classList.add("e-pre-source")):(this.htmlPreview.classList.remove("e-pre-source"),this.textArea.style.width="50%"),this.htmlPreview.style.display="block",this.markDownConversion(),this.mdSource.parentElement.title="Code View")},initEditor(){let c=s;n==="Markdown"&&(c=[...c,{tooltipText:"Preview",template:'<div class="preview-code e-tbar-btn e-control e-btn e-icon-btn"><span class="e-btn-icon e-preview e-icons"></span></div>'}]),this.editor=new ky({height:"auto",value:this.state,editorMode:n,insertImageSettings:o,insertVideoSettings:a,toolbarSettings:{type:"MultiRow",items:c},emojiPickerSettings:l,afterImageDelete:async p=>{let d=document.querySelector('meta[name="csrf-token"]'),f=d?d.getAttribute("content"):"";try{let m=await fetch(o.deleteUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_token:f,url:p.src})})}catch(m){console.log("Error while removing image",m)}},afterMediaDelete:async p=>{let d=document.querySelector('meta[name="csrf-token"]'),f=d?d.getAttribute("content"):"";try{let m=await fetch(a.deleteUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_token:f,url:p.src})})}catch(m){console.log("Error while removing media",m)}},imageUploading:p=>{let d=document.querySelector('meta[name="csrf-token"]'),m={_token:d?d.getAttribute("content"):""};p.customFormData=[m]},fileUploading:p=>{let d=document.querySelector('meta[name="csrf-token"]'),m={_token:d?d.getAttribute("content"):""};p.customFormData=[m]},imageUploadSuccess:p=>{let d=JSON.parse(p.e.currentTarget.response);if(d&&d[o.serverSideImageResponseName]){p.file.name=d[o.serverSideImageResponseName];let f=document.querySelectorAll(".e-file-name")[0];f.innerHTML=p.file.name.replace(document.querySelectorAll(".e-file-type")[0].innerHTML,""),f.title=p.file.name}},fileUploadSuccess:p=>{let d=JSON.parse(p.e.currentTarget.response);if(d&&d[a.serverSideVideoResponseName]){p.file.name=d[a.serverSideVideoResponseName];let f=document.querySelectorAll(".e-file-name")[0];f.innerHTML=p.file.name.replace(document.querySelectorAll(".e-file-type")[0].innerHTML,""),f.title=p.file.name}},change:p=>{this.state=p.value},actionBegin:p=>this.updateContent(),actionComplete:p=>this.actionCompleteHandler(p),created:()=>{n==="Markdown"&&(this.textArea=this.editor.contentModule.getEditPanel(),this.textArea.addEventListener("keyup",p=>{this.markDownConversion()}),this.mdSource=this.$refs.syncfusionRichText.querySelector(".preview-code"),this.mdSource.addEventListener("click",p=>{p.preventDefault(),p.stopPropagation(),this.fullPreview({mode:!0,type:"preview"}),p.currentTarget.classList.contains("e-active")?this.editor.disableToolbarItem(s):this.editor.enableToolbarItem(s)}))}}),this.editor.appendTo(this.$refs.syncfusionRichText.querySelector(".content"))},markDownConversion(){if(this.mdSource.classList.contains("e-active")){let c=this.editor.getID()+"html-preview";this.htmlPreview=this.editor.element.querySelector("#"+c);let p=this.editor.contentModule.getEditPanel();this.htmlPreview.innerHTML=Ke(this.editor.contentModule.getEditPanel().value)}},mirrorConversion(c){let p=this.editor.contentModule.getEditPanel(),d=this.editor.getID()+"mirror-view",f=this.editor.element.parentNode.querySelector("#"+d);if(c.targetItem==="Preview"){p.style.display="block",f.style.display="none";let m=this.myCodeMirror.state.doc.toString();p.innerHTML=m,this.state=m}else{f?f.innerHTML="":(f=document.createElement("div",{className:"e-content"}),f.id=d,p.parentNode.appendChild(f)),p.style.display="none",f.style.display="block";let m=this.editor?.getHtml()||this.state;this.renderCodeMirror(f,m)}},renderCodeMirror(c,p){this.myCodeMirror=new Te({state:Mt.create({doc:p,extensions:[Te.lineWrapping,Wk(),Eu(),v1(),X1,yo.of([OD]),yo.of([{key:"Mod-e",run:TA,preventDefault:!0}])]}),parent:c})},observeDarkModeChanges(){let c=document.querySelector("html");this.observer=new MutationObserver(()=>{this.setTheme()}),this.observer.observe(c,{attributes:!0,attributeFilter:["class"]})},setTheme(){if(!!document.querySelector("html").classList.contains("dark")){if(document.querySelector(`link[href*="${this.lightThemeLink}"]`)?.remove(),this.darkThemeLink){let p=document.createElement("link");p.rel="stylesheet",p.href=this.darkThemeLink,document.head.appendChild(p)}return}if(document.querySelector(`link[href*="${this.darkThemeLink}"]`)?.remove(),this.lightThemeLink){let p=document.createElement("link");p.rel="stylesheet",p.href=this.lightThemeLink,document.head.appendChild(p)}},updateContent(){setTimeout(()=>{this.state=this.editor?.getHtml()},200)}}}export{mF as default};
